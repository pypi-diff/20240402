# Comparing `tmp/pandapower-2.8.0.zip` & `tmp/pandapower-2.9.0.zip`

## zipinfo {}

```diff
@@ -1,594 +1,608 @@
-Zip file size: 5946209 bytes, number of entries: 592
-drwxrwxrwx  2.0 fat        0 b- stor 22-Feb-07 10:28 pandapower-2.8.0/
-drwxrwxrwx  2.0 fat        0 b- stor 22-Feb-07 10:28 pandapower-2.8.0/.github/
-drwxrwxrwx  2.0 fat        0 b- stor 22-Feb-07 10:28 pandapower-2.8.0/doc/
-drwxrwxrwx  2.0 fat        0 b- stor 22-Feb-07 10:28 pandapower-2.8.0/pandapower/
-drwxrwxrwx  2.0 fat        0 b- stor 22-Feb-07 10:28 pandapower-2.8.0/pandapower.egg-info/
-drwxrwxrwx  2.0 fat        0 b- stor 22-Feb-07 10:28 pandapower-2.8.0/tutorials/
--rw-rw-rw-  2.0 fat      848 b- defN 22-Feb-07 10:26 pandapower-2.8.0/AUTHORS
--rw-rw-rw-  2.0 fat    27526 b- defN 22-Feb-07 10:26 pandapower-2.8.0/CHANGELOG.rst
--rw-rw-rw-  2.0 fat     1677 b- defN 22-Feb-07 10:26 pandapower-2.8.0/LICENSE
--rw-rw-rw-  2.0 fat      203 b- defN 22-Feb-07 10:26 pandapower-2.8.0/MANIFEST.in
--rw-rw-rw-  2.0 fat    33640 b- defN 22-Feb-07 10:28 pandapower-2.8.0/PKG-INFO
--rw-rw-rw-  2.0 fat     4377 b- defN 22-Feb-07 10:26 pandapower-2.8.0/README.rst
--rw-rw-rw-  2.0 fat      117 b- defN 22-Feb-07 10:28 pandapower-2.8.0/setup.cfg
--rw-rw-rw-  2.0 fat     2962 b- defN 22-Feb-07 10:26 pandapower-2.8.0/setup.py
-drwxrwxrwx  2.0 fat        0 b- stor 22-Feb-07 10:28 pandapower-2.8.0/.github/workflows/
--rw-rw-rw-  2.0 fat     4399 b- defN 22-Feb-07 10:26 pandapower-2.8.0/.github/workflows/github_test_action.yml
-drwxrwxrwx  2.0 fat        0 b- stor 22-Feb-07 10:28 pandapower-2.8.0/doc/about/
-drwxrwxrwx  2.0 fat        0 b- stor 22-Feb-07 10:28 pandapower-2.8.0/doc/elements/
-drwxrwxrwx  2.0 fat        0 b- stor 22-Feb-07 10:28 pandapower-2.8.0/doc/networks/
-drwxrwxrwx  2.0 fat        0 b- stor 22-Feb-07 10:28 pandapower-2.8.0/doc/opf/
-drwxrwxrwx  2.0 fat        0 b- stor 22-Feb-07 10:28 pandapower-2.8.0/doc/std_types/
-drwxrwxrwx  2.0 fat        0 b- stor 22-Feb-07 10:28 pandapower-2.8.0/doc/timeseries/
--rw-rw-rw-  2.0 fat      719 b- defN 22-Feb-07 10:26 pandapower-2.8.0/doc/fileIO.csv
--rw-rw-rw-  2.0 fat      255 b- defN 22-Feb-07 10:26 pandapower-2.8.0/doc/about/nameing1.csv
--rw-rw-rw-  2.0 fat      178 b- defN 22-Feb-07 10:26 pandapower-2.8.0/doc/about/nameing2.csv
--rw-rw-rw-  2.0 fat      161 b- defN 22-Feb-07 10:26 pandapower-2.8.0/doc/about/tolerances.csv
--rw-rw-rw-  2.0 fat      793 b- defN 22-Feb-07 10:26 pandapower-2.8.0/doc/elements/asymmetric_load_par.csv
--rw-rw-rw-  2.0 fat     1000 b- defN 22-Feb-07 10:26 pandapower-2.8.0/doc/elements/asymmetric_sgen_par.csv
--rw-rw-rw-  2.0 fat      498 b- defN 22-Feb-07 10:26 pandapower-2.8.0/doc/elements/asymmetric_sgen_res.csv
--rw-rw-rw-  2.0 fat      120 b- defN 22-Feb-07 10:26 pandapower-2.8.0/doc/elements/bus_geo.csv
--rw-rw-rw-  2.0 fat      511 b- defN 22-Feb-07 10:26 pandapower-2.8.0/doc/elements/bus_par.csv
--rw-rw-rw-  2.0 fat      221 b- defN 22-Feb-07 10:26 pandapower-2.8.0/doc/elements/bus_res.csv
--rw-rw-rw-  2.0 fat      796 b- defN 22-Feb-07 10:26 pandapower-2.8.0/doc/elements/bus_res_3ph.csv
--rw-rw-rw-  2.0 fat      924 b- defN 22-Feb-07 10:26 pandapower-2.8.0/doc/elements/dcline_par.csv
--rw-rw-rw-  2.0 fat      592 b- defN 22-Feb-07 10:26 pandapower-2.8.0/doc/elements/dcline_res.csv
--rw-rw-rw-  2.0 fat      987 b- defN 22-Feb-07 10:26 pandapower-2.8.0/doc/elements/ext_grid_par.csv
--rw-rw-rw-  2.0 fat      166 b- defN 22-Feb-07 10:26 pandapower-2.8.0/doc/elements/ext_grid_res.csv
--rw-rw-rw-  2.0 fat      480 b- defN 22-Feb-07 10:26 pandapower-2.8.0/doc/elements/ext_grid_res_3ph.csv
--rw-rw-rw-  2.0 fat     1261 b- defN 22-Feb-07 10:26 pandapower-2.8.0/doc/elements/gen_par.csv
--rw-rw-rw-  2.0 fat      267 b- defN 22-Feb-07 10:26 pandapower-2.8.0/doc/elements/gen_res.csv
--rw-rw-rw-  2.0 fat      718 b- defN 22-Feb-07 10:26 pandapower-2.8.0/doc/elements/impedance_par.csv
--rw-rw-rw-  2.0 fat      557 b- defN 22-Feb-07 10:26 pandapower-2.8.0/doc/elements/impedance_res.csv
--rw-rw-rw-  2.0 fat      121 b- defN 22-Feb-07 10:26 pandapower-2.8.0/doc/elements/line_geo.csv
--rw-rw-rw-  2.0 fat     1541 b- defN 22-Feb-07 10:26 pandapower-2.8.0/doc/elements/line_par.csv
--rw-rw-rw-  2.0 fat      821 b- defN 22-Feb-07 10:26 pandapower-2.8.0/doc/elements/line_res.csv
--rw-rw-rw-  2.0 fat     1877 b- defN 22-Feb-07 10:26 pandapower-2.8.0/doc/elements/line_res_3ph.csv
--rw-rw-rw-  2.0 fat      734 b- defN 22-Feb-07 10:26 pandapower-2.8.0/doc/elements/load_asymmetric_res.csv
--rw-rw-rw-  2.0 fat     1118 b- defN 22-Feb-07 10:26 pandapower-2.8.0/doc/elements/load_par.csv
--rw-rw-rw-  2.0 fat      254 b- defN 22-Feb-07 10:26 pandapower-2.8.0/doc/elements/load_res.csv
--rw-rw-rw-  2.0 fat     1066 b- defN 22-Feb-07 10:26 pandapower-2.8.0/doc/elements/measurement_par.csv
--rw-rw-rw-  2.0 fat     1121 b- defN 22-Feb-07 10:26 pandapower-2.8.0/doc/elements/motor_par.csv
--rw-rw-rw-  2.0 fat      144 b- defN 22-Feb-07 10:26 pandapower-2.8.0/doc/elements/motor_res.csv
--rw-rw-rw-  2.0 fat     1215 b- defN 22-Feb-07 10:26 pandapower-2.8.0/doc/elements/sgen_par.csv
--rw-rw-rw-  2.0 fat      172 b- defN 22-Feb-07 10:26 pandapower-2.8.0/doc/elements/sgen_res.csv
--rw-rw-rw-  2.0 fat      465 b- defN 22-Feb-07 10:26 pandapower-2.8.0/doc/elements/shunt_par.csv
--rw-rw-rw-  2.0 fat      195 b- defN 22-Feb-07 10:26 pandapower-2.8.0/doc/elements/shunt_res.csv
--rw-rw-rw-  2.0 fat     1093 b- defN 22-Feb-07 10:26 pandapower-2.8.0/doc/elements/storage_par.csv
--rw-rw-rw-  2.0 fat      158 b- defN 22-Feb-07 10:26 pandapower-2.8.0/doc/elements/storage_res.csv
--rw-rw-rw-  2.0 fat      702 b- defN 22-Feb-07 10:26 pandapower-2.8.0/doc/elements/switch_par.csv
--rw-rw-rw-  2.0 fat      395 b- defN 22-Feb-07 10:26 pandapower-2.8.0/doc/elements/trafo3w_conversion.csv
--rw-rw-rw-  2.0 fat     2113 b- defN 22-Feb-07 10:26 pandapower-2.8.0/doc/elements/trafo3w_par.csv
--rw-rw-rw-  2.0 fat     1299 b- defN 22-Feb-07 10:26 pandapower-2.8.0/doc/elements/trafo3w_res.csv
--rw-rw-rw-  2.0 fat      353 b- defN 22-Feb-07 10:26 pandapower-2.8.0/doc/elements/trafo3w_tap.csv
--rw-rw-rw-  2.0 fat     2487 b- defN 22-Feb-07 10:26 pandapower-2.8.0/doc/elements/trafo_par.csv
--rw-rw-rw-  2.0 fat      946 b- defN 22-Feb-07 10:26 pandapower-2.8.0/doc/elements/trafo_res.csv
--rw-rw-rw-  2.0 fat     2122 b- defN 22-Feb-07 10:26 pandapower-2.8.0/doc/elements/trafo_res_3ph.csv
--rw-rw-rw-  2.0 fat      204 b- defN 22-Feb-07 10:26 pandapower-2.8.0/doc/elements/trafo_tap.csv
--rw-rw-rw-  2.0 fat      470 b- defN 22-Feb-07 10:26 pandapower-2.8.0/doc/elements/ward_par.csv
--rw-rw-rw-  2.0 fat      213 b- defN 22-Feb-07 10:26 pandapower-2.8.0/doc/elements/ward_res.csv
--rw-rw-rw-  2.0 fat      692 b- defN 22-Feb-07 10:26 pandapower-2.8.0/doc/elements/xward_par.csv
--rw-rw-rw-  2.0 fat      213 b- defN 22-Feb-07 10:26 pandapower-2.8.0/doc/elements/xward_res.csv
--rw-rw-rw-  2.0 fat      437 b- defN 22-Feb-07 10:26 pandapower-2.8.0/doc/networks/dickert.csv
--rw-rw-rw-  2.0 fat      382 b- defN 22-Feb-07 10:26 pandapower-2.8.0/doc/networks/kerber.csv
--rw-rw-rw-  2.0 fat      527 b- defN 22-Feb-07 10:26 pandapower-2.8.0/doc/networks/kerber_extreme.csv
--rw-rw-rw-  2.0 fat      397 b- defN 22-Feb-07 10:26 pandapower-2.8.0/doc/opf/opf_constraints.csv
--rw-rw-rw-  2.0 fat     1439 b- defN 22-Feb-07 10:26 pandapower-2.8.0/doc/opf/opf_flexibility.csv
--rw-rw-rw-  2.0 fat     3180 b- defN 22-Feb-07 10:26 pandapower-2.8.0/doc/std_types/linetypes.csv
--rw-rw-rw-  2.0 fat      458 b- defN 22-Feb-07 10:26 pandapower-2.8.0/doc/std_types/trafo3wtypes.csv
--rw-rw-rw-  2.0 fat     1293 b- defN 22-Feb-07 10:26 pandapower-2.8.0/doc/std_types/trafotypes.csv
--rw-rw-rw-  2.0 fat      294 b- defN 22-Feb-07 10:26 pandapower-2.8.0/doc/timeseries/datasource_example.csv
-drwxrwxrwx  2.0 fat        0 b- stor 22-Feb-07 10:28 pandapower-2.8.0/pandapower/control/
-drwxrwxrwx  2.0 fat        0 b- stor 22-Feb-07 10:28 pandapower-2.8.0/pandapower/converter/
-drwxrwxrwx  2.0 fat        0 b- stor 22-Feb-07 10:28 pandapower-2.8.0/pandapower/estimation/
-drwxrwxrwx  2.0 fat        0 b- stor 22-Feb-07 10:28 pandapower-2.8.0/pandapower/networks/
-drwxrwxrwx  2.0 fat        0 b- stor 22-Feb-07 10:28 pandapower-2.8.0/pandapower/opf/
-drwxrwxrwx  2.0 fat        0 b- stor 22-Feb-07 10:28 pandapower-2.8.0/pandapower/pf/
-drwxrwxrwx  2.0 fat        0 b- stor 22-Feb-07 10:28 pandapower-2.8.0/pandapower/plotting/
-drwxrwxrwx  2.0 fat        0 b- stor 22-Feb-07 10:28 pandapower-2.8.0/pandapower/pypower/
-drwxrwxrwx  2.0 fat        0 b- stor 22-Feb-07 10:28 pandapower-2.8.0/pandapower/shortcircuit/
-drwxrwxrwx  2.0 fat        0 b- stor 22-Feb-07 10:28 pandapower-2.8.0/pandapower/test/
-drwxrwxrwx  2.0 fat        0 b- stor 22-Feb-07 10:28 pandapower-2.8.0/pandapower/timeseries/
-drwxrwxrwx  2.0 fat        0 b- stor 22-Feb-07 10:28 pandapower-2.8.0/pandapower/topology/
--rw-rw-rw-  2.0 fat    48243 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/auxiliary.py
--rw-rw-rw-  2.0 fat    45257 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/build_branch.py
--rw-rw-rw-  2.0 fat    25374 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/build_bus.py
--rw-rw-rw-  2.0 fat    18401 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/build_gen.py
--rw-rw-rw-  2.0 fat    19320 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/convert_format.py
--rw-rw-rw-  2.0 fat   183949 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/create.py
--rw-rw-rw-  2.0 fat    37199 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/diagnostic.py
--rw-rw-rw-  2.0 fat    34757 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/diagnostic_reports.py
--rw-rw-rw-  2.0 fat    14959 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/file_io.py
--rw-rw-rw-  2.0 fat    34733 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/io_utils.py
--rw-rw-rw-  2.0 fat     4569 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/optimal_powerflow.py
--rw-rw-rw-  2.0 fat    13510 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/pd2ppc.py
--rw-rw-rw-  2.0 fat    22322 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/pd2ppc_zero.py
--rw-rw-rw-  2.0 fat     7566 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/powerflow.py
--rw-rw-rw-  2.0 fat    10050 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/results.py
--rw-rw-rw-  2.0 fat    27874 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/results_branch.py
--rw-rw-rw-  2.0 fat    18645 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/results_bus.py
--rw-rw-rw-  2.0 fat    12219 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/results_gen.py
--rw-rw-rw-  2.0 fat    25946 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/run.py
--rw-rw-rw-  2.0 fat    18514 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/runpm.py
--rw-rw-rw-  2.0 fat    37061 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/std_types.py
--rw-rw-rw-  2.0 fat   139868 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/toolbox.py
--rw-rw-rw-  2.0 fat      658 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/__init__.py
-drwxrwxrwx  2.0 fat        0 b- stor 22-Feb-07 10:28 pandapower-2.8.0/pandapower/control/controller/
-drwxrwxrwx  2.0 fat        0 b- stor 22-Feb-07 10:28 pandapower-2.8.0/pandapower/control/util/
--rw-rw-rw-  2.0 fat     9460 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/control/basic_controller.py
--rw-rw-rw-  2.0 fat    12779 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/control/run_control.py
--rw-rw-rw-  2.0 fat     1128 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/control/__init__.py
-drwxrwxrwx  2.0 fat        0 b- stor 22-Feb-07 10:28 pandapower-2.8.0/pandapower/control/controller/trafo/
--rw-rw-rw-  2.0 fat    10143 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/control/controller/characteristic_control.py
--rw-rw-rw-  2.0 fat     9003 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/control/controller/const_control.py
--rw-rw-rw-  2.0 fat     6014 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/control/controller/trafo_control.py
--rw-rw-rw-  2.0 fat        0 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/control/controller/__init__.py
--rw-rw-rw-  2.0 fat     4758 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/control/controller/trafo/ContinuousTapControl.py
--rw-rw-rw-  2.0 fat     5925 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/control/controller/trafo/DiscreteTapControl.py
--rw-rw-rw-  2.0 fat     2679 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/control/controller/trafo/TapDependentImpedance.py
--rw-rw-rw-  2.0 fat     2043 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/control/controller/trafo/USetTapControl.py
--rw-rw-rw-  2.0 fat        0 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/control/controller/trafo/__init__.py
--rw-rw-rw-  2.0 fat    10611 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/control/util/auxiliary.py
--rw-rw-rw-  2.0 fat     6069 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/control/util/characteristic.py
--rw-rw-rw-  2.0 fat     6032 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/control/util/diagnostic.py
--rw-rw-rw-  2.0 fat       27 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/control/util/__init__.py
-drwxrwxrwx  2.0 fat        0 b- stor 22-Feb-07 10:28 pandapower-2.8.0/pandapower/converter/matpower/
-drwxrwxrwx  2.0 fat        0 b- stor 22-Feb-07 10:28 pandapower-2.8.0/pandapower/converter/powermodels/
-drwxrwxrwx  2.0 fat        0 b- stor 22-Feb-07 10:28 pandapower-2.8.0/pandapower/converter/pypower/
--rw-rw-rw-  2.0 fat      139 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/converter/__init__.py
--rw-rw-rw-  2.0 fat     3565 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/converter/matpower/from_mpc.py
--rw-rw-rw-  2.0 fat     2281 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/converter/matpower/to_mpc.py
--rw-rw-rw-  2.0 fat      104 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/converter/matpower/__init__.py
--rw-rw-rw-  2.0 fat     4727 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/converter/powermodels/from_pm.py
--rw-rw-rw-  2.0 fat    21862 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/converter/powermodels/to_pm.py
--rw-rw-rw-  2.0 fat       52 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/converter/powermodels/__init__.py
--rw-rw-rw-  2.0 fat    30794 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/converter/pypower/from_ppc.py
--rw-rw-rw-  2.0 fat     5428 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/converter/pypower/to_ppc.py
--rw-rw-rw-  2.0 fat      104 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/converter/pypower/__init__.py
-drwxrwxrwx  2.0 fat        0 b- stor 22-Feb-07 10:28 pandapower-2.8.0/pandapower/estimation/algorithm/
--rw-rw-rw-  2.0 fat      577 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/estimation/idx_brch.py
--rw-rw-rw-  2.0 fat      362 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/estimation/idx_bus.py
--rw-rw-rw-  2.0 fat    26435 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/estimation/ppc_conversion.py
--rw-rw-rw-  2.0 fat     2321 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/estimation/results.py
--rw-rw-rw-  2.0 fat    23757 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/estimation/state_estimation.py
--rw-rw-rw-  2.0 fat    13964 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/estimation/util.py
--rw-rw-rw-  2.0 fat       54 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/estimation/__init__.py
--rw-rw-rw-  2.0 fat    10073 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/estimation/algorithm/base.py
--rw-rw-rw-  2.0 fat     7498 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/estimation/algorithm/estimator.py
--rw-rw-rw-  2.0 fat     5130 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/estimation/algorithm/lp.py
--rw-rw-rw-  2.0 fat     7311 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/estimation/algorithm/matrix_base.py
--rw-rw-rw-  2.0 fat     1392 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/estimation/algorithm/optimization.py
--rw-rw-rw-  2.0 fat        0 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/estimation/algorithm/__init__.py
-drwxrwxrwx  2.0 fat        0 b- stor 22-Feb-07 10:28 pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/
--rw-rw-rw-  2.0 fat    32332 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/networks/cigre_networks.py
--rw-rw-rw-  2.0 fat    18642 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/networks/create_examples.py
--rw-rw-rw-  2.0 fat    13193 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/networks/dickert_lv_networks.py
--rw-rw-rw-  2.0 fat  1367921 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/networks/IEEE_European_LV_Off_Peak_1.json
--rw-rw-rw-  2.0 fat  1529327 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/networks/IEEE_European_LV_Off_Peak_1440.json
--rw-rw-rw-  2.0 fat  1527795 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/networks/IEEE_European_LV_On_Peak_566.json
--rw-rw-rw-  2.0 fat     1988 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/networks/ieee_europen_lv_asymmetric.py
--rw-rw-rw-  2.0 fat    10396 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/networks/kerber_extreme_networks.py
--rw-rw-rw-  2.0 fat    16190 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/networks/kerber_networks.py
--rw-rw-rw-  2.0 fat   232647 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/networks/mv_oberrhein.json
--rw-rw-rw-  2.0 fat     3897 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/networks/mv_oberrhein.py
--rw-rw-rw-  2.0 fat   229287 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/networks/mv_oberrhein_substations.json
--rw-rw-rw-  2.0 fat    29740 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/networks/power_system_test_cases.py
--rw-rw-rw-  2.0 fat     8958 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/networks/simple_pandapower_test_networks.py
--rw-rw-rw-  2.0 fat    18672 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/networks/synthetic_voltage_control_lv_networks.py
--rw-rw-rw-  2.0 fat      577 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/networks/__init__.py
--rw-rw-rw-  2.0 fat   102240 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/case118.json
--rw-rw-rw-  2.0 fat    59379 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/case11_iwamoto.json
--rw-rw-rw-  2.0 fat   507700 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/case1354pegase.json
--rw-rw-rw-  2.0 fat    63019 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/case14.json
--rw-rw-rw-  2.0 fat   131209 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/case145.json
--rw-rw-rw-  2.0 fat   649115 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/case1888rte.json
--rw-rw-rw-  2.0 fat    70401 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/case24_ieee_rts.json
--rw-rw-rw-  2.0 fat   944214 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/case2848rte.json
--rw-rw-rw-  2.0 fat  1055258 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/case2869pegase.json
--rw-rw-rw-  2.0 fat    66731 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/case30.json
--rw-rw-rw-  2.0 fat   154870 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/case300.json
--rw-rw-rw-  2.0 fat   954655 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/case3120sp.json
--rw-rw-rw-  2.0 fat    65279 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/case33bw.json
--rw-rw-rw-  2.0 fat    69198 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/case39.json
--rw-rw-rw-  2.0 fat    59459 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/case4gs.json
--rw-rw-rw-  2.0 fat    60334 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/case5.json
--rw-rw-rw-  2.0 fat    75168 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/case57.json
--rw-rw-rw-  2.0 fat    51800 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/case5_demo_gridcal.json
--rw-rw-rw-  2.0 fat  2096858 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/case6470rte.json
--rw-rw-rw-  2.0 fat  2133729 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/case6495rte.json
--rw-rw-rw-  2.0 fat  2163491 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/case6515rte.json
--rw-rw-rw-  2.0 fat    60640 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/case6ww.json
--rw-rw-rw-  2.0 fat    94290 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/case89pegase.json
--rw-rw-rw-  2.0 fat    60451 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/case9.json
--rw-rw-rw-  2.0 fat  3449497 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/case9241pegase.json
--rw-rw-rw-  2.0 fat    66833 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/case_ieee30.json
--rw-rw-rw-  2.0 fat   120324 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/case_illinois200.json
--rw-rw-rw-  2.0 fat   738552 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/GBnetwork.json
--rw-rw-rw-  2.0 fat    75391 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/GBreducednetwork.json
--rw-rw-rw-  2.0 fat    98255 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/iceland.json
--rw-rw-rw-  2.0 fat     6060 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/opf/make_objective.py
--rw-rw-rw-  2.0 fat     4202 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/opf/pm_storage.py
--rw-rw-rw-  2.0 fat     3422 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/opf/run_powermodels.py
--rw-rw-rw-  2.0 fat     4272 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/opf/validate_opf_input.py
--rw-rw-rw-  2.0 fat        0 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/opf/__init__.py
--rw-rw-rw-  2.0 fat     3758 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/pf/create_jacobian.py
--rw-rw-rw-  2.0 fat    12947 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/pf/create_jacobian_numba.py
--rw-rw-rw-  2.0 fat     3007 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/pf/dSbus_dV_numba.py
--rw-rw-rw-  2.0 fat     1273 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/pf/iwamoto_multiplier.py
--rw-rw-rw-  2.0 fat     6548 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/pf/makeYbus_numba.py
--rw-rw-rw-  2.0 fat      456 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/pf/no_numba.py
--rw-rw-rw-  2.0 fat     5425 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/pf/pfsoln_numba.py
--rw-rw-rw-  2.0 fat     1521 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/pf/ppci_variables.py
--rw-rw-rw-  2.0 fat     9369 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/pf/runpf_pypower.py
--rw-rw-rw-  2.0 fat    30237 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/pf/runpp_3ph.py
--rw-rw-rw-  2.0 fat    19888 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/pf/run_bfswpf.py
--rw-rw-rw-  2.0 fat     2260 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/pf/run_dc_pf.py
--rw-rw-rw-  2.0 fat    10631 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/pf/run_newton_raphson_pf.py
--rw-rw-rw-  2.0 fat        0 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/pf/__init__.py
-drwxrwxrwx  2.0 fat        0 b- stor 22-Feb-07 10:28 pandapower-2.8.0/pandapower/plotting/plotly/
--rw-rw-rw-  2.0 fat    54920 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/plotting/collections.py
--rw-rw-rw-  2.0 fat     5339 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/plotting/colormaps.py
--rw-rw-rw-  2.0 fat     9360 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/plotting/generic_geodata.py
--rw-rw-rw-  2.0 fat     6260 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/plotting/geo.py
--rw-rw-rw-  2.0 fat    19744 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/plotting/patch_makers.py
--rw-rw-rw-  2.0 fat    11962 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/plotting/plotting_toolbox.py
--rw-rw-rw-  2.0 fat     7612 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/plotting/powerflow_results.py
--rw-rw-rw-  2.0 fat     8970 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/plotting/simple_plot.py
--rw-rw-rw-  2.0 fat     9169 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/plotting/to_html.py
--rw-rw-rw-  2.0 fat      771 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/plotting/__init__.py
--rw-rw-rw-  2.0 fat     3267 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/plotting/plotly/get_colors.py
--rw-rw-rw-  2.0 fat     4259 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/plotting/plotly/mapbox_plot.py
--rw-rw-rw-  2.0 fat     9060 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/plotting/plotly/pf_res_plotly.py
--rw-rw-rw-  2.0 fat    11509 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/plotting/plotly/simple_plotly.py
--rw-rw-rw-  2.0 fat    39740 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/plotting/plotly/traces.py
--rw-rw-rw-  2.0 fat     8612 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/plotting/plotly/vlevel_plotly.py
--rw-rw-rw-  2.0 fat      324 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/plotting/plotly/__init__.py
--rw-rw-rw-  2.0 fat     4871 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/pypower/add_userfcn.py
--rw-rw-rw-  2.0 fat     1862 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/pypower/bustypes.py
--rw-rw-rw-  2.0 fat     1857 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/pypower/d2AIbr_dV2.py
--rw-rw-rw-  2.0 fat     1901 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/pypower/d2ASbr_dV2.py
--rw-rw-rw-  2.0 fat     1450 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/pypower/d2Ibr_dV2.py
--rw-rw-rw-  2.0 fat     1747 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/pypower/d2Sbr_dV2.py
--rw-rw-rw-  2.0 fat     1717 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/pypower/d2Sbus_dV2.py
--rw-rw-rw-  2.0 fat     2776 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/pypower/dAbr_dV.py
--rw-rw-rw-  2.0 fat    12169 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/pypower/dcopf_solver.py
--rw-rw-rw-  2.0 fat     1607 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/pypower/dcpf.py
--rw-rw-rw-  2.0 fat     2072 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/pypower/dIbr_dV.py
--rw-rw-rw-  2.0 fat     5302 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/pypower/dSbr_dV.py
--rw-rw-rw-  2.0 fat     1525 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/pypower/dSbus_dV.py
--rw-rw-rw-  2.0 fat     4739 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/pypower/fdpf.py
--rw-rw-rw-  2.0 fat     3850 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/pypower/gausspf.py
--rw-rw-rw-  2.0 fat     2756 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/pypower/hasPQcap.py
--rw-rw-rw-  2.0 fat      617 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/pypower/idx_area.py
--rw-rw-rw-  2.0 fat     4273 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/pypower/idx_brch.py
--rw-rw-rw-  2.0 fat     3497 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/pypower/idx_bus.py
--rw-rw-rw-  2.0 fat     1827 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/pypower/idx_cost.py
--rw-rw-rw-  2.0 fat     4577 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/pypower/idx_gen.py
--rw-rw-rw-  2.0 fat      725 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/pypower/isload.py
--rw-rw-rw-  2.0 fat     2122 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/pypower/makeAang.py
--rw-rw-rw-  2.0 fat     3669 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/pypower/makeApq.py
--rw-rw-rw-  2.0 fat     3381 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/pypower/makeAvl.py
--rw-rw-rw-  2.0 fat     4065 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/pypower/makeAy.py
--rw-rw-rw-  2.0 fat     1983 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/pypower/makeB.py
--rw-rw-rw-  2.0 fat     3677 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/pypower/makeBdc.py
--rw-rw-rw-  2.0 fat     1900 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/pypower/makeLODF.py
--rw-rw-rw-  2.0 fat     3656 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/pypower/makePTDF.py
--rw-rw-rw-  2.0 fat     2004 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/pypower/makeSbus.py
--rw-rw-rw-  2.0 fat     4058 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/pypower/makeYbus.py
--rw-rw-rw-  2.0 fat     6364 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/pypower/newtonpf.py
--rw-rw-rw-  2.0 fat     9589 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/pypower/opf.py
--rw-rw-rw-  2.0 fat     7669 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/pypower/opf_args.py
--rw-rw-rw-  2.0 fat     7407 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/pypower/opf_consfcn.py
--rw-rw-rw-  2.0 fat     4387 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/pypower/opf_costfcn.py
--rw-rw-rw-  2.0 fat     8466 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/pypower/opf_execute.py
--rw-rw-rw-  2.0 fat    10703 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/pypower/opf_hessfcn.py
--rw-rw-rw-  2.0 fat    22379 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/pypower/opf_model.py
--rw-rw-rw-  2.0 fat    10830 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/pypower/opf_setup.py
--rw-rw-rw-  2.0 fat     5939 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/pypower/pfsoln.py
--rw-rw-rw-  2.0 fat    22338 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/pypower/pips.py
--rw-rw-rw-  2.0 fat     9047 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/pypower/pipsopf_solver.py
--rw-rw-rw-  2.0 fat      467 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/pypower/pipsver.py
--rw-rw-rw-  2.0 fat     1956 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/pypower/polycost.py
--rw-rw-rw-  2.0 fat     6535 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/pypower/ppoption.py
--rw-rw-rw-  2.0 fat      479 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/pypower/ppver.py
--rw-rw-rw-  2.0 fat     1247 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/pypower/pqcost.py
--rw-rw-rw-  2.0 fat    40469 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/pypower/printpf.py
--rw-rw-rw-  2.0 fat     7423 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/pypower/qps_pips.py
--rw-rw-rw-  2.0 fat     6895 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/pypower/qps_pypower.py
--rw-rw-rw-  2.0 fat     1732 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/pypower/run_userfcn.py
--rw-rw-rw-  2.0 fat     1920 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/pypower/totcost.py
--rw-rw-rw-  2.0 fat     1924 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/pypower/update_mupq.py
--rw-rw-rw-  2.0 fat      803 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/pypower/util.py
--rw-rw-rw-  2.0 fat      112 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/pypower/_compat.py
--rw-rw-rw-  2.0 fat      235 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/pypower/__init__.py
--rw-rw-rw-  2.0 fat     9239 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/shortcircuit/calc_sc.py
--rw-rw-rw-  2.0 fat    12767 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/shortcircuit/currents.py
--rw-rw-rw-  2.0 fat      560 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/shortcircuit/idx_brch.py
--rw-rw-rw-  2.0 fat      858 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/shortcircuit/idx_bus.py
--rw-rw-rw-  2.0 fat     2876 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/shortcircuit/impedance.py
--rw-rw-rw-  2.0 fat     4991 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/shortcircuit/kappa.py
--rw-rw-rw-  2.0 fat    10225 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/shortcircuit/ppc_conversion.py
--rw-rw-rw-  2.0 fat     8529 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/shortcircuit/results.py
--rw-rw-rw-  2.0 fat     6628 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/shortcircuit/toolbox.py
--rw-rw-rw-  2.0 fat       98 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/shortcircuit/__init__.py
-drwxrwxrwx  2.0 fat        0 b- stor 22-Feb-07 10:28 pandapower-2.8.0/pandapower/test/api/
-drwxrwxrwx  2.0 fat        0 b- stor 22-Feb-07 10:28 pandapower-2.8.0/pandapower/test/control/
-drwxrwxrwx  2.0 fat        0 b- stor 22-Feb-07 10:28 pandapower-2.8.0/pandapower/test/converter/
-drwxrwxrwx  2.0 fat        0 b- stor 22-Feb-07 10:28 pandapower-2.8.0/pandapower/test/estimation/
-drwxrwxrwx  2.0 fat        0 b- stor 22-Feb-07 10:28 pandapower-2.8.0/pandapower/test/loadflow/
-drwxrwxrwx  2.0 fat        0 b- stor 22-Feb-07 10:28 pandapower-2.8.0/pandapower/test/networks/
-drwxrwxrwx  2.0 fat        0 b- stor 22-Feb-07 10:28 pandapower-2.8.0/pandapower/test/opf/
-drwxrwxrwx  2.0 fat        0 b- stor 22-Feb-07 10:28 pandapower-2.8.0/pandapower/test/shortcircuit/
-drwxrwxrwx  2.0 fat        0 b- stor 22-Feb-07 10:28 pandapower-2.8.0/pandapower/test/test_files/
-drwxrwxrwx  2.0 fat        0 b- stor 22-Feb-07 10:28 pandapower-2.8.0/pandapower/test/timeseries/
--rw-rw-rw-  2.0 fat     1666 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/conftest.py
--rw-rw-rw-  2.0 fat    10565 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/consistency_checks.py
--rw-rw-rw-  2.0 fat     4397 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/run_tests.py
--rw-rw-rw-  2.0 fat     3794 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/toolbox.py
--rw-rw-rw-  2.0 fat      122 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/__init__.py
--rw-rw-rw-  2.0 fat    14417 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/api/old_net.p
--rw-rw-rw-  2.0 fat    11377 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/api/test_auxiliary.py
--rw-rw-rw-  2.0 fat     2305 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/api/test_convert_format.py
--rw-rw-rw-  2.0 fat    42845 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/api/test_create.py
--rw-rw-rw-  2.0 fat    43723 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/api/test_diagnostic.py
--rw-rw-rw-  2.0 fat    14911 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/api/test_file_io.py
--rw-rw-rw-  2.0 fat    13420 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/api/test_std_types.py
--rw-rw-rw-  2.0 fat    61625 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/api/test_toolbox.py
--rw-rw-rw-  2.0 fat        0 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/api/__init__.py
--rw-rw-rw-  2.0 fat     1655 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/control/test_const_control.py
--rw-rw-rw-  2.0 fat     5861 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/control/test_continous_tap_control.py
--rw-rw-rw-  2.0 fat     7457 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/control/test_control.py
--rw-rw-rw-  2.0 fat    11271 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/control/test_discrete_tap_control.py
--rw-rw-rw-  2.0 fat     3308 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/control/test_tap_dependent_impedance.py
--rw-rw-rw-  2.0 fat     3961 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/control/test_u_set_tap_control.py
--rw-rw-rw-  2.0 fat        0 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/control/__init__.py
--rw-rw-rw-  2.0 fat     1971 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/converter/case24_ieee_rts.mat
--rw-rw-rw-  2.0 fat    42633 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/converter/case2_2_by_code.json
--rw-rw-rw-  2.0 fat    84012 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/converter/ppc_testgrids.p
--rw-rw-rw-  2.0 fat   577517 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/converter/pypower_cases.p
--rw-rw-rw-  2.0 fat     1000 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/converter/test_from_mpc.py
--rw-rw-rw-  2.0 fat     4655 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/converter/test_from_ppc.py
--rw-rw-rw-  2.0 fat     2401 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/converter/test_to_ppc_and_mpc.py
--rw-rw-rw-  2.0 fat        0 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/converter/__init__.py
--rw-rw-rw-  2.0 fat    35351 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/estimation/3bus_wls.json
--rw-rw-rw-  2.0 fat     1067 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/estimation/test_conditions.py
--rw-rw-rw-  2.0 fat     2252 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/estimation/test_irwls_estimation.py
--rw-rw-rw-  2.0 fat     5965 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/estimation/test_opt_lp_estimation.py
--rw-rw-rw-  2.0 fat     1765 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/estimation/test_pmu.py
--rw-rw-rw-  2.0 fat     1167 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/estimation/test_recycle.py
--rw-rw-rw-  2.0 fat    48727 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/estimation/test_wls_estimation.py
--rw-rw-rw-  2.0 fat        0 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/estimation/__init__.py
--rw-rw-rw-  2.0 fat     5146 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/loadflow/PF_Results.py
--rw-rw-rw-  2.0 fat    19002 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/loadflow/result_test_network_generator.py
--rw-rw-rw-  2.0 fat    68053 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/loadflow/runpp_3ph Validation.p
--rw-rw-rw-  2.0 fat    23166 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/loadflow/testgrid.p
--rw-rw-rw-  2.0 fat    18914 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/loadflow/test_dist_slack.py
--rw-rw-rw-  2.0 fat     2230 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/loadflow/test_PTDF_LODF.py
--rw-rw-rw-  2.0 fat     5138 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/loadflow/test_recycle.py
--rw-rw-rw-  2.0 fat    26844 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/loadflow/test_results.py
--rw-rw-rw-  2.0 fat     4144 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/loadflow/test_rundcpp.py
--rw-rw-rw-  2.0 fat    55252 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/loadflow/test_runpp.py
--rw-rw-rw-  2.0 fat    26629 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/loadflow/test_runpp_3ph.py
--rw-rw-rw-  2.0 fat     2483 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/loadflow/test_runpp_3ph_n_line.py
--rw-rw-rw-  2.0 fat    23261 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/loadflow/test_scenarios.py
--rw-rw-rw-  2.0 fat        0 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/loadflow/__init__.py
--rw-rw-rw-  2.0 fat     3049 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/networks/test_cigre_networks.py
--rw-rw-rw-  2.0 fat     1393 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/networks/test_create_example.py
--rw-rw-rw-  2.0 fat     1733 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/networks/test_dickert_lv_networks.py
--rw-rw-rw-  2.0 fat     5247 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/networks/test_kerber_extreme_networks.py
--rw-rw-rw-  2.0 fat     6231 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/networks/test_kerber_networks.py
--rw-rw-rw-  2.0 fat     1914 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/networks/test_mv_oberrhein.py
--rw-rw-rw-  2.0 fat     5512 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/networks/test_power_system_test_cases.py
--rw-rw-rw-  2.0 fat     1598 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/networks/test_simple_pandapower_test_networks.py
--rw-rw-rw-  2.0 fat     2204 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/networks/test_synthetic_voltage_control_lv_networks.py
--rw-rw-rw-  2.0 fat        0 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/networks/__init__.py
--rw-rw-rw-  2.0 fat     4956 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/opf/case5_clm_matfile.json
--rw-rw-rw-  2.0 fat     4490 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/opf/case5_clm_pp.json
--rw-rw-rw-  2.0 fat    39732 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/opf/test_basic.py
--rw-rw-rw-  2.0 fat     3299 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/opf/test_check_opf_data.py
--rw-rw-rw-  2.0 fat     4727 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/opf/test_costs_mixed.py
--rw-rw-rw-  2.0 fat     4654 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/opf/test_costs_pol.py
--rw-rw-rw-  2.0 fat     9337 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/opf/test_costs_pwl.py
--rw-rw-rw-  2.0 fat     1790 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/opf/test_costs_pwl_q.py
--rw-rw-rw-  2.0 fat     5722 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/opf/test_cost_consistency.py
--rw-rw-rw-  2.0 fat     2618 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/opf/test_curtailment.py
--rw-rw-rw-  2.0 fat     5996 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/opf/test_dcline.py
--rw-rw-rw-  2.0 fat     1110 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/opf/test_oberrhein.py
--rw-rw-rw-  2.0 fat     2797 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/opf/test_opf_cigre.py
--rw-rw-rw-  2.0 fat     3035 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/opf/test_pandamodels_installation.py
--rw-rw-rw-  2.0 fat    24922 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/opf/test_powermodels.py
--rw-rw-rw-  2.0 fat     6702 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/opf/test_pp_vs_pm.py
--rw-rw-rw-  2.0 fat     6952 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/opf/test_TNEP.py
--rw-rw-rw-  2.0 fat        0 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/opf/__init__.py
--rw-rw-rw-  2.0 fat    42990 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/shortcircuit/sc_test_meshed_grid.json
--rw-rw-rw-  2.0 fat    14859 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/shortcircuit/test_1ph.py
--rw-rw-rw-  2.0 fat    12151 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/shortcircuit/test_all_currents.py
--rw-rw-rw-  2.0 fat     8911 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/shortcircuit/test_gen.py
--rw-rw-rw-  2.0 fat    18153 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/shortcircuit/test_iec60909_4.py
--rw-rw-rw-  2.0 fat     1606 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/shortcircuit/test_impedance.py
--rw-rw-rw-  2.0 fat     4057 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/shortcircuit/test_meshing_detection.py
--rw-rw-rw-  2.0 fat     1208 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/shortcircuit/test_min_branch_results.py
--rw-rw-rw-  2.0 fat     3327 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/shortcircuit/test_motor.py
--rw-rw-rw-  2.0 fat     2692 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/shortcircuit/test_ring.py
--rw-rw-rw-  2.0 fat     4529 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/shortcircuit/test_sc_multi_bus.py
--rw-rw-rw-  2.0 fat     3832 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/shortcircuit/test_sc_single_bus.py
--rw-rw-rw-  2.0 fat     9474 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/shortcircuit/test_sgen.py
--rw-rw-rw-  2.0 fat     2125 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/shortcircuit/test_trafo3w.py
--rw-rw-rw-  2.0 fat     4884 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/shortcircuit/test_transformer.py
--rw-rw-rw-  2.0 fat        0 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/shortcircuit/__init__.py
-drwxrwxrwx  2.0 fat        0 b- stor 22-Feb-07 10:28 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/
-drwxrwxrwx  2.0 fat        0 b- stor 22-Feb-07 10:28 pandapower-2.8.0/pandapower/test/test_files/old_versions/
--rw-rw-rw-  2.0 fat    56275 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/controller_containing_NoneNan.json
--rw-rw-rw-  2.0 fat    58506 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/IEC60909-4_example.json
--rw-rw-rw-  2.0 fat      726 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/pm_example_res.json
--rw-rw-rw-  2.0 fat      431 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/run_powermodels_custom.jl
-drwxrwxrwx  2.0 fat        0 b- stor 22-Feb-07 10:28 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/
--rw-rw-rw-  2.0 fat    23758 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Buscoords.csv
--rw-rw-rw-  2.0 fat      499 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/LineCodes.csv
--rw-rw-rw-  2.0 fat    33232 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Lines.csv
--rw-rw-rw-  2.0 fat     2457 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Loads.csv
--rw-rw-rw-  2.0 fat     2347 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/LoadShapes.csv
--rw-rw-rw-  2.0 fat       78 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Source.csv
--rw-rw-rw-  2.0 fat      201 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Transformer.csv
--rw-rw-rw-  2.0 fat    22894 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_1.csv
--rw-rw-rw-  2.0 fat    23024 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_10.csv
--rw-rw-rw-  2.0 fat    22982 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_100.csv
--rw-rw-rw-  2.0 fat    23022 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_11.csv
--rw-rw-rw-  2.0 fat    23028 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_12.csv
--rw-rw-rw-  2.0 fat    22994 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_13.csv
--rw-rw-rw-  2.0 fat    22778 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_14.csv
--rw-rw-rw-  2.0 fat    23051 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_15.csv
--rw-rw-rw-  2.0 fat    22835 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_16.csv
--rw-rw-rw-  2.0 fat    22942 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_17.csv
--rw-rw-rw-  2.0 fat    22647 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_18.csv
--rw-rw-rw-  2.0 fat    22864 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_19.csv
--rw-rw-rw-  2.0 fat    22972 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_2.csv
--rw-rw-rw-  2.0 fat    22945 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_20.csv
--rw-rw-rw-  2.0 fat    22723 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_21.csv
--rw-rw-rw-  2.0 fat    22898 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_22.csv
--rw-rw-rw-  2.0 fat    23032 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_23.csv
--rw-rw-rw-  2.0 fat    22997 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_24.csv
--rw-rw-rw-  2.0 fat    22270 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_25.csv
--rw-rw-rw-  2.0 fat    23032 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_26.csv
--rw-rw-rw-  2.0 fat    22984 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_27.csv
--rw-rw-rw-  2.0 fat    23039 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_28.csv
--rw-rw-rw-  2.0 fat    22909 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_29.csv
--rw-rw-rw-  2.0 fat    23034 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_3.csv
--rw-rw-rw-  2.0 fat    22990 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_30.csv
--rw-rw-rw-  2.0 fat    22910 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_31.csv
--rw-rw-rw-  2.0 fat    22958 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_32.csv
--rw-rw-rw-  2.0 fat    22885 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_33.csv
--rw-rw-rw-  2.0 fat    23011 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_34.csv
--rw-rw-rw-  2.0 fat    23009 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_35.csv
--rw-rw-rw-  2.0 fat    23045 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_36.csv
--rw-rw-rw-  2.0 fat    22929 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_37.csv
--rw-rw-rw-  2.0 fat    22954 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_38.csv
--rw-rw-rw-  2.0 fat    22948 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_39.csv
--rw-rw-rw-  2.0 fat    22975 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_4.csv
--rw-rw-rw-  2.0 fat    23015 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_40.csv
--rw-rw-rw-  2.0 fat    23002 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_41.csv
--rw-rw-rw-  2.0 fat    22841 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_42.csv
--rw-rw-rw-  2.0 fat    21967 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_43.csv
--rw-rw-rw-  2.0 fat    22963 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_44.csv
--rw-rw-rw-  2.0 fat    22978 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_45.csv
--rw-rw-rw-  2.0 fat    22996 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_46.csv
--rw-rw-rw-  2.0 fat    23019 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_47.csv
--rw-rw-rw-  2.0 fat    22945 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_48.csv
--rw-rw-rw-  2.0 fat    22970 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_49.csv
--rw-rw-rw-  2.0 fat    22956 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_5.csv
--rw-rw-rw-  2.0 fat    22825 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_50.csv
--rw-rw-rw-  2.0 fat    23006 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_51.csv
--rw-rw-rw-  2.0 fat    23014 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_52.csv
--rw-rw-rw-  2.0 fat    22920 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_53.csv
--rw-rw-rw-  2.0 fat    22999 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_54.csv
--rw-rw-rw-  2.0 fat    22869 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_55.csv
--rw-rw-rw-  2.0 fat    22377 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_56.csv
--rw-rw-rw-  2.0 fat    23047 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_57.csv
--rw-rw-rw-  2.0 fat    22061 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_58.csv
--rw-rw-rw-  2.0 fat    22979 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_59.csv
--rw-rw-rw-  2.0 fat    23030 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_6.csv
--rw-rw-rw-  2.0 fat    23023 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_60.csv
--rw-rw-rw-  2.0 fat    22984 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_61.csv
--rw-rw-rw-  2.0 fat    22994 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_62.csv
--rw-rw-rw-  2.0 fat    22644 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_63.csv
--rw-rw-rw-  2.0 fat    22981 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_64.csv
--rw-rw-rw-  2.0 fat    23016 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_65.csv
--rw-rw-rw-  2.0 fat    23008 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_66.csv
--rw-rw-rw-  2.0 fat    22560 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_67.csv
--rw-rw-rw-  2.0 fat    22867 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_68.csv
--rw-rw-rw-  2.0 fat    22890 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_69.csv
--rw-rw-rw-  2.0 fat    23019 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_7.csv
--rw-rw-rw-  2.0 fat    22972 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_70.csv
--rw-rw-rw-  2.0 fat    23002 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_71.csv
--rw-rw-rw-  2.0 fat    22853 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_72.csv
--rw-rw-rw-  2.0 fat    22939 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_73.csv
--rw-rw-rw-  2.0 fat    22995 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_74.csv
--rw-rw-rw-  2.0 fat    22949 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_75.csv
--rw-rw-rw-  2.0 fat    22987 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_76.csv
--rw-rw-rw-  2.0 fat    22955 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_77.csv
--rw-rw-rw-  2.0 fat    22928 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_78.csv
--rw-rw-rw-  2.0 fat    23036 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_79.csv
--rw-rw-rw-  2.0 fat    22941 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_8.csv
--rw-rw-rw-  2.0 fat    22981 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_80.csv
--rw-rw-rw-  2.0 fat    22296 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_81.csv
--rw-rw-rw-  2.0 fat    22994 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_82.csv
--rw-rw-rw-  2.0 fat    23005 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_83.csv
--rw-rw-rw-  2.0 fat    23012 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_84.csv
--rw-rw-rw-  2.0 fat    23006 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_85.csv
--rw-rw-rw-  2.0 fat    23003 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_86.csv
--rw-rw-rw-  2.0 fat    23019 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_87.csv
--rw-rw-rw-  2.0 fat    22945 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_88.csv
--rw-rw-rw-  2.0 fat    22856 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_89.csv
--rw-rw-rw-  2.0 fat    22953 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_9.csv
--rw-rw-rw-  2.0 fat    22863 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_90.csv
--rw-rw-rw-  2.0 fat    23036 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_91.csv
--rw-rw-rw-  2.0 fat    22357 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_92.csv
--rw-rw-rw-  2.0 fat    22991 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_93.csv
--rw-rw-rw-  2.0 fat    23038 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_94.csv
--rw-rw-rw-  2.0 fat    22970 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_95.csv
--rw-rw-rw-  2.0 fat    22969 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_96.csv
--rw-rw-rw-  2.0 fat    22994 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_97.csv
--rw-rw-rw-  2.0 fat    22943 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_98.csv
--rw-rw-rw-  2.0 fat    22987 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_99.csv
--rw-rw-rw-  2.0 fat    38316 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/old_versions/example_1.2.0.json
--rw-rw-rw-  2.0 fat    38316 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/old_versions/example_1.2.2.json
--rw-rw-rw-  2.0 fat    38836 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/old_versions/example_1.3.0.json
--rw-rw-rw-  2.0 fat    38836 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/old_versions/example_1.3.1.json
--rw-rw-rw-  2.0 fat    60194 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/old_versions/example_1.4.0.json
--rw-rw-rw-  2.0 fat    60194 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/old_versions/example_1.4.1.json
--rw-rw-rw-  2.0 fat    63271 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/old_versions/example_1.4.2.json
--rw-rw-rw-  2.0 fat    63271 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/old_versions/example_1.4.3.json
--rw-rw-rw-  2.0 fat    69338 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/old_versions/example_1.5.0.json
--rw-rw-rw-  2.0 fat    69347 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/old_versions/example_1.5.1.json
--rw-rw-rw-  2.0 fat    62031 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/old_versions/example_1.6.0.json
--rw-rw-rw-  2.0 fat    69549 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/old_versions/example_1.6.1.json
--rw-rw-rw-  2.0 fat    71082 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/old_versions/example_2.0.0.json
--rw-rw-rw-  2.0 fat    71487 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/old_versions/example_2.0.1.json
--rw-rw-rw-  2.0 fat    67841 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/old_versions/example_2.1.0.json
--rw-rw-rw-  2.0 fat    67497 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/old_versions/example_2.2.0.json
--rw-rw-rw-  2.0 fat    80278 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/old_versions/example_2.3.0.json
--rw-rw-rw-  2.0 fat    58123 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/old_versions/example_2.3.1.json
--rw-rw-rw-  2.0 fat    81448 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/old_versions/example_2.4.0.json
--rw-rw-rw-  2.0 fat    81809 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/old_versions/example_2.5.0.json
--rw-rw-rw-  2.0 fat    81928 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/old_versions/example_2.6.0.json
--rw-rw-rw-  2.0 fat    83210 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/old_versions/example_2.7.0.json
--rw-rw-rw-  2.0 fat    84404 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/test_files/old_versions/example_2.8.0.json
-drwxrwxrwx  2.0 fat        0 b- stor 22-Feb-07 10:28 pandapower-2.8.0/pandapower/test/timeseries/test_files/
--rw-rw-rw-  2.0 fat     1290 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/timeseries/test_data_source.py
--rw-rw-rw-  2.0 fat    13847 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/timeseries/test_output_writer.py
--rw-rw-rw-  2.0 fat    11101 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/timeseries/test_timeseries.py
--rw-rw-rw-  2.0 fat    10920 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/timeseries/test_timeseries_recycle.py
--rw-rw-rw-  2.0 fat        0 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/timeseries/__init__.py
--rw-rw-rw-  2.0 fat      633 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/test/timeseries/test_files/small_profile.csv
-drwxrwxrwx  2.0 fat        0 b- stor 22-Feb-07 10:28 pandapower-2.8.0/pandapower/timeseries/data_sources/
--rw-rw-rw-  2.0 fat     1084 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/timeseries/data_source.py
--rw-rw-rw-  2.0 fat    29095 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/timeseries/output_writer.py
--rw-rw-rw-  2.0 fat     5659 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/timeseries/read_batch_results.py
--rw-rw-rw-  2.0 fat    14638 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/timeseries/run_time_series.py
--rw-rw-rw-  2.0 fat     9865 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/timeseries/ts_runpp.py
--rw-rw-rw-  2.0 fat      192 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/timeseries/__init__.py
--rw-rw-rw-  2.0 fat     1791 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/timeseries/data_sources/frame_data.py
--rw-rw-rw-  2.0 fat       27 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/timeseries/data_sources/__init__.py
--rw-rw-rw-  2.0 fat    14973 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/topology/create_graph.py
--rw-rw-rw-  2.0 fat    17806 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/topology/graph_searches.py
--rw-rw-rw-  2.0 fat     2622 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/topology/graph_tool_interface.py
--rw-rw-rw-  2.0 fat       96 b- defN 22-Feb-07 10:26 pandapower-2.8.0/pandapower/topology/__init__.py
--rw-rw-rw-  2.0 fat        1 b- defN 22-Feb-07 10:27 pandapower-2.8.0/pandapower.egg-info/dependency_links.txt
--rw-rw-rw-  2.0 fat    33640 b- defN 22-Feb-07 10:27 pandapower-2.8.0/pandapower.egg-info/PKG-INFO
--rw-rw-rw-  2.0 fat      397 b- defN 22-Feb-07 10:27 pandapower-2.8.0/pandapower.egg-info/requires.txt
--rw-rw-rw-  2.0 fat    25191 b- defN 22-Feb-07 10:27 pandapower-2.8.0/pandapower.egg-info/SOURCES.txt
--rw-rw-rw-  2.0 fat       11 b- defN 22-Feb-07 10:27 pandapower-2.8.0/pandapower.egg-info/top_level.txt
-drwxrwxrwx  2.0 fat        0 b- stor 22-Feb-07 10:28 pandapower-2.8.0/tutorials/example_advanced/
--rw-rw-rw-  2.0 fat     5461 b- defN 22-Feb-07 10:26 pandapower-2.8.0/tutorials/cigre_timeseries_15min.json
--rw-rw-rw-  2.0 fat      317 b- defN 22-Feb-07 10:26 pandapower-2.8.0/tutorials/run_powermodels_custom.jl
--rw-rw-rw-  2.0 fat     1472 b- defN 22-Feb-07 10:26 pandapower-2.8.0/tutorials/example_advanced/hv_bus_sw.csv
--rw-rw-rw-  2.0 fat      372 b- defN 22-Feb-07 10:26 pandapower-2.8.0/tutorials/example_advanced/hv_lines.csv
--rw-rw-rw-  2.0 fat      135 b- defN 22-Feb-07 10:26 pandapower-2.8.0/tutorials/example_advanced/hv_loads.csv
--rw-rw-rw-  2.0 fat      626 b- defN 22-Feb-07 10:26 pandapower-2.8.0/tutorials/example_advanced/lv_lines.csv
--rw-rw-rw-  2.0 fat      473 b- defN 22-Feb-07 10:26 pandapower-2.8.0/tutorials/example_advanced/lv_loads.csv
--rw-rw-rw-  2.0 fat      221 b- defN 22-Feb-07 10:26 pandapower-2.8.0/tutorials/example_advanced/lv_sgens.csv
--rw-rw-rw-  2.0 fat      515 b- defN 22-Feb-07 10:26 pandapower-2.8.0/tutorials/example_advanced/mv_lines.csv
--rw-rw-rw-  2.0 fat      243 b- defN 22-Feb-07 10:26 pandapower-2.8.0/tutorials/example_advanced/mv_loads.csv
--rw-rw-rw-  2.0 fat      193 b- defN 22-Feb-07 10:26 pandapower-2.8.0/tutorials/example_advanced/mv_sgens.csv
-592 files, 29024649 bytes uncompressed, 5829437 bytes compressed:  79.9%
+Zip file size: 5997147 bytes, number of entries: 606
+drwxrwxrwx  2.0 fat        0 b- stor 22-Mar-23 20:01 pandapower-2.9.0/
+drwxrwxrwx  2.0 fat        0 b- stor 22-Mar-23 20:01 pandapower-2.9.0/.github/
+drwxrwxrwx  2.0 fat        0 b- stor 22-Mar-23 20:01 pandapower-2.9.0/doc/
+drwxrwxrwx  2.0 fat        0 b- stor 22-Mar-23 20:01 pandapower-2.9.0/pandapower/
+drwxrwxrwx  2.0 fat        0 b- stor 22-Mar-23 20:01 pandapower-2.9.0/pandapower.egg-info/
+drwxrwxrwx  2.0 fat        0 b- stor 22-Mar-23 20:01 pandapower-2.9.0/tutorials/
+-rw-rw-rw-  2.0 fat      848 b- defN 22-Mar-23 19:58 pandapower-2.9.0/AUTHORS
+-rw-rw-rw-  2.0 fat    28560 b- defN 22-Mar-23 19:58 pandapower-2.9.0/CHANGELOG.rst
+-rw-rw-rw-  2.0 fat     1677 b- defN 22-Mar-23 19:58 pandapower-2.9.0/LICENSE
+-rw-rw-rw-  2.0 fat      203 b- defN 22-Mar-23 19:58 pandapower-2.9.0/MANIFEST.in
+-rw-rw-rw-  2.0 fat    34742 b- defN 22-Mar-23 20:01 pandapower-2.9.0/PKG-INFO
+-rw-rw-rw-  2.0 fat     4377 b- defN 22-Mar-23 19:58 pandapower-2.9.0/README.rst
+-rw-rw-rw-  2.0 fat      117 b- defN 22-Mar-23 20:01 pandapower-2.9.0/setup.cfg
+-rw-rw-rw-  2.0 fat     3069 b- defN 22-Mar-23 19:58 pandapower-2.9.0/setup.py
+drwxrwxrwx  2.0 fat        0 b- stor 22-Mar-23 20:01 pandapower-2.9.0/.github/workflows/
+-rw-rw-rw-  2.0 fat     4679 b- defN 22-Mar-23 19:58 pandapower-2.9.0/.github/workflows/github_test_action.yml
+drwxrwxrwx  2.0 fat        0 b- stor 22-Mar-23 20:01 pandapower-2.9.0/doc/about/
+drwxrwxrwx  2.0 fat        0 b- stor 22-Mar-23 20:01 pandapower-2.9.0/doc/elements/
+drwxrwxrwx  2.0 fat        0 b- stor 22-Mar-23 20:01 pandapower-2.9.0/doc/networks/
+drwxrwxrwx  2.0 fat        0 b- stor 22-Mar-23 20:01 pandapower-2.9.0/doc/opf/
+drwxrwxrwx  2.0 fat        0 b- stor 22-Mar-23 20:01 pandapower-2.9.0/doc/std_types/
+drwxrwxrwx  2.0 fat        0 b- stor 22-Mar-23 20:01 pandapower-2.9.0/doc/timeseries/
+-rw-rw-rw-  2.0 fat      719 b- defN 22-Mar-23 19:58 pandapower-2.9.0/doc/fileIO.csv
+-rw-rw-rw-  2.0 fat      255 b- defN 22-Mar-23 19:58 pandapower-2.9.0/doc/about/nameing1.csv
+-rw-rw-rw-  2.0 fat      178 b- defN 22-Mar-23 19:58 pandapower-2.9.0/doc/about/nameing2.csv
+-rw-rw-rw-  2.0 fat      161 b- defN 22-Mar-23 19:58 pandapower-2.9.0/doc/about/tolerances.csv
+-rw-rw-rw-  2.0 fat      793 b- defN 22-Mar-23 19:58 pandapower-2.9.0/doc/elements/asymmetric_load_par.csv
+-rw-rw-rw-  2.0 fat     1000 b- defN 22-Mar-23 19:58 pandapower-2.9.0/doc/elements/asymmetric_sgen_par.csv
+-rw-rw-rw-  2.0 fat      498 b- defN 22-Mar-23 19:58 pandapower-2.9.0/doc/elements/asymmetric_sgen_res.csv
+-rw-rw-rw-  2.0 fat      120 b- defN 22-Mar-23 19:58 pandapower-2.9.0/doc/elements/bus_geo.csv
+-rw-rw-rw-  2.0 fat      511 b- defN 22-Mar-23 19:58 pandapower-2.9.0/doc/elements/bus_par.csv
+-rw-rw-rw-  2.0 fat      221 b- defN 22-Mar-23 19:58 pandapower-2.9.0/doc/elements/bus_res.csv
+-rw-rw-rw-  2.0 fat      796 b- defN 22-Mar-23 19:58 pandapower-2.9.0/doc/elements/bus_res_3ph.csv
+-rw-rw-rw-  2.0 fat      924 b- defN 22-Mar-23 19:58 pandapower-2.9.0/doc/elements/dcline_par.csv
+-rw-rw-rw-  2.0 fat      592 b- defN 22-Mar-23 19:58 pandapower-2.9.0/doc/elements/dcline_res.csv
+-rw-rw-rw-  2.0 fat      987 b- defN 22-Mar-23 19:58 pandapower-2.9.0/doc/elements/ext_grid_par.csv
+-rw-rw-rw-  2.0 fat      166 b- defN 22-Mar-23 19:58 pandapower-2.9.0/doc/elements/ext_grid_res.csv
+-rw-rw-rw-  2.0 fat      480 b- defN 22-Mar-23 19:58 pandapower-2.9.0/doc/elements/ext_grid_res_3ph.csv
+-rw-rw-rw-  2.0 fat     1261 b- defN 22-Mar-23 19:58 pandapower-2.9.0/doc/elements/gen_par.csv
+-rw-rw-rw-  2.0 fat      267 b- defN 22-Mar-23 19:58 pandapower-2.9.0/doc/elements/gen_res.csv
+-rw-rw-rw-  2.0 fat      718 b- defN 22-Mar-23 19:58 pandapower-2.9.0/doc/elements/impedance_par.csv
+-rw-rw-rw-  2.0 fat      557 b- defN 22-Mar-23 19:58 pandapower-2.9.0/doc/elements/impedance_res.csv
+-rw-rw-rw-  2.0 fat      121 b- defN 22-Mar-23 19:58 pandapower-2.9.0/doc/elements/line_geo.csv
+-rw-rw-rw-  2.0 fat     1541 b- defN 22-Mar-23 19:58 pandapower-2.9.0/doc/elements/line_par.csv
+-rw-rw-rw-  2.0 fat      821 b- defN 22-Mar-23 19:58 pandapower-2.9.0/doc/elements/line_res.csv
+-rw-rw-rw-  2.0 fat     1877 b- defN 22-Mar-23 19:58 pandapower-2.9.0/doc/elements/line_res_3ph.csv
+-rw-rw-rw-  2.0 fat      734 b- defN 22-Mar-23 19:58 pandapower-2.9.0/doc/elements/load_asymmetric_res.csv
+-rw-rw-rw-  2.0 fat     1118 b- defN 22-Mar-23 19:58 pandapower-2.9.0/doc/elements/load_par.csv
+-rw-rw-rw-  2.0 fat      254 b- defN 22-Mar-23 19:58 pandapower-2.9.0/doc/elements/load_res.csv
+-rw-rw-rw-  2.0 fat     1066 b- defN 22-Mar-23 19:58 pandapower-2.9.0/doc/elements/measurement_par.csv
+-rw-rw-rw-  2.0 fat     1121 b- defN 22-Mar-23 19:58 pandapower-2.9.0/doc/elements/motor_par.csv
+-rw-rw-rw-  2.0 fat      144 b- defN 22-Mar-23 19:58 pandapower-2.9.0/doc/elements/motor_res.csv
+-rw-rw-rw-  2.0 fat     1215 b- defN 22-Mar-23 19:58 pandapower-2.9.0/doc/elements/sgen_par.csv
+-rw-rw-rw-  2.0 fat      172 b- defN 22-Mar-23 19:58 pandapower-2.9.0/doc/elements/sgen_res.csv
+-rw-rw-rw-  2.0 fat      465 b- defN 22-Mar-23 19:58 pandapower-2.9.0/doc/elements/shunt_par.csv
+-rw-rw-rw-  2.0 fat      195 b- defN 22-Mar-23 19:58 pandapower-2.9.0/doc/elements/shunt_res.csv
+-rw-rw-rw-  2.0 fat     1093 b- defN 22-Mar-23 19:58 pandapower-2.9.0/doc/elements/storage_par.csv
+-rw-rw-rw-  2.0 fat      158 b- defN 22-Mar-23 19:58 pandapower-2.9.0/doc/elements/storage_res.csv
+-rw-rw-rw-  2.0 fat      702 b- defN 22-Mar-23 19:58 pandapower-2.9.0/doc/elements/switch_par.csv
+-rw-rw-rw-  2.0 fat      395 b- defN 22-Mar-23 19:58 pandapower-2.9.0/doc/elements/trafo3w_conversion.csv
+-rw-rw-rw-  2.0 fat     2113 b- defN 22-Mar-23 19:58 pandapower-2.9.0/doc/elements/trafo3w_par.csv
+-rw-rw-rw-  2.0 fat     1299 b- defN 22-Mar-23 19:58 pandapower-2.9.0/doc/elements/trafo3w_res.csv
+-rw-rw-rw-  2.0 fat      353 b- defN 22-Mar-23 19:58 pandapower-2.9.0/doc/elements/trafo3w_tap.csv
+-rw-rw-rw-  2.0 fat     2487 b- defN 22-Mar-23 19:58 pandapower-2.9.0/doc/elements/trafo_par.csv
+-rw-rw-rw-  2.0 fat      946 b- defN 22-Mar-23 19:58 pandapower-2.9.0/doc/elements/trafo_res.csv
+-rw-rw-rw-  2.0 fat     2122 b- defN 22-Mar-23 19:58 pandapower-2.9.0/doc/elements/trafo_res_3ph.csv
+-rw-rw-rw-  2.0 fat      204 b- defN 22-Mar-23 19:58 pandapower-2.9.0/doc/elements/trafo_tap.csv
+-rw-rw-rw-  2.0 fat      470 b- defN 22-Mar-23 19:58 pandapower-2.9.0/doc/elements/ward_par.csv
+-rw-rw-rw-  2.0 fat      213 b- defN 22-Mar-23 19:58 pandapower-2.9.0/doc/elements/ward_res.csv
+-rw-rw-rw-  2.0 fat      692 b- defN 22-Mar-23 19:58 pandapower-2.9.0/doc/elements/xward_par.csv
+-rw-rw-rw-  2.0 fat      213 b- defN 22-Mar-23 19:58 pandapower-2.9.0/doc/elements/xward_res.csv
+-rw-rw-rw-  2.0 fat      437 b- defN 22-Mar-23 19:58 pandapower-2.9.0/doc/networks/dickert.csv
+-rw-rw-rw-  2.0 fat      382 b- defN 22-Mar-23 19:58 pandapower-2.9.0/doc/networks/kerber.csv
+-rw-rw-rw-  2.0 fat      527 b- defN 22-Mar-23 19:58 pandapower-2.9.0/doc/networks/kerber_extreme.csv
+-rw-rw-rw-  2.0 fat      397 b- defN 22-Mar-23 19:58 pandapower-2.9.0/doc/opf/opf_constraints.csv
+-rw-rw-rw-  2.0 fat     1439 b- defN 22-Mar-23 19:58 pandapower-2.9.0/doc/opf/opf_flexibility.csv
+-rw-rw-rw-  2.0 fat     3180 b- defN 22-Mar-23 19:58 pandapower-2.9.0/doc/std_types/linetypes.csv
+-rw-rw-rw-  2.0 fat      458 b- defN 22-Mar-23 19:58 pandapower-2.9.0/doc/std_types/trafo3wtypes.csv
+-rw-rw-rw-  2.0 fat     1293 b- defN 22-Mar-23 19:58 pandapower-2.9.0/doc/std_types/trafotypes.csv
+-rw-rw-rw-  2.0 fat      294 b- defN 22-Mar-23 19:58 pandapower-2.9.0/doc/timeseries/datasource_example.csv
+drwxrwxrwx  2.0 fat        0 b- stor 22-Mar-23 20:01 pandapower-2.9.0/pandapower/control/
+drwxrwxrwx  2.0 fat        0 b- stor 22-Mar-23 20:01 pandapower-2.9.0/pandapower/converter/
+drwxrwxrwx  2.0 fat        0 b- stor 22-Mar-23 20:01 pandapower-2.9.0/pandapower/estimation/
+drwxrwxrwx  2.0 fat        0 b- stor 22-Mar-23 20:01 pandapower-2.9.0/pandapower/networks/
+drwxrwxrwx  2.0 fat        0 b- stor 22-Mar-23 20:01 pandapower-2.9.0/pandapower/opf/
+drwxrwxrwx  2.0 fat        0 b- stor 22-Mar-23 20:01 pandapower-2.9.0/pandapower/pf/
+drwxrwxrwx  2.0 fat        0 b- stor 22-Mar-23 20:01 pandapower-2.9.0/pandapower/plotting/
+drwxrwxrwx  2.0 fat        0 b- stor 22-Mar-23 20:01 pandapower-2.9.0/pandapower/pypower/
+drwxrwxrwx  2.0 fat        0 b- stor 22-Mar-23 20:01 pandapower-2.9.0/pandapower/shortcircuit/
+drwxrwxrwx  2.0 fat        0 b- stor 22-Mar-23 20:01 pandapower-2.9.0/pandapower/test/
+drwxrwxrwx  2.0 fat        0 b- stor 22-Mar-23 20:01 pandapower-2.9.0/pandapower/timeseries/
+drwxrwxrwx  2.0 fat        0 b- stor 22-Mar-23 20:01 pandapower-2.9.0/pandapower/topology/
+-rw-rw-rw-  2.0 fat    48258 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/auxiliary.py
+-rw-rw-rw-  2.0 fat    45257 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/build_branch.py
+-rw-rw-rw-  2.0 fat    25374 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/build_bus.py
+-rw-rw-rw-  2.0 fat    18416 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/build_gen.py
+-rw-rw-rw-  2.0 fat    19335 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/convert_format.py
+-rw-rw-rw-  2.0 fat   183964 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/create.py
+-rw-rw-rw-  2.0 fat    37214 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/diagnostic.py
+-rw-rw-rw-  2.0 fat    34774 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/diagnostic_reports.py
+-rw-rw-rw-  2.0 fat    14959 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/file_io.py
+-rw-rw-rw-  2.0 fat    34748 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/io_utils.py
+-rw-rw-rw-  2.0 fat     4584 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/optimal_powerflow.py
+-rw-rw-rw-  2.0 fat    13510 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/pd2ppc.py
+-rw-rw-rw-  2.0 fat    22583 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/pd2ppc_zero.py
+-rw-rw-rw-  2.0 fat     7581 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/powerflow.py
+-rw-rw-rw-  2.0 fat    10050 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/results.py
+-rw-rw-rw-  2.0 fat    27874 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/results_branch.py
+-rw-rw-rw-  2.0 fat    18645 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/results_bus.py
+-rw-rw-rw-  2.0 fat    12219 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/results_gen.py
+-rw-rw-rw-  2.0 fat    25961 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/run.py
+-rw-rw-rw-  2.0 fat    18514 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/runpm.py
+-rw-rw-rw-  2.0 fat    37076 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/std_types.py
+-rw-rw-rw-  2.0 fat   144900 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/toolbox.py
+-rw-rw-rw-  2.0 fat      658 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/__init__.py
+drwxrwxrwx  2.0 fat        0 b- stor 22-Mar-23 20:01 pandapower-2.9.0/pandapower/control/controller/
+drwxrwxrwx  2.0 fat        0 b- stor 22-Mar-23 20:01 pandapower-2.9.0/pandapower/control/util/
+-rw-rw-rw-  2.0 fat     9484 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/control/basic_controller.py
+-rw-rw-rw-  2.0 fat    12803 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/control/run_control.py
+-rw-rw-rw-  2.0 fat     1242 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/control/__init__.py
+drwxrwxrwx  2.0 fat        0 b- stor 22-Mar-23 20:01 pandapower-2.9.0/pandapower/control/controller/trafo/
+-rw-rw-rw-  2.0 fat     6001 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/control/controller/characteristic_control.py
+-rw-rw-rw-  2.0 fat     6841 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/control/controller/const_control.py
+-rw-rw-rw-  2.0 fat     8405 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/control/controller/trafo_control.py
+-rw-rw-rw-  2.0 fat        0 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/control/controller/__init__.py
+-rw-rw-rw-  2.0 fat     5656 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/control/controller/trafo/ContinuousTapControl.py
+-rw-rw-rw-  2.0 fat     6078 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/control/controller/trafo/DiscreteTapControl.py
+-rw-rw-rw-  2.0 fat     2679 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/control/controller/trafo/TapDependentImpedance.py
+-rw-rw-rw-  2.0 fat      457 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/control/controller/trafo/USetTapControl.py
+-rw-rw-rw-  2.0 fat     2044 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/control/controller/trafo/VmSetTapControl.py
+-rw-rw-rw-  2.0 fat        0 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/control/controller/trafo/__init__.py
+-rw-rw-rw-  2.0 fat    10635 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/control/util/auxiliary.py
+-rw-rw-rw-  2.0 fat     6069 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/control/util/characteristic.py
+-rw-rw-rw-  2.0 fat     6056 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/control/util/diagnostic.py
+-rw-rw-rw-  2.0 fat       27 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/control/util/__init__.py
+drwxrwxrwx  2.0 fat        0 b- stor 22-Mar-23 20:01 pandapower-2.9.0/pandapower/converter/matpower/
+drwxrwxrwx  2.0 fat        0 b- stor 22-Mar-23 20:01 pandapower-2.9.0/pandapower/converter/powerfactory/
+drwxrwxrwx  2.0 fat        0 b- stor 22-Mar-23 20:01 pandapower-2.9.0/pandapower/converter/powermodels/
+drwxrwxrwx  2.0 fat        0 b- stor 22-Mar-23 20:01 pandapower-2.9.0/pandapower/converter/pypower/
+-rw-rw-rw-  2.0 fat      139 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/converter/__init__.py
+-rw-rw-rw-  2.0 fat     3578 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/converter/matpower/from_mpc.py
+-rw-rw-rw-  2.0 fat     2296 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/converter/matpower/to_mpc.py
+-rw-rw-rw-  2.0 fat      104 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/converter/matpower/__init__.py
+-rw-rw-rw-  2.0 fat      612 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/converter/powerfactory/echo_off.py
+-rw-rw-rw-  2.0 fat     7688 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/converter/powerfactory/export_pfd_to_pp.py
+-rw-rw-rw-  2.0 fat     9437 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/converter/powerfactory/gui.py
+-rw-rw-rw-  2.0 fat     2010 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/converter/powerfactory/logger_setup.py
+-rw-rw-rw-  2.0 fat     8499 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/converter/powerfactory/main_pf.py
+-rw-rw-rw-  2.0 fat     9457 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/converter/powerfactory/pf_export_functions.py
+-rw-rw-rw-  2.0 fat   117737 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/converter/powerfactory/pp_import_functions.py
+-rw-rw-rw-  2.0 fat     1137 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/converter/powerfactory/run_import.py
+-rw-rw-rw-  2.0 fat    37095 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/converter/powerfactory/validate.py
+-rw-rw-rw-  2.0 fat      127 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/converter/powerfactory/__init__.py
+-rw-rw-rw-  2.0 fat     4727 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/converter/powermodels/from_pm.py
+-rw-rw-rw-  2.0 fat    21912 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/converter/powermodels/to_pm.py
+-rw-rw-rw-  2.0 fat       52 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/converter/powermodels/__init__.py
+-rw-rw-rw-  2.0 fat    30809 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/converter/pypower/from_ppc.py
+-rw-rw-rw-  2.0 fat     5443 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/converter/pypower/to_ppc.py
+-rw-rw-rw-  2.0 fat      104 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/converter/pypower/__init__.py
+drwxrwxrwx  2.0 fat        0 b- stor 22-Mar-23 20:01 pandapower-2.9.0/pandapower/estimation/algorithm/
+-rw-rw-rw-  2.0 fat      577 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/estimation/idx_brch.py
+-rw-rw-rw-  2.0 fat      362 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/estimation/idx_bus.py
+-rw-rw-rw-  2.0 fat    26450 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/estimation/ppc_conversion.py
+-rw-rw-rw-  2.0 fat     2321 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/estimation/results.py
+-rw-rw-rw-  2.0 fat    23772 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/estimation/state_estimation.py
+-rw-rw-rw-  2.0 fat    13964 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/estimation/util.py
+-rw-rw-rw-  2.0 fat       54 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/estimation/__init__.py
+-rw-rw-rw-  2.0 fat    10088 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/estimation/algorithm/base.py
+-rw-rw-rw-  2.0 fat     7498 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/estimation/algorithm/estimator.py
+-rw-rw-rw-  2.0 fat     5130 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/estimation/algorithm/lp.py
+-rw-rw-rw-  2.0 fat     7311 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/estimation/algorithm/matrix_base.py
+-rw-rw-rw-  2.0 fat     1392 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/estimation/algorithm/optimization.py
+-rw-rw-rw-  2.0 fat        0 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/estimation/algorithm/__init__.py
+drwxrwxrwx  2.0 fat        0 b- stor 22-Mar-23 20:01 pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/
+-rw-rw-rw-  2.0 fat    32347 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/networks/cigre_networks.py
+-rw-rw-rw-  2.0 fat    18642 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/networks/create_examples.py
+-rw-rw-rw-  2.0 fat    13193 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/networks/dickert_lv_networks.py
+-rw-rw-rw-  2.0 fat  1367921 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/networks/IEEE_European_LV_Off_Peak_1.json
+-rw-rw-rw-  2.0 fat  1529327 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/networks/IEEE_European_LV_Off_Peak_1440.json
+-rw-rw-rw-  2.0 fat  1527795 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/networks/IEEE_European_LV_On_Peak_566.json
+-rw-rw-rw-  2.0 fat     1988 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/networks/ieee_europen_lv_asymmetric.py
+-rw-rw-rw-  2.0 fat    10396 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/networks/kerber_extreme_networks.py
+-rw-rw-rw-  2.0 fat    16190 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/networks/kerber_networks.py
+-rw-rw-rw-  2.0 fat   232647 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/networks/mv_oberrhein.json
+-rw-rw-rw-  2.0 fat     3897 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/networks/mv_oberrhein.py
+-rw-rw-rw-  2.0 fat   229287 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/networks/mv_oberrhein_substations.json
+-rw-rw-rw-  2.0 fat    29740 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/networks/power_system_test_cases.py
+-rw-rw-rw-  2.0 fat     8958 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/networks/simple_pandapower_test_networks.py
+-rw-rw-rw-  2.0 fat    18672 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/networks/synthetic_voltage_control_lv_networks.py
+-rw-rw-rw-  2.0 fat      577 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/networks/__init__.py
+-rw-rw-rw-  2.0 fat   102240 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/case118.json
+-rw-rw-rw-  2.0 fat    59379 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/case11_iwamoto.json
+-rw-rw-rw-  2.0 fat   507700 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/case1354pegase.json
+-rw-rw-rw-  2.0 fat    63019 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/case14.json
+-rw-rw-rw-  2.0 fat   131209 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/case145.json
+-rw-rw-rw-  2.0 fat   649115 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/case1888rte.json
+-rw-rw-rw-  2.0 fat    70401 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/case24_ieee_rts.json
+-rw-rw-rw-  2.0 fat   944214 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/case2848rte.json
+-rw-rw-rw-  2.0 fat  1055258 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/case2869pegase.json
+-rw-rw-rw-  2.0 fat    66731 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/case30.json
+-rw-rw-rw-  2.0 fat   154870 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/case300.json
+-rw-rw-rw-  2.0 fat   954655 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/case3120sp.json
+-rw-rw-rw-  2.0 fat    65279 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/case33bw.json
+-rw-rw-rw-  2.0 fat    69198 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/case39.json
+-rw-rw-rw-  2.0 fat    59459 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/case4gs.json
+-rw-rw-rw-  2.0 fat    60334 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/case5.json
+-rw-rw-rw-  2.0 fat    75168 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/case57.json
+-rw-rw-rw-  2.0 fat    51800 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/case5_demo_gridcal.json
+-rw-rw-rw-  2.0 fat  2096858 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/case6470rte.json
+-rw-rw-rw-  2.0 fat  2133729 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/case6495rte.json
+-rw-rw-rw-  2.0 fat  2163491 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/case6515rte.json
+-rw-rw-rw-  2.0 fat    60640 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/case6ww.json
+-rw-rw-rw-  2.0 fat    94290 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/case89pegase.json
+-rw-rw-rw-  2.0 fat    60451 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/case9.json
+-rw-rw-rw-  2.0 fat  3449497 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/case9241pegase.json
+-rw-rw-rw-  2.0 fat    66833 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/case_ieee30.json
+-rw-rw-rw-  2.0 fat   120324 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/case_illinois200.json
+-rw-rw-rw-  2.0 fat   738552 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/GBnetwork.json
+-rw-rw-rw-  2.0 fat    75391 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/GBreducednetwork.json
+-rw-rw-rw-  2.0 fat    98255 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/iceland.json
+-rw-rw-rw-  2.0 fat     6075 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/opf/make_objective.py
+-rw-rw-rw-  2.0 fat     4202 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/opf/pm_storage.py
+-rw-rw-rw-  2.0 fat     3437 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/opf/run_powermodels.py
+-rw-rw-rw-  2.0 fat     4272 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/opf/validate_opf_input.py
+-rw-rw-rw-  2.0 fat        0 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/opf/__init__.py
+-rw-rw-rw-  2.0 fat     3758 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/pf/create_jacobian.py
+-rw-rw-rw-  2.0 fat    12947 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/pf/create_jacobian_numba.py
+-rw-rw-rw-  2.0 fat     3007 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/pf/dSbus_dV_numba.py
+-rw-rw-rw-  2.0 fat     1273 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/pf/iwamoto_multiplier.py
+-rw-rw-rw-  2.0 fat     6548 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/pf/makeYbus_numba.py
+-rw-rw-rw-  2.0 fat      456 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/pf/no_numba.py
+-rw-rw-rw-  2.0 fat     5425 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/pf/pfsoln_numba.py
+-rw-rw-rw-  2.0 fat     1521 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/pf/ppci_variables.py
+-rw-rw-rw-  2.0 fat     9384 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/pf/runpf_pypower.py
+-rw-rw-rw-  2.0 fat    30252 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/pf/runpp_3ph.py
+-rw-rw-rw-  2.0 fat    19888 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/pf/run_bfswpf.py
+-rw-rw-rw-  2.0 fat     2260 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/pf/run_dc_pf.py
+-rw-rw-rw-  2.0 fat    10631 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/pf/run_newton_raphson_pf.py
+-rw-rw-rw-  2.0 fat        0 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/pf/__init__.py
+drwxrwxrwx  2.0 fat        0 b- stor 22-Mar-23 20:01 pandapower-2.9.0/pandapower/plotting/plotly/
+-rw-rw-rw-  2.0 fat    54943 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/plotting/collections.py
+-rw-rw-rw-  2.0 fat     5339 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/plotting/colormaps.py
+-rw-rw-rw-  2.0 fat     9375 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/plotting/generic_geodata.py
+-rw-rw-rw-  2.0 fat     6271 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/plotting/geo.py
+-rw-rw-rw-  2.0 fat    19759 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/plotting/patch_makers.py
+-rw-rw-rw-  2.0 fat    13466 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/plotting/plotting_toolbox.py
+-rw-rw-rw-  2.0 fat     7612 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/plotting/powerflow_results.py
+-rw-rw-rw-  2.0 fat     8985 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/plotting/simple_plot.py
+-rw-rw-rw-  2.0 fat     9169 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/plotting/to_html.py
+-rw-rw-rw-  2.0 fat      855 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/plotting/__init__.py
+-rw-rw-rw-  2.0 fat     3267 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/plotting/plotly/get_colors.py
+-rw-rw-rw-  2.0 fat     4274 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/plotting/plotly/mapbox_plot.py
+-rw-rw-rw-  2.0 fat     9075 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/plotting/plotly/pf_res_plotly.py
+-rw-rw-rw-  2.0 fat    12895 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/plotting/plotly/simple_plotly.py
+-rw-rw-rw-  2.0 fat    42020 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/plotting/plotly/traces.py
+-rw-rw-rw-  2.0 fat    10078 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/plotting/plotly/vlevel_plotly.py
+-rw-rw-rw-  2.0 fat      324 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/plotting/plotly/__init__.py
+-rw-rw-rw-  2.0 fat     4871 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/pypower/add_userfcn.py
+-rw-rw-rw-  2.0 fat     1862 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/pypower/bustypes.py
+-rw-rw-rw-  2.0 fat     1857 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/pypower/d2AIbr_dV2.py
+-rw-rw-rw-  2.0 fat     1901 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/pypower/d2ASbr_dV2.py
+-rw-rw-rw-  2.0 fat     1450 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/pypower/d2Ibr_dV2.py
+-rw-rw-rw-  2.0 fat     1747 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/pypower/d2Sbr_dV2.py
+-rw-rw-rw-  2.0 fat     1717 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/pypower/d2Sbus_dV2.py
+-rw-rw-rw-  2.0 fat     2776 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/pypower/dAbr_dV.py
+-rw-rw-rw-  2.0 fat    12169 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/pypower/dcopf_solver.py
+-rw-rw-rw-  2.0 fat     1607 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/pypower/dcpf.py
+-rw-rw-rw-  2.0 fat     2072 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/pypower/dIbr_dV.py
+-rw-rw-rw-  2.0 fat     5302 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/pypower/dSbr_dV.py
+-rw-rw-rw-  2.0 fat     1525 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/pypower/dSbus_dV.py
+-rw-rw-rw-  2.0 fat     4739 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/pypower/fdpf.py
+-rw-rw-rw-  2.0 fat     3850 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/pypower/gausspf.py
+-rw-rw-rw-  2.0 fat     2756 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/pypower/hasPQcap.py
+-rw-rw-rw-  2.0 fat      617 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/pypower/idx_area.py
+-rw-rw-rw-  2.0 fat     4273 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/pypower/idx_brch.py
+-rw-rw-rw-  2.0 fat     3497 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/pypower/idx_bus.py
+-rw-rw-rw-  2.0 fat     1827 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/pypower/idx_cost.py
+-rw-rw-rw-  2.0 fat     4577 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/pypower/idx_gen.py
+-rw-rw-rw-  2.0 fat      725 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/pypower/isload.py
+-rw-rw-rw-  2.0 fat     2122 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/pypower/makeAang.py
+-rw-rw-rw-  2.0 fat     3669 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/pypower/makeApq.py
+-rw-rw-rw-  2.0 fat     3381 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/pypower/makeAvl.py
+-rw-rw-rw-  2.0 fat     4065 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/pypower/makeAy.py
+-rw-rw-rw-  2.0 fat     1983 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/pypower/makeB.py
+-rw-rw-rw-  2.0 fat     3692 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/pypower/makeBdc.py
+-rw-rw-rw-  2.0 fat     1900 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/pypower/makeLODF.py
+-rw-rw-rw-  2.0 fat     3656 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/pypower/makePTDF.py
+-rw-rw-rw-  2.0 fat     2004 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/pypower/makeSbus.py
+-rw-rw-rw-  2.0 fat     4058 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/pypower/makeYbus.py
+-rw-rw-rw-  2.0 fat     6364 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/pypower/newtonpf.py
+-rw-rw-rw-  2.0 fat     9589 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/pypower/opf.py
+-rw-rw-rw-  2.0 fat     7669 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/pypower/opf_args.py
+-rw-rw-rw-  2.0 fat     7407 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/pypower/opf_consfcn.py
+-rw-rw-rw-  2.0 fat     4387 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/pypower/opf_costfcn.py
+-rw-rw-rw-  2.0 fat     8466 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/pypower/opf_execute.py
+-rw-rw-rw-  2.0 fat    10703 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/pypower/opf_hessfcn.py
+-rw-rw-rw-  2.0 fat    22379 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/pypower/opf_model.py
+-rw-rw-rw-  2.0 fat    10830 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/pypower/opf_setup.py
+-rw-rw-rw-  2.0 fat     5939 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/pypower/pfsoln.py
+-rw-rw-rw-  2.0 fat    22338 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/pypower/pips.py
+-rw-rw-rw-  2.0 fat     9047 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/pypower/pipsopf_solver.py
+-rw-rw-rw-  2.0 fat      467 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/pypower/pipsver.py
+-rw-rw-rw-  2.0 fat     1956 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/pypower/polycost.py
+-rw-rw-rw-  2.0 fat     6535 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/pypower/ppoption.py
+-rw-rw-rw-  2.0 fat      479 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/pypower/ppver.py
+-rw-rw-rw-  2.0 fat     1247 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/pypower/pqcost.py
+-rw-rw-rw-  2.0 fat    40469 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/pypower/printpf.py
+-rw-rw-rw-  2.0 fat     7423 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/pypower/qps_pips.py
+-rw-rw-rw-  2.0 fat     6895 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/pypower/qps_pypower.py
+-rw-rw-rw-  2.0 fat     1732 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/pypower/run_userfcn.py
+-rw-rw-rw-  2.0 fat     1920 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/pypower/totcost.py
+-rw-rw-rw-  2.0 fat     1924 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/pypower/update_mupq.py
+-rw-rw-rw-  2.0 fat      803 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/pypower/util.py
+-rw-rw-rw-  2.0 fat      112 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/pypower/_compat.py
+-rw-rw-rw-  2.0 fat      235 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/pypower/__init__.py
+-rw-rw-rw-  2.0 fat     9254 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/shortcircuit/calc_sc.py
+-rw-rw-rw-  2.0 fat    12767 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/shortcircuit/currents.py
+-rw-rw-rw-  2.0 fat      560 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/shortcircuit/idx_brch.py
+-rw-rw-rw-  2.0 fat      858 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/shortcircuit/idx_bus.py
+-rw-rw-rw-  2.0 fat     2876 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/shortcircuit/impedance.py
+-rw-rw-rw-  2.0 fat     4991 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/shortcircuit/kappa.py
+-rw-rw-rw-  2.0 fat    10240 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/shortcircuit/ppc_conversion.py
+-rw-rw-rw-  2.0 fat     8529 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/shortcircuit/results.py
+-rw-rw-rw-  2.0 fat     6643 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/shortcircuit/toolbox.py
+-rw-rw-rw-  2.0 fat       98 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/shortcircuit/__init__.py
+drwxrwxrwx  2.0 fat        0 b- stor 22-Mar-23 20:01 pandapower-2.9.0/pandapower/test/api/
+drwxrwxrwx  2.0 fat        0 b- stor 22-Mar-23 20:01 pandapower-2.9.0/pandapower/test/control/
+drwxrwxrwx  2.0 fat        0 b- stor 22-Mar-23 20:01 pandapower-2.9.0/pandapower/test/converter/
+drwxrwxrwx  2.0 fat        0 b- stor 22-Mar-23 20:01 pandapower-2.9.0/pandapower/test/estimation/
+drwxrwxrwx  2.0 fat        0 b- stor 22-Mar-23 20:01 pandapower-2.9.0/pandapower/test/loadflow/
+drwxrwxrwx  2.0 fat        0 b- stor 22-Mar-23 20:01 pandapower-2.9.0/pandapower/test/networks/
+drwxrwxrwx  2.0 fat        0 b- stor 22-Mar-23 20:01 pandapower-2.9.0/pandapower/test/opf/
+drwxrwxrwx  2.0 fat        0 b- stor 22-Mar-23 20:01 pandapower-2.9.0/pandapower/test/shortcircuit/
+drwxrwxrwx  2.0 fat        0 b- stor 22-Mar-23 20:01 pandapower-2.9.0/pandapower/test/test_files/
+drwxrwxrwx  2.0 fat        0 b- stor 22-Mar-23 20:01 pandapower-2.9.0/pandapower/test/timeseries/
+-rw-rw-rw-  2.0 fat     1666 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/conftest.py
+-rw-rw-rw-  2.0 fat    10565 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/consistency_checks.py
+-rw-rw-rw-  2.0 fat     4412 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/run_tests.py
+-rw-rw-rw-  2.0 fat     3794 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/toolbox.py
+-rw-rw-rw-  2.0 fat      122 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/__init__.py
+-rw-rw-rw-  2.0 fat    14417 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/api/old_net.p
+-rw-rw-rw-  2.0 fat    11377 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/api/test_auxiliary.py
+-rw-rw-rw-  2.0 fat     2305 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/api/test_convert_format.py
+-rw-rw-rw-  2.0 fat    42845 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/api/test_create.py
+-rw-rw-rw-  2.0 fat    43723 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/api/test_diagnostic.py
+-rw-rw-rw-  2.0 fat    14911 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/api/test_file_io.py
+-rw-rw-rw-  2.0 fat    13420 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/api/test_std_types.py
+-rw-rw-rw-  2.0 fat    61625 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/api/test_toolbox.py
+-rw-rw-rw-  2.0 fat        0 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/api/__init__.py
+-rw-rw-rw-  2.0 fat     1655 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/control/test_const_control.py
+-rw-rw-rw-  2.0 fat     8225 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/control/test_continuous_tap_control.py
+-rw-rw-rw-  2.0 fat     7481 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/control/test_control.py
+-rw-rw-rw-  2.0 fat    13791 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/control/test_discrete_tap_control.py
+-rw-rw-rw-  2.0 fat     3308 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/control/test_tap_dependent_impedance.py
+-rw-rw-rw-  2.0 fat     3963 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/control/test_vm_set_tap_control.py
+-rw-rw-rw-  2.0 fat        0 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/control/__init__.py
+-rw-rw-rw-  2.0 fat     1971 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/converter/case24_ieee_rts.mat
+-rw-rw-rw-  2.0 fat    42633 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/converter/case2_2_by_code.json
+-rw-rw-rw-  2.0 fat    84012 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/converter/ppc_testgrids.p
+-rw-rw-rw-  2.0 fat   577517 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/converter/pypower_cases.p
+-rw-rw-rw-  2.0 fat     1015 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/converter/test_from_mpc.py
+-rw-rw-rw-  2.0 fat     3158 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/converter/test_from_powerfactory.py
+-rw-rw-rw-  2.0 fat     4670 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/converter/test_from_ppc.py
+-rw-rw-rw-  2.0 fat     2401 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/converter/test_to_ppc_and_mpc.py
+-rw-rw-rw-  2.0 fat        0 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/converter/__init__.py
+-rw-rw-rw-  2.0 fat    35351 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/estimation/3bus_wls.json
+-rw-rw-rw-  2.0 fat     1067 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/estimation/test_conditions.py
+-rw-rw-rw-  2.0 fat     2252 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/estimation/test_irwls_estimation.py
+-rw-rw-rw-  2.0 fat     5965 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/estimation/test_opt_lp_estimation.py
+-rw-rw-rw-  2.0 fat     1765 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/estimation/test_pmu.py
+-rw-rw-rw-  2.0 fat     1167 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/estimation/test_recycle.py
+-rw-rw-rw-  2.0 fat    48727 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/estimation/test_wls_estimation.py
+-rw-rw-rw-  2.0 fat        0 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/estimation/__init__.py
+-rw-rw-rw-  2.0 fat     5146 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/loadflow/PF_Results.py
+-rw-rw-rw-  2.0 fat    19002 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/loadflow/result_test_network_generator.py
+-rw-rw-rw-  2.0 fat    77389 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/loadflow/runpp_3ph Validation.json
+-rw-rw-rw-  2.0 fat    23166 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/loadflow/testgrid.p
+-rw-rw-rw-  2.0 fat    18914 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/loadflow/test_dist_slack.py
+-rw-rw-rw-  2.0 fat     2230 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/loadflow/test_PTDF_LODF.py
+-rw-rw-rw-  2.0 fat     5138 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/loadflow/test_recycle.py
+-rw-rw-rw-  2.0 fat    26844 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/loadflow/test_results.py
+-rw-rw-rw-  2.0 fat     4144 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/loadflow/test_rundcpp.py
+-rw-rw-rw-  2.0 fat    55252 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/loadflow/test_runpp.py
+-rw-rw-rw-  2.0 fat    26630 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/loadflow/test_runpp_3ph.py
+-rw-rw-rw-  2.0 fat     2483 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/loadflow/test_runpp_3ph_n_line.py
+-rw-rw-rw-  2.0 fat    23261 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/loadflow/test_scenarios.py
+-rw-rw-rw-  2.0 fat        0 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/loadflow/__init__.py
+-rw-rw-rw-  2.0 fat     3049 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/networks/test_cigre_networks.py
+-rw-rw-rw-  2.0 fat     1393 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/networks/test_create_example.py
+-rw-rw-rw-  2.0 fat     1733 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/networks/test_dickert_lv_networks.py
+-rw-rw-rw-  2.0 fat     5247 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/networks/test_kerber_extreme_networks.py
+-rw-rw-rw-  2.0 fat     6231 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/networks/test_kerber_networks.py
+-rw-rw-rw-  2.0 fat     1914 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/networks/test_mv_oberrhein.py
+-rw-rw-rw-  2.0 fat     5512 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/networks/test_power_system_test_cases.py
+-rw-rw-rw-  2.0 fat     1598 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/networks/test_simple_pandapower_test_networks.py
+-rw-rw-rw-  2.0 fat     2204 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/networks/test_synthetic_voltage_control_lv_networks.py
+-rw-rw-rw-  2.0 fat        0 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/networks/__init__.py
+-rw-rw-rw-  2.0 fat     4956 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/opf/case5_clm_matfile.json
+-rw-rw-rw-  2.0 fat     4490 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/opf/case5_clm_pp.json
+-rw-rw-rw-  2.0 fat    39747 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/opf/test_basic.py
+-rw-rw-rw-  2.0 fat     3314 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/opf/test_check_opf_data.py
+-rw-rw-rw-  2.0 fat     4742 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/opf/test_costs_mixed.py
+-rw-rw-rw-  2.0 fat     4671 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/opf/test_costs_pol.py
+-rw-rw-rw-  2.0 fat     9352 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/opf/test_costs_pwl.py
+-rw-rw-rw-  2.0 fat     1790 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/opf/test_costs_pwl_q.py
+-rw-rw-rw-  2.0 fat     5722 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/opf/test_cost_consistency.py
+-rw-rw-rw-  2.0 fat     2633 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/opf/test_curtailment.py
+-rw-rw-rw-  2.0 fat     6011 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/opf/test_dcline.py
+-rw-rw-rw-  2.0 fat     1125 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/opf/test_oberrhein.py
+-rw-rw-rw-  2.0 fat     2812 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/opf/test_opf_cigre.py
+-rw-rw-rw-  2.0 fat     3035 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/opf/test_pandamodels_installation.py
+-rw-rw-rw-  2.0 fat    24922 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/opf/test_powermodels.py
+-rw-rw-rw-  2.0 fat     6717 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/opf/test_pp_vs_pm.py
+-rw-rw-rw-  2.0 fat     6952 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/opf/test_TNEP.py
+-rw-rw-rw-  2.0 fat        0 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/opf/__init__.py
+-rw-rw-rw-  2.0 fat    42990 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/shortcircuit/sc_test_meshed_grid.json
+-rw-rw-rw-  2.0 fat    14859 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/shortcircuit/test_1ph.py
+-rw-rw-rw-  2.0 fat    12151 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/shortcircuit/test_all_currents.py
+-rw-rw-rw-  2.0 fat     8911 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/shortcircuit/test_gen.py
+-rw-rw-rw-  2.0 fat    18153 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/shortcircuit/test_iec60909_4.py
+-rw-rw-rw-  2.0 fat     1606 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/shortcircuit/test_impedance.py
+-rw-rw-rw-  2.0 fat     4057 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/shortcircuit/test_meshing_detection.py
+-rw-rw-rw-  2.0 fat     1208 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/shortcircuit/test_min_branch_results.py
+-rw-rw-rw-  2.0 fat     3327 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/shortcircuit/test_motor.py
+-rw-rw-rw-  2.0 fat     2692 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/shortcircuit/test_ring.py
+-rw-rw-rw-  2.0 fat     4529 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/shortcircuit/test_sc_multi_bus.py
+-rw-rw-rw-  2.0 fat     3832 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/shortcircuit/test_sc_single_bus.py
+-rw-rw-rw-  2.0 fat     9474 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/shortcircuit/test_sgen.py
+-rw-rw-rw-  2.0 fat     2125 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/shortcircuit/test_trafo3w.py
+-rw-rw-rw-  2.0 fat     4884 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/shortcircuit/test_transformer.py
+-rw-rw-rw-  2.0 fat        0 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/shortcircuit/__init__.py
+drwxrwxrwx  2.0 fat        0 b- stor 22-Mar-23 20:01 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/
+drwxrwxrwx  2.0 fat        0 b- stor 22-Mar-23 20:01 pandapower-2.9.0/pandapower/test/test_files/old_versions/
+-rw-rw-rw-  2.0 fat    56275 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/controller_containing_NoneNan.json
+-rw-rw-rw-  2.0 fat    58506 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/IEC60909-4_example.json
+-rw-rw-rw-  2.0 fat      726 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/pm_example_res.json
+-rw-rw-rw-  2.0 fat      431 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/run_powermodels_custom.jl
+drwxrwxrwx  2.0 fat        0 b- stor 22-Mar-23 20:01 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/
+-rw-rw-rw-  2.0 fat    23758 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Buscoords.csv
+-rw-rw-rw-  2.0 fat      499 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/LineCodes.csv
+-rw-rw-rw-  2.0 fat    33232 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Lines.csv
+-rw-rw-rw-  2.0 fat     2457 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Loads.csv
+-rw-rw-rw-  2.0 fat     2347 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/LoadShapes.csv
+-rw-rw-rw-  2.0 fat       78 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Source.csv
+-rw-rw-rw-  2.0 fat      201 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Transformer.csv
+-rw-rw-rw-  2.0 fat    22894 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_1.csv
+-rw-rw-rw-  2.0 fat    23024 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_10.csv
+-rw-rw-rw-  2.0 fat    22982 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_100.csv
+-rw-rw-rw-  2.0 fat    23022 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_11.csv
+-rw-rw-rw-  2.0 fat    23028 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_12.csv
+-rw-rw-rw-  2.0 fat    22994 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_13.csv
+-rw-rw-rw-  2.0 fat    22778 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_14.csv
+-rw-rw-rw-  2.0 fat    23051 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_15.csv
+-rw-rw-rw-  2.0 fat    22835 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_16.csv
+-rw-rw-rw-  2.0 fat    22942 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_17.csv
+-rw-rw-rw-  2.0 fat    22647 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_18.csv
+-rw-rw-rw-  2.0 fat    22864 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_19.csv
+-rw-rw-rw-  2.0 fat    22972 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_2.csv
+-rw-rw-rw-  2.0 fat    22945 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_20.csv
+-rw-rw-rw-  2.0 fat    22723 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_21.csv
+-rw-rw-rw-  2.0 fat    22898 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_22.csv
+-rw-rw-rw-  2.0 fat    23032 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_23.csv
+-rw-rw-rw-  2.0 fat    22997 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_24.csv
+-rw-rw-rw-  2.0 fat    22270 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_25.csv
+-rw-rw-rw-  2.0 fat    23032 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_26.csv
+-rw-rw-rw-  2.0 fat    22984 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_27.csv
+-rw-rw-rw-  2.0 fat    23039 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_28.csv
+-rw-rw-rw-  2.0 fat    22909 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_29.csv
+-rw-rw-rw-  2.0 fat    23034 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_3.csv
+-rw-rw-rw-  2.0 fat    22990 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_30.csv
+-rw-rw-rw-  2.0 fat    22910 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_31.csv
+-rw-rw-rw-  2.0 fat    22958 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_32.csv
+-rw-rw-rw-  2.0 fat    22885 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_33.csv
+-rw-rw-rw-  2.0 fat    23011 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_34.csv
+-rw-rw-rw-  2.0 fat    23009 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_35.csv
+-rw-rw-rw-  2.0 fat    23045 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_36.csv
+-rw-rw-rw-  2.0 fat    22929 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_37.csv
+-rw-rw-rw-  2.0 fat    22954 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_38.csv
+-rw-rw-rw-  2.0 fat    22948 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_39.csv
+-rw-rw-rw-  2.0 fat    22975 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_4.csv
+-rw-rw-rw-  2.0 fat    23015 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_40.csv
+-rw-rw-rw-  2.0 fat    23002 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_41.csv
+-rw-rw-rw-  2.0 fat    22841 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_42.csv
+-rw-rw-rw-  2.0 fat    21967 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_43.csv
+-rw-rw-rw-  2.0 fat    22963 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_44.csv
+-rw-rw-rw-  2.0 fat    22978 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_45.csv
+-rw-rw-rw-  2.0 fat    22996 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_46.csv
+-rw-rw-rw-  2.0 fat    23019 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_47.csv
+-rw-rw-rw-  2.0 fat    22945 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_48.csv
+-rw-rw-rw-  2.0 fat    22970 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_49.csv
+-rw-rw-rw-  2.0 fat    22956 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_5.csv
+-rw-rw-rw-  2.0 fat    22825 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_50.csv
+-rw-rw-rw-  2.0 fat    23006 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_51.csv
+-rw-rw-rw-  2.0 fat    23014 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_52.csv
+-rw-rw-rw-  2.0 fat    22920 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_53.csv
+-rw-rw-rw-  2.0 fat    22999 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_54.csv
+-rw-rw-rw-  2.0 fat    22869 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_55.csv
+-rw-rw-rw-  2.0 fat    22377 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_56.csv
+-rw-rw-rw-  2.0 fat    23047 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_57.csv
+-rw-rw-rw-  2.0 fat    22061 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_58.csv
+-rw-rw-rw-  2.0 fat    22979 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_59.csv
+-rw-rw-rw-  2.0 fat    23030 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_6.csv
+-rw-rw-rw-  2.0 fat    23023 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_60.csv
+-rw-rw-rw-  2.0 fat    22984 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_61.csv
+-rw-rw-rw-  2.0 fat    22994 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_62.csv
+-rw-rw-rw-  2.0 fat    22644 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_63.csv
+-rw-rw-rw-  2.0 fat    22981 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_64.csv
+-rw-rw-rw-  2.0 fat    23016 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_65.csv
+-rw-rw-rw-  2.0 fat    23008 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_66.csv
+-rw-rw-rw-  2.0 fat    22560 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_67.csv
+-rw-rw-rw-  2.0 fat    22867 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_68.csv
+-rw-rw-rw-  2.0 fat    22890 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_69.csv
+-rw-rw-rw-  2.0 fat    23019 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_7.csv
+-rw-rw-rw-  2.0 fat    22972 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_70.csv
+-rw-rw-rw-  2.0 fat    23002 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_71.csv
+-rw-rw-rw-  2.0 fat    22853 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_72.csv
+-rw-rw-rw-  2.0 fat    22939 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_73.csv
+-rw-rw-rw-  2.0 fat    22995 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_74.csv
+-rw-rw-rw-  2.0 fat    22949 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_75.csv
+-rw-rw-rw-  2.0 fat    22987 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_76.csv
+-rw-rw-rw-  2.0 fat    22955 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_77.csv
+-rw-rw-rw-  2.0 fat    22928 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_78.csv
+-rw-rw-rw-  2.0 fat    23036 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_79.csv
+-rw-rw-rw-  2.0 fat    22941 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_8.csv
+-rw-rw-rw-  2.0 fat    22981 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_80.csv
+-rw-rw-rw-  2.0 fat    22296 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_81.csv
+-rw-rw-rw-  2.0 fat    22994 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_82.csv
+-rw-rw-rw-  2.0 fat    23005 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_83.csv
+-rw-rw-rw-  2.0 fat    23012 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_84.csv
+-rw-rw-rw-  2.0 fat    23006 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_85.csv
+-rw-rw-rw-  2.0 fat    23003 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_86.csv
+-rw-rw-rw-  2.0 fat    23019 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_87.csv
+-rw-rw-rw-  2.0 fat    22945 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_88.csv
+-rw-rw-rw-  2.0 fat    22856 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_89.csv
+-rw-rw-rw-  2.0 fat    22953 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_9.csv
+-rw-rw-rw-  2.0 fat    22863 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_90.csv
+-rw-rw-rw-  2.0 fat    23036 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_91.csv
+-rw-rw-rw-  2.0 fat    22357 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_92.csv
+-rw-rw-rw-  2.0 fat    22991 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_93.csv
+-rw-rw-rw-  2.0 fat    23038 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_94.csv
+-rw-rw-rw-  2.0 fat    22970 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_95.csv
+-rw-rw-rw-  2.0 fat    22969 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_96.csv
+-rw-rw-rw-  2.0 fat    22994 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_97.csv
+-rw-rw-rw-  2.0 fat    22943 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_98.csv
+-rw-rw-rw-  2.0 fat    22987 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_99.csv
+-rw-rw-rw-  2.0 fat    38316 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/old_versions/example_1.2.0.json
+-rw-rw-rw-  2.0 fat    38316 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/old_versions/example_1.2.2.json
+-rw-rw-rw-  2.0 fat    38836 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/old_versions/example_1.3.0.json
+-rw-rw-rw-  2.0 fat    38836 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/old_versions/example_1.3.1.json
+-rw-rw-rw-  2.0 fat    60194 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/old_versions/example_1.4.0.json
+-rw-rw-rw-  2.0 fat    60194 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/old_versions/example_1.4.1.json
+-rw-rw-rw-  2.0 fat    63271 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/old_versions/example_1.4.2.json
+-rw-rw-rw-  2.0 fat    63271 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/old_versions/example_1.4.3.json
+-rw-rw-rw-  2.0 fat    69338 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/old_versions/example_1.5.0.json
+-rw-rw-rw-  2.0 fat    69347 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/old_versions/example_1.5.1.json
+-rw-rw-rw-  2.0 fat    62031 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/old_versions/example_1.6.0.json
+-rw-rw-rw-  2.0 fat    69549 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/old_versions/example_1.6.1.json
+-rw-rw-rw-  2.0 fat    71082 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/old_versions/example_2.0.0.json
+-rw-rw-rw-  2.0 fat    71487 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/old_versions/example_2.0.1.json
+-rw-rw-rw-  2.0 fat    67841 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/old_versions/example_2.1.0.json
+-rw-rw-rw-  2.0 fat    67497 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/old_versions/example_2.2.0.json
+-rw-rw-rw-  2.0 fat    80278 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/old_versions/example_2.3.0.json
+-rw-rw-rw-  2.0 fat    58123 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/old_versions/example_2.3.1.json
+-rw-rw-rw-  2.0 fat    81448 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/old_versions/example_2.4.0.json
+-rw-rw-rw-  2.0 fat    81809 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/old_versions/example_2.5.0.json
+-rw-rw-rw-  2.0 fat    81928 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/old_versions/example_2.6.0.json
+-rw-rw-rw-  2.0 fat    83210 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/old_versions/example_2.7.0.json
+-rw-rw-rw-  2.0 fat    84404 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/old_versions/example_2.8.0.json
+-rw-rw-rw-  2.0 fat    84570 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/test_files/old_versions/example_2.9.0.json
+drwxrwxrwx  2.0 fat        0 b- stor 22-Mar-23 20:01 pandapower-2.9.0/pandapower/test/timeseries/test_files/
+-rw-rw-rw-  2.0 fat     1290 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/timeseries/test_data_source.py
+-rw-rw-rw-  2.0 fat    13847 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/timeseries/test_output_writer.py
+-rw-rw-rw-  2.0 fat    13517 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/timeseries/test_timeseries.py
+-rw-rw-rw-  2.0 fat    10920 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/timeseries/test_timeseries_recycle.py
+-rw-rw-rw-  2.0 fat        0 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/timeseries/__init__.py
+-rw-rw-rw-  2.0 fat      633 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/test/timeseries/test_files/small_profile.csv
+drwxrwxrwx  2.0 fat        0 b- stor 22-Mar-23 20:01 pandapower-2.9.0/pandapower/timeseries/data_sources/
+-rw-rw-rw-  2.0 fat     1108 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/timeseries/data_source.py
+-rw-rw-rw-  2.0 fat    29119 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/timeseries/output_writer.py
+-rw-rw-rw-  2.0 fat     5659 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/timeseries/read_batch_results.py
+-rw-rw-rw-  2.0 fat    14760 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/timeseries/run_time_series.py
+-rw-rw-rw-  2.0 fat     9880 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/timeseries/ts_runpp.py
+-rw-rw-rw-  2.0 fat      192 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/timeseries/__init__.py
+-rw-rw-rw-  2.0 fat     1815 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/timeseries/data_sources/frame_data.py
+-rw-rw-rw-  2.0 fat       27 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/timeseries/data_sources/__init__.py
+-rw-rw-rw-  2.0 fat    14988 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/topology/create_graph.py
+-rw-rw-rw-  2.0 fat    17806 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/topology/graph_searches.py
+-rw-rw-rw-  2.0 fat     2622 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/topology/graph_tool_interface.py
+-rw-rw-rw-  2.0 fat       96 b- defN 22-Mar-23 19:58 pandapower-2.9.0/pandapower/topology/__init__.py
+-rw-rw-rw-  2.0 fat        1 b- defN 22-Mar-23 20:01 pandapower-2.9.0/pandapower.egg-info/dependency_links.txt
+-rw-rw-rw-  2.0 fat    34742 b- defN 22-Mar-23 20:01 pandapower-2.9.0/pandapower.egg-info/PKG-INFO
+-rw-rw-rw-  2.0 fat      402 b- defN 22-Mar-23 20:01 pandapower-2.9.0/pandapower.egg-info/requires.txt
+-rw-rw-rw-  2.0 fat    25852 b- defN 22-Mar-23 20:01 pandapower-2.9.0/pandapower.egg-info/SOURCES.txt
+-rw-rw-rw-  2.0 fat       11 b- defN 22-Mar-23 20:01 pandapower-2.9.0/pandapower.egg-info/top_level.txt
+drwxrwxrwx  2.0 fat        0 b- stor 22-Mar-23 20:01 pandapower-2.9.0/tutorials/example_advanced/
+-rw-rw-rw-  2.0 fat     5461 b- defN 22-Mar-23 19:58 pandapower-2.9.0/tutorials/cigre_timeseries_15min.json
+-rw-rw-rw-  2.0 fat      317 b- defN 22-Mar-23 19:58 pandapower-2.9.0/tutorials/run_powermodels_custom.jl
+-rw-rw-rw-  2.0 fat     1472 b- defN 22-Mar-23 19:58 pandapower-2.9.0/tutorials/example_advanced/hv_bus_sw.csv
+-rw-rw-rw-  2.0 fat      372 b- defN 22-Mar-23 19:58 pandapower-2.9.0/tutorials/example_advanced/hv_lines.csv
+-rw-rw-rw-  2.0 fat      135 b- defN 22-Mar-23 19:58 pandapower-2.9.0/tutorials/example_advanced/hv_loads.csv
+-rw-rw-rw-  2.0 fat      626 b- defN 22-Mar-23 19:58 pandapower-2.9.0/tutorials/example_advanced/lv_lines.csv
+-rw-rw-rw-  2.0 fat      473 b- defN 22-Mar-23 19:58 pandapower-2.9.0/tutorials/example_advanced/lv_loads.csv
+-rw-rw-rw-  2.0 fat      221 b- defN 22-Mar-23 19:58 pandapower-2.9.0/tutorials/example_advanced/lv_sgens.csv
+-rw-rw-rw-  2.0 fat      515 b- defN 22-Mar-23 19:58 pandapower-2.9.0/tutorials/example_advanced/mv_lines.csv
+-rw-rw-rw-  2.0 fat      243 b- defN 22-Mar-23 19:58 pandapower-2.9.0/tutorials/example_advanced/mv_loads.csv
+-rw-rw-rw-  2.0 fat      193 b- defN 22-Mar-23 19:58 pandapower-2.9.0/tutorials/example_advanced/mv_sgens.csv
+606 files, 29337934 bytes uncompressed, 5877471 bytes compressed:  80.0%
```

## zipnote {}

```diff
@@ -1,1777 +1,1819 @@
-Filename: pandapower-2.8.0/
+Filename: pandapower-2.9.0/
 Comment: 
 
-Filename: pandapower-2.8.0/.github/
+Filename: pandapower-2.9.0/.github/
 Comment: 
 
-Filename: pandapower-2.8.0/doc/
+Filename: pandapower-2.9.0/doc/
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/
+Filename: pandapower-2.9.0/pandapower/
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower.egg-info/
+Filename: pandapower-2.9.0/pandapower.egg-info/
 Comment: 
 
-Filename: pandapower-2.8.0/tutorials/
+Filename: pandapower-2.9.0/tutorials/
 Comment: 
 
-Filename: pandapower-2.8.0/AUTHORS
+Filename: pandapower-2.9.0/AUTHORS
 Comment: 
 
-Filename: pandapower-2.8.0/CHANGELOG.rst
+Filename: pandapower-2.9.0/CHANGELOG.rst
 Comment: 
 
-Filename: pandapower-2.8.0/LICENSE
+Filename: pandapower-2.9.0/LICENSE
 Comment: 
 
-Filename: pandapower-2.8.0/MANIFEST.in
+Filename: pandapower-2.9.0/MANIFEST.in
 Comment: 
 
-Filename: pandapower-2.8.0/PKG-INFO
+Filename: pandapower-2.9.0/PKG-INFO
 Comment: 
 
-Filename: pandapower-2.8.0/README.rst
+Filename: pandapower-2.9.0/README.rst
 Comment: 
 
-Filename: pandapower-2.8.0/setup.cfg
+Filename: pandapower-2.9.0/setup.cfg
 Comment: 
 
-Filename: pandapower-2.8.0/setup.py
+Filename: pandapower-2.9.0/setup.py
 Comment: 
 
-Filename: pandapower-2.8.0/.github/workflows/
+Filename: pandapower-2.9.0/.github/workflows/
 Comment: 
 
-Filename: pandapower-2.8.0/.github/workflows/github_test_action.yml
+Filename: pandapower-2.9.0/.github/workflows/github_test_action.yml
 Comment: 
 
-Filename: pandapower-2.8.0/doc/about/
+Filename: pandapower-2.9.0/doc/about/
 Comment: 
 
-Filename: pandapower-2.8.0/doc/elements/
+Filename: pandapower-2.9.0/doc/elements/
 Comment: 
 
-Filename: pandapower-2.8.0/doc/networks/
+Filename: pandapower-2.9.0/doc/networks/
 Comment: 
 
-Filename: pandapower-2.8.0/doc/opf/
+Filename: pandapower-2.9.0/doc/opf/
 Comment: 
 
-Filename: pandapower-2.8.0/doc/std_types/
+Filename: pandapower-2.9.0/doc/std_types/
 Comment: 
 
-Filename: pandapower-2.8.0/doc/timeseries/
+Filename: pandapower-2.9.0/doc/timeseries/
 Comment: 
 
-Filename: pandapower-2.8.0/doc/fileIO.csv
+Filename: pandapower-2.9.0/doc/fileIO.csv
 Comment: 
 
-Filename: pandapower-2.8.0/doc/about/nameing1.csv
+Filename: pandapower-2.9.0/doc/about/nameing1.csv
 Comment: 
 
-Filename: pandapower-2.8.0/doc/about/nameing2.csv
+Filename: pandapower-2.9.0/doc/about/nameing2.csv
 Comment: 
 
-Filename: pandapower-2.8.0/doc/about/tolerances.csv
+Filename: pandapower-2.9.0/doc/about/tolerances.csv
 Comment: 
 
-Filename: pandapower-2.8.0/doc/elements/asymmetric_load_par.csv
+Filename: pandapower-2.9.0/doc/elements/asymmetric_load_par.csv
 Comment: 
 
-Filename: pandapower-2.8.0/doc/elements/asymmetric_sgen_par.csv
+Filename: pandapower-2.9.0/doc/elements/asymmetric_sgen_par.csv
 Comment: 
 
-Filename: pandapower-2.8.0/doc/elements/asymmetric_sgen_res.csv
+Filename: pandapower-2.9.0/doc/elements/asymmetric_sgen_res.csv
 Comment: 
 
-Filename: pandapower-2.8.0/doc/elements/bus_geo.csv
+Filename: pandapower-2.9.0/doc/elements/bus_geo.csv
 Comment: 
 
-Filename: pandapower-2.8.0/doc/elements/bus_par.csv
+Filename: pandapower-2.9.0/doc/elements/bus_par.csv
 Comment: 
 
-Filename: pandapower-2.8.0/doc/elements/bus_res.csv
+Filename: pandapower-2.9.0/doc/elements/bus_res.csv
 Comment: 
 
-Filename: pandapower-2.8.0/doc/elements/bus_res_3ph.csv
+Filename: pandapower-2.9.0/doc/elements/bus_res_3ph.csv
 Comment: 
 
-Filename: pandapower-2.8.0/doc/elements/dcline_par.csv
+Filename: pandapower-2.9.0/doc/elements/dcline_par.csv
 Comment: 
 
-Filename: pandapower-2.8.0/doc/elements/dcline_res.csv
+Filename: pandapower-2.9.0/doc/elements/dcline_res.csv
 Comment: 
 
-Filename: pandapower-2.8.0/doc/elements/ext_grid_par.csv
+Filename: pandapower-2.9.0/doc/elements/ext_grid_par.csv
 Comment: 
 
-Filename: pandapower-2.8.0/doc/elements/ext_grid_res.csv
+Filename: pandapower-2.9.0/doc/elements/ext_grid_res.csv
 Comment: 
 
-Filename: pandapower-2.8.0/doc/elements/ext_grid_res_3ph.csv
+Filename: pandapower-2.9.0/doc/elements/ext_grid_res_3ph.csv
 Comment: 
 
-Filename: pandapower-2.8.0/doc/elements/gen_par.csv
+Filename: pandapower-2.9.0/doc/elements/gen_par.csv
 Comment: 
 
-Filename: pandapower-2.8.0/doc/elements/gen_res.csv
+Filename: pandapower-2.9.0/doc/elements/gen_res.csv
 Comment: 
 
-Filename: pandapower-2.8.0/doc/elements/impedance_par.csv
+Filename: pandapower-2.9.0/doc/elements/impedance_par.csv
 Comment: 
 
-Filename: pandapower-2.8.0/doc/elements/impedance_res.csv
+Filename: pandapower-2.9.0/doc/elements/impedance_res.csv
 Comment: 
 
-Filename: pandapower-2.8.0/doc/elements/line_geo.csv
+Filename: pandapower-2.9.0/doc/elements/line_geo.csv
 Comment: 
 
-Filename: pandapower-2.8.0/doc/elements/line_par.csv
+Filename: pandapower-2.9.0/doc/elements/line_par.csv
 Comment: 
 
-Filename: pandapower-2.8.0/doc/elements/line_res.csv
+Filename: pandapower-2.9.0/doc/elements/line_res.csv
 Comment: 
 
-Filename: pandapower-2.8.0/doc/elements/line_res_3ph.csv
+Filename: pandapower-2.9.0/doc/elements/line_res_3ph.csv
 Comment: 
 
-Filename: pandapower-2.8.0/doc/elements/load_asymmetric_res.csv
+Filename: pandapower-2.9.0/doc/elements/load_asymmetric_res.csv
 Comment: 
 
-Filename: pandapower-2.8.0/doc/elements/load_par.csv
+Filename: pandapower-2.9.0/doc/elements/load_par.csv
 Comment: 
 
-Filename: pandapower-2.8.0/doc/elements/load_res.csv
+Filename: pandapower-2.9.0/doc/elements/load_res.csv
 Comment: 
 
-Filename: pandapower-2.8.0/doc/elements/measurement_par.csv
+Filename: pandapower-2.9.0/doc/elements/measurement_par.csv
 Comment: 
 
-Filename: pandapower-2.8.0/doc/elements/motor_par.csv
+Filename: pandapower-2.9.0/doc/elements/motor_par.csv
 Comment: 
 
-Filename: pandapower-2.8.0/doc/elements/motor_res.csv
+Filename: pandapower-2.9.0/doc/elements/motor_res.csv
 Comment: 
 
-Filename: pandapower-2.8.0/doc/elements/sgen_par.csv
+Filename: pandapower-2.9.0/doc/elements/sgen_par.csv
 Comment: 
 
-Filename: pandapower-2.8.0/doc/elements/sgen_res.csv
+Filename: pandapower-2.9.0/doc/elements/sgen_res.csv
 Comment: 
 
-Filename: pandapower-2.8.0/doc/elements/shunt_par.csv
+Filename: pandapower-2.9.0/doc/elements/shunt_par.csv
 Comment: 
 
-Filename: pandapower-2.8.0/doc/elements/shunt_res.csv
+Filename: pandapower-2.9.0/doc/elements/shunt_res.csv
 Comment: 
 
-Filename: pandapower-2.8.0/doc/elements/storage_par.csv
+Filename: pandapower-2.9.0/doc/elements/storage_par.csv
 Comment: 
 
-Filename: pandapower-2.8.0/doc/elements/storage_res.csv
+Filename: pandapower-2.9.0/doc/elements/storage_res.csv
 Comment: 
 
-Filename: pandapower-2.8.0/doc/elements/switch_par.csv
+Filename: pandapower-2.9.0/doc/elements/switch_par.csv
 Comment: 
 
-Filename: pandapower-2.8.0/doc/elements/trafo3w_conversion.csv
+Filename: pandapower-2.9.0/doc/elements/trafo3w_conversion.csv
 Comment: 
 
-Filename: pandapower-2.8.0/doc/elements/trafo3w_par.csv
+Filename: pandapower-2.9.0/doc/elements/trafo3w_par.csv
 Comment: 
 
-Filename: pandapower-2.8.0/doc/elements/trafo3w_res.csv
+Filename: pandapower-2.9.0/doc/elements/trafo3w_res.csv
 Comment: 
 
-Filename: pandapower-2.8.0/doc/elements/trafo3w_tap.csv
+Filename: pandapower-2.9.0/doc/elements/trafo3w_tap.csv
 Comment: 
 
-Filename: pandapower-2.8.0/doc/elements/trafo_par.csv
+Filename: pandapower-2.9.0/doc/elements/trafo_par.csv
 Comment: 
 
-Filename: pandapower-2.8.0/doc/elements/trafo_res.csv
+Filename: pandapower-2.9.0/doc/elements/trafo_res.csv
 Comment: 
 
-Filename: pandapower-2.8.0/doc/elements/trafo_res_3ph.csv
+Filename: pandapower-2.9.0/doc/elements/trafo_res_3ph.csv
 Comment: 
 
-Filename: pandapower-2.8.0/doc/elements/trafo_tap.csv
+Filename: pandapower-2.9.0/doc/elements/trafo_tap.csv
 Comment: 
 
-Filename: pandapower-2.8.0/doc/elements/ward_par.csv
+Filename: pandapower-2.9.0/doc/elements/ward_par.csv
 Comment: 
 
-Filename: pandapower-2.8.0/doc/elements/ward_res.csv
+Filename: pandapower-2.9.0/doc/elements/ward_res.csv
 Comment: 
 
-Filename: pandapower-2.8.0/doc/elements/xward_par.csv
+Filename: pandapower-2.9.0/doc/elements/xward_par.csv
 Comment: 
 
-Filename: pandapower-2.8.0/doc/elements/xward_res.csv
+Filename: pandapower-2.9.0/doc/elements/xward_res.csv
 Comment: 
 
-Filename: pandapower-2.8.0/doc/networks/dickert.csv
+Filename: pandapower-2.9.0/doc/networks/dickert.csv
 Comment: 
 
-Filename: pandapower-2.8.0/doc/networks/kerber.csv
+Filename: pandapower-2.9.0/doc/networks/kerber.csv
 Comment: 
 
-Filename: pandapower-2.8.0/doc/networks/kerber_extreme.csv
+Filename: pandapower-2.9.0/doc/networks/kerber_extreme.csv
 Comment: 
 
-Filename: pandapower-2.8.0/doc/opf/opf_constraints.csv
+Filename: pandapower-2.9.0/doc/opf/opf_constraints.csv
 Comment: 
 
-Filename: pandapower-2.8.0/doc/opf/opf_flexibility.csv
+Filename: pandapower-2.9.0/doc/opf/opf_flexibility.csv
 Comment: 
 
-Filename: pandapower-2.8.0/doc/std_types/linetypes.csv
+Filename: pandapower-2.9.0/doc/std_types/linetypes.csv
 Comment: 
 
-Filename: pandapower-2.8.0/doc/std_types/trafo3wtypes.csv
+Filename: pandapower-2.9.0/doc/std_types/trafo3wtypes.csv
 Comment: 
 
-Filename: pandapower-2.8.0/doc/std_types/trafotypes.csv
+Filename: pandapower-2.9.0/doc/std_types/trafotypes.csv
 Comment: 
 
-Filename: pandapower-2.8.0/doc/timeseries/datasource_example.csv
+Filename: pandapower-2.9.0/doc/timeseries/datasource_example.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/control/
+Filename: pandapower-2.9.0/pandapower/control/
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/converter/
+Filename: pandapower-2.9.0/pandapower/converter/
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/estimation/
+Filename: pandapower-2.9.0/pandapower/estimation/
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/networks/
+Filename: pandapower-2.9.0/pandapower/networks/
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/opf/
+Filename: pandapower-2.9.0/pandapower/opf/
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/pf/
+Filename: pandapower-2.9.0/pandapower/pf/
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/plotting/
+Filename: pandapower-2.9.0/pandapower/plotting/
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/pypower/
+Filename: pandapower-2.9.0/pandapower/pypower/
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/shortcircuit/
+Filename: pandapower-2.9.0/pandapower/shortcircuit/
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/
+Filename: pandapower-2.9.0/pandapower/test/
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/timeseries/
+Filename: pandapower-2.9.0/pandapower/timeseries/
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/topology/
+Filename: pandapower-2.9.0/pandapower/topology/
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/auxiliary.py
+Filename: pandapower-2.9.0/pandapower/auxiliary.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/build_branch.py
+Filename: pandapower-2.9.0/pandapower/build_branch.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/build_bus.py
+Filename: pandapower-2.9.0/pandapower/build_bus.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/build_gen.py
+Filename: pandapower-2.9.0/pandapower/build_gen.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/convert_format.py
+Filename: pandapower-2.9.0/pandapower/convert_format.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/create.py
+Filename: pandapower-2.9.0/pandapower/create.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/diagnostic.py
+Filename: pandapower-2.9.0/pandapower/diagnostic.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/diagnostic_reports.py
+Filename: pandapower-2.9.0/pandapower/diagnostic_reports.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/file_io.py
+Filename: pandapower-2.9.0/pandapower/file_io.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/io_utils.py
+Filename: pandapower-2.9.0/pandapower/io_utils.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/optimal_powerflow.py
+Filename: pandapower-2.9.0/pandapower/optimal_powerflow.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/pd2ppc.py
+Filename: pandapower-2.9.0/pandapower/pd2ppc.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/pd2ppc_zero.py
+Filename: pandapower-2.9.0/pandapower/pd2ppc_zero.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/powerflow.py
+Filename: pandapower-2.9.0/pandapower/powerflow.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/results.py
+Filename: pandapower-2.9.0/pandapower/results.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/results_branch.py
+Filename: pandapower-2.9.0/pandapower/results_branch.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/results_bus.py
+Filename: pandapower-2.9.0/pandapower/results_bus.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/results_gen.py
+Filename: pandapower-2.9.0/pandapower/results_gen.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/run.py
+Filename: pandapower-2.9.0/pandapower/run.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/runpm.py
+Filename: pandapower-2.9.0/pandapower/runpm.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/std_types.py
+Filename: pandapower-2.9.0/pandapower/std_types.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/toolbox.py
+Filename: pandapower-2.9.0/pandapower/toolbox.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/__init__.py
+Filename: pandapower-2.9.0/pandapower/__init__.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/control/controller/
+Filename: pandapower-2.9.0/pandapower/control/controller/
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/control/util/
+Filename: pandapower-2.9.0/pandapower/control/util/
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/control/basic_controller.py
+Filename: pandapower-2.9.0/pandapower/control/basic_controller.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/control/run_control.py
+Filename: pandapower-2.9.0/pandapower/control/run_control.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/control/__init__.py
+Filename: pandapower-2.9.0/pandapower/control/__init__.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/control/controller/trafo/
+Filename: pandapower-2.9.0/pandapower/control/controller/trafo/
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/control/controller/characteristic_control.py
+Filename: pandapower-2.9.0/pandapower/control/controller/characteristic_control.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/control/controller/const_control.py
+Filename: pandapower-2.9.0/pandapower/control/controller/const_control.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/control/controller/trafo_control.py
+Filename: pandapower-2.9.0/pandapower/control/controller/trafo_control.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/control/controller/__init__.py
+Filename: pandapower-2.9.0/pandapower/control/controller/__init__.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/control/controller/trafo/ContinuousTapControl.py
+Filename: pandapower-2.9.0/pandapower/control/controller/trafo/ContinuousTapControl.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/control/controller/trafo/DiscreteTapControl.py
+Filename: pandapower-2.9.0/pandapower/control/controller/trafo/DiscreteTapControl.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/control/controller/trafo/TapDependentImpedance.py
+Filename: pandapower-2.9.0/pandapower/control/controller/trafo/TapDependentImpedance.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/control/controller/trafo/USetTapControl.py
+Filename: pandapower-2.9.0/pandapower/control/controller/trafo/USetTapControl.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/control/controller/trafo/__init__.py
+Filename: pandapower-2.9.0/pandapower/control/controller/trafo/VmSetTapControl.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/control/util/auxiliary.py
+Filename: pandapower-2.9.0/pandapower/control/controller/trafo/__init__.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/control/util/characteristic.py
+Filename: pandapower-2.9.0/pandapower/control/util/auxiliary.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/control/util/diagnostic.py
+Filename: pandapower-2.9.0/pandapower/control/util/characteristic.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/control/util/__init__.py
+Filename: pandapower-2.9.0/pandapower/control/util/diagnostic.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/converter/matpower/
+Filename: pandapower-2.9.0/pandapower/control/util/__init__.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/converter/powermodels/
+Filename: pandapower-2.9.0/pandapower/converter/matpower/
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/converter/pypower/
+Filename: pandapower-2.9.0/pandapower/converter/powerfactory/
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/converter/__init__.py
+Filename: pandapower-2.9.0/pandapower/converter/powermodels/
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/converter/matpower/from_mpc.py
+Filename: pandapower-2.9.0/pandapower/converter/pypower/
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/converter/matpower/to_mpc.py
+Filename: pandapower-2.9.0/pandapower/converter/__init__.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/converter/matpower/__init__.py
+Filename: pandapower-2.9.0/pandapower/converter/matpower/from_mpc.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/converter/powermodels/from_pm.py
+Filename: pandapower-2.9.0/pandapower/converter/matpower/to_mpc.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/converter/powermodels/to_pm.py
+Filename: pandapower-2.9.0/pandapower/converter/matpower/__init__.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/converter/powermodels/__init__.py
+Filename: pandapower-2.9.0/pandapower/converter/powerfactory/echo_off.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/converter/pypower/from_ppc.py
+Filename: pandapower-2.9.0/pandapower/converter/powerfactory/export_pfd_to_pp.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/converter/pypower/to_ppc.py
+Filename: pandapower-2.9.0/pandapower/converter/powerfactory/gui.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/converter/pypower/__init__.py
+Filename: pandapower-2.9.0/pandapower/converter/powerfactory/logger_setup.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/estimation/algorithm/
+Filename: pandapower-2.9.0/pandapower/converter/powerfactory/main_pf.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/estimation/idx_brch.py
+Filename: pandapower-2.9.0/pandapower/converter/powerfactory/pf_export_functions.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/estimation/idx_bus.py
+Filename: pandapower-2.9.0/pandapower/converter/powerfactory/pp_import_functions.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/estimation/ppc_conversion.py
+Filename: pandapower-2.9.0/pandapower/converter/powerfactory/run_import.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/estimation/results.py
+Filename: pandapower-2.9.0/pandapower/converter/powerfactory/validate.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/estimation/state_estimation.py
+Filename: pandapower-2.9.0/pandapower/converter/powerfactory/__init__.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/estimation/util.py
+Filename: pandapower-2.9.0/pandapower/converter/powermodels/from_pm.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/estimation/__init__.py
+Filename: pandapower-2.9.0/pandapower/converter/powermodels/to_pm.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/estimation/algorithm/base.py
+Filename: pandapower-2.9.0/pandapower/converter/powermodels/__init__.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/estimation/algorithm/estimator.py
+Filename: pandapower-2.9.0/pandapower/converter/pypower/from_ppc.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/estimation/algorithm/lp.py
+Filename: pandapower-2.9.0/pandapower/converter/pypower/to_ppc.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/estimation/algorithm/matrix_base.py
+Filename: pandapower-2.9.0/pandapower/converter/pypower/__init__.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/estimation/algorithm/optimization.py
+Filename: pandapower-2.9.0/pandapower/estimation/algorithm/
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/estimation/algorithm/__init__.py
+Filename: pandapower-2.9.0/pandapower/estimation/idx_brch.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/
+Filename: pandapower-2.9.0/pandapower/estimation/idx_bus.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/networks/cigre_networks.py
+Filename: pandapower-2.9.0/pandapower/estimation/ppc_conversion.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/networks/create_examples.py
+Filename: pandapower-2.9.0/pandapower/estimation/results.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/networks/dickert_lv_networks.py
+Filename: pandapower-2.9.0/pandapower/estimation/state_estimation.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/networks/IEEE_European_LV_Off_Peak_1.json
+Filename: pandapower-2.9.0/pandapower/estimation/util.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/networks/IEEE_European_LV_Off_Peak_1440.json
+Filename: pandapower-2.9.0/pandapower/estimation/__init__.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/networks/IEEE_European_LV_On_Peak_566.json
+Filename: pandapower-2.9.0/pandapower/estimation/algorithm/base.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/networks/ieee_europen_lv_asymmetric.py
+Filename: pandapower-2.9.0/pandapower/estimation/algorithm/estimator.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/networks/kerber_extreme_networks.py
+Filename: pandapower-2.9.0/pandapower/estimation/algorithm/lp.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/networks/kerber_networks.py
+Filename: pandapower-2.9.0/pandapower/estimation/algorithm/matrix_base.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/networks/mv_oberrhein.json
+Filename: pandapower-2.9.0/pandapower/estimation/algorithm/optimization.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/networks/mv_oberrhein.py
+Filename: pandapower-2.9.0/pandapower/estimation/algorithm/__init__.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/networks/mv_oberrhein_substations.json
+Filename: pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/networks/power_system_test_cases.py
+Filename: pandapower-2.9.0/pandapower/networks/cigre_networks.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/networks/simple_pandapower_test_networks.py
+Filename: pandapower-2.9.0/pandapower/networks/create_examples.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/networks/synthetic_voltage_control_lv_networks.py
+Filename: pandapower-2.9.0/pandapower/networks/dickert_lv_networks.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/networks/__init__.py
+Filename: pandapower-2.9.0/pandapower/networks/IEEE_European_LV_Off_Peak_1.json
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/case118.json
+Filename: pandapower-2.9.0/pandapower/networks/IEEE_European_LV_Off_Peak_1440.json
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/case11_iwamoto.json
+Filename: pandapower-2.9.0/pandapower/networks/IEEE_European_LV_On_Peak_566.json
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/case1354pegase.json
+Filename: pandapower-2.9.0/pandapower/networks/ieee_europen_lv_asymmetric.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/case14.json
+Filename: pandapower-2.9.0/pandapower/networks/kerber_extreme_networks.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/case145.json
+Filename: pandapower-2.9.0/pandapower/networks/kerber_networks.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/case1888rte.json
+Filename: pandapower-2.9.0/pandapower/networks/mv_oberrhein.json
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/case24_ieee_rts.json
+Filename: pandapower-2.9.0/pandapower/networks/mv_oberrhein.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/case2848rte.json
+Filename: pandapower-2.9.0/pandapower/networks/mv_oberrhein_substations.json
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/case2869pegase.json
+Filename: pandapower-2.9.0/pandapower/networks/power_system_test_cases.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/case30.json
+Filename: pandapower-2.9.0/pandapower/networks/simple_pandapower_test_networks.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/case300.json
+Filename: pandapower-2.9.0/pandapower/networks/synthetic_voltage_control_lv_networks.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/case3120sp.json
+Filename: pandapower-2.9.0/pandapower/networks/__init__.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/case33bw.json
+Filename: pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/case118.json
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/case39.json
+Filename: pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/case11_iwamoto.json
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/case4gs.json
+Filename: pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/case1354pegase.json
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/case5.json
+Filename: pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/case14.json
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/case57.json
+Filename: pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/case145.json
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/case5_demo_gridcal.json
+Filename: pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/case1888rte.json
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/case6470rte.json
+Filename: pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/case24_ieee_rts.json
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/case6495rte.json
+Filename: pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/case2848rte.json
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/case6515rte.json
+Filename: pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/case2869pegase.json
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/case6ww.json
+Filename: pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/case30.json
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/case89pegase.json
+Filename: pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/case300.json
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/case9.json
+Filename: pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/case3120sp.json
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/case9241pegase.json
+Filename: pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/case33bw.json
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/case_ieee30.json
+Filename: pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/case39.json
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/case_illinois200.json
+Filename: pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/case4gs.json
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/GBnetwork.json
+Filename: pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/case5.json
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/GBreducednetwork.json
+Filename: pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/case57.json
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/iceland.json
+Filename: pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/case5_demo_gridcal.json
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/opf/make_objective.py
+Filename: pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/case6470rte.json
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/opf/pm_storage.py
+Filename: pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/case6495rte.json
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/opf/run_powermodels.py
+Filename: pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/case6515rte.json
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/opf/validate_opf_input.py
+Filename: pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/case6ww.json
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/opf/__init__.py
+Filename: pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/case89pegase.json
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/pf/create_jacobian.py
+Filename: pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/case9.json
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/pf/create_jacobian_numba.py
+Filename: pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/case9241pegase.json
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/pf/dSbus_dV_numba.py
+Filename: pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/case_ieee30.json
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/pf/iwamoto_multiplier.py
+Filename: pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/case_illinois200.json
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/pf/makeYbus_numba.py
+Filename: pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/GBnetwork.json
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/pf/no_numba.py
+Filename: pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/GBreducednetwork.json
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/pf/pfsoln_numba.py
+Filename: pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/iceland.json
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/pf/ppci_variables.py
+Filename: pandapower-2.9.0/pandapower/opf/make_objective.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/pf/runpf_pypower.py
+Filename: pandapower-2.9.0/pandapower/opf/pm_storage.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/pf/runpp_3ph.py
+Filename: pandapower-2.9.0/pandapower/opf/run_powermodels.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/pf/run_bfswpf.py
+Filename: pandapower-2.9.0/pandapower/opf/validate_opf_input.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/pf/run_dc_pf.py
+Filename: pandapower-2.9.0/pandapower/opf/__init__.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/pf/run_newton_raphson_pf.py
+Filename: pandapower-2.9.0/pandapower/pf/create_jacobian.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/pf/__init__.py
+Filename: pandapower-2.9.0/pandapower/pf/create_jacobian_numba.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/plotting/plotly/
+Filename: pandapower-2.9.0/pandapower/pf/dSbus_dV_numba.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/plotting/collections.py
+Filename: pandapower-2.9.0/pandapower/pf/iwamoto_multiplier.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/plotting/colormaps.py
+Filename: pandapower-2.9.0/pandapower/pf/makeYbus_numba.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/plotting/generic_geodata.py
+Filename: pandapower-2.9.0/pandapower/pf/no_numba.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/plotting/geo.py
+Filename: pandapower-2.9.0/pandapower/pf/pfsoln_numba.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/plotting/patch_makers.py
+Filename: pandapower-2.9.0/pandapower/pf/ppci_variables.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/plotting/plotting_toolbox.py
+Filename: pandapower-2.9.0/pandapower/pf/runpf_pypower.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/plotting/powerflow_results.py
+Filename: pandapower-2.9.0/pandapower/pf/runpp_3ph.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/plotting/simple_plot.py
+Filename: pandapower-2.9.0/pandapower/pf/run_bfswpf.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/plotting/to_html.py
+Filename: pandapower-2.9.0/pandapower/pf/run_dc_pf.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/plotting/__init__.py
+Filename: pandapower-2.9.0/pandapower/pf/run_newton_raphson_pf.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/plotting/plotly/get_colors.py
+Filename: pandapower-2.9.0/pandapower/pf/__init__.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/plotting/plotly/mapbox_plot.py
+Filename: pandapower-2.9.0/pandapower/plotting/plotly/
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/plotting/plotly/pf_res_plotly.py
+Filename: pandapower-2.9.0/pandapower/plotting/collections.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/plotting/plotly/simple_plotly.py
+Filename: pandapower-2.9.0/pandapower/plotting/colormaps.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/plotting/plotly/traces.py
+Filename: pandapower-2.9.0/pandapower/plotting/generic_geodata.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/plotting/plotly/vlevel_plotly.py
+Filename: pandapower-2.9.0/pandapower/plotting/geo.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/plotting/plotly/__init__.py
+Filename: pandapower-2.9.0/pandapower/plotting/patch_makers.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/pypower/add_userfcn.py
+Filename: pandapower-2.9.0/pandapower/plotting/plotting_toolbox.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/pypower/bustypes.py
+Filename: pandapower-2.9.0/pandapower/plotting/powerflow_results.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/pypower/d2AIbr_dV2.py
+Filename: pandapower-2.9.0/pandapower/plotting/simple_plot.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/pypower/d2ASbr_dV2.py
+Filename: pandapower-2.9.0/pandapower/plotting/to_html.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/pypower/d2Ibr_dV2.py
+Filename: pandapower-2.9.0/pandapower/plotting/__init__.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/pypower/d2Sbr_dV2.py
+Filename: pandapower-2.9.0/pandapower/plotting/plotly/get_colors.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/pypower/d2Sbus_dV2.py
+Filename: pandapower-2.9.0/pandapower/plotting/plotly/mapbox_plot.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/pypower/dAbr_dV.py
+Filename: pandapower-2.9.0/pandapower/plotting/plotly/pf_res_plotly.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/pypower/dcopf_solver.py
+Filename: pandapower-2.9.0/pandapower/plotting/plotly/simple_plotly.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/pypower/dcpf.py
+Filename: pandapower-2.9.0/pandapower/plotting/plotly/traces.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/pypower/dIbr_dV.py
+Filename: pandapower-2.9.0/pandapower/plotting/plotly/vlevel_plotly.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/pypower/dSbr_dV.py
+Filename: pandapower-2.9.0/pandapower/plotting/plotly/__init__.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/pypower/dSbus_dV.py
+Filename: pandapower-2.9.0/pandapower/pypower/add_userfcn.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/pypower/fdpf.py
+Filename: pandapower-2.9.0/pandapower/pypower/bustypes.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/pypower/gausspf.py
+Filename: pandapower-2.9.0/pandapower/pypower/d2AIbr_dV2.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/pypower/hasPQcap.py
+Filename: pandapower-2.9.0/pandapower/pypower/d2ASbr_dV2.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/pypower/idx_area.py
+Filename: pandapower-2.9.0/pandapower/pypower/d2Ibr_dV2.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/pypower/idx_brch.py
+Filename: pandapower-2.9.0/pandapower/pypower/d2Sbr_dV2.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/pypower/idx_bus.py
+Filename: pandapower-2.9.0/pandapower/pypower/d2Sbus_dV2.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/pypower/idx_cost.py
+Filename: pandapower-2.9.0/pandapower/pypower/dAbr_dV.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/pypower/idx_gen.py
+Filename: pandapower-2.9.0/pandapower/pypower/dcopf_solver.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/pypower/isload.py
+Filename: pandapower-2.9.0/pandapower/pypower/dcpf.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/pypower/makeAang.py
+Filename: pandapower-2.9.0/pandapower/pypower/dIbr_dV.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/pypower/makeApq.py
+Filename: pandapower-2.9.0/pandapower/pypower/dSbr_dV.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/pypower/makeAvl.py
+Filename: pandapower-2.9.0/pandapower/pypower/dSbus_dV.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/pypower/makeAy.py
+Filename: pandapower-2.9.0/pandapower/pypower/fdpf.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/pypower/makeB.py
+Filename: pandapower-2.9.0/pandapower/pypower/gausspf.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/pypower/makeBdc.py
+Filename: pandapower-2.9.0/pandapower/pypower/hasPQcap.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/pypower/makeLODF.py
+Filename: pandapower-2.9.0/pandapower/pypower/idx_area.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/pypower/makePTDF.py
+Filename: pandapower-2.9.0/pandapower/pypower/idx_brch.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/pypower/makeSbus.py
+Filename: pandapower-2.9.0/pandapower/pypower/idx_bus.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/pypower/makeYbus.py
+Filename: pandapower-2.9.0/pandapower/pypower/idx_cost.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/pypower/newtonpf.py
+Filename: pandapower-2.9.0/pandapower/pypower/idx_gen.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/pypower/opf.py
+Filename: pandapower-2.9.0/pandapower/pypower/isload.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/pypower/opf_args.py
+Filename: pandapower-2.9.0/pandapower/pypower/makeAang.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/pypower/opf_consfcn.py
+Filename: pandapower-2.9.0/pandapower/pypower/makeApq.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/pypower/opf_costfcn.py
+Filename: pandapower-2.9.0/pandapower/pypower/makeAvl.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/pypower/opf_execute.py
+Filename: pandapower-2.9.0/pandapower/pypower/makeAy.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/pypower/opf_hessfcn.py
+Filename: pandapower-2.9.0/pandapower/pypower/makeB.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/pypower/opf_model.py
+Filename: pandapower-2.9.0/pandapower/pypower/makeBdc.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/pypower/opf_setup.py
+Filename: pandapower-2.9.0/pandapower/pypower/makeLODF.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/pypower/pfsoln.py
+Filename: pandapower-2.9.0/pandapower/pypower/makePTDF.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/pypower/pips.py
+Filename: pandapower-2.9.0/pandapower/pypower/makeSbus.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/pypower/pipsopf_solver.py
+Filename: pandapower-2.9.0/pandapower/pypower/makeYbus.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/pypower/pipsver.py
+Filename: pandapower-2.9.0/pandapower/pypower/newtonpf.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/pypower/polycost.py
+Filename: pandapower-2.9.0/pandapower/pypower/opf.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/pypower/ppoption.py
+Filename: pandapower-2.9.0/pandapower/pypower/opf_args.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/pypower/ppver.py
+Filename: pandapower-2.9.0/pandapower/pypower/opf_consfcn.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/pypower/pqcost.py
+Filename: pandapower-2.9.0/pandapower/pypower/opf_costfcn.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/pypower/printpf.py
+Filename: pandapower-2.9.0/pandapower/pypower/opf_execute.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/pypower/qps_pips.py
+Filename: pandapower-2.9.0/pandapower/pypower/opf_hessfcn.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/pypower/qps_pypower.py
+Filename: pandapower-2.9.0/pandapower/pypower/opf_model.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/pypower/run_userfcn.py
+Filename: pandapower-2.9.0/pandapower/pypower/opf_setup.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/pypower/totcost.py
+Filename: pandapower-2.9.0/pandapower/pypower/pfsoln.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/pypower/update_mupq.py
+Filename: pandapower-2.9.0/pandapower/pypower/pips.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/pypower/util.py
+Filename: pandapower-2.9.0/pandapower/pypower/pipsopf_solver.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/pypower/_compat.py
+Filename: pandapower-2.9.0/pandapower/pypower/pipsver.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/pypower/__init__.py
+Filename: pandapower-2.9.0/pandapower/pypower/polycost.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/shortcircuit/calc_sc.py
+Filename: pandapower-2.9.0/pandapower/pypower/ppoption.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/shortcircuit/currents.py
+Filename: pandapower-2.9.0/pandapower/pypower/ppver.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/shortcircuit/idx_brch.py
+Filename: pandapower-2.9.0/pandapower/pypower/pqcost.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/shortcircuit/idx_bus.py
+Filename: pandapower-2.9.0/pandapower/pypower/printpf.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/shortcircuit/impedance.py
+Filename: pandapower-2.9.0/pandapower/pypower/qps_pips.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/shortcircuit/kappa.py
+Filename: pandapower-2.9.0/pandapower/pypower/qps_pypower.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/shortcircuit/ppc_conversion.py
+Filename: pandapower-2.9.0/pandapower/pypower/run_userfcn.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/shortcircuit/results.py
+Filename: pandapower-2.9.0/pandapower/pypower/totcost.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/shortcircuit/toolbox.py
+Filename: pandapower-2.9.0/pandapower/pypower/update_mupq.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/shortcircuit/__init__.py
+Filename: pandapower-2.9.0/pandapower/pypower/util.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/api/
+Filename: pandapower-2.9.0/pandapower/pypower/_compat.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/control/
+Filename: pandapower-2.9.0/pandapower/pypower/__init__.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/converter/
+Filename: pandapower-2.9.0/pandapower/shortcircuit/calc_sc.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/estimation/
+Filename: pandapower-2.9.0/pandapower/shortcircuit/currents.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/loadflow/
+Filename: pandapower-2.9.0/pandapower/shortcircuit/idx_brch.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/networks/
+Filename: pandapower-2.9.0/pandapower/shortcircuit/idx_bus.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/opf/
+Filename: pandapower-2.9.0/pandapower/shortcircuit/impedance.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/shortcircuit/
+Filename: pandapower-2.9.0/pandapower/shortcircuit/kappa.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/
+Filename: pandapower-2.9.0/pandapower/shortcircuit/ppc_conversion.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/timeseries/
+Filename: pandapower-2.9.0/pandapower/shortcircuit/results.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/conftest.py
+Filename: pandapower-2.9.0/pandapower/shortcircuit/toolbox.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/consistency_checks.py
+Filename: pandapower-2.9.0/pandapower/shortcircuit/__init__.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/run_tests.py
+Filename: pandapower-2.9.0/pandapower/test/api/
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/toolbox.py
+Filename: pandapower-2.9.0/pandapower/test/control/
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/__init__.py
+Filename: pandapower-2.9.0/pandapower/test/converter/
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/api/old_net.p
+Filename: pandapower-2.9.0/pandapower/test/estimation/
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/api/test_auxiliary.py
+Filename: pandapower-2.9.0/pandapower/test/loadflow/
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/api/test_convert_format.py
+Filename: pandapower-2.9.0/pandapower/test/networks/
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/api/test_create.py
+Filename: pandapower-2.9.0/pandapower/test/opf/
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/api/test_diagnostic.py
+Filename: pandapower-2.9.0/pandapower/test/shortcircuit/
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/api/test_file_io.py
+Filename: pandapower-2.9.0/pandapower/test/test_files/
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/api/test_std_types.py
+Filename: pandapower-2.9.0/pandapower/test/timeseries/
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/api/test_toolbox.py
+Filename: pandapower-2.9.0/pandapower/test/conftest.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/api/__init__.py
+Filename: pandapower-2.9.0/pandapower/test/consistency_checks.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/control/test_const_control.py
+Filename: pandapower-2.9.0/pandapower/test/run_tests.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/control/test_continous_tap_control.py
+Filename: pandapower-2.9.0/pandapower/test/toolbox.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/control/test_control.py
+Filename: pandapower-2.9.0/pandapower/test/__init__.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/control/test_discrete_tap_control.py
+Filename: pandapower-2.9.0/pandapower/test/api/old_net.p
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/control/test_tap_dependent_impedance.py
+Filename: pandapower-2.9.0/pandapower/test/api/test_auxiliary.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/control/test_u_set_tap_control.py
+Filename: pandapower-2.9.0/pandapower/test/api/test_convert_format.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/control/__init__.py
+Filename: pandapower-2.9.0/pandapower/test/api/test_create.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/converter/case24_ieee_rts.mat
+Filename: pandapower-2.9.0/pandapower/test/api/test_diagnostic.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/converter/case2_2_by_code.json
+Filename: pandapower-2.9.0/pandapower/test/api/test_file_io.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/converter/ppc_testgrids.p
+Filename: pandapower-2.9.0/pandapower/test/api/test_std_types.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/converter/pypower_cases.p
+Filename: pandapower-2.9.0/pandapower/test/api/test_toolbox.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/converter/test_from_mpc.py
+Filename: pandapower-2.9.0/pandapower/test/api/__init__.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/converter/test_from_ppc.py
+Filename: pandapower-2.9.0/pandapower/test/control/test_const_control.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/converter/test_to_ppc_and_mpc.py
+Filename: pandapower-2.9.0/pandapower/test/control/test_continuous_tap_control.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/converter/__init__.py
+Filename: pandapower-2.9.0/pandapower/test/control/test_control.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/estimation/3bus_wls.json
+Filename: pandapower-2.9.0/pandapower/test/control/test_discrete_tap_control.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/estimation/test_conditions.py
+Filename: pandapower-2.9.0/pandapower/test/control/test_tap_dependent_impedance.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/estimation/test_irwls_estimation.py
+Filename: pandapower-2.9.0/pandapower/test/control/test_vm_set_tap_control.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/estimation/test_opt_lp_estimation.py
+Filename: pandapower-2.9.0/pandapower/test/control/__init__.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/estimation/test_pmu.py
+Filename: pandapower-2.9.0/pandapower/test/converter/case24_ieee_rts.mat
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/estimation/test_recycle.py
+Filename: pandapower-2.9.0/pandapower/test/converter/case2_2_by_code.json
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/estimation/test_wls_estimation.py
+Filename: pandapower-2.9.0/pandapower/test/converter/ppc_testgrids.p
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/estimation/__init__.py
+Filename: pandapower-2.9.0/pandapower/test/converter/pypower_cases.p
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/loadflow/PF_Results.py
+Filename: pandapower-2.9.0/pandapower/test/converter/test_from_mpc.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/loadflow/result_test_network_generator.py
+Filename: pandapower-2.9.0/pandapower/test/converter/test_from_powerfactory.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/loadflow/runpp_3ph Validation.p
+Filename: pandapower-2.9.0/pandapower/test/converter/test_from_ppc.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/loadflow/testgrid.p
+Filename: pandapower-2.9.0/pandapower/test/converter/test_to_ppc_and_mpc.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/loadflow/test_dist_slack.py
+Filename: pandapower-2.9.0/pandapower/test/converter/__init__.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/loadflow/test_PTDF_LODF.py
+Filename: pandapower-2.9.0/pandapower/test/estimation/3bus_wls.json
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/loadflow/test_recycle.py
+Filename: pandapower-2.9.0/pandapower/test/estimation/test_conditions.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/loadflow/test_results.py
+Filename: pandapower-2.9.0/pandapower/test/estimation/test_irwls_estimation.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/loadflow/test_rundcpp.py
+Filename: pandapower-2.9.0/pandapower/test/estimation/test_opt_lp_estimation.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/loadflow/test_runpp.py
+Filename: pandapower-2.9.0/pandapower/test/estimation/test_pmu.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/loadflow/test_runpp_3ph.py
+Filename: pandapower-2.9.0/pandapower/test/estimation/test_recycle.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/loadflow/test_runpp_3ph_n_line.py
+Filename: pandapower-2.9.0/pandapower/test/estimation/test_wls_estimation.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/loadflow/test_scenarios.py
+Filename: pandapower-2.9.0/pandapower/test/estimation/__init__.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/loadflow/__init__.py
+Filename: pandapower-2.9.0/pandapower/test/loadflow/PF_Results.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/networks/test_cigre_networks.py
+Filename: pandapower-2.9.0/pandapower/test/loadflow/result_test_network_generator.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/networks/test_create_example.py
+Filename: pandapower-2.9.0/pandapower/test/loadflow/runpp_3ph Validation.json
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/networks/test_dickert_lv_networks.py
+Filename: pandapower-2.9.0/pandapower/test/loadflow/testgrid.p
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/networks/test_kerber_extreme_networks.py
+Filename: pandapower-2.9.0/pandapower/test/loadflow/test_dist_slack.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/networks/test_kerber_networks.py
+Filename: pandapower-2.9.0/pandapower/test/loadflow/test_PTDF_LODF.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/networks/test_mv_oberrhein.py
+Filename: pandapower-2.9.0/pandapower/test/loadflow/test_recycle.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/networks/test_power_system_test_cases.py
+Filename: pandapower-2.9.0/pandapower/test/loadflow/test_results.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/networks/test_simple_pandapower_test_networks.py
+Filename: pandapower-2.9.0/pandapower/test/loadflow/test_rundcpp.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/networks/test_synthetic_voltage_control_lv_networks.py
+Filename: pandapower-2.9.0/pandapower/test/loadflow/test_runpp.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/networks/__init__.py
+Filename: pandapower-2.9.0/pandapower/test/loadflow/test_runpp_3ph.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/opf/case5_clm_matfile.json
+Filename: pandapower-2.9.0/pandapower/test/loadflow/test_runpp_3ph_n_line.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/opf/case5_clm_pp.json
+Filename: pandapower-2.9.0/pandapower/test/loadflow/test_scenarios.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/opf/test_basic.py
+Filename: pandapower-2.9.0/pandapower/test/loadflow/__init__.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/opf/test_check_opf_data.py
+Filename: pandapower-2.9.0/pandapower/test/networks/test_cigre_networks.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/opf/test_costs_mixed.py
+Filename: pandapower-2.9.0/pandapower/test/networks/test_create_example.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/opf/test_costs_pol.py
+Filename: pandapower-2.9.0/pandapower/test/networks/test_dickert_lv_networks.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/opf/test_costs_pwl.py
+Filename: pandapower-2.9.0/pandapower/test/networks/test_kerber_extreme_networks.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/opf/test_costs_pwl_q.py
+Filename: pandapower-2.9.0/pandapower/test/networks/test_kerber_networks.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/opf/test_cost_consistency.py
+Filename: pandapower-2.9.0/pandapower/test/networks/test_mv_oberrhein.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/opf/test_curtailment.py
+Filename: pandapower-2.9.0/pandapower/test/networks/test_power_system_test_cases.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/opf/test_dcline.py
+Filename: pandapower-2.9.0/pandapower/test/networks/test_simple_pandapower_test_networks.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/opf/test_oberrhein.py
+Filename: pandapower-2.9.0/pandapower/test/networks/test_synthetic_voltage_control_lv_networks.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/opf/test_opf_cigre.py
+Filename: pandapower-2.9.0/pandapower/test/networks/__init__.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/opf/test_pandamodels_installation.py
+Filename: pandapower-2.9.0/pandapower/test/opf/case5_clm_matfile.json
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/opf/test_powermodels.py
+Filename: pandapower-2.9.0/pandapower/test/opf/case5_clm_pp.json
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/opf/test_pp_vs_pm.py
+Filename: pandapower-2.9.0/pandapower/test/opf/test_basic.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/opf/test_TNEP.py
+Filename: pandapower-2.9.0/pandapower/test/opf/test_check_opf_data.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/opf/__init__.py
+Filename: pandapower-2.9.0/pandapower/test/opf/test_costs_mixed.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/shortcircuit/sc_test_meshed_grid.json
+Filename: pandapower-2.9.0/pandapower/test/opf/test_costs_pol.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/shortcircuit/test_1ph.py
+Filename: pandapower-2.9.0/pandapower/test/opf/test_costs_pwl.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/shortcircuit/test_all_currents.py
+Filename: pandapower-2.9.0/pandapower/test/opf/test_costs_pwl_q.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/shortcircuit/test_gen.py
+Filename: pandapower-2.9.0/pandapower/test/opf/test_cost_consistency.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/shortcircuit/test_iec60909_4.py
+Filename: pandapower-2.9.0/pandapower/test/opf/test_curtailment.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/shortcircuit/test_impedance.py
+Filename: pandapower-2.9.0/pandapower/test/opf/test_dcline.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/shortcircuit/test_meshing_detection.py
+Filename: pandapower-2.9.0/pandapower/test/opf/test_oberrhein.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/shortcircuit/test_min_branch_results.py
+Filename: pandapower-2.9.0/pandapower/test/opf/test_opf_cigre.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/shortcircuit/test_motor.py
+Filename: pandapower-2.9.0/pandapower/test/opf/test_pandamodels_installation.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/shortcircuit/test_ring.py
+Filename: pandapower-2.9.0/pandapower/test/opf/test_powermodels.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/shortcircuit/test_sc_multi_bus.py
+Filename: pandapower-2.9.0/pandapower/test/opf/test_pp_vs_pm.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/shortcircuit/test_sc_single_bus.py
+Filename: pandapower-2.9.0/pandapower/test/opf/test_TNEP.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/shortcircuit/test_sgen.py
+Filename: pandapower-2.9.0/pandapower/test/opf/__init__.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/shortcircuit/test_trafo3w.py
+Filename: pandapower-2.9.0/pandapower/test/shortcircuit/sc_test_meshed_grid.json
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/shortcircuit/test_transformer.py
+Filename: pandapower-2.9.0/pandapower/test/shortcircuit/test_1ph.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/shortcircuit/__init__.py
+Filename: pandapower-2.9.0/pandapower/test/shortcircuit/test_all_currents.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/
+Filename: pandapower-2.9.0/pandapower/test/shortcircuit/test_gen.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/old_versions/
+Filename: pandapower-2.9.0/pandapower/test/shortcircuit/test_iec60909_4.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/controller_containing_NoneNan.json
+Filename: pandapower-2.9.0/pandapower/test/shortcircuit/test_impedance.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/IEC60909-4_example.json
+Filename: pandapower-2.9.0/pandapower/test/shortcircuit/test_meshing_detection.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/pm_example_res.json
+Filename: pandapower-2.9.0/pandapower/test/shortcircuit/test_min_branch_results.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/run_powermodels_custom.jl
+Filename: pandapower-2.9.0/pandapower/test/shortcircuit/test_motor.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/
+Filename: pandapower-2.9.0/pandapower/test/shortcircuit/test_ring.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Buscoords.csv
+Filename: pandapower-2.9.0/pandapower/test/shortcircuit/test_sc_multi_bus.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/LineCodes.csv
+Filename: pandapower-2.9.0/pandapower/test/shortcircuit/test_sc_single_bus.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Lines.csv
+Filename: pandapower-2.9.0/pandapower/test/shortcircuit/test_sgen.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Loads.csv
+Filename: pandapower-2.9.0/pandapower/test/shortcircuit/test_trafo3w.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/LoadShapes.csv
+Filename: pandapower-2.9.0/pandapower/test/shortcircuit/test_transformer.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Source.csv
+Filename: pandapower-2.9.0/pandapower/test/shortcircuit/__init__.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Transformer.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_1.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/old_versions/
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_10.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/controller_containing_NoneNan.json
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_100.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/IEC60909-4_example.json
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_11.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/pm_example_res.json
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_12.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/run_powermodels_custom.jl
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_13.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_14.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Buscoords.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_15.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/LineCodes.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_16.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Lines.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_17.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Loads.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_18.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/LoadShapes.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_19.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Source.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_2.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Transformer.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_20.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_1.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_21.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_10.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_22.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_100.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_23.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_11.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_24.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_12.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_25.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_13.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_26.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_14.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_27.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_15.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_28.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_16.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_29.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_17.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_3.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_18.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_30.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_19.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_31.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_2.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_32.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_20.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_33.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_21.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_34.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_22.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_35.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_23.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_36.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_24.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_37.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_25.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_38.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_26.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_39.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_27.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_4.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_28.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_40.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_29.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_41.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_3.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_42.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_30.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_43.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_31.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_44.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_32.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_45.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_33.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_46.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_34.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_47.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_35.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_48.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_36.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_49.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_37.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_5.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_38.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_50.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_39.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_51.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_4.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_52.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_40.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_53.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_41.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_54.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_42.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_55.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_43.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_56.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_44.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_57.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_45.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_58.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_46.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_59.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_47.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_6.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_48.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_60.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_49.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_61.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_5.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_62.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_50.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_63.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_51.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_64.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_52.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_65.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_53.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_66.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_54.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_67.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_55.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_68.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_56.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_69.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_57.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_7.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_58.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_70.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_59.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_71.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_6.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_72.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_60.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_73.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_61.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_74.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_62.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_75.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_63.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_76.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_64.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_77.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_65.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_78.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_66.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_79.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_67.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_8.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_68.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_80.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_69.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_81.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_7.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_82.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_70.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_83.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_71.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_84.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_72.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_85.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_73.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_86.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_74.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_87.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_75.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_88.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_76.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_89.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_77.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_9.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_78.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_90.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_79.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_91.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_8.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_92.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_80.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_93.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_81.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_94.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_82.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_95.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_83.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_96.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_84.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_97.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_85.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_98.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_86.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_99.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_87.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/old_versions/example_1.2.0.json
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_88.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/old_versions/example_1.2.2.json
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_89.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/old_versions/example_1.3.0.json
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_9.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/old_versions/example_1.3.1.json
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_90.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/old_versions/example_1.4.0.json
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_91.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/old_versions/example_1.4.1.json
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_92.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/old_versions/example_1.4.2.json
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_93.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/old_versions/example_1.4.3.json
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_94.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/old_versions/example_1.5.0.json
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_95.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/old_versions/example_1.5.1.json
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_96.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/old_versions/example_1.6.0.json
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_97.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/old_versions/example_1.6.1.json
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_98.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/old_versions/example_2.0.0.json
+Filename: pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_99.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/old_versions/example_2.0.1.json
+Filename: pandapower-2.9.0/pandapower/test/test_files/old_versions/example_1.2.0.json
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/old_versions/example_2.1.0.json
+Filename: pandapower-2.9.0/pandapower/test/test_files/old_versions/example_1.2.2.json
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/old_versions/example_2.2.0.json
+Filename: pandapower-2.9.0/pandapower/test/test_files/old_versions/example_1.3.0.json
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/old_versions/example_2.3.0.json
+Filename: pandapower-2.9.0/pandapower/test/test_files/old_versions/example_1.3.1.json
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/old_versions/example_2.3.1.json
+Filename: pandapower-2.9.0/pandapower/test/test_files/old_versions/example_1.4.0.json
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/old_versions/example_2.4.0.json
+Filename: pandapower-2.9.0/pandapower/test/test_files/old_versions/example_1.4.1.json
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/old_versions/example_2.5.0.json
+Filename: pandapower-2.9.0/pandapower/test/test_files/old_versions/example_1.4.2.json
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/old_versions/example_2.6.0.json
+Filename: pandapower-2.9.0/pandapower/test/test_files/old_versions/example_1.4.3.json
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/old_versions/example_2.7.0.json
+Filename: pandapower-2.9.0/pandapower/test/test_files/old_versions/example_1.5.0.json
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/test_files/old_versions/example_2.8.0.json
+Filename: pandapower-2.9.0/pandapower/test/test_files/old_versions/example_1.5.1.json
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/timeseries/test_files/
+Filename: pandapower-2.9.0/pandapower/test/test_files/old_versions/example_1.6.0.json
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/timeseries/test_data_source.py
+Filename: pandapower-2.9.0/pandapower/test/test_files/old_versions/example_1.6.1.json
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/timeseries/test_output_writer.py
+Filename: pandapower-2.9.0/pandapower/test/test_files/old_versions/example_2.0.0.json
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/timeseries/test_timeseries.py
+Filename: pandapower-2.9.0/pandapower/test/test_files/old_versions/example_2.0.1.json
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/timeseries/test_timeseries_recycle.py
+Filename: pandapower-2.9.0/pandapower/test/test_files/old_versions/example_2.1.0.json
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/timeseries/__init__.py
+Filename: pandapower-2.9.0/pandapower/test/test_files/old_versions/example_2.2.0.json
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/test/timeseries/test_files/small_profile.csv
+Filename: pandapower-2.9.0/pandapower/test/test_files/old_versions/example_2.3.0.json
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/timeseries/data_sources/
+Filename: pandapower-2.9.0/pandapower/test/test_files/old_versions/example_2.3.1.json
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/timeseries/data_source.py
+Filename: pandapower-2.9.0/pandapower/test/test_files/old_versions/example_2.4.0.json
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/timeseries/output_writer.py
+Filename: pandapower-2.9.0/pandapower/test/test_files/old_versions/example_2.5.0.json
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/timeseries/read_batch_results.py
+Filename: pandapower-2.9.0/pandapower/test/test_files/old_versions/example_2.6.0.json
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/timeseries/run_time_series.py
+Filename: pandapower-2.9.0/pandapower/test/test_files/old_versions/example_2.7.0.json
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/timeseries/ts_runpp.py
+Filename: pandapower-2.9.0/pandapower/test/test_files/old_versions/example_2.8.0.json
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/timeseries/__init__.py
+Filename: pandapower-2.9.0/pandapower/test/test_files/old_versions/example_2.9.0.json
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/timeseries/data_sources/frame_data.py
+Filename: pandapower-2.9.0/pandapower/test/timeseries/test_files/
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/timeseries/data_sources/__init__.py
+Filename: pandapower-2.9.0/pandapower/test/timeseries/test_data_source.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/topology/create_graph.py
+Filename: pandapower-2.9.0/pandapower/test/timeseries/test_output_writer.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/topology/graph_searches.py
+Filename: pandapower-2.9.0/pandapower/test/timeseries/test_timeseries.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/topology/graph_tool_interface.py
+Filename: pandapower-2.9.0/pandapower/test/timeseries/test_timeseries_recycle.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower/topology/__init__.py
+Filename: pandapower-2.9.0/pandapower/test/timeseries/__init__.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower.egg-info/dependency_links.txt
+Filename: pandapower-2.9.0/pandapower/test/timeseries/test_files/small_profile.csv
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower.egg-info/PKG-INFO
+Filename: pandapower-2.9.0/pandapower/timeseries/data_sources/
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower.egg-info/requires.txt
+Filename: pandapower-2.9.0/pandapower/timeseries/data_source.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower.egg-info/SOURCES.txt
+Filename: pandapower-2.9.0/pandapower/timeseries/output_writer.py
 Comment: 
 
-Filename: pandapower-2.8.0/pandapower.egg-info/top_level.txt
+Filename: pandapower-2.9.0/pandapower/timeseries/read_batch_results.py
 Comment: 
 
-Filename: pandapower-2.8.0/tutorials/example_advanced/
+Filename: pandapower-2.9.0/pandapower/timeseries/run_time_series.py
 Comment: 
 
-Filename: pandapower-2.8.0/tutorials/cigre_timeseries_15min.json
+Filename: pandapower-2.9.0/pandapower/timeseries/ts_runpp.py
 Comment: 
 
-Filename: pandapower-2.8.0/tutorials/run_powermodels_custom.jl
+Filename: pandapower-2.9.0/pandapower/timeseries/__init__.py
 Comment: 
 
-Filename: pandapower-2.8.0/tutorials/example_advanced/hv_bus_sw.csv
+Filename: pandapower-2.9.0/pandapower/timeseries/data_sources/frame_data.py
 Comment: 
 
-Filename: pandapower-2.8.0/tutorials/example_advanced/hv_lines.csv
+Filename: pandapower-2.9.0/pandapower/timeseries/data_sources/__init__.py
 Comment: 
 
-Filename: pandapower-2.8.0/tutorials/example_advanced/hv_loads.csv
+Filename: pandapower-2.9.0/pandapower/topology/create_graph.py
 Comment: 
 
-Filename: pandapower-2.8.0/tutorials/example_advanced/lv_lines.csv
+Filename: pandapower-2.9.0/pandapower/topology/graph_searches.py
 Comment: 
 
-Filename: pandapower-2.8.0/tutorials/example_advanced/lv_loads.csv
+Filename: pandapower-2.9.0/pandapower/topology/graph_tool_interface.py
 Comment: 
 
-Filename: pandapower-2.8.0/tutorials/example_advanced/lv_sgens.csv
+Filename: pandapower-2.9.0/pandapower/topology/__init__.py
 Comment: 
 
-Filename: pandapower-2.8.0/tutorials/example_advanced/mv_lines.csv
+Filename: pandapower-2.9.0/pandapower.egg-info/dependency_links.txt
 Comment: 
 
-Filename: pandapower-2.8.0/tutorials/example_advanced/mv_loads.csv
+Filename: pandapower-2.9.0/pandapower.egg-info/PKG-INFO
 Comment: 
 
-Filename: pandapower-2.8.0/tutorials/example_advanced/mv_sgens.csv
+Filename: pandapower-2.9.0/pandapower.egg-info/requires.txt
+Comment: 
+
+Filename: pandapower-2.9.0/pandapower.egg-info/SOURCES.txt
+Comment: 
+
+Filename: pandapower-2.9.0/pandapower.egg-info/top_level.txt
+Comment: 
+
+Filename: pandapower-2.9.0/tutorials/example_advanced/
+Comment: 
+
+Filename: pandapower-2.9.0/tutorials/cigre_timeseries_15min.json
+Comment: 
+
+Filename: pandapower-2.9.0/tutorials/run_powermodels_custom.jl
+Comment: 
+
+Filename: pandapower-2.9.0/tutorials/example_advanced/hv_bus_sw.csv
+Comment: 
+
+Filename: pandapower-2.9.0/tutorials/example_advanced/hv_lines.csv
+Comment: 
+
+Filename: pandapower-2.9.0/tutorials/example_advanced/hv_loads.csv
+Comment: 
+
+Filename: pandapower-2.9.0/tutorials/example_advanced/lv_lines.csv
+Comment: 
+
+Filename: pandapower-2.9.0/tutorials/example_advanced/lv_loads.csv
+Comment: 
+
+Filename: pandapower-2.9.0/tutorials/example_advanced/lv_sgens.csv
+Comment: 
+
+Filename: pandapower-2.9.0/tutorials/example_advanced/mv_lines.csv
+Comment: 
+
+Filename: pandapower-2.9.0/tutorials/example_advanced/mv_loads.csv
+Comment: 
+
+Filename: pandapower-2.9.0/tutorials/example_advanced/mv_sgens.csv
 Comment: 
 
 Zip file comment:
```

## Comparing `pandapower-2.8.0/AUTHORS` & `pandapower-2.9.0/AUTHORS`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/CHANGELOG.rst` & `pandapower-2.9.0/CHANGELOG.rst`

 * *Files 2% similar despite different names*

```diff
@@ -1,8 +1,25 @@
 Change Log
+=============
+
+[2.9.0]- 2022-03-23
+----------------------
+- [ADDED] added support for Python 3.10
+- [ADDED] added a function to pandapower.plotting to set line geodata from the geodata of the connected buses
+- [ADDED] plotly hover information will indicate parallel lines, if parallel > 1
+- [ADDED] 'showlegend' option for simple_plotly
+- [CHANGED] rename u by vm (voltage magnitude) in file and functions names
+- [FIX] plotly: only one legend entry for all lines/trafos instead of single entries for each one
+- [FIX] fixed deprecation warning for pandas indexing with set (sets changed to lists inside .loc)
+- [FIX] fixed hover information for lines in plotly
+- [CHANGED] use numpy to vectorize trafo_control
+- [ADDED] generic functions in pandapower.toolbox to read and write data to/from elements
+- [CHANGED] remove code duplication in const_control, characteristic_control
+- [ADDED] added the funtionality to import grid data from PowerFactory
+- [FIXED] failing tests for PowerModels integration due to the missing pm option "ac"
 
 [2.8.0]- 2022-02-06
 ----------------------
 - [ADDED] toolbox functions false_elm_links() and false_elm_links_loop()
 - [FIXED] poly_cost and pwl_cost consideration in merge_nets()
 - [ADDED] "results" initialization for runopp()
 - [CHANGED] toolbox function nets_equal()
```

## Comparing `pandapower-2.8.0/LICENSE` & `pandapower-2.9.0/LICENSE`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/PKG-INFO` & `pandapower-2.9.0/PKG-INFO`

 * *Files 2% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: pandapower
-Version: 2.8.0
+Version: 2.9.0
 Summary: An easy to use open source tool for power system modeling, analysis and optimization with a high degree of automation.
 Home-page: http://www.pandapower.org
 Author: Leon Thurner, Alexander Scheidler
 Author-email: leon.thurner@iee.fraunhofer.de, alexander.scheidler@iee.fraunhofer.de
 License: BSD
 Platform: UNKNOWN
 Classifier: Development Status :: 5 - Production/Stable
@@ -13,17 +13,18 @@
 Classifier: Intended Audience :: Education
 Classifier: Intended Audience :: Science/Research
 Classifier: License :: OSI Approved :: BSD License
 Classifier: Natural Language :: English
 Classifier: Operating System :: OS Independent
 Classifier: Programming Language :: Python
 Classifier: Programming Language :: Python :: 3
-Classifier: Programming Language :: Python :: 3.9
 Classifier: Programming Language :: Python :: 3.7
 Classifier: Programming Language :: Python :: 3.8
+Classifier: Programming Language :: Python :: 3.9
+Classifier: Programming Language :: Python :: 3.0
 Description-Content-Type: text/x-rst
 Provides-Extra: docs
 Provides-Extra: plotting
 Provides-Extra: test
 Provides-Extra: performance
 Provides-Extra: fileio
 Provides-Extra: all
@@ -131,14 +132,31 @@
 
 |
 
 We welcome contributions to pandapower of any kind - if you want to contribute, please check out the `pandapower contribution guidelines <https://github.com/e2nIEE/pandapower/blob/develop/CONTRIBUTING.rst>`_.
 
 
 Change Log
+=============
+
+[2.9.0]- 2022-03-23
+----------------------
+- [ADDED] added support for Python 3.10
+- [ADDED] added a function to pandapower.plotting to set line geodata from the geodata of the connected buses
+- [ADDED] plotly hover information will indicate parallel lines, if parallel > 1
+- [ADDED] 'showlegend' option for simple_plotly
+- [CHANGED] rename u by vm (voltage magnitude) in file and functions names
+- [FIX] plotly: only one legend entry for all lines/trafos instead of single entries for each one
+- [FIX] fixed deprecation warning for pandas indexing with set (sets changed to lists inside .loc)
+- [FIX] fixed hover information for lines in plotly
+- [CHANGED] use numpy to vectorize trafo_control
+- [ADDED] generic functions in pandapower.toolbox to read and write data to/from elements
+- [CHANGED] remove code duplication in const_control, characteristic_control
+- [ADDED] added the funtionality to import grid data from PowerFactory
+- [FIXED] failing tests for PowerModels integration due to the missing pm option "ac"
 
 [2.8.0]- 2022-02-06
 ----------------------
 - [ADDED] toolbox functions false_elm_links() and false_elm_links_loop()
 - [FIXED] poly_cost and pwl_cost consideration in merge_nets()
 - [ADDED] "results" initialization for runopp()
 - [CHANGED] toolbox function nets_equal()
```

## Comparing `pandapower-2.8.0/README.rst` & `pandapower-2.9.0/README.rst`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/setup.py` & `pandapower-2.9.0/setup.py`

 * *Files 4% similar despite different names*

```diff
@@ -22,45 +22,49 @@
     'Natural Language :: English',
     'Operating System :: OS Independent',
     'Programming Language :: Python',
     'Programming Language :: Python :: 3']
 
 with open('.github/workflows/github_test_action.yml', 'rb') as f:
     lines = f.read().decode('utf-8')
-    versions = set(re.findall('3.[7-9]', lines))
+    versions = set(re.findall('3.[7-9]', lines)) | set(re.findall('3.1[0-9]', lines))
     for version in versions:
         classifiers.append('Programming Language :: Python :: 3.%s' % version[-1])
 
 long_description = '\n\n'.join((install, changelog))
 
 setup(
     name='pandapower',
-    version='2.8.0',
+    version='2.9.0',
     author='Leon Thurner, Alexander Scheidler',
     author_email='leon.thurner@iee.fraunhofer.de, alexander.scheidler@iee.fraunhofer.de',
     description='An easy to use open source tool for power system modeling, analysis and optimization with a high degree of automation.',
     long_description=long_description,
-	long_description_content_type='text/x-rst',
+    long_description_content_type='text/x-rst',
     url='http://www.pandapower.org',
     license='BSD',
     install_requires=["pandas>=0.17",
                       "networkx>=2.5",
                       "scipy",
                       "numpy>=0.11",
-                      "packaging"],
+                      "packaging",
+                      "tqdm"],
     extras_require={
         "docs": ["numpydoc", "sphinx", "sphinx_rtd_theme"],
-        "plotting": ["plotly", "matplotlib", "python-igraph", "geopandas"],  # "shapely", "pyproj" are depedencies of geopandas and so already available; "base64", "hashlib", "zlib" produce installing problems, so it is not include
+        "plotting": ["plotly", "matplotlib", "python-igraph", "geopandas"],
+        # "shapely", "pyproj" are depedencies of geopandas and so already available;
+        # "base64", "hashlib", "zlib" produce installing problems, so they are not included
         "test": ["pytest", "pytest-xdist"],
-        "performance": ["ortools"],#, "lightsim2grid"],
-        "fileio": ["xlsxwriter", "openpyxl", "cryptography", "geopandas"],  # "fiona" is a depedency of geopandas and so already available
+        "performance": ["ortools"],  # , "lightsim2grid"],
+        "fileio": ["xlsxwriter", "openpyxl", "cryptography", "geopandas"],
+        # "fiona" is a depedency of geopandas and so already available
         "all": ["numpydoc", "sphinx", "sphinx_rtd_theme",
                 "plotly", "matplotlib", "python-igraph", "geopandas",
                 "pytest", "pytest-xdist",
-                "ortools",# lightsim2grid,
+                "ortools",  # lightsim2grid,
                 "xlsxwriter", "openpyxl", "cryptography"
                 ]},  # "shapely", "pyproj", "fiona" are depedencies of geopandas and so already available
     # "hashlib", "zlib", "base64" produce installing problems, so it is not included
     packages=find_packages(),
     include_package_data=True,
     classifiers=classifiers
 )
```

## Comparing `pandapower-2.8.0/.github/workflows/github_test_action.yml` & `pandapower-2.9.0/.github/workflows/github_test_action.yml`

 * *Files 4% similar despite different names*

```diff
@@ -15,15 +15,15 @@
 
 jobs:
   build:
 
     runs-on: ubuntu-latest
     strategy:
       matrix:
-        python-version: ['3.7', '3.8', '3.9']
+        python-version: ['3.7', '3.8', '3.9', '3.10']
 
     steps:
     - uses: actions/checkout@v2
     #- uses: julia-actions/setup-julia@v1.5
     - name: Set up Python ${{ matrix.python-version }}
       uses: actions/setup-python@v2
       with:
@@ -33,15 +33,15 @@
         python -m pip install --upgrade pip
         python -m pip install pytest
         if [ -f requirements.txt ]; then pip install -r requirements.txt; fi
         pip install .["all"]
         if ${{ matrix.python-version == '3.7' }}; then python -m pip install pypower; fi
         if ${{ matrix.python-version != '3.7' }}; then python -m pip install numba; fi
         if ${{ matrix.python-version == '3.7' }}; then python -m pip install lightsim2grid; fi
-        if ${{ matrix.python-version == '3.9' }}; then python -m pip install lightsim2grid; fi
+        if ${{ matrix.python-version == '3.10' }}; then python -m pip install lightsim2grid; fi
     - name: Install Julia
       if: ${{ matrix.python-version == '3.7' }}
       run: |
         ./.install_julia.sh 1.5
         pip install julia
         python ./.install_pycall.py
     - name: List of installed packages
@@ -63,38 +63,42 @@
         verbose: true
 
   relying: # packages that rely on pandapower
 
     runs-on: ubuntu-latest
     strategy:
       matrix:
-        python-version: ['3.7', '3.8', '3.9']
+        python-version: ['3.7', '3.8', '3.9', '3.10']
 
     steps:
     - uses: actions/checkout@v2
     - name: Set up Python ${{ matrix.python-version }}
       uses: actions/setup-python@v2
       with:
         python-version: ${{ matrix.python-version }}
     - name: Install dependencies
       run: |
         python -m pip install --upgrade pip
         python -m pip install pytest
         if [ -f requirements.txt ]; then pip install -r requirements.txt; fi
         pip install .
         pip install matplotlib
-    - name: Install pandapipes
+    - name: Install pandapipes and simbench
       run: |
         python -m pip install git+https://github.com/e2nIEE/pandapipes@develop#egg=pandapipes
+        python -m pip install git+https://github.com/e2nIEE/simbench@develop#egg=simbench
     - name: List of installed packages
       run: |
         pip list
     - name: Test pandapipes
       run: |
         python -c 'from pandapipes import pp_dir; import pytest; import sys; ec = pytest.main([pp_dir]); sys.exit(ec)'
+    - name: Test simbench
+      run: |
+        python -c 'from simbench import sb_dir; import pytest; import sys; ec = pytest.main([sb_dir]); sys.exit(ec)'
 
   linting:
     # run flake8 and check for errors
     runs-on: ubuntu-latest
     continue-on-error: true
     strategy:
       fail-fast: false
```

## Comparing `pandapower-2.8.0/doc/fileIO.csv` & `pandapower-2.9.0/doc/fileIO.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/doc/elements/asymmetric_load_par.csv` & `pandapower-2.9.0/doc/elements/asymmetric_load_par.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/doc/elements/asymmetric_sgen_par.csv` & `pandapower-2.9.0/doc/elements/asymmetric_sgen_par.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/doc/elements/bus_res_3ph.csv` & `pandapower-2.9.0/doc/elements/bus_res_3ph.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/doc/elements/dcline_par.csv` & `pandapower-2.9.0/doc/elements/dcline_par.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/doc/elements/dcline_res.csv` & `pandapower-2.9.0/doc/elements/dcline_res.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/doc/elements/ext_grid_par.csv` & `pandapower-2.9.0/doc/elements/ext_grid_par.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/doc/elements/gen_par.csv` & `pandapower-2.9.0/doc/elements/gen_par.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/doc/elements/impedance_par.csv` & `pandapower-2.9.0/doc/elements/impedance_par.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/doc/elements/impedance_res.csv` & `pandapower-2.9.0/doc/elements/impedance_res.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/doc/elements/line_par.csv` & `pandapower-2.9.0/doc/elements/line_par.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/doc/elements/line_res.csv` & `pandapower-2.9.0/doc/elements/line_res.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/doc/elements/line_res_3ph.csv` & `pandapower-2.9.0/doc/elements/line_res_3ph.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/doc/elements/load_asymmetric_res.csv` & `pandapower-2.9.0/doc/elements/load_asymmetric_res.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/doc/elements/load_par.csv` & `pandapower-2.9.0/doc/elements/load_par.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/doc/elements/measurement_par.csv` & `pandapower-2.9.0/doc/elements/measurement_par.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/doc/elements/motor_par.csv` & `pandapower-2.9.0/doc/elements/motor_par.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/doc/elements/sgen_par.csv` & `pandapower-2.9.0/doc/elements/sgen_par.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/doc/elements/storage_par.csv` & `pandapower-2.9.0/doc/elements/storage_par.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/doc/elements/switch_par.csv` & `pandapower-2.9.0/doc/elements/switch_par.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/doc/elements/trafo3w_par.csv` & `pandapower-2.9.0/doc/elements/trafo3w_par.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/doc/elements/trafo3w_res.csv` & `pandapower-2.9.0/doc/elements/trafo3w_res.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/doc/elements/trafo_par.csv` & `pandapower-2.9.0/doc/elements/trafo_par.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/doc/elements/trafo_res.csv` & `pandapower-2.9.0/doc/elements/trafo_res.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/doc/elements/trafo_res_3ph.csv` & `pandapower-2.9.0/doc/elements/trafo_res_3ph.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/doc/elements/xward_par.csv` & `pandapower-2.9.0/doc/elements/xward_par.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/doc/networks/kerber_extreme.csv` & `pandapower-2.9.0/doc/networks/kerber_extreme.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/doc/opf/opf_flexibility.csv` & `pandapower-2.9.0/doc/opf/opf_flexibility.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/doc/std_types/linetypes.csv` & `pandapower-2.9.0/doc/std_types/linetypes.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/doc/std_types/trafotypes.csv` & `pandapower-2.9.0/doc/std_types/trafotypes.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/auxiliary.py` & `pandapower-2.9.0/pandapower/auxiliary.py`

 * *Files 1% similar despite different names*

```diff
@@ -47,15 +47,15 @@
 
 try:
     from lightsim2grid.newtonpf import newtonpf_new as newtonpf_ls
     lightsim2grid_available = True
 except ImportError:
     lightsim2grid_available = False
 try:
-    import pplog as logging
+    import pandaplan.core.pplog as logging
 except ImportError:
     import logging
 
 logger = logging.getLogger(__name__)
 
 
 def soft_dependency_error(fct_name, required_packages):
```

## Comparing `pandapower-2.8.0/pandapower/build_branch.py` & `pandapower-2.9.0/pandapower/build_branch.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/build_bus.py` & `pandapower-2.9.0/pandapower/build_bus.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/build_gen.py` & `pandapower-2.9.0/pandapower/build_gen.py`

 * *Files 1% similar despite different names*

```diff
@@ -9,15 +9,15 @@
 from pandapower.pf.ppci_variables import bustypes
 from pandapower.pypower.idx_bus import PV, REF, VA, VM, BUS_TYPE, NONE, VMAX, VMIN, SL_FAC as SL_FAC_BUS
 from pandapower.pypower.idx_gen import QMIN, QMAX, PMIN, PMAX, GEN_BUS, PG, VG, QG, MBASE, SL_FAC
 from pandapower.pypower.idx_brch import F_BUS, T_BUS
 from pandapower.auxiliary import _subnetworks, _sum_by_group
 
 try:
-    import pplog as logging
+    import pandaplan.core.pplog as logging
 except ImportError:
     import logging
 
 logger = logging.getLogger(__name__)
 
 
 def _build_gen_ppc(net, ppc):
```

## Comparing `pandapower-2.8.0/pandapower/convert_format.py` & `pandapower-2.9.0/pandapower/convert_format.py`

 * *Files 1% similar despite different names*

```diff
@@ -8,15 +8,15 @@
 from packaging import version
 
 from pandapower import __version__
 from pandapower.create import create_empty_network, create_poly_cost
 from pandapower.results import reset_results
 
 try:
-    import pplog as logging
+    import pandaplan.core.pplog as logging
 except ImportError:
     import logging
 
 logger = logging.getLogger(__name__)
 
 
 def convert_format(net, elements_to_deserialize=None):
```

## Comparing `pandapower-2.8.0/pandapower/create.py` & `pandapower-2.9.0/pandapower/create.py`

 * *Files 0% similar despite different names*

```diff
@@ -38,11460 +38,11461 @@
 00000250: 2e73 7464 5f74 7970 6573 2069 6d70 6f72  .std_types impor
 00000260: 7420 6164 645f 6261 7369 635f 7374 645f  t add_basic_std_
 00000270: 7479 7065 732c 206c 6f61 645f 7374 645f  types, load_std_
 00000280: 7479 7065 2c20 6368 6563 6b5f 656e 7472  type, check_entr
 00000290: 795f 696e 5f73 7464 5f74 7970 650d 0a69  y_in_std_type..i
 000002a0: 6d70 6f72 7420 6e75 6d70 7920 6173 206e  mport numpy as n
 000002b0: 700d 0a0d 0a74 7279 3a0d 0a20 2020 2069  p....try:..    i
-000002c0: 6d70 6f72 7420 7070 6c6f 6720 6173 206c  mport pplog as l
-000002d0: 6f67 6769 6e67 0d0a 6578 6365 7074 2049  ogging..except I
-000002e0: 6d70 6f72 7445 7272 6f72 3a0d 0a20 2020  mportError:..   
-000002f0: 2069 6d70 6f72 7420 6c6f 6767 696e 670d   import logging.
-00000300: 0a0d 0a6c 6f67 6765 7220 3d20 6c6f 6767  ...logger = logg
-00000310: 696e 672e 6765 744c 6f67 6765 7228 5f5f  ing.getLogger(__
-00000320: 6e61 6d65 5f5f 290d 0a0d 0a0d 0a64 6566  name__)......def
-00000330: 2063 7265 6174 655f 656d 7074 795f 6e65   create_empty_ne
-00000340: 7477 6f72 6b28 6e61 6d65 3d22 222c 2066  twork(name="", f
-00000350: 5f68 7a3d 3530 2e2c 2073 6e5f 6d76 613d  _hz=50., sn_mva=
-00000360: 312c 2061 6464 5f73 7464 7479 7065 733d  1, add_stdtypes=
-00000370: 5472 7565 293a 0d0a 2020 2020 2222 220d  True):..    """.
-00000380: 0a20 2020 2054 6869 7320 6675 6e63 7469  .    This functi
-00000390: 6f6e 2069 6e69 7469 616c 697a 6573 2074  on initializes t
-000003a0: 6865 2070 616e 6461 706f 7765 7220 6461  he pandapower da
-000003b0: 7461 7374 7275 6374 7572 652e 0d0a 0d0a  tastructure.....
-000003c0: 2020 2020 4f50 5449 4f4e 414c 3a0d 0a20      OPTIONAL:.. 
-000003d0: 2020 2020 2020 202a 2a66 5f68 7a2a 2a20         **f_hz** 
-000003e0: 2866 6c6f 6174 2c20 3530 2e29 202d 2070  (float, 50.) - p
-000003f0: 6f77 6572 2073 7973 7465 6d20 6672 6571  ower system freq
-00000400: 7565 6e63 7920 696e 2068 6572 747a 0d0a  uency in hertz..
-00000410: 0d0a 2020 2020 2020 2020 2a2a 6e61 6d65  ..        **name
-00000420: 2a2a 2028 7374 7269 6e67 2c20 4e6f 6e65  ** (string, None
-00000430: 2920 2d20 6e61 6d65 2066 6f72 2074 6865  ) - name for the
-00000440: 206e 6574 776f 726b 0d0a 0d0a 2020 2020   network....    
-00000450: 2020 2020 2a2a 736e 5f6d 7661 2a2a 2028      **sn_mva** (
-00000460: 666c 6f61 742c 2031 6533 2920 2d20 7265  float, 1e3) - re
-00000470: 6665 7265 6e63 6520 6170 7061 7265 6e74  ference apparent
-00000480: 2070 6f77 6572 2066 6f72 2070 6572 2075   power for per u
-00000490: 6e69 7420 7379 7374 656d 0d0a 0d0a 2020  nit system....  
-000004a0: 2020 2020 2020 2a2a 6164 645f 7374 6474        **add_stdt
-000004b0: 7970 6573 2a2a 2028 626f 6f6c 6561 6e2c  ypes** (boolean,
-000004c0: 2054 7275 6529 202d 2049 6e63 6c75 6465   True) - Include
-000004d0: 7320 7374 616e 6461 7264 2074 7970 6573  s standard types
-000004e0: 2074 6f20 6e65 740d 0a0d 0a20 2020 204f   to net....    O
-000004f0: 5554 5055 543a 0d0a 2020 2020 2020 2020  UTPUT:..        
-00000500: 2a2a 6e65 742a 2a20 2861 7474 7264 6963  **net** (attrdic
-00000510: 7429 202d 2050 414e 4441 504f 5745 5220  t) - PANDAPOWER 
-00000520: 6174 7472 6469 6374 2077 6974 6820 656d  attrdict with em
-00000530: 7074 7920 7461 626c 6573 3a0d 0a0d 0a20  pty tables:.... 
-00000540: 2020 2045 5841 4d50 4c45 3a0d 0a20 2020     EXAMPLE:..   
-00000550: 2020 2020 206e 6574 203d 2063 7265 6174       net = creat
-00000560: 655f 656d 7074 795f 6e65 7477 6f72 6b28  e_empty_network(
-00000570: 290d 0a0d 0a20 2020 2022 2222 0d0a 2020  )....    """..  
-00000580: 2020 6e65 7420 3d20 7061 6e64 6170 6f77    net = pandapow
-00000590: 6572 4e65 7428 7b0d 0a20 2020 2020 2020  erNet({..       
-000005a0: 2023 2073 7472 7563 7475 7265 2064 6174   # structure dat
-000005b0: 610d 0a20 2020 2020 2020 2022 6275 7322  a..        "bus"
-000005c0: 3a20 5b28 276e 616d 6527 2c20 6474 7970  : [('name', dtyp
-000005d0: 6528 6f62 6a65 6374 2929 2c0d 0a20 2020  e(object)),..   
-000005e0: 2020 2020 2020 2020 2020 2020 2028 2776               ('v
-000005f0: 6e5f 6b76 272c 2027 6638 2729 2c0d 0a20  n_kv', 'f8'),.. 
-00000600: 2020 2020 2020 2020 2020 2020 2020 2028                 (
-00000610: 2774 7970 6527 2c20 6474 7970 6528 6f62  'type', dtype(ob
-00000620: 6a65 6374 2929 2c0d 0a20 2020 2020 2020  ject)),..       
-00000630: 2020 2020 2020 2020 2028 277a 6f6e 6527           ('zone'
-00000640: 2c20 6474 7970 6528 6f62 6a65 6374 2929  , dtype(object))
-00000650: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
-00000660: 2020 2028 2769 6e5f 7365 7276 6963 6527     ('in_service'
-00000670: 2c20 2762 6f6f 6c27 292c 205d 2c0d 0a20  , 'bool'), ],.. 
-00000680: 2020 2020 2020 2022 6c6f 6164 223a 205b         "load": [
-00000690: 2822 6e61 6d65 222c 2064 7479 7065 286f  ("name", dtype(o
-000006a0: 626a 6563 7429 292c 0d0a 2020 2020 2020  bject)),..      
-000006b0: 2020 2020 2020 2020 2020 2028 2262 7573             ("bus
-000006c0: 222c 2022 7534 2229 2c0d 0a20 2020 2020  ", "u4"),..     
-000006d0: 2020 2020 2020 2020 2020 2020 2822 705f              ("p_
-000006e0: 6d77 222c 2022 6638 2229 2c0d 0a20 2020  mw", "f8"),..   
-000006f0: 2020 2020 2020 2020 2020 2020 2020 2822                ("
-00000700: 715f 6d76 6172 222c 2022 6638 2229 2c0d  q_mvar", "f8"),.
-00000710: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00000720: 2020 2822 636f 6e73 745f 7a5f 7065 7263    ("const_z_perc
-00000730: 656e 7422 2c20 2266 3822 292c 0d0a 2020  ent", "f8"),..  
-00000740: 2020 2020 2020 2020 2020 2020 2020 2028                 (
-00000750: 2263 6f6e 7374 5f69 5f70 6572 6365 6e74  "const_i_percent
-00000760: 222c 2022 6638 2229 2c0d 0a20 2020 2020  ", "f8"),..     
-00000770: 2020 2020 2020 2020 2020 2020 2822 736e              ("sn
-00000780: 5f6d 7661 222c 2022 6638 2229 2c0d 0a20  _mva", "f8"),.. 
-00000790: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000007a0: 2822 7363 616c 696e 6722 2c20 2266 3822  ("scaling", "f8"
-000007b0: 292c 0d0a 2020 2020 2020 2020 2020 2020  ),..            
-000007c0: 2020 2020 2028 2269 6e5f 7365 7276 6963       ("in_servic
-000007d0: 6522 2c20 2762 6f6f 6c27 292c 0d0a 2020  e", 'bool'),..  
-000007e0: 2020 2020 2020 2020 2020 2020 2020 2028                 (
-000007f0: 2274 7970 6522 2c20 6474 7970 6528 6f62  "type", dtype(ob
-00000800: 6a65 6374 2929 5d2c 0d0a 2020 2020 2020  ject))],..      
-00000810: 2020 2273 6765 6e22 3a20 5b28 226e 616d    "sgen": [("nam
-00000820: 6522 2c20 6474 7970 6528 6f62 6a65 6374  e", dtype(object
-00000830: 2929 2c0d 0a20 2020 2020 2020 2020 2020  )),..           
-00000840: 2020 2020 2020 2822 6275 7322 2c20 2269        ("bus", "i
-00000850: 3822 292c 0d0a 2020 2020 2020 2020 2020  8"),..          
-00000860: 2020 2020 2020 2028 2270 5f6d 7722 2c20         ("p_mw", 
-00000870: 2266 3822 292c 0d0a 2020 2020 2020 2020  "f8"),..        
-00000880: 2020 2020 2020 2020 2028 2271 5f6d 7661           ("q_mva
-00000890: 7222 2c20 2266 3822 292c 0d0a 2020 2020  r", "f8"),..    
-000008a0: 2020 2020 2020 2020 2020 2020 2028 2273               ("s
-000008b0: 6e5f 6d76 6122 2c20 2266 3822 292c 0d0a  n_mva", "f8"),..
-000008c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000008d0: 2028 2273 6361 6c69 6e67 222c 2022 6638   ("scaling", "f8
-000008e0: 2229 2c0d 0a20 2020 2020 2020 2020 2020  "),..           
-000008f0: 2020 2020 2020 2822 696e 5f73 6572 7669        ("in_servi
-00000900: 6365 222c 2027 626f 6f6c 2729 2c0d 0a20  ce", 'bool'),.. 
-00000910: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000920: 2822 7479 7065 222c 2064 7479 7065 286f  ("type", dtype(o
-00000930: 626a 6563 7429 292c 0d0a 2020 2020 2020  bject)),..      
-00000940: 2020 2020 2020 2020 2020 2028 2263 7572             ("cur
-00000950: 7265 6e74 5f73 6f75 7263 6522 2c20 2262  rent_source", "b
-00000960: 6f6f 6c22 295d 2c0d 0a20 2020 2020 2020  ool")],..       
-00000970: 2022 6d6f 746f 7222 3a20 5b28 226e 616d   "motor": [("nam
-00000980: 6522 2c20 6474 7970 6528 6f62 6a65 6374  e", dtype(object
-00000990: 2929 2c0d 0a20 2020 2020 2020 2020 2020  )),..           
-000009a0: 2020 2020 2020 2028 2262 7573 222c 2022         ("bus", "
-000009b0: 6938 2229 2c0d 0a20 2020 2020 2020 2020  i8"),..         
-000009c0: 2020 2020 2020 2020 2028 2270 6e5f 6d65           ("pn_me
-000009d0: 6368 5f6d 7722 2c20 2266 3822 292c 0d0a  ch_mw", "f8"),..
-000009e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000009f0: 2020 2822 6c6f 6164 696e 675f 7065 7263    ("loading_perc
-00000a00: 656e 7422 2c20 2266 3822 292c 0d0a 2020  ent", "f8"),..  
-00000a10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000a20: 2822 636f 735f 7068 6922 2c20 2266 3822  ("cos_phi", "f8"
-00000a30: 292c 0d0a 2020 2020 2020 2020 2020 2020  ),..            
-00000a40: 2020 2020 2020 2822 636f 735f 7068 695f        ("cos_phi_
-00000a50: 6e22 2c20 2266 3822 292c 0d0a 2020 2020  n", "f8"),..    
-00000a60: 2020 2020 2020 2020 2020 2020 2020 2822                ("
-00000a70: 6566 6669 6369 656e 6379 5f70 6572 6365  efficiency_perce
-00000a80: 6e74 222c 2022 6638 2229 2c0d 0a20 2020  nt", "f8"),..   
-00000a90: 2020 2020 2020 2020 2020 2020 2020 2028                 (
-00000aa0: 2265 6666 6963 6965 6e63 795f 6e5f 7065  "efficiency_n_pe
-00000ab0: 7263 656e 7422 2c20 2266 3822 292c 0d0a  rcent", "f8"),..
-00000ac0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000ad0: 2020 2822 6c72 635f 7075 222c 2022 6638    ("lrc_pu", "f8
-00000ae0: 2229 2c0d 0a20 2020 2020 2020 2020 2020  "),..           
-00000af0: 2020 2020 2020 2028 2276 6e5f 6b76 222c         ("vn_kv",
-00000b00: 2022 6638 2229 2c0d 0a20 2020 2020 2020   "f8"),..       
-00000b10: 2020 2020 2020 2020 2020 2028 2273 6361             ("sca
-00000b20: 6c69 6e67 222c 2022 6638 2229 2c0d 0a20  ling", "f8"),.. 
-00000b30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000b40: 2028 2269 6e5f 7365 7276 6963 6522 2c20   ("in_service", 
-00000b50: 2762 6f6f 6c27 292c 0d0a 2020 2020 2020  'bool'),..      
-00000b60: 2020 2020 2020 2020 2020 2020 2822 7278              ("rx
-00000b70: 222c 2027 6638 2729 0d0a 2020 2020 2020  ", 'f8')..      
-00000b80: 2020 2020 2020 2020 2020 2020 5d2c 0d0a              ],..
-00000b90: 2020 2020 2020 2020 2261 7379 6d6d 6574          "asymmet
-00000ba0: 7269 635f 6c6f 6164 223a 205b 2822 6e61  ric_load": [("na
-00000bb0: 6d65 222c 2064 7479 7065 286f 626a 6563  me", dtype(objec
-00000bc0: 7429 292c 0d0a 2020 2020 2020 2020 2020  t)),..          
-00000bd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000be0: 2020 2822 6275 7322 2c20 2275 3422 292c    ("bus", "u4"),
-00000bf0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00000c00: 2020 2020 2020 2020 2020 2020 2020 2822                ("
-00000c10: 705f 615f 6d77 222c 2022 6638 2229 2c0d  p_a_mw", "f8"),.
-00000c20: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00000c30: 2020 2020 2020 2020 2020 2020 2028 2271               ("q
-00000c40: 5f61 5f6d 7661 7222 2c20 2266 3822 292c  _a_mvar", "f8"),
-00000c50: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00000c60: 2020 2020 2020 2020 2020 2020 2020 2822                ("
-00000c70: 705f 625f 6d77 222c 2022 6638 2229 2c0d  p_b_mw", "f8"),.
-00000c80: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00000c90: 2020 2020 2020 2020 2020 2020 2028 2271               ("q
-00000ca0: 5f62 5f6d 7661 7222 2c20 2266 3822 292c  _b_mvar", "f8"),
-00000cb0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00000cc0: 2020 2020 2020 2020 2020 2020 2020 2822                ("
-00000cd0: 705f 635f 6d77 222c 2022 6638 2229 2c0d  p_c_mw", "f8"),.
-00000ce0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00000cf0: 2020 2020 2020 2020 2020 2020 2028 2271               ("q
-00000d00: 5f63 5f6d 7661 7222 2c20 2266 3822 292c  _c_mvar", "f8"),
-00000d10: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00000d20: 2020 2020 2020 2020 2020 2020 2020 2822                ("
-00000d30: 736e 5f6d 7661 222c 2022 6638 2229 2c0d  sn_mva", "f8"),.
-00000d40: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00000d50: 2020 2020 2020 2020 2020 2020 2028 2273               ("s
-00000d60: 6361 6c69 6e67 222c 2022 6638 2229 2c0d  caling", "f8"),.
-00000d70: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00000d80: 2020 2020 2020 2020 2020 2020 2028 2269               ("i
-00000d90: 6e5f 7365 7276 6963 6522 2c20 2762 6f6f  n_service", 'boo
-00000da0: 6c27 292c 0d0a 2020 2020 2020 2020 2020  l'),..          
-00000db0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000dc0: 2020 2822 7479 7065 222c 2064 7479 7065    ("type", dtype
-00000dd0: 286f 626a 6563 7429 295d 2c0d 0a0d 0a20  (object))],.... 
-00000de0: 2020 2020 2020 2022 6173 796d 6d65 7472         "asymmetr
-00000df0: 6963 5f73 6765 6e22 3a20 5b28 226e 616d  ic_sgen": [("nam
-00000e00: 6522 2c20 6474 7970 6528 6f62 6a65 6374  e", dtype(object
-00000e10: 2929 2c0d 0a20 2020 2020 2020 2020 2020  )),..           
-00000e20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000e30: 2028 2262 7573 222c 2022 6938 2229 2c0d   ("bus", "i8"),.
-00000e40: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00000e50: 2020 2020 2020 2020 2020 2020 2028 2270               ("p
-00000e60: 5f61 5f6d 7722 2c20 2266 3822 292c 0d0a  _a_mw", "f8"),..
-00000e70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000e80: 2020 2020 2020 2020 2020 2020 2822 715f              ("q_
-00000e90: 615f 6d76 6172 222c 2022 6638 2229 2c0d  a_mvar", "f8"),.
-00000ea0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00000eb0: 2020 2020 2020 2020 2020 2020 2028 2270               ("p
-00000ec0: 5f62 5f6d 7722 2c20 2266 3822 292c 0d0a  _b_mw", "f8"),..
-00000ed0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000ee0: 2020 2020 2020 2020 2020 2020 2822 715f              ("q_
-00000ef0: 625f 6d76 6172 222c 2022 6638 2229 2c0d  b_mvar", "f8"),.
-00000f00: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00000f10: 2020 2020 2020 2020 2020 2020 2028 2270               ("p
-00000f20: 5f63 5f6d 7722 2c20 2266 3822 292c 0d0a  _c_mw", "f8"),..
-00000f30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000f40: 2020 2020 2020 2020 2020 2020 2822 715f              ("q_
-00000f50: 635f 6d76 6172 222c 2022 6638 2229 2c0d  c_mvar", "f8"),.
-00000f60: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00000f70: 2020 2020 2020 2020 2020 2020 2028 2273               ("s
-00000f80: 6e5f 6d76 6122 2c20 2266 3822 292c 0d0a  n_mva", "f8"),..
-00000f90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000fa0: 2020 2020 2020 2020 2020 2020 2822 7363              ("sc
-00000fb0: 616c 696e 6722 2c20 2266 3822 292c 0d0a  aling", "f8"),..
-00000fc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000fd0: 2020 2020 2020 2020 2020 2020 2822 696e              ("in
-00000fe0: 5f73 6572 7669 6365 222c 2027 626f 6f6c  _service", 'bool
-00000ff0: 2729 2c0d 0a20 2020 2020 2020 2020 2020  '),..           
-00001000: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001010: 2028 2274 7970 6522 2c20 6474 7970 6528   ("type", dtype(
-00001020: 6f62 6a65 6374 2929 2c0d 0a20 2020 2020  object)),..     
-00001030: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001040: 2020 2020 2020 2028 2263 7572 7265 6e74         ("current
-00001050: 5f73 6f75 7263 6522 2c20 2262 6f6f 6c22  _source", "bool"
-00001060: 295d 2c0d 0a20 2020 2020 2020 2022 7374  )],..        "st
-00001070: 6f72 6167 6522 3a20 5b28 226e 616d 6522  orage": [("name"
-00001080: 2c20 6474 7970 6528 6f62 6a65 6374 2929  , dtype(object))
-00001090: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
-000010a0: 2020 2020 2020 2028 2262 7573 222c 2022         ("bus", "
-000010b0: 6938 2229 2c0d 0a20 2020 2020 2020 2020  i8"),..         
-000010c0: 2020 2020 2020 2020 2020 2028 2270 5f6d             ("p_m
-000010d0: 7722 2c20 2266 3822 292c 0d0a 2020 2020  w", "f8"),..    
-000010e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000010f0: 2822 715f 6d76 6172 222c 2022 6638 2229  ("q_mvar", "f8")
-00001100: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
-00001110: 2020 2020 2020 2028 2273 6e5f 6d76 6122         ("sn_mva"
-00001120: 2c20 2266 3822 292c 0d0a 2020 2020 2020  , "f8"),..      
-00001130: 2020 2020 2020 2020 2020 2020 2020 2822                ("
-00001140: 736f 635f 7065 7263 656e 7422 2c20 2266  soc_percent", "f
-00001150: 3822 292c 0d0a 2020 2020 2020 2020 2020  8"),..          
-00001160: 2020 2020 2020 2020 2020 2822 6d69 6e5f            ("min_
-00001170: 655f 6d77 6822 2c20 2266 3822 292c 0d0a  e_mwh", "f8"),..
-00001180: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001190: 2020 2020 2822 6d61 785f 655f 6d77 6822      ("max_e_mwh"
-000011a0: 2c20 2266 3822 292c 0d0a 2020 2020 2020  , "f8"),..      
-000011b0: 2020 2020 2020 2020 2020 2020 2020 2822                ("
-000011c0: 7363 616c 696e 6722 2c20 2266 3822 292c  scaling", "f8"),
-000011d0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-000011e0: 2020 2020 2020 2822 696e 5f73 6572 7669        ("in_servi
-000011f0: 6365 222c 2027 626f 6f6c 2729 2c0d 0a20  ce", 'bool'),.. 
-00001200: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001210: 2020 2028 2274 7970 6522 2c20 6474 7970     ("type", dtyp
-00001220: 6528 6f62 6a65 6374 2929 5d2c 0d0a 2020  e(object))],..  
-00001230: 2020 2020 2020 2267 656e 223a 205b 2822        "gen": [("
-00001240: 6e61 6d65 222c 2064 7479 7065 286f 626a  name", dtype(obj
-00001250: 6563 7429 292c 0d0a 2020 2020 2020 2020  ect)),..        
-00001260: 2020 2020 2020 2020 2822 6275 7322 2c20          ("bus", 
-00001270: 2275 3422 292c 0d0a 2020 2020 2020 2020  "u4"),..        
-00001280: 2020 2020 2020 2020 2822 705f 6d77 222c          ("p_mw",
-00001290: 2022 6638 2229 2c0d 0a20 2020 2020 2020   "f8"),..       
-000012a0: 2020 2020 2020 2020 2028 2276 6d5f 7075           ("vm_pu
-000012b0: 222c 2022 6638 2229 2c0d 0a20 2020 2020  ", "f8"),..     
-000012c0: 2020 2020 2020 2020 2020 2028 2273 6e5f             ("sn_
-000012d0: 6d76 6122 2c20 2266 3822 292c 0d0a 2020  mva", "f8"),..  
-000012e0: 2020 2020 2020 2020 2020 2020 2020 2822                ("
-000012f0: 6d69 6e5f 715f 6d76 6172 222c 2022 6638  min_q_mvar", "f8
-00001300: 2229 2c0d 0a20 2020 2020 2020 2020 2020  "),..           
-00001310: 2020 2020 2028 226d 6178 5f71 5f6d 7661       ("max_q_mva
-00001320: 7222 2c20 2266 3822 292c 0d0a 2020 2020  r", "f8"),..    
-00001330: 2020 2020 2020 2020 2020 2020 2822 7363              ("sc
-00001340: 616c 696e 6722 2c20 2266 3822 292c 0d0a  aling", "f8"),..
-00001350: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001360: 2822 736c 6163 6b22 2c20 2262 6f6f 6c22  ("slack", "bool"
-00001370: 292c 0d0a 2020 2020 2020 2020 2020 2020  ),..            
-00001380: 2020 2020 2822 696e 5f73 6572 7669 6365      ("in_service
-00001390: 222c 2027 626f 6f6c 2729 2c0d 0a20 2020  ", 'bool'),..   
-000013a0: 2020 2020 2020 2020 2020 2020 2028 2273               ("s
-000013b0: 6c61 636b 5f77 6569 6768 7422 2c20 2766  lack_weight", 'f
-000013c0: 3827 292c 0d0a 2020 2020 2020 2020 2020  8'),..          
-000013d0: 2020 2020 2020 2822 7479 7065 222c 2064        ("type", d
-000013e0: 7479 7065 286f 626a 6563 7429 295d 2c0d  type(object))],.
-000013f0: 0a20 2020 2020 2020 2022 7377 6974 6368  .        "switch
-00001400: 223a 205b 2822 6275 7322 2c20 2269 3822  ": [("bus", "i8"
-00001410: 292c 0d0a 2020 2020 2020 2020 2020 2020  ),..            
-00001420: 2020 2020 2020 2028 2265 6c65 6d65 6e74         ("element
-00001430: 222c 2022 6938 2229 2c0d 0a20 2020 2020  ", "i8"),..     
-00001440: 2020 2020 2020 2020 2020 2020 2020 2822                ("
-00001450: 6574 222c 2064 7479 7065 286f 626a 6563  et", dtype(objec
-00001460: 7429 292c 0d0a 2020 2020 2020 2020 2020  t)),..          
-00001470: 2020 2020 2020 2020 2028 2274 7970 6522           ("type"
-00001480: 2c20 6474 7970 6528 6f62 6a65 6374 2929  , dtype(object))
-00001490: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
-000014a0: 2020 2020 2020 2822 636c 6f73 6564 222c        ("closed",
-000014b0: 2022 626f 6f6c 2229 2c0d 0a20 2020 2020   "bool"),..     
-000014c0: 2020 2020 2020 2020 2020 2020 2020 2822                ("
-000014d0: 6e61 6d65 222c 2064 7479 7065 286f 626a  name", dtype(obj
-000014e0: 6563 7429 292c 0d0a 2020 2020 2020 2020  ect)),..        
-000014f0: 2020 2020 2020 2020 2020 2028 227a 5f6f             ("z_o
-00001500: 686d 222c 2022 6638 2229 5d2c 0d0a 2020  hm", "f8")],..  
-00001510: 2020 2020 2020 2273 6875 6e74 223a 205b        "shunt": [
-00001520: 2822 6275 7322 2c20 2275 3422 292c 0d0a  ("bus", "u4"),..
-00001530: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001540: 2020 2822 6e61 6d65 222c 2064 7479 7065    ("name", dtype
-00001550: 286f 626a 6563 7429 292c 0d0a 2020 2020  (object)),..    
-00001560: 2020 2020 2020 2020 2020 2020 2020 2822                ("
-00001570: 715f 6d76 6172 222c 2022 6638 2229 2c0d  q_mvar", "f8"),.
-00001580: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00001590: 2020 2028 2270 5f6d 7722 2c20 2266 3822     ("p_mw", "f8"
-000015a0: 292c 0d0a 2020 2020 2020 2020 2020 2020  ),..            
-000015b0: 2020 2020 2020 2822 766e 5f6b 7622 2c20        ("vn_kv", 
-000015c0: 2266 3822 292c 0d0a 2020 2020 2020 2020  "f8"),..        
-000015d0: 2020 2020 2020 2020 2020 2822 7374 6570            ("step
-000015e0: 222c 2022 7534 2229 2c0d 0a20 2020 2020  ", "u4"),..     
-000015f0: 2020 2020 2020 2020 2020 2020 2028 226d               ("m
-00001600: 6178 5f73 7465 7022 2c20 2275 3422 292c  ax_step", "u4"),
-00001610: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00001620: 2020 2020 2822 696e 5f73 6572 7669 6365      ("in_service
-00001630: 222c 2022 626f 6f6c 2229 5d2c 0d0a 2020  ", "bool")],..  
-00001640: 2020 2020 2020 2265 7874 5f67 7269 6422        "ext_grid"
-00001650: 3a20 5b28 226e 616d 6522 2c20 6474 7970  : [("name", dtyp
-00001660: 6528 6f62 6a65 6374 2929 2c0d 0a20 2020  e(object)),..   
-00001670: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001680: 2020 2822 6275 7322 2c20 2275 3422 292c    ("bus", "u4"),
-00001690: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-000016a0: 2020 2020 2020 2028 2276 6d5f 7075 222c         ("vm_pu",
-000016b0: 2022 6638 2229 2c0d 0a20 2020 2020 2020   "f8"),..       
-000016c0: 2020 2020 2020 2020 2020 2020 2020 2822                ("
-000016d0: 7661 5f64 6567 7265 6522 2c20 2266 3822  va_degree", "f8"
-000016e0: 292c 0d0a 2020 2020 2020 2020 2020 2020  ),..            
-000016f0: 2020 2020 2020 2020 2028 2273 6c61 636b           ("slack
-00001700: 5f77 6569 6768 7422 2c20 2766 3827 292c  _weight", 'f8'),
-00001710: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00001720: 2020 2020 2020 2028 2269 6e5f 7365 7276         ("in_serv
-00001730: 6963 6522 2c20 2762 6f6f 6c27 295d 2c0d  ice", 'bool')],.
-00001740: 0a20 2020 2020 2020 2022 6c69 6e65 223a  .        "line":
-00001750: 205b 2822 6e61 6d65 222c 2064 7479 7065   [("name", dtype
-00001760: 286f 626a 6563 7429 292c 0d0a 2020 2020  (object)),..    
-00001770: 2020 2020 2020 2020 2020 2020 2028 2273               ("s
-00001780: 7464 5f74 7970 6522 2c20 6474 7970 6528  td_type", dtype(
-00001790: 6f62 6a65 6374 2929 2c0d 0a20 2020 2020  object)),..     
-000017a0: 2020 2020 2020 2020 2020 2020 2822 6672              ("fr
-000017b0: 6f6d 5f62 7573 222c 2022 7534 2229 2c0d  om_bus", "u4"),.
-000017c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000017d0: 2020 2822 746f 5f62 7573 222c 2022 7534    ("to_bus", "u4
-000017e0: 2229 2c0d 0a20 2020 2020 2020 2020 2020  "),..           
-000017f0: 2020 2020 2020 2822 6c65 6e67 7468 5f6b        ("length_k
-00001800: 6d22 2c20 2266 3822 292c 0d0a 2020 2020  m", "f8"),..    
-00001810: 2020 2020 2020 2020 2020 2020 2028 2272               ("r
-00001820: 5f6f 686d 5f70 6572 5f6b 6d22 2c20 2266  _ohm_per_km", "f
-00001830: 3822 292c 0d0a 2020 2020 2020 2020 2020  8"),..          
-00001840: 2020 2020 2020 2028 2278 5f6f 686d 5f70         ("x_ohm_p
-00001850: 6572 5f6b 6d22 2c20 2266 3822 292c 0d0a  er_km", "f8"),..
-00001860: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001870: 2028 2263 5f6e 665f 7065 725f 6b6d 222c   ("c_nf_per_km",
-00001880: 2022 6638 2229 2c0d 0a20 2020 2020 2020   "f8"),..       
-00001890: 2020 2020 2020 2020 2020 2822 675f 7573            ("g_us
-000018a0: 5f70 6572 5f6b 6d22 2c20 2266 3822 292c  _per_km", "f8"),
-000018b0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-000018c0: 2020 2028 226d 6178 5f69 5f6b 6122 2c20     ("max_i_ka", 
-000018d0: 2266 3822 292c 0d0a 2020 2020 2020 2020  "f8"),..        
-000018e0: 2020 2020 2020 2020 2028 2264 6622 2c20           ("df", 
-000018f0: 2266 3822 292c 0d0a 2020 2020 2020 2020  "f8"),..        
-00001900: 2020 2020 2020 2020 2028 2270 6172 616c           ("paral
-00001910: 6c65 6c22 2c20 2275 3422 292c 0d0a 2020  lel", "u4"),..  
-00001920: 2020 2020 2020 2020 2020 2020 2020 2028                 (
-00001930: 2274 7970 6522 2c20 6474 7970 6528 6f62  "type", dtype(ob
-00001940: 6a65 6374 2929 2c0d 0a20 2020 2020 2020  ject)),..       
-00001950: 2020 2020 2020 2020 2020 2822 696e 5f73            ("in_s
-00001960: 6572 7669 6365 222c 2027 626f 6f6c 2729  ervice", 'bool')
-00001970: 5d2c 0d0a 2020 2020 2020 2020 2274 7261  ],..        "tra
-00001980: 666f 223a 205b 2822 6e61 6d65 222c 2064  fo": [("name", d
-00001990: 7479 7065 286f 626a 6563 7429 292c 0d0a  type(object)),..
-000019a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000019b0: 2020 2822 7374 645f 7479 7065 222c 2064    ("std_type", d
-000019c0: 7479 7065 286f 626a 6563 7429 292c 0d0a  type(object)),..
-000019d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000019e0: 2020 2822 6876 5f62 7573 222c 2022 7534    ("hv_bus", "u4
-000019f0: 2229 2c0d 0a20 2020 2020 2020 2020 2020  "),..           
-00001a00: 2020 2020 2020 2028 226c 765f 6275 7322         ("lv_bus"
-00001a10: 2c20 2275 3422 292c 0d0a 2020 2020 2020  , "u4"),..      
-00001a20: 2020 2020 2020 2020 2020 2020 2822 736e              ("sn
-00001a30: 5f6d 7661 222c 2022 6638 2229 2c0d 0a20  _mva", "f8"),.. 
-00001a40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001a50: 2028 2276 6e5f 6876 5f6b 7622 2c20 2266   ("vn_hv_kv", "f
-00001a60: 3822 292c 0d0a 2020 2020 2020 2020 2020  8"),..          
-00001a70: 2020 2020 2020 2020 2822 766e 5f6c 765f          ("vn_lv_
-00001a80: 6b76 222c 2022 6638 2229 2c0d 0a20 2020  kv", "f8"),..   
-00001a90: 2020 2020 2020 2020 2020 2020 2020 2028                 (
-00001aa0: 2276 6b5f 7065 7263 656e 7422 2c20 2266  "vk_percent", "f
-00001ab0: 3822 292c 0d0a 2020 2020 2020 2020 2020  8"),..          
-00001ac0: 2020 2020 2020 2020 2822 766b 725f 7065          ("vkr_pe
-00001ad0: 7263 656e 7422 2c20 2266 3822 292c 0d0a  rcent", "f8"),..
-00001ae0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001af0: 2020 2822 7066 655f 6b77 222c 2022 6638    ("pfe_kw", "f8
-00001b00: 2229 2c0d 0a20 2020 2020 2020 2020 2020  "),..           
-00001b10: 2020 2020 2020 2028 2269 305f 7065 7263         ("i0_perc
-00001b20: 656e 7422 2c20 2266 3822 292c 0d0a 2020  ent", "f8"),..  
-00001b30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001b40: 2822 7368 6966 745f 6465 6772 6565 222c  ("shift_degree",
-00001b50: 2022 6638 2229 2c0d 0a20 2020 2020 2020   "f8"),..       
-00001b60: 2020 2020 2020 2020 2020 2028 2274 6170             ("tap
-00001b70: 5f73 6964 6522 2c20 6474 7970 6528 6f62  _side", dtype(ob
-00001b80: 6a65 6374 2929 2c0d 0a20 2020 2020 2020  ject)),..       
-00001b90: 2020 2020 2020 2020 2020 2028 2274 6170             ("tap
-00001ba0: 5f6e 6575 7472 616c 222c 2022 6934 2229  _neutral", "i4")
-00001bb0: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
-00001bc0: 2020 2020 2028 2274 6170 5f6d 696e 222c       ("tap_min",
-00001bd0: 2022 6934 2229 2c0d 0a20 2020 2020 2020   "i4"),..       
-00001be0: 2020 2020 2020 2020 2020 2028 2274 6170             ("tap
-00001bf0: 5f6d 6178 222c 2022 6934 2229 2c0d 0a20  _max", "i4"),.. 
-00001c00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001c10: 2028 2274 6170 5f73 7465 705f 7065 7263   ("tap_step_perc
-00001c20: 656e 7422 2c20 2266 3822 292c 0d0a 2020  ent", "f8"),..  
-00001c30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001c40: 2822 7461 705f 7374 6570 5f64 6567 7265  ("tap_step_degre
-00001c50: 6522 2c20 2266 3822 292c 0d0a 2020 2020  e", "f8"),..    
-00001c60: 2020 2020 2020 2020 2020 2020 2020 2822                ("
-00001c70: 7461 705f 706f 7322 2c20 2269 3422 292c  tap_pos", "i4"),
-00001c80: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00001c90: 2020 2020 2822 7461 705f 7068 6173 655f      ("tap_phase_
-00001ca0: 7368 6966 7465 7222 2c20 2762 6f6f 6c27  shifter", 'bool'
-00001cb0: 292c 0d0a 2020 2020 2020 2020 2020 2020  ),..            
-00001cc0: 2020 2020 2020 2822 7061 7261 6c6c 656c        ("parallel
-00001cd0: 222c 2022 7534 2229 2c0d 0a20 2020 2020  ", "u4"),..     
-00001ce0: 2020 2020 2020 2020 2020 2020 2028 2264               ("d
-00001cf0: 6622 2c20 2266 3822 292c 0d0a 2020 2020  f", "f8"),..    
-00001d00: 2020 2020 2020 2020 2020 2020 2020 2822                ("
-00001d10: 696e 5f73 6572 7669 6365 222c 2027 626f  in_service", 'bo
-00001d20: 6f6c 2729 5d2c 0d0a 2020 2020 2020 2020  ol')],..        
-00001d30: 2274 7261 666f 3377 223a 205b 2822 6e61  "trafo3w": [("na
-00001d40: 6d65 222c 2064 7479 7065 286f 626a 6563  me", dtype(objec
-00001d50: 7429 292c 0d0a 2020 2020 2020 2020 2020  t)),..          
-00001d60: 2020 2020 2020 2020 2020 2822 7374 645f            ("std_
-00001d70: 7479 7065 222c 2064 7479 7065 286f 626a  type", dtype(obj
-00001d80: 6563 7429 292c 0d0a 2020 2020 2020 2020  ect)),..        
-00001d90: 2020 2020 2020 2020 2020 2020 2822 6876              ("hv
-00001da0: 5f62 7573 222c 2022 7534 2229 2c0d 0a20  _bus", "u4"),.. 
-00001db0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001dc0: 2020 2028 226d 765f 6275 7322 2c20 2275     ("mv_bus", "u
-00001dd0: 3422 292c 0d0a 2020 2020 2020 2020 2020  4"),..          
-00001de0: 2020 2020 2020 2020 2020 2822 6c76 5f62            ("lv_b
-00001df0: 7573 222c 2022 7534 2229 2c0d 0a20 2020  us", "u4"),..   
-00001e00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001e10: 2028 2273 6e5f 6876 5f6d 7661 222c 2022   ("sn_hv_mva", "
-00001e20: 6638 2229 2c0d 0a20 2020 2020 2020 2020  f8"),..         
-00001e30: 2020 2020 2020 2020 2020 2028 2273 6e5f             ("sn_
-00001e40: 6d76 5f6d 7661 222c 2022 6638 2229 2c0d  mv_mva", "f8"),.
-00001e50: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00001e60: 2020 2020 2028 2273 6e5f 6c76 5f6d 7661       ("sn_lv_mva
-00001e70: 222c 2022 6638 2229 2c0d 0a20 2020 2020  ", "f8"),..     
-00001e80: 2020 2020 2020 2020 2020 2020 2020 2028                 (
-00001e90: 2276 6e5f 6876 5f6b 7622 2c20 2266 3822  "vn_hv_kv", "f8"
-00001ea0: 292c 0d0a 2020 2020 2020 2020 2020 2020  ),..            
-00001eb0: 2020 2020 2020 2020 2822 766e 5f6d 765f          ("vn_mv_
-00001ec0: 6b76 222c 2022 6638 2229 2c0d 0a20 2020  kv", "f8"),..   
-00001ed0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001ee0: 2028 2276 6e5f 6c76 5f6b 7622 2c20 2266   ("vn_lv_kv", "f
-00001ef0: 3822 292c 0d0a 2020 2020 2020 2020 2020  8"),..          
-00001f00: 2020 2020 2020 2020 2020 2822 766b 5f68            ("vk_h
-00001f10: 765f 7065 7263 656e 7422 2c20 2266 3822  v_percent", "f8"
-00001f20: 292c 0d0a 2020 2020 2020 2020 2020 2020  ),..            
-00001f30: 2020 2020 2020 2020 2822 766b 5f6d 765f          ("vk_mv_
-00001f40: 7065 7263 656e 7422 2c20 2266 3822 292c  percent", "f8"),
-00001f50: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00001f60: 2020 2020 2020 2822 766b 5f6c 765f 7065        ("vk_lv_pe
-00001f70: 7263 656e 7422 2c20 2266 3822 292c 0d0a  rcent", "f8"),..
-00001f80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001f90: 2020 2020 2822 766b 725f 6876 5f70 6572      ("vkr_hv_per
-00001fa0: 6365 6e74 222c 2022 6638 2229 2c0d 0a20  cent", "f8"),.. 
-00001fb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001fc0: 2020 2028 2276 6b72 5f6d 765f 7065 7263     ("vkr_mv_perc
-00001fd0: 656e 7422 2c20 2266 3822 292c 0d0a 2020  ent", "f8"),..  
-00001fe0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001ff0: 2020 2822 766b 725f 6c76 5f70 6572 6365    ("vkr_lv_perce
-00002000: 6e74 222c 2022 6638 2229 2c0d 0a20 2020  nt", "f8"),..   
-00002010: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002020: 2028 2270 6665 5f6b 7722 2c20 2266 3822   ("pfe_kw", "f8"
-00002030: 292c 0d0a 2020 2020 2020 2020 2020 2020  ),..            
-00002040: 2020 2020 2020 2020 2822 6930 5f70 6572          ("i0_per
-00002050: 6365 6e74 222c 2022 6638 2229 2c0d 0a20  cent", "f8"),.. 
-00002060: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002070: 2020 2028 2273 6869 6674 5f6d 765f 6465     ("shift_mv_de
-00002080: 6772 6565 222c 2022 6638 2229 2c0d 0a20  gree", "f8"),.. 
-00002090: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000020a0: 2020 2028 2273 6869 6674 5f6c 765f 6465     ("shift_lv_de
-000020b0: 6772 6565 222c 2022 6638 2229 2c0d 0a20  gree", "f8"),.. 
-000020c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000020d0: 2020 2028 2274 6170 5f73 6964 6522 2c20     ("tap_side", 
-000020e0: 6474 7970 6528 6f62 6a65 6374 2929 2c0d  dtype(object)),.
-000020f0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00002100: 2020 2020 2028 2274 6170 5f6e 6575 7472       ("tap_neutr
-00002110: 616c 222c 2022 6934 2229 2c0d 0a20 2020  al", "i4"),..   
-00002120: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002130: 2028 2274 6170 5f6d 696e 222c 2022 6934   ("tap_min", "i4
-00002140: 2229 2c0d 0a20 2020 2020 2020 2020 2020  "),..           
-00002150: 2020 2020 2020 2020 2028 2274 6170 5f6d           ("tap_m
-00002160: 6178 222c 2022 6934 2229 2c0d 0a20 2020  ax", "i4"),..   
-00002170: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002180: 2028 2274 6170 5f73 7465 705f 7065 7263   ("tap_step_perc
-00002190: 656e 7422 2c20 2266 3822 292c 0d0a 2020  ent", "f8"),..  
-000021a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000021b0: 2020 2822 7461 705f 7374 6570 5f64 6567    ("tap_step_deg
-000021c0: 7265 6522 2c20 2266 3822 292c 0d0a 2020  ree", "f8"),..  
-000021d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000021e0: 2020 2822 7461 705f 706f 7322 2c20 2269    ("tap_pos", "i
-000021f0: 3422 292c 0d0a 2020 2020 2020 2020 2020  4"),..          
-00002200: 2020 2020 2020 2020 2020 2822 7461 705f            ("tap_
-00002210: 6174 5f73 7461 725f 706f 696e 7422 2c20  at_star_point", 
-00002220: 2762 6f6f 6c27 292c 0d0a 2020 2020 2020  'bool'),..      
-00002230: 2020 2020 2020 2020 2020 2020 2020 2822                ("
-00002240: 696e 5f73 6572 7669 6365 222c 2027 626f  in_service", 'bo
-00002250: 6f6c 2729 5d2c 0d0a 2020 2020 2020 2020  ol')],..        
-00002260: 2269 6d70 6564 616e 6365 223a 205b 2822  "impedance": [("
-00002270: 6e61 6d65 222c 2064 7479 7065 286f 626a  name", dtype(obj
-00002280: 6563 7429 292c 0d0a 2020 2020 2020 2020  ect)),..        
-00002290: 2020 2020 2020 2020 2020 2020 2020 2822                ("
-000022a0: 6672 6f6d 5f62 7573 222c 2022 7534 2229  from_bus", "u4")
-000022b0: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
-000022c0: 2020 2020 2020 2020 2028 2274 6f5f 6275           ("to_bu
-000022d0: 7322 2c20 2275 3422 292c 0d0a 2020 2020  s", "u4"),..    
-000022e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000022f0: 2020 2822 7266 745f 7075 222c 2022 6638    ("rft_pu", "f8
-00002300: 2229 2c0d 0a20 2020 2020 2020 2020 2020  "),..           
-00002310: 2020 2020 2020 2020 2020 2028 2278 6674             ("xft
-00002320: 5f70 7522 2c20 2266 3822 292c 0d0a 2020  _pu", "f8"),..  
-00002330: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002340: 2020 2020 2822 7274 665f 7075 222c 2022      ("rtf_pu", "
-00002350: 6638 2229 2c0d 0a20 2020 2020 2020 2020  f8"),..         
-00002360: 2020 2020 2020 2020 2020 2020 2028 2278               ("x
-00002370: 7466 5f70 7522 2c20 2266 3822 292c 0d0a  tf_pu", "f8"),..
-00002380: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002390: 2020 2020 2020 2822 736e 5f6d 7661 222c        ("sn_mva",
-000023a0: 2022 6638 2229 2c0d 0a20 2020 2020 2020   "f8"),..       
-000023b0: 2020 2020 2020 2020 2020 2020 2020 2028                 (
-000023c0: 2269 6e5f 7365 7276 6963 6522 2c20 2762  "in_service", 'b
-000023d0: 6f6f 6c27 295d 2c0d 0a20 2020 2020 2020  ool')],..       
-000023e0: 2022 6463 6c69 6e65 223a 205b 2822 6e61   "dcline": [("na
-000023f0: 6d65 222c 2064 7479 7065 286f 626a 6563  me", dtype(objec
-00002400: 7429 292c 0d0a 2020 2020 2020 2020 2020  t)),..          
-00002410: 2020 2020 2020 2020 2028 2266 726f 6d5f           ("from_
-00002420: 6275 7322 2c20 2275 3422 292c 0d0a 2020  bus", "u4"),..  
-00002430: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002440: 2028 2274 6f5f 6275 7322 2c20 2275 3422   ("to_bus", "u4"
-00002450: 292c 0d0a 2020 2020 2020 2020 2020 2020  ),..            
-00002460: 2020 2020 2020 2028 2270 5f6d 7722 2c20         ("p_mw", 
-00002470: 2266 3822 292c 0d0a 2020 2020 2020 2020  "f8"),..        
-00002480: 2020 2020 2020 2020 2020 2028 226c 6f73             ("los
-00002490: 735f 7065 7263 656e 7422 2c20 2766 3827  s_percent", 'f8'
-000024a0: 292c 0d0a 2020 2020 2020 2020 2020 2020  ),..            
-000024b0: 2020 2020 2020 2028 226c 6f73 735f 6d77         ("loss_mw
-000024c0: 222c 2027 6638 2729 2c0d 0a20 2020 2020  ", 'f8'),..     
-000024d0: 2020 2020 2020 2020 2020 2020 2020 2822                ("
-000024e0: 766d 5f66 726f 6d5f 7075 222c 2022 6638  vm_from_pu", "f8
-000024f0: 2229 2c0d 0a20 2020 2020 2020 2020 2020  "),..           
-00002500: 2020 2020 2020 2020 2822 766d 5f74 6f5f          ("vm_to_
-00002510: 7075 222c 2022 6638 2229 2c0d 0a20 2020  pu", "f8"),..   
-00002520: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002530: 2822 6d61 785f 705f 6d77 222c 2022 6638  ("max_p_mw", "f8
-00002540: 2229 2c0d 0a20 2020 2020 2020 2020 2020  "),..           
-00002550: 2020 2020 2020 2020 2822 6d69 6e5f 715f          ("min_q_
-00002560: 6672 6f6d 5f6d 7661 7222 2c20 2266 3822  from_mvar", "f8"
-00002570: 292c 0d0a 2020 2020 2020 2020 2020 2020  ),..            
-00002580: 2020 2020 2020 2028 226d 696e 5f71 5f74         ("min_q_t
-00002590: 6f5f 6d76 6172 222c 2022 6638 2229 2c0d  o_mvar", "f8"),.
-000025a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000025b0: 2020 2020 2822 6d61 785f 715f 6672 6f6d      ("max_q_from
-000025c0: 5f6d 7661 7222 2c20 2266 3822 292c 0d0a  _mvar", "f8"),..
-000025d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000025e0: 2020 2028 226d 6178 5f71 5f74 6f5f 6d76     ("max_q_to_mv
-000025f0: 6172 222c 2022 6638 2229 2c0d 0a20 2020  ar", "f8"),..   
-00002600: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002610: 2822 696e 5f73 6572 7669 6365 222c 2027  ("in_service", '
-00002620: 626f 6f6c 2729 5d2c 0d0a 2020 2020 2020  bool')],..      
-00002630: 2020 2277 6172 6422 3a20 5b28 226e 616d    "ward": [("nam
-00002640: 6522 2c20 6474 7970 6528 6f62 6a65 6374  e", dtype(object
-00002650: 2929 2c0d 0a20 2020 2020 2020 2020 2020  )),..           
-00002660: 2020 2020 2020 2822 6275 7322 2c20 2275        ("bus", "u
-00002670: 3422 292c 0d0a 2020 2020 2020 2020 2020  4"),..          
-00002680: 2020 2020 2020 2028 2270 735f 6d77 222c         ("ps_mw",
-00002690: 2022 6638 2229 2c0d 0a20 2020 2020 2020   "f8"),..       
-000026a0: 2020 2020 2020 2020 2020 2822 7173 5f6d            ("qs_m
-000026b0: 7661 7222 2c20 2266 3822 292c 0d0a 2020  var", "f8"),..  
-000026c0: 2020 2020 2020 2020 2020 2020 2020 2028                 (
-000026d0: 2271 7a5f 6d76 6172 222c 2022 6638 2229  "qz_mvar", "f8")
-000026e0: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
-000026f0: 2020 2020 2822 707a 5f6d 7722 2c20 2266      ("pz_mw", "f
-00002700: 3822 292c 0d0a 2020 2020 2020 2020 2020  8"),..          
-00002710: 2020 2020 2020 2028 2269 6e5f 7365 7276         ("in_serv
-00002720: 6963 6522 2c20 2262 6f6f 6c22 295d 2c0d  ice", "bool")],.
-00002730: 0a20 2020 2020 2020 2022 7877 6172 6422  .        "xward"
-00002740: 3a20 5b28 226e 616d 6522 2c20 6474 7970  : [("name", dtyp
-00002750: 6528 6f62 6a65 6374 2929 2c0d 0a20 2020  e(object)),..   
-00002760: 2020 2020 2020 2020 2020 2020 2020 2028                 (
-00002770: 2262 7573 222c 2022 7534 2229 2c0d 0a20  "bus", "u4"),.. 
-00002780: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002790: 2028 2270 735f 6d77 222c 2022 6638 2229   ("ps_mw", "f8")
-000027a0: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
-000027b0: 2020 2020 2028 2271 735f 6d76 6172 222c       ("qs_mvar",
-000027c0: 2022 6638 2229 2c0d 0a20 2020 2020 2020   "f8"),..       
-000027d0: 2020 2020 2020 2020 2020 2028 2271 7a5f             ("qz_
-000027e0: 6d76 6172 222c 2022 6638 2229 2c0d 0a20  mvar", "f8"),.. 
-000027f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002800: 2028 2270 7a5f 6d77 222c 2022 6638 2229   ("pz_mw", "f8")
-00002810: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
-00002820: 2020 2020 2028 2272 5f6f 686d 222c 2022       ("r_ohm", "
-00002830: 6638 2229 2c0d 0a20 2020 2020 2020 2020  f8"),..         
-00002840: 2020 2020 2020 2020 2028 2278 5f6f 686d           ("x_ohm
-00002850: 222c 2022 6638 2229 2c0d 0a20 2020 2020  ", "f8"),..     
-00002860: 2020 2020 2020 2020 2020 2020 2028 2276               ("v
-00002870: 6d5f 7075 222c 2022 6638 2229 2c0d 0a20  m_pu", "f8"),.. 
-00002880: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002890: 2028 2273 6c61 636b 5f77 6569 6768 7422   ("slack_weight"
-000028a0: 2c20 2766 3827 292c 0d0a 2020 2020 2020  , 'f8'),..      
-000028b0: 2020 2020 2020 2020 2020 2020 2822 696e              ("in
-000028c0: 5f73 6572 7669 6365 222c 2022 626f 6f6c  _service", "bool
-000028d0: 2229 5d2c 0d0a 2020 2020 2020 2020 226d  ")],..        "m
-000028e0: 6561 7375 7265 6d65 6e74 223a 205b 2822  easurement": [("
-000028f0: 6e61 6d65 222c 2064 7479 7065 286f 626a  name", dtype(obj
-00002900: 6563 7429 292c 0d0a 2020 2020 2020 2020  ect)),..        
-00002910: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002920: 2822 6d65 6173 7572 656d 656e 745f 7479  ("measurement_ty
-00002930: 7065 222c 2064 7479 7065 286f 626a 6563  pe", dtype(objec
-00002940: 7429 292c 0d0a 2020 2020 2020 2020 2020  t)),..          
-00002950: 2020 2020 2020 2020 2020 2020 2020 2822                ("
-00002960: 656c 656d 656e 745f 7479 7065 222c 2064  element_type", d
-00002970: 7479 7065 286f 626a 6563 7429 292c 0d0a  type(object)),..
-00002980: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002990: 2020 2020 2020 2020 2822 656c 656d 656e          ("elemen
-000029a0: 7422 2c20 2275 696e 7433 3222 292c 0d0a  t", "uint32"),..
-000029b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000029c0: 2020 2020 2020 2020 2822 7661 6c75 6522          ("value"
-000029d0: 2c20 2266 6c6f 6174 3634 2229 2c0d 0a20  , "float64"),.. 
-000029e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000029f0: 2020 2020 2020 2028 2273 7464 5f64 6576         ("std_dev
-00002a00: 222c 2022 666c 6f61 7436 3422 292c 0d0a  ", "float64"),..
-00002a10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002a20: 2020 2020 2020 2020 2822 7369 6465 222c          ("side",
-00002a30: 2064 7479 7065 286f 626a 6563 7429 295d   dtype(object))]
-00002a40: 2c0d 0a20 2020 2020 2020 2022 7077 6c5f  ,..        "pwl_
-00002a50: 636f 7374 223a 205b 2822 706f 7765 725f  cost": [("power_
-00002a60: 7479 7065 222c 2064 7479 7065 286f 626a  type", dtype(obj
-00002a70: 6563 7429 292c 0d0a 2020 2020 2020 2020  ect)),..        
-00002a80: 2020 2020 2020 2020 2020 2020 2028 2265               ("e
-00002a90: 6c65 6d65 6e74 222c 2022 7534 2229 2c0d  lement", "u4"),.
-00002aa0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00002ab0: 2020 2020 2020 2822 6574 222c 2064 7479        ("et", dty
-00002ac0: 7065 286f 626a 6563 7429 292c 0d0a 2020  pe(object)),..  
-00002ad0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002ae0: 2020 2028 2270 6f69 6e74 7322 2c20 6474     ("points", dt
-00002af0: 7970 6528 6f62 6a65 6374 2929 5d2c 0d0a  ype(object))],..
-00002b00: 2020 2020 2020 2020 2270 6f6c 795f 636f          "poly_co
-00002b10: 7374 223a 205b 2822 656c 656d 656e 7422  st": [("element"
-00002b20: 2c20 2275 3422 292c 0d0a 2020 2020 2020  , "u4"),..      
-00002b30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002b40: 2822 6574 222c 2064 7479 7065 286f 626a  ("et", dtype(obj
-00002b50: 6563 7429 292c 0d0a 2020 2020 2020 2020  ect)),..        
-00002b60: 2020 2020 2020 2020 2020 2020 2020 2822                ("
-00002b70: 6370 305f 6575 7222 2c20 6474 7970 6528  cp0_eur", dtype(
-00002b80: 2266 3822 2929 2c0d 0a20 2020 2020 2020  "f8")),..       
-00002b90: 2020 2020 2020 2020 2020 2020 2020 2028                 (
-00002ba0: 2263 7031 5f65 7572 5f70 6572 5f6d 7722  "cp1_eur_per_mw"
-00002bb0: 2c20 6474 7970 6528 2266 3822 2929 2c0d  , dtype("f8")),.
-00002bc0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00002bd0: 2020 2020 2020 2028 2263 7032 5f65 7572         ("cp2_eur
-00002be0: 5f70 6572 5f6d 7732 222c 2064 7479 7065  _per_mw2", dtype
-00002bf0: 2822 6638 2229 292c 0d0a 2020 2020 2020  ("f8")),..      
-00002c00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002c10: 2822 6371 305f 6575 7222 2c20 6474 7970  ("cq0_eur", dtyp
-00002c20: 6528 2266 3822 2929 2c0d 0a20 2020 2020  e("f8")),..     
-00002c30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002c40: 2028 2263 7131 5f65 7572 5f70 6572 5f6d   ("cq1_eur_per_m
-00002c50: 7661 7222 2c20 6474 7970 6528 2266 3822  var", dtype("f8"
-00002c60: 2929 2c0d 0a20 2020 2020 2020 2020 2020  )),..           
-00002c70: 2020 2020 2020 2020 2020 2028 2263 7132             ("cq2
-00002c80: 5f65 7572 5f70 6572 5f6d 7661 7232 222c  _eur_per_mvar2",
-00002c90: 2064 7479 7065 2822 6638 2229 290d 0a20   dtype("f8")).. 
-00002ca0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002cb0: 2020 2020 205d 2c0d 0a20 2020 2020 2020       ],..       
-00002cc0: 2027 6368 6172 6163 7465 7269 7374 6963   'characteristic
-00002cd0: 273a 205b 0d0a 2020 2020 2020 2020 2020  ': [..          
-00002ce0: 2020 2827 6f62 6a65 6374 272c 2064 7479    ('object', dty
-00002cf0: 7065 286f 626a 6563 7429 290d 0a20 2020  pe(object))..   
-00002d00: 2020 2020 205d 2c0d 0a20 2020 2020 2020       ],..       
-00002d10: 2027 636f 6e74 726f 6c6c 6572 273a 205b   'controller': [
-00002d20: 0d0a 2020 2020 2020 2020 2020 2020 2827  ..            ('
-00002d30: 6f62 6a65 6374 272c 2064 7479 7065 286f  object', dtype(o
-00002d40: 626a 6563 7429 292c 0d0a 2020 2020 2020  bject)),..      
-00002d50: 2020 2020 2020 2827 696e 5f73 6572 7669        ('in_servi
-00002d60: 6365 272c 2022 626f 6f6c 2229 2c0d 0a20  ce', "bool"),.. 
-00002d70: 2020 2020 2020 2020 2020 2028 276f 7264             ('ord
-00002d80: 6572 272c 2022 666c 6f61 7436 3422 292c  er', "float64"),
-00002d90: 0d0a 2020 2020 2020 2020 2020 2020 2827  ..            ('
-00002da0: 6c65 7665 6c27 2c20 6474 7970 6528 6f62  level', dtype(ob
-00002db0: 6a65 6374 2929 2c0d 0a20 2020 2020 2020  ject)),..       
-00002dc0: 2020 2020 2028 2769 6e69 7469 616c 5f72       ('initial_r
-00002dd0: 756e 272c 2022 626f 6f6c 2229 2c0d 0a20  un', "bool"),.. 
-00002de0: 2020 2020 2020 2020 2020 2028 2272 6563             ("rec
-00002df0: 7963 6c65 222c 2064 7479 7065 286f 626a  ycle", dtype(obj
-00002e00: 6563 7429 290d 0a20 2020 2020 2020 205d  ect))..        ]
-00002e10: 2c0d 0a20 2020 2020 2020 2023 2067 656f  ,..        # geo
-00002e20: 6461 7461 0d0a 2020 2020 2020 2020 226c  data..        "l
-00002e30: 696e 655f 6765 6f64 6174 6122 3a20 5b28  ine_geodata": [(
-00002e40: 2263 6f6f 7264 7322 2c20 6474 7970 6528  "coords", dtype(
-00002e50: 6f62 6a65 6374 2929 5d2c 0d0a 2020 2020  object))],..    
-00002e60: 2020 2020 2262 7573 5f67 656f 6461 7461      "bus_geodata
-00002e70: 223a 205b 2822 7822 2c20 2266 3822 292c  ": [("x", "f8"),
-00002e80: 2028 2279 222c 2022 6638 2229 2c20 2822   ("y", "f8"), ("
-00002e90: 636f 6f72 6473 222c 2064 7479 7065 286f  coords", dtype(o
-00002ea0: 626a 6563 7429 295d 2c0d 0a0d 0a20 2020  bject))],....   
-00002eb0: 2020 2020 2023 2072 6573 756c 7420 7461       # result ta
-00002ec0: 626c 6573 0d0a 2020 2020 2020 2020 225f  bles..        "_
-00002ed0: 656d 7074 795f 7265 735f 6275 7322 3a20  empty_res_bus": 
-00002ee0: 5b28 2276 6d5f 7075 222c 2022 6638 2229  [("vm_pu", "f8")
-00002ef0: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
-00002f00: 2020 2020 2020 2020 2020 2020 2020 2822                ("
-00002f10: 7661 5f64 6567 7265 6522 2c20 2266 3822  va_degree", "f8"
-00002f20: 292c 0d0a 2020 2020 2020 2020 2020 2020  ),..            
-00002f30: 2020 2020 2020 2020 2020 2020 2020 2028                 (
-00002f40: 2270 5f6d 7722 2c20 2266 3822 292c 0d0a  "p_mw", "f8"),..
-00002f50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002f60: 2020 2020 2020 2020 2020 2028 2271 5f6d             ("q_m
-00002f70: 7661 7222 2c20 2266 3822 295d 2c0d 0a20  var", "f8")],.. 
-00002f80: 2020 2020 2020 2022 5f65 6d70 7479 5f72         "_empty_r
-00002f90: 6573 5f65 7874 5f67 7269 6422 3a20 5b28  es_ext_grid": [(
-00002fa0: 2270 5f6d 7722 2c20 2266 3822 292c 0d0a  "p_mw", "f8"),..
-00002fb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000002c0: 6d70 6f72 7420 7061 6e64 6170 6c61 6e2e  mport pandaplan.
+000002d0: 636f 7265 2e70 706c 6f67 2061 7320 6c6f  core.pplog as lo
+000002e0: 6767 696e 670d 0a65 7863 6570 7420 496d  gging..except Im
+000002f0: 706f 7274 4572 726f 723a 0d0a 2020 2020  portError:..    
+00000300: 696d 706f 7274 206c 6f67 6769 6e67 0d0a  import logging..
+00000310: 0d0a 6c6f 6767 6572 203d 206c 6f67 6769  ..logger = loggi
+00000320: 6e67 2e67 6574 4c6f 6767 6572 285f 5f6e  ng.getLogger(__n
+00000330: 616d 655f 5f29 0d0a 0d0a 0d0a 6465 6620  ame__)......def 
+00000340: 6372 6561 7465 5f65 6d70 7479 5f6e 6574  create_empty_net
+00000350: 776f 726b 286e 616d 653d 2222 2c20 665f  work(name="", f_
+00000360: 687a 3d35 302e 2c20 736e 5f6d 7661 3d31  hz=50., sn_mva=1
+00000370: 2c20 6164 645f 7374 6474 7970 6573 3d54  , add_stdtypes=T
+00000380: 7275 6529 3a0d 0a20 2020 2022 2222 0d0a  rue):..    """..
+00000390: 2020 2020 5468 6973 2066 756e 6374 696f      This functio
+000003a0: 6e20 696e 6974 6961 6c69 7a65 7320 7468  n initializes th
+000003b0: 6520 7061 6e64 6170 6f77 6572 2064 6174  e pandapower dat
+000003c0: 6173 7472 7563 7475 7265 2e0d 0a0d 0a20  astructure..... 
+000003d0: 2020 204f 5054 494f 4e41 4c3a 0d0a 2020     OPTIONAL:..  
+000003e0: 2020 2020 2020 2a2a 665f 687a 2a2a 2028        **f_hz** (
+000003f0: 666c 6f61 742c 2035 302e 2920 2d20 706f  float, 50.) - po
+00000400: 7765 7220 7379 7374 656d 2066 7265 7175  wer system frequ
+00000410: 656e 6379 2069 6e20 6865 7274 7a0d 0a0d  ency in hertz...
+00000420: 0a20 2020 2020 2020 202a 2a6e 616d 652a  .        **name*
+00000430: 2a20 2873 7472 696e 672c 204e 6f6e 6529  * (string, None)
+00000440: 202d 206e 616d 6520 666f 7220 7468 6520   - name for the 
+00000450: 6e65 7477 6f72 6b0d 0a0d 0a20 2020 2020  network....     
+00000460: 2020 202a 2a73 6e5f 6d76 612a 2a20 2866     **sn_mva** (f
+00000470: 6c6f 6174 2c20 3165 3329 202d 2072 6566  loat, 1e3) - ref
+00000480: 6572 656e 6365 2061 7070 6172 656e 7420  erence apparent 
+00000490: 706f 7765 7220 666f 7220 7065 7220 756e  power for per un
+000004a0: 6974 2073 7973 7465 6d0d 0a0d 0a20 2020  it system....   
+000004b0: 2020 2020 202a 2a61 6464 5f73 7464 7479       **add_stdty
+000004c0: 7065 732a 2a20 2862 6f6f 6c65 616e 2c20  pes** (boolean, 
+000004d0: 5472 7565 2920 2d20 496e 636c 7564 6573  True) - Includes
+000004e0: 2073 7461 6e64 6172 6420 7479 7065 7320   standard types 
+000004f0: 746f 206e 6574 0d0a 0d0a 2020 2020 4f55  to net....    OU
+00000500: 5450 5554 3a0d 0a20 2020 2020 2020 202a  TPUT:..        *
+00000510: 2a6e 6574 2a2a 2028 6174 7472 6469 6374  *net** (attrdict
+00000520: 2920 2d20 5041 4e44 4150 4f57 4552 2061  ) - PANDAPOWER a
+00000530: 7474 7264 6963 7420 7769 7468 2065 6d70  ttrdict with emp
+00000540: 7479 2074 6162 6c65 733a 0d0a 0d0a 2020  ty tables:....  
+00000550: 2020 4558 414d 504c 453a 0d0a 2020 2020    EXAMPLE:..    
+00000560: 2020 2020 6e65 7420 3d20 6372 6561 7465      net = create
+00000570: 5f65 6d70 7479 5f6e 6574 776f 726b 2829  _empty_network()
+00000580: 0d0a 0d0a 2020 2020 2222 220d 0a20 2020  ....    """..   
+00000590: 206e 6574 203d 2070 616e 6461 706f 7765   net = pandapowe
+000005a0: 724e 6574 287b 0d0a 2020 2020 2020 2020  rNet({..        
+000005b0: 2320 7374 7275 6374 7572 6520 6461 7461  # structure data
+000005c0: 0d0a 2020 2020 2020 2020 2262 7573 223a  ..        "bus":
+000005d0: 205b 2827 6e61 6d65 272c 2064 7479 7065   [('name', dtype
+000005e0: 286f 626a 6563 7429 292c 0d0a 2020 2020  (object)),..    
+000005f0: 2020 2020 2020 2020 2020 2020 2827 766e              ('vn
+00000600: 5f6b 7627 2c20 2766 3827 292c 0d0a 2020  _kv', 'f8'),..  
+00000610: 2020 2020 2020 2020 2020 2020 2020 2827                ('
+00000620: 7479 7065 272c 2064 7479 7065 286f 626a  type', dtype(obj
+00000630: 6563 7429 292c 0d0a 2020 2020 2020 2020  ect)),..        
+00000640: 2020 2020 2020 2020 2827 7a6f 6e65 272c          ('zone',
+00000650: 2064 7479 7065 286f 626a 6563 7429 292c   dtype(object)),
+00000660: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00000670: 2020 2827 696e 5f73 6572 7669 6365 272c    ('in_service',
+00000680: 2027 626f 6f6c 2729 2c20 5d2c 0d0a 2020   'bool'), ],..  
+00000690: 2020 2020 2020 226c 6f61 6422 3a20 5b28        "load": [(
+000006a0: 226e 616d 6522 2c20 6474 7970 6528 6f62  "name", dtype(ob
+000006b0: 6a65 6374 2929 2c0d 0a20 2020 2020 2020  ject)),..       
+000006c0: 2020 2020 2020 2020 2020 2822 6275 7322            ("bus"
+000006d0: 2c20 2275 3422 292c 0d0a 2020 2020 2020  , "u4"),..      
+000006e0: 2020 2020 2020 2020 2020 2028 2270 5f6d             ("p_m
+000006f0: 7722 2c20 2266 3822 292c 0d0a 2020 2020  w", "f8"),..    
+00000700: 2020 2020 2020 2020 2020 2020 2028 2271               ("q
+00000710: 5f6d 7661 7222 2c20 2266 3822 292c 0d0a  _mvar", "f8"),..
+00000720: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000730: 2028 2263 6f6e 7374 5f7a 5f70 6572 6365   ("const_z_perce
+00000740: 6e74 222c 2022 6638 2229 2c0d 0a20 2020  nt", "f8"),..   
+00000750: 2020 2020 2020 2020 2020 2020 2020 2822                ("
+00000760: 636f 6e73 745f 695f 7065 7263 656e 7422  const_i_percent"
+00000770: 2c20 2266 3822 292c 0d0a 2020 2020 2020  , "f8"),..      
+00000780: 2020 2020 2020 2020 2020 2028 2273 6e5f             ("sn_
+00000790: 6d76 6122 2c20 2266 3822 292c 0d0a 2020  mva", "f8"),..  
+000007a0: 2020 2020 2020 2020 2020 2020 2020 2028                 (
+000007b0: 2273 6361 6c69 6e67 222c 2022 6638 2229  "scaling", "f8")
+000007c0: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
+000007d0: 2020 2020 2822 696e 5f73 6572 7669 6365      ("in_service
+000007e0: 222c 2027 626f 6f6c 2729 2c0d 0a20 2020  ", 'bool'),..   
+000007f0: 2020 2020 2020 2020 2020 2020 2020 2822                ("
+00000800: 7479 7065 222c 2064 7479 7065 286f 626a  type", dtype(obj
+00000810: 6563 7429 295d 2c0d 0a20 2020 2020 2020  ect))],..       
+00000820: 2022 7367 656e 223a 205b 2822 6e61 6d65   "sgen": [("name
+00000830: 222c 2064 7479 7065 286f 626a 6563 7429  ", dtype(object)
+00000840: 292c 0d0a 2020 2020 2020 2020 2020 2020  ),..            
+00000850: 2020 2020 2028 2262 7573 222c 2022 6938       ("bus", "i8
+00000860: 2229 2c0d 0a20 2020 2020 2020 2020 2020  "),..           
+00000870: 2020 2020 2020 2822 705f 6d77 222c 2022        ("p_mw", "
+00000880: 6638 2229 2c0d 0a20 2020 2020 2020 2020  f8"),..         
+00000890: 2020 2020 2020 2020 2822 715f 6d76 6172          ("q_mvar
+000008a0: 222c 2022 6638 2229 2c0d 0a20 2020 2020  ", "f8"),..     
+000008b0: 2020 2020 2020 2020 2020 2020 2822 736e              ("sn
+000008c0: 5f6d 7661 222c 2022 6638 2229 2c0d 0a20  _mva", "f8"),.. 
+000008d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000008e0: 2822 7363 616c 696e 6722 2c20 2266 3822  ("scaling", "f8"
+000008f0: 292c 0d0a 2020 2020 2020 2020 2020 2020  ),..            
+00000900: 2020 2020 2028 2269 6e5f 7365 7276 6963       ("in_servic
+00000910: 6522 2c20 2762 6f6f 6c27 292c 0d0a 2020  e", 'bool'),..  
+00000920: 2020 2020 2020 2020 2020 2020 2020 2028                 (
+00000930: 2274 7970 6522 2c20 6474 7970 6528 6f62  "type", dtype(ob
+00000940: 6a65 6374 2929 2c0d 0a20 2020 2020 2020  ject)),..       
+00000950: 2020 2020 2020 2020 2020 2822 6375 7272            ("curr
+00000960: 656e 745f 736f 7572 6365 222c 2022 626f  ent_source", "bo
+00000970: 6f6c 2229 5d2c 0d0a 2020 2020 2020 2020  ol")],..        
+00000980: 226d 6f74 6f72 223a 205b 2822 6e61 6d65  "motor": [("name
+00000990: 222c 2064 7479 7065 286f 626a 6563 7429  ", dtype(object)
+000009a0: 292c 0d0a 2020 2020 2020 2020 2020 2020  ),..            
+000009b0: 2020 2020 2020 2822 6275 7322 2c20 2269        ("bus", "i
+000009c0: 3822 292c 0d0a 2020 2020 2020 2020 2020  8"),..          
+000009d0: 2020 2020 2020 2020 2822 706e 5f6d 6563          ("pn_mec
+000009e0: 685f 6d77 222c 2022 6638 2229 2c0d 0a20  h_mw", "f8"),.. 
+000009f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000a00: 2028 226c 6f61 6469 6e67 5f70 6572 6365   ("loading_perce
+00000a10: 6e74 222c 2022 6638 2229 2c0d 0a20 2020  nt", "f8"),..   
+00000a20: 2020 2020 2020 2020 2020 2020 2020 2028                 (
+00000a30: 2263 6f73 5f70 6869 222c 2022 6638 2229  "cos_phi", "f8")
+00000a40: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
+00000a50: 2020 2020 2028 2263 6f73 5f70 6869 5f6e       ("cos_phi_n
+00000a60: 222c 2022 6638 2229 2c0d 0a20 2020 2020  ", "f8"),..     
+00000a70: 2020 2020 2020 2020 2020 2020 2028 2265               ("e
+00000a80: 6666 6963 6965 6e63 795f 7065 7263 656e  fficiency_percen
+00000a90: 7422 2c20 2266 3822 292c 0d0a 2020 2020  t", "f8"),..    
+00000aa0: 2020 2020 2020 2020 2020 2020 2020 2822                ("
+00000ab0: 6566 6669 6369 656e 6379 5f6e 5f70 6572  efficiency_n_per
+00000ac0: 6365 6e74 222c 2022 6638 2229 2c0d 0a20  cent", "f8"),.. 
+00000ad0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000ae0: 2028 226c 7263 5f70 7522 2c20 2266 3822   ("lrc_pu", "f8"
+00000af0: 292c 0d0a 2020 2020 2020 2020 2020 2020  ),..            
+00000b00: 2020 2020 2020 2822 766e 5f6b 7622 2c20        ("vn_kv", 
+00000b10: 2266 3822 292c 0d0a 2020 2020 2020 2020  "f8"),..        
+00000b20: 2020 2020 2020 2020 2020 2822 7363 616c            ("scal
+00000b30: 696e 6722 2c20 2266 3822 292c 0d0a 2020  ing", "f8"),..  
+00000b40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000b50: 2822 696e 5f73 6572 7669 6365 222c 2027  ("in_service", '
+00000b60: 626f 6f6c 2729 2c0d 0a20 2020 2020 2020  bool'),..       
+00000b70: 2020 2020 2020 2020 2020 2028 2272 7822             ("rx"
+00000b80: 2c20 2766 3827 290d 0a20 2020 2020 2020  , 'f8')..       
+00000b90: 2020 2020 2020 2020 2020 205d 2c0d 0a20             ],.. 
+00000ba0: 2020 2020 2020 2022 6173 796d 6d65 7472         "asymmetr
+00000bb0: 6963 5f6c 6f61 6422 3a20 5b28 226e 616d  ic_load": [("nam
+00000bc0: 6522 2c20 6474 7970 6528 6f62 6a65 6374  e", dtype(object
+00000bd0: 2929 2c0d 0a20 2020 2020 2020 2020 2020  )),..           
+00000be0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000bf0: 2028 2262 7573 222c 2022 7534 2229 2c0d   ("bus", "u4"),.
+00000c00: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00000c10: 2020 2020 2020 2020 2020 2020 2028 2270               ("p
+00000c20: 5f61 5f6d 7722 2c20 2266 3822 292c 0d0a  _a_mw", "f8"),..
+00000c30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000c40: 2020 2020 2020 2020 2020 2020 2822 715f              ("q_
+00000c50: 615f 6d76 6172 222c 2022 6638 2229 2c0d  a_mvar", "f8"),.
+00000c60: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00000c70: 2020 2020 2020 2020 2020 2020 2028 2270               ("p
+00000c80: 5f62 5f6d 7722 2c20 2266 3822 292c 0d0a  _b_mw", "f8"),..
+00000c90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000ca0: 2020 2020 2020 2020 2020 2020 2822 715f              ("q_
+00000cb0: 625f 6d76 6172 222c 2022 6638 2229 2c0d  b_mvar", "f8"),.
+00000cc0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00000cd0: 2020 2020 2020 2020 2020 2020 2028 2270               ("p
+00000ce0: 5f63 5f6d 7722 2c20 2266 3822 292c 0d0a  _c_mw", "f8"),..
+00000cf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000d00: 2020 2020 2020 2020 2020 2020 2822 715f              ("q_
+00000d10: 635f 6d76 6172 222c 2022 6638 2229 2c0d  c_mvar", "f8"),.
+00000d20: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00000d30: 2020 2020 2020 2020 2020 2020 2028 2273               ("s
+00000d40: 6e5f 6d76 6122 2c20 2266 3822 292c 0d0a  n_mva", "f8"),..
+00000d50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000d60: 2020 2020 2020 2020 2020 2020 2822 7363              ("sc
+00000d70: 616c 696e 6722 2c20 2266 3822 292c 0d0a  aling", "f8"),..
+00000d80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000d90: 2020 2020 2020 2020 2020 2020 2822 696e              ("in
+00000da0: 5f73 6572 7669 6365 222c 2027 626f 6f6c  _service", 'bool
+00000db0: 2729 2c0d 0a20 2020 2020 2020 2020 2020  '),..           
+00000dc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000dd0: 2028 2274 7970 6522 2c20 6474 7970 6528   ("type", dtype(
+00000de0: 6f62 6a65 6374 2929 5d2c 0d0a 0d0a 2020  object))],....  
+00000df0: 2020 2020 2020 2261 7379 6d6d 6574 7269        "asymmetri
+00000e00: 635f 7367 656e 223a 205b 2822 6e61 6d65  c_sgen": [("name
+00000e10: 222c 2064 7479 7065 286f 626a 6563 7429  ", dtype(object)
+00000e20: 292c 0d0a 2020 2020 2020 2020 2020 2020  ),..            
+00000e30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000e40: 2822 6275 7322 2c20 2269 3822 292c 0d0a  ("bus", "i8"),..
+00000e50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000e60: 2020 2020 2020 2020 2020 2020 2822 705f              ("p_
+00000e70: 615f 6d77 222c 2022 6638 2229 2c0d 0a20  a_mw", "f8"),.. 
+00000e80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000e90: 2020 2020 2020 2020 2020 2028 2271 5f61             ("q_a
+00000ea0: 5f6d 7661 7222 2c20 2266 3822 292c 0d0a  _mvar", "f8"),..
+00000eb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000ec0: 2020 2020 2020 2020 2020 2020 2822 705f              ("p_
+00000ed0: 625f 6d77 222c 2022 6638 2229 2c0d 0a20  b_mw", "f8"),.. 
+00000ee0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000ef0: 2020 2020 2020 2020 2020 2028 2271 5f62             ("q_b
+00000f00: 5f6d 7661 7222 2c20 2266 3822 292c 0d0a  _mvar", "f8"),..
+00000f10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000f20: 2020 2020 2020 2020 2020 2020 2822 705f              ("p_
+00000f30: 635f 6d77 222c 2022 6638 2229 2c0d 0a20  c_mw", "f8"),.. 
+00000f40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000f50: 2020 2020 2020 2020 2020 2028 2271 5f63             ("q_c
+00000f60: 5f6d 7661 7222 2c20 2266 3822 292c 0d0a  _mvar", "f8"),..
+00000f70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000f80: 2020 2020 2020 2020 2020 2020 2822 736e              ("sn
+00000f90: 5f6d 7661 222c 2022 6638 2229 2c0d 0a20  _mva", "f8"),.. 
+00000fa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000fb0: 2020 2020 2020 2020 2020 2028 2273 6361             ("sca
+00000fc0: 6c69 6e67 222c 2022 6638 2229 2c0d 0a20  ling", "f8"),.. 
+00000fd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000fe0: 2020 2020 2020 2020 2020 2028 2269 6e5f             ("in_
+00000ff0: 7365 7276 6963 6522 2c20 2762 6f6f 6c27  service", 'bool'
+00001000: 292c 0d0a 2020 2020 2020 2020 2020 2020  ),..            
+00001010: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001020: 2822 7479 7065 222c 2064 7479 7065 286f  ("type", dtype(o
+00001030: 626a 6563 7429 292c 0d0a 2020 2020 2020  bject)),..      
+00001040: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001050: 2020 2020 2020 2822 6375 7272 656e 745f        ("current_
+00001060: 736f 7572 6365 222c 2022 626f 6f6c 2229  source", "bool")
+00001070: 5d2c 0d0a 2020 2020 2020 2020 2273 746f  ],..        "sto
+00001080: 7261 6765 223a 205b 2822 6e61 6d65 222c  rage": [("name",
+00001090: 2064 7479 7065 286f 626a 6563 7429 292c   dtype(object)),
+000010a0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+000010b0: 2020 2020 2020 2822 6275 7322 2c20 2269        ("bus", "i
+000010c0: 3822 292c 0d0a 2020 2020 2020 2020 2020  8"),..          
+000010d0: 2020 2020 2020 2020 2020 2822 705f 6d77            ("p_mw
+000010e0: 222c 2022 6638 2229 2c0d 0a20 2020 2020  ", "f8"),..     
+000010f0: 2020 2020 2020 2020 2020 2020 2020 2028                 (
+00001100: 2271 5f6d 7661 7222 2c20 2266 3822 292c  "q_mvar", "f8"),
+00001110: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00001120: 2020 2020 2020 2822 736e 5f6d 7661 222c        ("sn_mva",
+00001130: 2022 6638 2229 2c0d 0a20 2020 2020 2020   "f8"),..       
+00001140: 2020 2020 2020 2020 2020 2020 2028 2273               ("s
+00001150: 6f63 5f70 6572 6365 6e74 222c 2022 6638  oc_percent", "f8
+00001160: 2229 2c0d 0a20 2020 2020 2020 2020 2020  "),..           
+00001170: 2020 2020 2020 2020 2028 226d 696e 5f65           ("min_e
+00001180: 5f6d 7768 222c 2022 6638 2229 2c0d 0a20  _mwh", "f8"),.. 
+00001190: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000011a0: 2020 2028 226d 6178 5f65 5f6d 7768 222c     ("max_e_mwh",
+000011b0: 2022 6638 2229 2c0d 0a20 2020 2020 2020   "f8"),..       
+000011c0: 2020 2020 2020 2020 2020 2020 2028 2273               ("s
+000011d0: 6361 6c69 6e67 222c 2022 6638 2229 2c0d  caling", "f8"),.
+000011e0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000011f0: 2020 2020 2028 2269 6e5f 7365 7276 6963       ("in_servic
+00001200: 6522 2c20 2762 6f6f 6c27 292c 0d0a 2020  e", 'bool'),..  
+00001210: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001220: 2020 2822 7479 7065 222c 2064 7479 7065    ("type", dtype
+00001230: 286f 626a 6563 7429 295d 2c0d 0a20 2020  (object))],..   
+00001240: 2020 2020 2022 6765 6e22 3a20 5b28 226e       "gen": [("n
+00001250: 616d 6522 2c20 6474 7970 6528 6f62 6a65  ame", dtype(obje
+00001260: 6374 2929 2c0d 0a20 2020 2020 2020 2020  ct)),..         
+00001270: 2020 2020 2020 2028 2262 7573 222c 2022         ("bus", "
+00001280: 7534 2229 2c0d 0a20 2020 2020 2020 2020  u4"),..         
+00001290: 2020 2020 2020 2028 2270 5f6d 7722 2c20         ("p_mw", 
+000012a0: 2266 3822 292c 0d0a 2020 2020 2020 2020  "f8"),..        
+000012b0: 2020 2020 2020 2020 2822 766d 5f70 7522          ("vm_pu"
+000012c0: 2c20 2266 3822 292c 0d0a 2020 2020 2020  , "f8"),..      
+000012d0: 2020 2020 2020 2020 2020 2822 736e 5f6d            ("sn_m
+000012e0: 7661 222c 2022 6638 2229 2c0d 0a20 2020  va", "f8"),..   
+000012f0: 2020 2020 2020 2020 2020 2020 2028 226d               ("m
+00001300: 696e 5f71 5f6d 7661 7222 2c20 2266 3822  in_q_mvar", "f8"
+00001310: 292c 0d0a 2020 2020 2020 2020 2020 2020  ),..            
+00001320: 2020 2020 2822 6d61 785f 715f 6d76 6172      ("max_q_mvar
+00001330: 222c 2022 6638 2229 2c0d 0a20 2020 2020  ", "f8"),..     
+00001340: 2020 2020 2020 2020 2020 2028 2273 6361             ("sca
+00001350: 6c69 6e67 222c 2022 6638 2229 2c0d 0a20  ling", "f8"),.. 
+00001360: 2020 2020 2020 2020 2020 2020 2020 2028                 (
+00001370: 2273 6c61 636b 222c 2022 626f 6f6c 2229  "slack", "bool")
+00001380: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
+00001390: 2020 2028 2269 6e5f 7365 7276 6963 6522     ("in_service"
+000013a0: 2c20 2762 6f6f 6c27 292c 0d0a 2020 2020  , 'bool'),..    
+000013b0: 2020 2020 2020 2020 2020 2020 2822 736c              ("sl
+000013c0: 6163 6b5f 7765 6967 6874 222c 2027 6638  ack_weight", 'f8
+000013d0: 2729 2c0d 0a20 2020 2020 2020 2020 2020  '),..           
+000013e0: 2020 2020 2028 2274 7970 6522 2c20 6474       ("type", dt
+000013f0: 7970 6528 6f62 6a65 6374 2929 5d2c 0d0a  ype(object))],..
+00001400: 2020 2020 2020 2020 2273 7769 7463 6822          "switch"
+00001410: 3a20 5b28 2262 7573 222c 2022 6938 2229  : [("bus", "i8")
+00001420: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
+00001430: 2020 2020 2020 2822 656c 656d 656e 7422        ("element"
+00001440: 2c20 2269 3822 292c 0d0a 2020 2020 2020  , "i8"),..      
+00001450: 2020 2020 2020 2020 2020 2020 2028 2265               ("e
+00001460: 7422 2c20 6474 7970 6528 6f62 6a65 6374  t", dtype(object
+00001470: 2929 2c0d 0a20 2020 2020 2020 2020 2020  )),..           
+00001480: 2020 2020 2020 2020 2822 7479 7065 222c          ("type",
+00001490: 2064 7479 7065 286f 626a 6563 7429 292c   dtype(object)),
+000014a0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+000014b0: 2020 2020 2028 2263 6c6f 7365 6422 2c20       ("closed", 
+000014c0: 2262 6f6f 6c22 292c 0d0a 2020 2020 2020  "bool"),..      
+000014d0: 2020 2020 2020 2020 2020 2020 2028 226e               ("n
+000014e0: 616d 6522 2c20 6474 7970 6528 6f62 6a65  ame", dtype(obje
+000014f0: 6374 2929 2c0d 0a20 2020 2020 2020 2020  ct)),..         
+00001500: 2020 2020 2020 2020 2020 2822 7a5f 6f68            ("z_oh
+00001510: 6d22 2c20 2266 3822 295d 2c0d 0a20 2020  m", "f8")],..   
+00001520: 2020 2020 2022 7368 756e 7422 3a20 5b28       "shunt": [(
+00001530: 2262 7573 222c 2022 7534 2229 2c0d 0a20  "bus", "u4"),.. 
+00001540: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001550: 2028 226e 616d 6522 2c20 6474 7970 6528   ("name", dtype(
+00001560: 6f62 6a65 6374 2929 2c0d 0a20 2020 2020  object)),..     
+00001570: 2020 2020 2020 2020 2020 2020 2028 2271               ("q
+00001580: 5f6d 7661 7222 2c20 2266 3822 292c 0d0a  _mvar", "f8"),..
+00001590: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000015a0: 2020 2822 705f 6d77 222c 2022 6638 2229    ("p_mw", "f8")
+000015b0: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
+000015c0: 2020 2020 2028 2276 6e5f 6b76 222c 2022       ("vn_kv", "
+000015d0: 6638 2229 2c0d 0a20 2020 2020 2020 2020  f8"),..         
+000015e0: 2020 2020 2020 2020 2028 2273 7465 7022           ("step"
+000015f0: 2c20 2275 3422 292c 0d0a 2020 2020 2020  , "u4"),..      
+00001600: 2020 2020 2020 2020 2020 2020 2822 6d61              ("ma
+00001610: 785f 7374 6570 222c 2022 7534 2229 2c0d  x_step", "u4"),.
+00001620: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00001630: 2020 2028 2269 6e5f 7365 7276 6963 6522     ("in_service"
+00001640: 2c20 2262 6f6f 6c22 295d 2c0d 0a20 2020  , "bool")],..   
+00001650: 2020 2020 2022 6578 745f 6772 6964 223a       "ext_grid":
+00001660: 205b 2822 6e61 6d65 222c 2064 7479 7065   [("name", dtype
+00001670: 286f 626a 6563 7429 292c 0d0a 2020 2020  (object)),..    
+00001680: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001690: 2028 2262 7573 222c 2022 7534 2229 2c0d   ("bus", "u4"),.
+000016a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000016b0: 2020 2020 2020 2822 766d 5f70 7522 2c20        ("vm_pu", 
+000016c0: 2266 3822 292c 0d0a 2020 2020 2020 2020  "f8"),..        
+000016d0: 2020 2020 2020 2020 2020 2020 2028 2276               ("v
+000016e0: 615f 6465 6772 6565 222c 2022 6638 2229  a_degree", "f8")
+000016f0: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
+00001700: 2020 2020 2020 2020 2822 736c 6163 6b5f          ("slack_
+00001710: 7765 6967 6874 222c 2027 6638 2729 2c0d  weight", 'f8'),.
+00001720: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00001730: 2020 2020 2020 2822 696e 5f73 6572 7669        ("in_servi
+00001740: 6365 222c 2027 626f 6f6c 2729 5d2c 0d0a  ce", 'bool')],..
+00001750: 2020 2020 2020 2020 226c 696e 6522 3a20          "line": 
+00001760: 5b28 226e 616d 6522 2c20 6474 7970 6528  [("name", dtype(
+00001770: 6f62 6a65 6374 2929 2c0d 0a20 2020 2020  object)),..     
+00001780: 2020 2020 2020 2020 2020 2020 2822 7374              ("st
+00001790: 645f 7479 7065 222c 2064 7479 7065 286f  d_type", dtype(o
+000017a0: 626a 6563 7429 292c 0d0a 2020 2020 2020  bject)),..      
+000017b0: 2020 2020 2020 2020 2020 2028 2266 726f             ("fro
+000017c0: 6d5f 6275 7322 2c20 2275 3422 292c 0d0a  m_bus", "u4"),..
+000017d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000017e0: 2028 2274 6f5f 6275 7322 2c20 2275 3422   ("to_bus", "u4"
+000017f0: 292c 0d0a 2020 2020 2020 2020 2020 2020  ),..            
+00001800: 2020 2020 2028 226c 656e 6774 685f 6b6d       ("length_km
+00001810: 222c 2022 6638 2229 2c0d 0a20 2020 2020  ", "f8"),..     
+00001820: 2020 2020 2020 2020 2020 2020 2822 725f              ("r_
+00001830: 6f68 6d5f 7065 725f 6b6d 222c 2022 6638  ohm_per_km", "f8
+00001840: 2229 2c0d 0a20 2020 2020 2020 2020 2020  "),..           
+00001850: 2020 2020 2020 2822 785f 6f68 6d5f 7065        ("x_ohm_pe
+00001860: 725f 6b6d 222c 2022 6638 2229 2c0d 0a20  r_km", "f8"),.. 
+00001870: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001880: 2822 635f 6e66 5f70 6572 5f6b 6d22 2c20  ("c_nf_per_km", 
+00001890: 2266 3822 292c 0d0a 2020 2020 2020 2020  "f8"),..        
+000018a0: 2020 2020 2020 2020 2028 2267 5f75 735f           ("g_us_
+000018b0: 7065 725f 6b6d 222c 2022 6638 2229 2c0d  per_km", "f8"),.
+000018c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000018d0: 2020 2822 6d61 785f 695f 6b61 222c 2022    ("max_i_ka", "
+000018e0: 6638 2229 2c0d 0a20 2020 2020 2020 2020  f8"),..         
+000018f0: 2020 2020 2020 2020 2822 6466 222c 2022          ("df", "
+00001900: 6638 2229 2c0d 0a20 2020 2020 2020 2020  f8"),..         
+00001910: 2020 2020 2020 2020 2822 7061 7261 6c6c          ("parall
+00001920: 656c 222c 2022 7534 2229 2c0d 0a20 2020  el", "u4"),..   
+00001930: 2020 2020 2020 2020 2020 2020 2020 2822                ("
+00001940: 7479 7065 222c 2064 7479 7065 286f 626a  type", dtype(obj
+00001950: 6563 7429 292c 0d0a 2020 2020 2020 2020  ect)),..        
+00001960: 2020 2020 2020 2020 2028 2269 6e5f 7365           ("in_se
+00001970: 7276 6963 6522 2c20 2762 6f6f 6c27 295d  rvice", 'bool')]
+00001980: 2c0d 0a20 2020 2020 2020 2022 7472 6166  ,..        "traf
+00001990: 6f22 3a20 5b28 226e 616d 6522 2c20 6474  o": [("name", dt
+000019a0: 7970 6528 6f62 6a65 6374 2929 2c0d 0a20  ype(object)),.. 
+000019b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000019c0: 2028 2273 7464 5f74 7970 6522 2c20 6474   ("std_type", dt
+000019d0: 7970 6528 6f62 6a65 6374 2929 2c0d 0a20  ype(object)),.. 
+000019e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000019f0: 2028 2268 765f 6275 7322 2c20 2275 3422   ("hv_bus", "u4"
+00001a00: 292c 0d0a 2020 2020 2020 2020 2020 2020  ),..            
+00001a10: 2020 2020 2020 2822 6c76 5f62 7573 222c        ("lv_bus",
+00001a20: 2022 7534 2229 2c0d 0a20 2020 2020 2020   "u4"),..       
+00001a30: 2020 2020 2020 2020 2020 2028 2273 6e5f             ("sn_
+00001a40: 6d76 6122 2c20 2266 3822 292c 0d0a 2020  mva", "f8"),..  
+00001a50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001a60: 2822 766e 5f68 765f 6b76 222c 2022 6638  ("vn_hv_kv", "f8
+00001a70: 2229 2c0d 0a20 2020 2020 2020 2020 2020  "),..           
+00001a80: 2020 2020 2020 2028 2276 6e5f 6c76 5f6b         ("vn_lv_k
+00001a90: 7622 2c20 2266 3822 292c 0d0a 2020 2020  v", "f8"),..    
+00001aa0: 2020 2020 2020 2020 2020 2020 2020 2822                ("
+00001ab0: 766b 5f70 6572 6365 6e74 222c 2022 6638  vk_percent", "f8
+00001ac0: 2229 2c0d 0a20 2020 2020 2020 2020 2020  "),..           
+00001ad0: 2020 2020 2020 2028 2276 6b72 5f70 6572         ("vkr_per
+00001ae0: 6365 6e74 222c 2022 6638 2229 2c0d 0a20  cent", "f8"),.. 
+00001af0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001b00: 2028 2270 6665 5f6b 7722 2c20 2266 3822   ("pfe_kw", "f8"
+00001b10: 292c 0d0a 2020 2020 2020 2020 2020 2020  ),..            
+00001b20: 2020 2020 2020 2822 6930 5f70 6572 6365        ("i0_perce
+00001b30: 6e74 222c 2022 6638 2229 2c0d 0a20 2020  nt", "f8"),..   
+00001b40: 2020 2020 2020 2020 2020 2020 2020 2028                 (
+00001b50: 2273 6869 6674 5f64 6567 7265 6522 2c20  "shift_degree", 
+00001b60: 2266 3822 292c 0d0a 2020 2020 2020 2020  "f8"),..        
+00001b70: 2020 2020 2020 2020 2020 2822 7461 705f            ("tap_
+00001b80: 7369 6465 222c 2064 7479 7065 286f 626a  side", dtype(obj
+00001b90: 6563 7429 292c 0d0a 2020 2020 2020 2020  ect)),..        
+00001ba0: 2020 2020 2020 2020 2020 2822 7461 705f            ("tap_
+00001bb0: 6e65 7574 7261 6c22 2c20 2269 3422 292c  neutral", "i4"),
+00001bc0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00001bd0: 2020 2020 2822 7461 705f 6d69 6e22 2c20      ("tap_min", 
+00001be0: 2269 3422 292c 0d0a 2020 2020 2020 2020  "i4"),..        
+00001bf0: 2020 2020 2020 2020 2020 2822 7461 705f            ("tap_
+00001c00: 6d61 7822 2c20 2269 3422 292c 0d0a 2020  max", "i4"),..  
+00001c10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001c20: 2822 7461 705f 7374 6570 5f70 6572 6365  ("tap_step_perce
+00001c30: 6e74 222c 2022 6638 2229 2c0d 0a20 2020  nt", "f8"),..   
+00001c40: 2020 2020 2020 2020 2020 2020 2020 2028                 (
+00001c50: 2274 6170 5f73 7465 705f 6465 6772 6565  "tap_step_degree
+00001c60: 222c 2022 6638 2229 2c0d 0a20 2020 2020  ", "f8"),..     
+00001c70: 2020 2020 2020 2020 2020 2020 2028 2274               ("t
+00001c80: 6170 5f70 6f73 222c 2022 6934 2229 2c0d  ap_pos", "i4"),.
+00001c90: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00001ca0: 2020 2028 2274 6170 5f70 6861 7365 5f73     ("tap_phase_s
+00001cb0: 6869 6674 6572 222c 2027 626f 6f6c 2729  hifter", 'bool')
+00001cc0: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
+00001cd0: 2020 2020 2028 2270 6172 616c 6c65 6c22       ("parallel"
+00001ce0: 2c20 2275 3422 292c 0d0a 2020 2020 2020  , "u4"),..      
+00001cf0: 2020 2020 2020 2020 2020 2020 2822 6466              ("df
+00001d00: 222c 2022 6638 2229 2c0d 0a20 2020 2020  ", "f8"),..     
+00001d10: 2020 2020 2020 2020 2020 2020 2028 2269               ("i
+00001d20: 6e5f 7365 7276 6963 6522 2c20 2762 6f6f  n_service", 'boo
+00001d30: 6c27 295d 2c0d 0a20 2020 2020 2020 2022  l')],..        "
+00001d40: 7472 6166 6f33 7722 3a20 5b28 226e 616d  trafo3w": [("nam
+00001d50: 6522 2c20 6474 7970 6528 6f62 6a65 6374  e", dtype(object
+00001d60: 2929 2c0d 0a20 2020 2020 2020 2020 2020  )),..           
+00001d70: 2020 2020 2020 2020 2028 2273 7464 5f74           ("std_t
+00001d80: 7970 6522 2c20 6474 7970 6528 6f62 6a65  ype", dtype(obje
+00001d90: 6374 2929 2c0d 0a20 2020 2020 2020 2020  ct)),..         
+00001da0: 2020 2020 2020 2020 2020 2028 2268 765f             ("hv_
+00001db0: 6275 7322 2c20 2275 3422 292c 0d0a 2020  bus", "u4"),..  
+00001dc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001dd0: 2020 2822 6d76 5f62 7573 222c 2022 7534    ("mv_bus", "u4
+00001de0: 2229 2c0d 0a20 2020 2020 2020 2020 2020  "),..           
+00001df0: 2020 2020 2020 2020 2028 226c 765f 6275           ("lv_bu
+00001e00: 7322 2c20 2275 3422 292c 0d0a 2020 2020  s", "u4"),..    
+00001e10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001e20: 2822 736e 5f68 765f 6d76 6122 2c20 2266  ("sn_hv_mva", "f
+00001e30: 3822 292c 0d0a 2020 2020 2020 2020 2020  8"),..          
+00001e40: 2020 2020 2020 2020 2020 2822 736e 5f6d            ("sn_m
+00001e50: 765f 6d76 6122 2c20 2266 3822 292c 0d0a  v_mva", "f8"),..
+00001e60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001e70: 2020 2020 2822 736e 5f6c 765f 6d76 6122      ("sn_lv_mva"
+00001e80: 2c20 2266 3822 292c 0d0a 2020 2020 2020  , "f8"),..      
+00001e90: 2020 2020 2020 2020 2020 2020 2020 2822                ("
+00001ea0: 766e 5f68 765f 6b76 222c 2022 6638 2229  vn_hv_kv", "f8")
+00001eb0: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
+00001ec0: 2020 2020 2020 2028 2276 6e5f 6d76 5f6b         ("vn_mv_k
+00001ed0: 7622 2c20 2266 3822 292c 0d0a 2020 2020  v", "f8"),..    
+00001ee0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001ef0: 2822 766e 5f6c 765f 6b76 222c 2022 6638  ("vn_lv_kv", "f8
+00001f00: 2229 2c0d 0a20 2020 2020 2020 2020 2020  "),..           
+00001f10: 2020 2020 2020 2020 2028 2276 6b5f 6876           ("vk_hv
+00001f20: 5f70 6572 6365 6e74 222c 2022 6638 2229  _percent", "f8")
+00001f30: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
+00001f40: 2020 2020 2020 2028 2276 6b5f 6d76 5f70         ("vk_mv_p
+00001f50: 6572 6365 6e74 222c 2022 6638 2229 2c0d  ercent", "f8"),.
+00001f60: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00001f70: 2020 2020 2028 2276 6b5f 6c76 5f70 6572       ("vk_lv_per
+00001f80: 6365 6e74 222c 2022 6638 2229 2c0d 0a20  cent", "f8"),.. 
+00001f90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001fa0: 2020 2028 2276 6b72 5f68 765f 7065 7263     ("vkr_hv_perc
+00001fb0: 656e 7422 2c20 2266 3822 292c 0d0a 2020  ent", "f8"),..  
+00001fc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001fd0: 2020 2822 766b 725f 6d76 5f70 6572 6365    ("vkr_mv_perce
+00001fe0: 6e74 222c 2022 6638 2229 2c0d 0a20 2020  nt", "f8"),..   
+00001ff0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002000: 2028 2276 6b72 5f6c 765f 7065 7263 656e   ("vkr_lv_percen
+00002010: 7422 2c20 2266 3822 292c 0d0a 2020 2020  t", "f8"),..    
+00002020: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002030: 2822 7066 655f 6b77 222c 2022 6638 2229  ("pfe_kw", "f8")
+00002040: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
+00002050: 2020 2020 2020 2028 2269 305f 7065 7263         ("i0_perc
+00002060: 656e 7422 2c20 2266 3822 292c 0d0a 2020  ent", "f8"),..  
+00002070: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002080: 2020 2822 7368 6966 745f 6d76 5f64 6567    ("shift_mv_deg
+00002090: 7265 6522 2c20 2266 3822 292c 0d0a 2020  ree", "f8"),..  
+000020a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000020b0: 2020 2822 7368 6966 745f 6c76 5f64 6567    ("shift_lv_deg
+000020c0: 7265 6522 2c20 2266 3822 292c 0d0a 2020  ree", "f8"),..  
+000020d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000020e0: 2020 2822 7461 705f 7369 6465 222c 2064    ("tap_side", d
+000020f0: 7479 7065 286f 626a 6563 7429 292c 0d0a  type(object)),..
+00002100: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002110: 2020 2020 2822 7461 705f 6e65 7574 7261      ("tap_neutra
+00002120: 6c22 2c20 2269 3422 292c 0d0a 2020 2020  l", "i4"),..    
+00002130: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002140: 2822 7461 705f 6d69 6e22 2c20 2269 3422  ("tap_min", "i4"
+00002150: 292c 0d0a 2020 2020 2020 2020 2020 2020  ),..            
+00002160: 2020 2020 2020 2020 2822 7461 705f 6d61          ("tap_ma
+00002170: 7822 2c20 2269 3422 292c 0d0a 2020 2020  x", "i4"),..    
+00002180: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002190: 2822 7461 705f 7374 6570 5f70 6572 6365  ("tap_step_perce
+000021a0: 6e74 222c 2022 6638 2229 2c0d 0a20 2020  nt", "f8"),..   
+000021b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000021c0: 2028 2274 6170 5f73 7465 705f 6465 6772   ("tap_step_degr
+000021d0: 6565 222c 2022 6638 2229 2c0d 0a20 2020  ee", "f8"),..   
+000021e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000021f0: 2028 2274 6170 5f70 6f73 222c 2022 6934   ("tap_pos", "i4
+00002200: 2229 2c0d 0a20 2020 2020 2020 2020 2020  "),..           
+00002210: 2020 2020 2020 2020 2028 2274 6170 5f61           ("tap_a
+00002220: 745f 7374 6172 5f70 6f69 6e74 222c 2027  t_star_point", '
+00002230: 626f 6f6c 2729 2c0d 0a20 2020 2020 2020  bool'),..       
+00002240: 2020 2020 2020 2020 2020 2020 2028 2269               ("i
+00002250: 6e5f 7365 7276 6963 6522 2c20 2762 6f6f  n_service", 'boo
+00002260: 6c27 295d 2c0d 0a20 2020 2020 2020 2022  l')],..        "
+00002270: 696d 7065 6461 6e63 6522 3a20 5b28 226e  impedance": [("n
+00002280: 616d 6522 2c20 6474 7970 6528 6f62 6a65  ame", dtype(obje
+00002290: 6374 2929 2c0d 0a20 2020 2020 2020 2020  ct)),..         
+000022a0: 2020 2020 2020 2020 2020 2020 2028 2266               ("f
+000022b0: 726f 6d5f 6275 7322 2c20 2275 3422 292c  rom_bus", "u4"),
+000022c0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+000022d0: 2020 2020 2020 2020 2822 746f 5f62 7573          ("to_bus
+000022e0: 222c 2022 7534 2229 2c0d 0a20 2020 2020  ", "u4"),..     
+000022f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002300: 2028 2272 6674 5f70 7522 2c20 2266 3822   ("rft_pu", "f8"
+00002310: 292c 0d0a 2020 2020 2020 2020 2020 2020  ),..            
+00002320: 2020 2020 2020 2020 2020 2822 7866 745f            ("xft_
+00002330: 7075 222c 2022 6638 2229 2c0d 0a20 2020  pu", "f8"),..   
+00002340: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002350: 2020 2028 2272 7466 5f70 7522 2c20 2266     ("rtf_pu", "f
+00002360: 3822 292c 0d0a 2020 2020 2020 2020 2020  8"),..          
+00002370: 2020 2020 2020 2020 2020 2020 2822 7874              ("xt
+00002380: 665f 7075 222c 2022 6638 2229 2c0d 0a20  f_pu", "f8"),.. 
+00002390: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000023a0: 2020 2020 2028 2273 6e5f 6d76 6122 2c20       ("sn_mva", 
+000023b0: 2266 3822 292c 0d0a 2020 2020 2020 2020  "f8"),..        
+000023c0: 2020 2020 2020 2020 2020 2020 2020 2822                ("
+000023d0: 696e 5f73 6572 7669 6365 222c 2027 626f  in_service", 'bo
+000023e0: 6f6c 2729 5d2c 0d0a 2020 2020 2020 2020  ol')],..        
+000023f0: 2264 636c 696e 6522 3a20 5b28 226e 616d  "dcline": [("nam
+00002400: 6522 2c20 6474 7970 6528 6f62 6a65 6374  e", dtype(object
+00002410: 2929 2c0d 0a20 2020 2020 2020 2020 2020  )),..           
+00002420: 2020 2020 2020 2020 2822 6672 6f6d 5f62          ("from_b
+00002430: 7573 222c 2022 7534 2229 2c0d 0a20 2020  us", "u4"),..   
+00002440: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002450: 2822 746f 5f62 7573 222c 2022 7534 2229  ("to_bus", "u4")
+00002460: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
+00002470: 2020 2020 2020 2822 705f 6d77 222c 2022        ("p_mw", "
+00002480: 6638 2229 2c0d 0a20 2020 2020 2020 2020  f8"),..         
+00002490: 2020 2020 2020 2020 2020 2822 6c6f 7373            ("loss
+000024a0: 5f70 6572 6365 6e74 222c 2027 6638 2729  _percent", 'f8')
+000024b0: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
+000024c0: 2020 2020 2020 2822 6c6f 7373 5f6d 7722        ("loss_mw"
+000024d0: 2c20 2766 3827 292c 0d0a 2020 2020 2020  , 'f8'),..      
+000024e0: 2020 2020 2020 2020 2020 2020 2028 2276               ("v
+000024f0: 6d5f 6672 6f6d 5f70 7522 2c20 2266 3822  m_from_pu", "f8"
+00002500: 292c 0d0a 2020 2020 2020 2020 2020 2020  ),..            
+00002510: 2020 2020 2020 2028 2276 6d5f 746f 5f70         ("vm_to_p
+00002520: 7522 2c20 2266 3822 292c 0d0a 2020 2020  u", "f8"),..    
+00002530: 2020 2020 2020 2020 2020 2020 2020 2028                 (
+00002540: 226d 6178 5f70 5f6d 7722 2c20 2266 3822  "max_p_mw", "f8"
+00002550: 292c 0d0a 2020 2020 2020 2020 2020 2020  ),..            
+00002560: 2020 2020 2020 2028 226d 696e 5f71 5f66         ("min_q_f
+00002570: 726f 6d5f 6d76 6172 222c 2022 6638 2229  rom_mvar", "f8")
+00002580: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
+00002590: 2020 2020 2020 2822 6d69 6e5f 715f 746f        ("min_q_to
+000025a0: 5f6d 7661 7222 2c20 2266 3822 292c 0d0a  _mvar", "f8"),..
+000025b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000025c0: 2020 2028 226d 6178 5f71 5f66 726f 6d5f     ("max_q_from_
+000025d0: 6d76 6172 222c 2022 6638 2229 2c0d 0a20  mvar", "f8"),.. 
+000025e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000025f0: 2020 2822 6d61 785f 715f 746f 5f6d 7661    ("max_q_to_mva
+00002600: 7222 2c20 2266 3822 292c 0d0a 2020 2020  r", "f8"),..    
+00002610: 2020 2020 2020 2020 2020 2020 2020 2028                 (
+00002620: 2269 6e5f 7365 7276 6963 6522 2c20 2762  "in_service", 'b
+00002630: 6f6f 6c27 295d 2c0d 0a20 2020 2020 2020  ool')],..       
+00002640: 2022 7761 7264 223a 205b 2822 6e61 6d65   "ward": [("name
+00002650: 222c 2064 7479 7065 286f 626a 6563 7429  ", dtype(object)
+00002660: 292c 0d0a 2020 2020 2020 2020 2020 2020  ),..            
+00002670: 2020 2020 2028 2262 7573 222c 2022 7534       ("bus", "u4
+00002680: 2229 2c0d 0a20 2020 2020 2020 2020 2020  "),..           
+00002690: 2020 2020 2020 2822 7073 5f6d 7722 2c20        ("ps_mw", 
+000026a0: 2266 3822 292c 0d0a 2020 2020 2020 2020  "f8"),..        
+000026b0: 2020 2020 2020 2020 2028 2271 735f 6d76           ("qs_mv
+000026c0: 6172 222c 2022 6638 2229 2c0d 0a20 2020  ar", "f8"),..   
+000026d0: 2020 2020 2020 2020 2020 2020 2020 2822                ("
+000026e0: 717a 5f6d 7661 7222 2c20 2266 3822 292c  qz_mvar", "f8"),
+000026f0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00002700: 2020 2028 2270 7a5f 6d77 222c 2022 6638     ("pz_mw", "f8
+00002710: 2229 2c0d 0a20 2020 2020 2020 2020 2020  "),..           
+00002720: 2020 2020 2020 2822 696e 5f73 6572 7669        ("in_servi
+00002730: 6365 222c 2022 626f 6f6c 2229 5d2c 0d0a  ce", "bool")],..
+00002740: 2020 2020 2020 2020 2278 7761 7264 223a          "xward":
+00002750: 205b 2822 6e61 6d65 222c 2064 7479 7065   [("name", dtype
+00002760: 286f 626a 6563 7429 292c 0d0a 2020 2020  (object)),..    
+00002770: 2020 2020 2020 2020 2020 2020 2020 2822                ("
+00002780: 6275 7322 2c20 2275 3422 292c 0d0a 2020  bus", "u4"),..  
+00002790: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000027a0: 2822 7073 5f6d 7722 2c20 2266 3822 292c  ("ps_mw", "f8"),
+000027b0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+000027c0: 2020 2020 2822 7173 5f6d 7661 7222 2c20      ("qs_mvar", 
+000027d0: 2266 3822 292c 0d0a 2020 2020 2020 2020  "f8"),..        
+000027e0: 2020 2020 2020 2020 2020 2822 717a 5f6d            ("qz_m
+000027f0: 7661 7222 2c20 2266 3822 292c 0d0a 2020  var", "f8"),..  
+00002800: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002810: 2822 707a 5f6d 7722 2c20 2266 3822 292c  ("pz_mw", "f8"),
+00002820: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00002830: 2020 2020 2822 725f 6f68 6d22 2c20 2266      ("r_ohm", "f
+00002840: 3822 292c 0d0a 2020 2020 2020 2020 2020  8"),..          
+00002850: 2020 2020 2020 2020 2822 785f 6f68 6d22          ("x_ohm"
+00002860: 2c20 2266 3822 292c 0d0a 2020 2020 2020  , "f8"),..      
+00002870: 2020 2020 2020 2020 2020 2020 2822 766d              ("vm
+00002880: 5f70 7522 2c20 2266 3822 292c 0d0a 2020  _pu", "f8"),..  
+00002890: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000028a0: 2822 736c 6163 6b5f 7765 6967 6874 222c  ("slack_weight",
+000028b0: 2027 6638 2729 2c0d 0a20 2020 2020 2020   'f8'),..       
+000028c0: 2020 2020 2020 2020 2020 2028 2269 6e5f             ("in_
+000028d0: 7365 7276 6963 6522 2c20 2262 6f6f 6c22  service", "bool"
+000028e0: 295d 2c0d 0a20 2020 2020 2020 2022 6d65  )],..        "me
+000028f0: 6173 7572 656d 656e 7422 3a20 5b28 226e  asurement": [("n
+00002900: 616d 6522 2c20 6474 7970 6528 6f62 6a65  ame", dtype(obje
+00002910: 6374 2929 2c0d 0a20 2020 2020 2020 2020  ct)),..         
+00002920: 2020 2020 2020 2020 2020 2020 2020 2028                 (
+00002930: 226d 6561 7375 7265 6d65 6e74 5f74 7970  "measurement_typ
+00002940: 6522 2c20 6474 7970 6528 6f62 6a65 6374  e", dtype(object
+00002950: 2929 2c0d 0a20 2020 2020 2020 2020 2020  )),..           
+00002960: 2020 2020 2020 2020 2020 2020 2028 2265               ("e
+00002970: 6c65 6d65 6e74 5f74 7970 6522 2c20 6474  lement_type", dt
+00002980: 7970 6528 6f62 6a65 6374 2929 2c0d 0a20  ype(object)),.. 
+00002990: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000029a0: 2020 2020 2020 2028 2265 6c65 6d65 6e74         ("element
+000029b0: 222c 2022 7569 6e74 3332 2229 2c0d 0a20  ", "uint32"),.. 
+000029c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000029d0: 2020 2020 2020 2028 2276 616c 7565 222c         ("value",
+000029e0: 2022 666c 6f61 7436 3422 292c 0d0a 2020   "float64"),..  
+000029f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002a00: 2020 2020 2020 2822 7374 645f 6465 7622        ("std_dev"
+00002a10: 2c20 2266 6c6f 6174 3634 2229 2c0d 0a20  , "float64"),.. 
+00002a20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002a30: 2020 2020 2020 2028 2273 6964 6522 2c20         ("side", 
+00002a40: 6474 7970 6528 6f62 6a65 6374 2929 5d2c  dtype(object))],
+00002a50: 0d0a 2020 2020 2020 2020 2270 776c 5f63  ..        "pwl_c
+00002a60: 6f73 7422 3a20 5b28 2270 6f77 6572 5f74  ost": [("power_t
+00002a70: 7970 6522 2c20 6474 7970 6528 6f62 6a65  ype", dtype(obje
+00002a80: 6374 2929 2c0d 0a20 2020 2020 2020 2020  ct)),..         
+00002a90: 2020 2020 2020 2020 2020 2020 2822 656c              ("el
+00002aa0: 656d 656e 7422 2c20 2275 3422 292c 0d0a  ement", "u4"),..
+00002ab0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002ac0: 2020 2020 2028 2265 7422 2c20 6474 7970       ("et", dtyp
+00002ad0: 6528 6f62 6a65 6374 2929 2c0d 0a20 2020  e(object)),..   
+00002ae0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002af0: 2020 2822 706f 696e 7473 222c 2064 7479    ("points", dty
+00002b00: 7065 286f 626a 6563 7429 295d 2c0d 0a20  pe(object))],.. 
+00002b10: 2020 2020 2020 2022 706f 6c79 5f63 6f73         "poly_cos
+00002b20: 7422 3a20 5b28 2265 6c65 6d65 6e74 222c  t": [("element",
+00002b30: 2022 7534 2229 2c0d 0a20 2020 2020 2020   "u4"),..       
+00002b40: 2020 2020 2020 2020 2020 2020 2020 2028                 (
+00002b50: 2265 7422 2c20 6474 7970 6528 6f62 6a65  "et", dtype(obje
+00002b60: 6374 2929 2c0d 0a20 2020 2020 2020 2020  ct)),..         
+00002b70: 2020 2020 2020 2020 2020 2020 2028 2263               ("c
+00002b80: 7030 5f65 7572 222c 2064 7479 7065 2822  p0_eur", dtype("
+00002b90: 6638 2229 292c 0d0a 2020 2020 2020 2020  f8")),..        
+00002ba0: 2020 2020 2020 2020 2020 2020 2020 2822                ("
+00002bb0: 6370 315f 6575 725f 7065 725f 6d77 222c  cp1_eur_per_mw",
+00002bc0: 2064 7479 7065 2822 6638 2229 292c 0d0a   dtype("f8")),..
+00002bd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002be0: 2020 2020 2020 2822 6370 325f 6575 725f        ("cp2_eur_
+00002bf0: 7065 725f 6d77 3222 2c20 6474 7970 6528  per_mw2", dtype(
+00002c00: 2266 3822 2929 2c0d 0a20 2020 2020 2020  "f8")),..       
+00002c10: 2020 2020 2020 2020 2020 2020 2020 2028                 (
+00002c20: 2263 7130 5f65 7572 222c 2064 7479 7065  "cq0_eur", dtype
+00002c30: 2822 6638 2229 292c 0d0a 2020 2020 2020  ("f8")),..      
+00002c40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002c50: 2822 6371 315f 6575 725f 7065 725f 6d76  ("cq1_eur_per_mv
+00002c60: 6172 222c 2064 7479 7065 2822 6638 2229  ar", dtype("f8")
+00002c70: 292c 0d0a 2020 2020 2020 2020 2020 2020  ),..            
+00002c80: 2020 2020 2020 2020 2020 2822 6371 325f            ("cq2_
+00002c90: 6575 725f 7065 725f 6d76 6172 3222 2c20  eur_per_mvar2", 
+00002ca0: 6474 7970 6528 2266 3822 2929 0d0a 2020  dtype("f8"))..  
+00002cb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002cc0: 2020 2020 5d2c 0d0a 2020 2020 2020 2020      ],..        
+00002cd0: 2763 6861 7261 6374 6572 6973 7469 6327  'characteristic'
+00002ce0: 3a20 5b0d 0a20 2020 2020 2020 2020 2020  : [..           
+00002cf0: 2028 276f 626a 6563 7427 2c20 6474 7970   ('object', dtyp
+00002d00: 6528 6f62 6a65 6374 2929 0d0a 2020 2020  e(object))..    
+00002d10: 2020 2020 5d2c 0d0a 2020 2020 2020 2020      ],..        
+00002d20: 2763 6f6e 7472 6f6c 6c65 7227 3a20 5b0d  'controller': [.
+00002d30: 0a20 2020 2020 2020 2020 2020 2028 276f  .            ('o
+00002d40: 626a 6563 7427 2c20 6474 7970 6528 6f62  bject', dtype(ob
+00002d50: 6a65 6374 2929 2c0d 0a20 2020 2020 2020  ject)),..       
+00002d60: 2020 2020 2028 2769 6e5f 7365 7276 6963       ('in_servic
+00002d70: 6527 2c20 2262 6f6f 6c22 292c 0d0a 2020  e', "bool"),..  
+00002d80: 2020 2020 2020 2020 2020 2827 6f72 6465            ('orde
+00002d90: 7227 2c20 2266 6c6f 6174 3634 2229 2c0d  r', "float64"),.
+00002da0: 0a20 2020 2020 2020 2020 2020 2028 276c  .            ('l
+00002db0: 6576 656c 272c 2064 7479 7065 286f 626a  evel', dtype(obj
+00002dc0: 6563 7429 292c 0d0a 2020 2020 2020 2020  ect)),..        
+00002dd0: 2020 2020 2827 696e 6974 6961 6c5f 7275      ('initial_ru
+00002de0: 6e27 2c20 2262 6f6f 6c22 292c 0d0a 2020  n', "bool"),..  
+00002df0: 2020 2020 2020 2020 2020 2822 7265 6379            ("recy
+00002e00: 636c 6522 2c20 6474 7970 6528 6f62 6a65  cle", dtype(obje
+00002e10: 6374 2929 0d0a 2020 2020 2020 2020 5d2c  ct))..        ],
+00002e20: 0d0a 2020 2020 2020 2020 2320 6765 6f64  ..        # geod
+00002e30: 6174 610d 0a20 2020 2020 2020 2022 6c69  ata..        "li
+00002e40: 6e65 5f67 656f 6461 7461 223a 205b 2822  ne_geodata": [("
+00002e50: 636f 6f72 6473 222c 2064 7479 7065 286f  coords", dtype(o
+00002e60: 626a 6563 7429 295d 2c0d 0a20 2020 2020  bject))],..     
+00002e70: 2020 2022 6275 735f 6765 6f64 6174 6122     "bus_geodata"
+00002e80: 3a20 5b28 2278 222c 2022 6638 2229 2c20  : [("x", "f8"), 
+00002e90: 2822 7922 2c20 2266 3822 292c 2028 2263  ("y", "f8"), ("c
+00002ea0: 6f6f 7264 7322 2c20 6474 7970 6528 6f62  oords", dtype(ob
+00002eb0: 6a65 6374 2929 5d2c 0d0a 0d0a 2020 2020  ject))],....    
+00002ec0: 2020 2020 2320 7265 7375 6c74 2074 6162      # result tab
+00002ed0: 6c65 730d 0a20 2020 2020 2020 2022 5f65  les..        "_e
+00002ee0: 6d70 7479 5f72 6573 5f62 7573 223a 205b  mpty_res_bus": [
+00002ef0: 2822 766d 5f70 7522 2c20 2266 3822 292c  ("vm_pu", "f8"),
+00002f00: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00002f10: 2020 2020 2020 2020 2020 2020 2028 2276               ("v
+00002f20: 615f 6465 6772 6565 222c 2022 6638 2229  a_degree", "f8")
+00002f30: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
+00002f40: 2020 2020 2020 2020 2020 2020 2020 2822                ("
+00002f50: 705f 6d77 222c 2022 6638 2229 2c0d 0a20  p_mw", "f8"),.. 
+00002f60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002f70: 2020 2020 2020 2020 2020 2822 715f 6d76            ("q_mv
+00002f80: 6172 222c 2022 6638 2229 5d2c 0d0a 2020  ar", "f8")],..  
+00002f90: 2020 2020 2020 225f 656d 7074 795f 7265        "_empty_re
+00002fa0: 735f 6578 745f 6772 6964 223a 205b 2822  s_ext_grid": [("
+00002fb0: 705f 6d77 222c 2022 6638 2229 2c0d 0a20  p_mw", "f8"),.. 
 00002fc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002fd0: 2822 715f 6d76 6172 222c 2022 6638 2229  ("q_mvar", "f8")
-00002fe0: 5d2c 0d0a 2020 2020 2020 2020 225f 656d  ],..        "_em
-00002ff0: 7074 795f 7265 735f 6c69 6e65 223a 205b  pty_res_line": [
-00003000: 2822 705f 6672 6f6d 5f6d 7722 2c20 2266  ("p_from_mw", "f
-00003010: 3822 292c 0d0a 2020 2020 2020 2020 2020  8"),..          
-00003020: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003030: 2020 2822 715f 6672 6f6d 5f6d 7661 7222    ("q_from_mvar"
-00003040: 2c20 2266 3822 292c 0d0a 2020 2020 2020  , "f8"),..      
-00003050: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003060: 2020 2020 2020 2822 705f 746f 5f6d 7722        ("p_to_mw"
-00003070: 2c20 2266 3822 292c 0d0a 2020 2020 2020  , "f8"),..      
-00003080: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003090: 2020 2020 2020 2822 715f 746f 5f6d 7661        ("q_to_mva
-000030a0: 7222 2c20 2266 3822 292c 0d0a 2020 2020  r", "f8"),..    
-000030b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000030c0: 2020 2020 2020 2020 2822 706c 5f6d 7722          ("pl_mw"
-000030d0: 2c20 2266 3822 292c 0d0a 2020 2020 2020  , "f8"),..      
-000030e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000030f0: 2020 2020 2020 2822 716c 5f6d 7661 7222        ("ql_mvar"
-00003100: 2c20 2266 3822 292c 0d0a 2020 2020 2020  , "f8"),..      
-00003110: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003120: 2020 2020 2020 2822 695f 6672 6f6d 5f6b        ("i_from_k
-00003130: 6122 2c20 2266 3822 292c 0d0a 2020 2020  a", "f8"),..    
-00003140: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003150: 2020 2020 2020 2020 2822 695f 746f 5f6b          ("i_to_k
-00003160: 6122 2c20 2266 3822 292c 0d0a 2020 2020  a", "f8"),..    
-00003170: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003180: 2020 2020 2020 2020 2822 695f 6b61 222c          ("i_ka",
-00003190: 2022 6638 2229 2c0d 0a20 2020 2020 2020   "f8"),..       
-000031a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000031b0: 2020 2020 2028 2276 6d5f 6672 6f6d 5f70       ("vm_from_p
-000031c0: 7522 2c20 2266 3822 292c 0d0a 2020 2020  u", "f8"),..    
-000031d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000031e0: 2020 2020 2020 2020 2822 7661 5f66 726f          ("va_fro
-000031f0: 6d5f 6465 6772 6565 222c 2022 6638 2229  m_degree", "f8")
-00003200: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
-00003210: 2020 2020 2020 2020 2020 2020 2020 2028                 (
-00003220: 2276 6d5f 746f 5f70 7522 2c20 2266 3822  "vm_to_pu", "f8"
-00003230: 292c 0d0a 2020 2020 2020 2020 2020 2020  ),..            
-00003240: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003250: 2822 7661 5f74 6f5f 6465 6772 6565 222c  ("va_to_degree",
-00003260: 2022 6638 2229 2c0d 0a20 2020 2020 2020   "f8"),..       
-00003270: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003280: 2020 2020 2028 226c 6f61 6469 6e67 5f70       ("loading_p
-00003290: 6572 6365 6e74 222c 2022 6638 2229 5d2c  ercent", "f8")],
-000032a0: 0d0a 2020 2020 2020 2020 225f 656d 7074  ..        "_empt
-000032b0: 795f 7265 735f 7472 6166 6f22 3a20 5b28  y_res_trafo": [(
-000032c0: 2270 5f68 765f 6d77 222c 2022 6638 2229  "p_hv_mw", "f8")
-000032d0: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
-000032e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000032f0: 2822 715f 6876 5f6d 7661 7222 2c20 2266  ("q_hv_mvar", "f
-00003300: 3822 292c 0d0a 2020 2020 2020 2020 2020  8"),..          
-00003310: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003320: 2020 2028 2270 5f6c 765f 6d77 222c 2022     ("p_lv_mw", "
-00003330: 6638 2229 2c0d 0a20 2020 2020 2020 2020  f8"),..         
-00003340: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003350: 2020 2020 2822 715f 6c76 5f6d 7661 7222      ("q_lv_mvar"
-00003360: 2c20 2266 3822 292c 0d0a 2020 2020 2020  , "f8"),..      
-00003370: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003380: 2020 2020 2020 2028 2270 6c5f 6d77 222c         ("pl_mw",
-00003390: 2022 6638 2229 2c0d 0a20 2020 2020 2020   "f8"),..       
-000033a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000033b0: 2020 2020 2020 2822 716c 5f6d 7661 7222        ("ql_mvar"
-000033c0: 2c20 2266 3822 292c 0d0a 2020 2020 2020  , "f8"),..      
-000033d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000033e0: 2020 2020 2020 2028 2269 5f68 765f 6b61         ("i_hv_ka
-000033f0: 222c 2022 6638 2229 2c0d 0a20 2020 2020  ", "f8"),..     
-00003400: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003410: 2020 2020 2020 2020 2822 695f 6c76 5f6b          ("i_lv_k
-00003420: 6122 2c20 2266 3822 292c 0d0a 2020 2020  a", "f8"),..    
-00003430: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003440: 2020 2020 2020 2020 2028 2276 6d5f 6876           ("vm_hv
-00003450: 5f70 7522 2c20 2266 3822 292c 0d0a 2020  _pu", "f8"),..  
-00003460: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003470: 2020 2020 2020 2020 2020 2028 2276 615f             ("va_
-00003480: 6876 5f64 6567 7265 6522 2c20 2266 3822  hv_degree", "f8"
-00003490: 292c 0d0a 2020 2020 2020 2020 2020 2020  ),..            
-000034a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000034b0: 2028 2276 6d5f 6c76 5f70 7522 2c20 2266   ("vm_lv_pu", "f
-000034c0: 3822 292c 0d0a 2020 2020 2020 2020 2020  8"),..          
-000034d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000034e0: 2020 2028 2276 615f 6c76 5f64 6567 7265     ("va_lv_degre
-000034f0: 6522 2c20 2266 3822 292c 0d0a 2020 2020  e", "f8"),..    
-00003500: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003510: 2020 2020 2020 2020 2028 226c 6f61 6469           ("loadi
-00003520: 6e67 5f70 6572 6365 6e74 222c 2022 6638  ng_percent", "f8
-00003530: 2229 5d2c 0d0a 2020 2020 2020 2020 225f  ")],..        "_
-00003540: 656d 7074 795f 7265 735f 6c6f 6164 223a  empty_res_load":
-00003550: 205b 2822 705f 6d77 222c 2022 6638 2229   [("p_mw", "f8")
-00003560: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
-00003570: 2020 2020 2020 2020 2020 2020 2020 2028                 (
-00003580: 2271 5f6d 7661 7222 2c20 2266 3822 295d  "q_mvar", "f8")]
-00003590: 2c0d 0a20 2020 2020 2020 2022 5f65 6d70  ,..        "_emp
-000035a0: 7479 5f72 6573 5f61 7379 6d6d 6574 7269  ty_res_asymmetri
-000035b0: 635f 6c6f 6164 223a 205b 2822 705f 6d77  c_load": [("p_mw
-000035c0: 222c 2022 6638 2229 2c0d 0a20 2020 2020  ", "f8"),..     
-000035d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002fd0: 2020 2020 2020 2020 2020 2020 2020 2028                 (
+00002fe0: 2271 5f6d 7661 7222 2c20 2266 3822 295d  "q_mvar", "f8")]
+00002ff0: 2c0d 0a20 2020 2020 2020 2022 5f65 6d70  ,..        "_emp
+00003000: 7479 5f72 6573 5f6c 696e 6522 3a20 5b28  ty_res_line": [(
+00003010: 2270 5f66 726f 6d5f 6d77 222c 2022 6638  "p_from_mw", "f8
+00003020: 2229 2c0d 0a20 2020 2020 2020 2020 2020  "),..           
+00003030: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003040: 2028 2271 5f66 726f 6d5f 6d76 6172 222c   ("q_from_mvar",
+00003050: 2022 6638 2229 2c0d 0a20 2020 2020 2020   "f8"),..       
+00003060: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003070: 2020 2020 2028 2270 5f74 6f5f 6d77 222c       ("p_to_mw",
+00003080: 2022 6638 2229 2c0d 0a20 2020 2020 2020   "f8"),..       
+00003090: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000030a0: 2020 2020 2028 2271 5f74 6f5f 6d76 6172       ("q_to_mvar
+000030b0: 222c 2022 6638 2229 2c0d 0a20 2020 2020  ", "f8"),..     
+000030c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000030d0: 2020 2020 2020 2028 2270 6c5f 6d77 222c         ("pl_mw",
+000030e0: 2022 6638 2229 2c0d 0a20 2020 2020 2020   "f8"),..       
+000030f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003100: 2020 2020 2028 2271 6c5f 6d76 6172 222c       ("ql_mvar",
+00003110: 2022 6638 2229 2c0d 0a20 2020 2020 2020   "f8"),..       
+00003120: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003130: 2020 2020 2028 2269 5f66 726f 6d5f 6b61       ("i_from_ka
+00003140: 222c 2022 6638 2229 2c0d 0a20 2020 2020  ", "f8"),..     
+00003150: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003160: 2020 2020 2020 2028 2269 5f74 6f5f 6b61         ("i_to_ka
+00003170: 222c 2022 6638 2229 2c0d 0a20 2020 2020  ", "f8"),..     
+00003180: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003190: 2020 2020 2020 2028 2269 5f6b 6122 2c20         ("i_ka", 
+000031a0: 2266 3822 292c 0d0a 2020 2020 2020 2020  "f8"),..        
+000031b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000031c0: 2020 2020 2822 766d 5f66 726f 6d5f 7075      ("vm_from_pu
+000031d0: 222c 2022 6638 2229 2c0d 0a20 2020 2020  ", "f8"),..     
+000031e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000031f0: 2020 2020 2020 2028 2276 615f 6672 6f6d         ("va_from
+00003200: 5f64 6567 7265 6522 2c20 2266 3822 292c  _degree", "f8"),
+00003210: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00003220: 2020 2020 2020 2020 2020 2020 2020 2822                ("
+00003230: 766d 5f74 6f5f 7075 222c 2022 6638 2229  vm_to_pu", "f8")
+00003240: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
+00003250: 2020 2020 2020 2020 2020 2020 2020 2028                 (
+00003260: 2276 615f 746f 5f64 6567 7265 6522 2c20  "va_to_degree", 
+00003270: 2266 3822 292c 0d0a 2020 2020 2020 2020  "f8"),..        
+00003280: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003290: 2020 2020 2822 6c6f 6164 696e 675f 7065      ("loading_pe
+000032a0: 7263 656e 7422 2c20 2266 3822 295d 2c0d  rcent", "f8")],.
+000032b0: 0a20 2020 2020 2020 2022 5f65 6d70 7479  .        "_empty
+000032c0: 5f72 6573 5f74 7261 666f 223a 205b 2822  _res_trafo": [("
+000032d0: 705f 6876 5f6d 7722 2c20 2266 3822 292c  p_hv_mw", "f8"),
+000032e0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+000032f0: 2020 2020 2020 2020 2020 2020 2020 2028                 (
+00003300: 2271 5f68 765f 6d76 6172 222c 2022 6638  "q_hv_mvar", "f8
+00003310: 2229 2c0d 0a20 2020 2020 2020 2020 2020  "),..           
+00003320: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003330: 2020 2822 705f 6c76 5f6d 7722 2c20 2266    ("p_lv_mw", "f
+00003340: 3822 292c 0d0a 2020 2020 2020 2020 2020  8"),..          
+00003350: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003360: 2020 2028 2271 5f6c 765f 6d76 6172 222c     ("q_lv_mvar",
+00003370: 2022 6638 2229 2c0d 0a20 2020 2020 2020   "f8"),..       
+00003380: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003390: 2020 2020 2020 2822 706c 5f6d 7722 2c20        ("pl_mw", 
+000033a0: 2266 3822 292c 0d0a 2020 2020 2020 2020  "f8"),..        
+000033b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000033c0: 2020 2020 2028 2271 6c5f 6d76 6172 222c       ("ql_mvar",
+000033d0: 2022 6638 2229 2c0d 0a20 2020 2020 2020   "f8"),..       
+000033e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000033f0: 2020 2020 2020 2822 695f 6876 5f6b 6122        ("i_hv_ka"
+00003400: 2c20 2266 3822 292c 0d0a 2020 2020 2020  , "f8"),..      
+00003410: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003420: 2020 2020 2020 2028 2269 5f6c 765f 6b61         ("i_lv_ka
+00003430: 222c 2022 6638 2229 2c0d 0a20 2020 2020  ", "f8"),..     
+00003440: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003450: 2020 2020 2020 2020 2822 766d 5f68 765f          ("vm_hv_
+00003460: 7075 222c 2022 6638 2229 2c0d 0a20 2020  pu", "f8"),..   
+00003470: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003480: 2020 2020 2020 2020 2020 2822 7661 5f68            ("va_h
+00003490: 765f 6465 6772 6565 222c 2022 6638 2229  v_degree", "f8")
+000034a0: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
+000034b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000034c0: 2822 766d 5f6c 765f 7075 222c 2022 6638  ("vm_lv_pu", "f8
+000034d0: 2229 2c0d 0a20 2020 2020 2020 2020 2020  "),..           
+000034e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000034f0: 2020 2822 7661 5f6c 765f 6465 6772 6565    ("va_lv_degree
+00003500: 222c 2022 6638 2229 2c0d 0a20 2020 2020  ", "f8"),..     
+00003510: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003520: 2020 2020 2020 2020 2822 6c6f 6164 696e          ("loadin
+00003530: 675f 7065 7263 656e 7422 2c20 2266 3822  g_percent", "f8"
+00003540: 295d 2c0d 0a20 2020 2020 2020 2022 5f65  )],..        "_e
+00003550: 6d70 7479 5f72 6573 5f6c 6f61 6422 3a20  mpty_res_load": 
+00003560: 5b28 2270 5f6d 7722 2c20 2266 3822 292c  [("p_mw", "f8"),
+00003570: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00003580: 2020 2020 2020 2020 2020 2020 2020 2822                ("
+00003590: 715f 6d76 6172 222c 2022 6638 2229 5d2c  q_mvar", "f8")],
+000035a0: 0d0a 2020 2020 2020 2020 225f 656d 7074  ..        "_empt
+000035b0: 795f 7265 735f 6173 796d 6d65 7472 6963  y_res_asymmetric
+000035c0: 5f6c 6f61 6422 3a20 5b28 2270 5f6d 7722  _load": [("p_mw"
+000035d0: 2c20 2266 3822 292c 0d0a 2020 2020 2020  , "f8"),..      
 000035e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000035f0: 2020 2822 715f 6d76 6172 222c 2022 6638    ("q_mvar", "f8
-00003600: 2229 5d2c 0d0a 2020 2020 2020 2020 225f  ")],..        "_
-00003610: 656d 7074 795f 7265 735f 6173 796d 6d65  empty_res_asymme
-00003620: 7472 6963 5f73 6765 6e22 3a20 5b28 2270  tric_sgen": [("p
-00003630: 5f6d 7722 2c20 2266 3822 292c 0d0a 2020  _mw", "f8"),..  
-00003640: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000035f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003600: 2028 2271 5f6d 7661 7222 2c20 2266 3822   ("q_mvar", "f8"
+00003610: 295d 2c0d 0a20 2020 2020 2020 2022 5f65  )],..        "_e
+00003620: 6d70 7479 5f72 6573 5f61 7379 6d6d 6574  mpty_res_asymmet
+00003630: 7269 635f 7367 656e 223a 205b 2822 705f  ric_sgen": [("p_
+00003640: 6d77 222c 2022 6638 2229 2c0d 0a20 2020  mw", "f8"),..   
 00003650: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003660: 2020 2020 2028 2271 5f6d 7661 7222 2c20       ("q_mvar", 
-00003670: 2266 3822 295d 2c0d 0a20 2020 2020 2020  "f8")],..       
-00003680: 2022 5f65 6d70 7479 5f72 6573 5f6d 6f74   "_empty_res_mot
-00003690: 6f72 223a 205b 2822 705f 6d77 222c 2022  or": [("p_mw", "
-000036a0: 6638 2229 2c0d 0a20 2020 2020 2020 2020  f8"),..         
-000036b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000036c0: 2020 2020 2822 715f 6d76 6172 222c 2022      ("q_mvar", "
-000036d0: 6638 2229 5d2c 0d0a 2020 2020 2020 2020  f8")],..        
-000036e0: 225f 656d 7074 795f 7265 735f 7367 656e  "_empty_res_sgen
-000036f0: 223a 205b 2822 705f 6d77 222c 2022 6638  ": [("p_mw", "f8
-00003700: 2229 2c0d 0a20 2020 2020 2020 2020 2020  "),..           
-00003710: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003720: 2028 2271 5f6d 7661 7222 2c20 2266 3822   ("q_mvar", "f8"
-00003730: 295d 2c0d 0a20 2020 2020 2020 2022 5f65  )],..        "_e
-00003740: 6d70 7479 5f72 6573 5f73 6875 6e74 223a  mpty_res_shunt":
-00003750: 205b 2822 705f 6d77 222c 2022 6638 2229   [("p_mw", "f8")
-00003760: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
-00003770: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003780: 2822 715f 6d76 6172 222c 2022 6638 2229  ("q_mvar", "f8")
-00003790: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
-000037a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000037b0: 2822 766d 5f70 7522 2c20 2266 3822 295d  ("vm_pu", "f8")]
-000037c0: 2c0d 0a20 2020 2020 2020 2022 5f65 6d70  ,..        "_emp
-000037d0: 7479 5f72 6573 5f69 6d70 6564 616e 6365  ty_res_impedance
-000037e0: 223a 205b 2822 705f 6672 6f6d 5f6d 7722  ": [("p_from_mw"
-000037f0: 2c20 2266 3822 292c 0d0a 2020 2020 2020  , "f8"),..      
-00003800: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003810: 2020 2020 2020 2020 2020 2028 2271 5f66             ("q_f
-00003820: 726f 6d5f 6d76 6172 222c 2022 6638 2229  rom_mvar", "f8")
-00003830: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
-00003840: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003850: 2020 2020 2822 705f 746f 5f6d 7722 2c20      ("p_to_mw", 
-00003860: 2266 3822 292c 0d0a 2020 2020 2020 2020  "f8"),..        
-00003870: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003880: 2020 2020 2020 2020 2028 2271 5f74 6f5f           ("q_to_
-00003890: 6d76 6172 222c 2022 6638 2229 2c0d 0a20  mvar", "f8"),.. 
-000038a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003660: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003670: 2020 2020 2822 715f 6d76 6172 222c 2022      ("q_mvar", "
+00003680: 6638 2229 5d2c 0d0a 2020 2020 2020 2020  f8")],..        
+00003690: 225f 656d 7074 795f 7265 735f 6d6f 746f  "_empty_res_moto
+000036a0: 7222 3a20 5b28 2270 5f6d 7722 2c20 2266  r": [("p_mw", "f
+000036b0: 3822 292c 0d0a 2020 2020 2020 2020 2020  8"),..          
+000036c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000036d0: 2020 2028 2271 5f6d 7661 7222 2c20 2266     ("q_mvar", "f
+000036e0: 3822 295d 2c0d 0a20 2020 2020 2020 2022  8")],..        "
+000036f0: 5f65 6d70 7479 5f72 6573 5f73 6765 6e22  _empty_res_sgen"
+00003700: 3a20 5b28 2270 5f6d 7722 2c20 2266 3822  : [("p_mw", "f8"
+00003710: 292c 0d0a 2020 2020 2020 2020 2020 2020  ),..            
+00003720: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003730: 2822 715f 6d76 6172 222c 2022 6638 2229  ("q_mvar", "f8")
+00003740: 5d2c 0d0a 2020 2020 2020 2020 225f 656d  ],..        "_em
+00003750: 7074 795f 7265 735f 7368 756e 7422 3a20  pty_res_shunt": 
+00003760: 5b28 2270 5f6d 7722 2c20 2266 3822 292c  [("p_mw", "f8"),
+00003770: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00003780: 2020 2020 2020 2020 2020 2020 2020 2028                 (
+00003790: 2271 5f6d 7661 7222 2c20 2266 3822 292c  "q_mvar", "f8"),
+000037a0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+000037b0: 2020 2020 2020 2020 2020 2020 2020 2028                 (
+000037c0: 2276 6d5f 7075 222c 2022 6638 2229 5d2c  "vm_pu", "f8")],
+000037d0: 0d0a 2020 2020 2020 2020 225f 656d 7074  ..        "_empt
+000037e0: 795f 7265 735f 696d 7065 6461 6e63 6522  y_res_impedance"
+000037f0: 3a20 5b28 2270 5f66 726f 6d5f 6d77 222c  : [("p_from_mw",
+00003800: 2022 6638 2229 2c0d 0a20 2020 2020 2020   "f8"),..       
+00003810: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003820: 2020 2020 2020 2020 2020 2822 715f 6672            ("q_fr
+00003830: 6f6d 5f6d 7661 7222 2c20 2266 3822 292c  om_mvar", "f8"),
+00003840: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00003850: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003860: 2020 2028 2270 5f74 6f5f 6d77 222c 2022     ("p_to_mw", "
+00003870: 6638 2229 2c0d 0a20 2020 2020 2020 2020  f8"),..         
+00003880: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003890: 2020 2020 2020 2020 2822 715f 746f 5f6d          ("q_to_m
+000038a0: 7661 7222 2c20 2266 3822 292c 0d0a 2020  var", "f8"),..  
 000038b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000038c0: 2822 706c 5f6d 7722 2c20 2266 3822 292c  ("pl_mw", "f8"),
-000038d0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-000038e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000038f0: 2020 2028 2271 6c5f 6d76 6172 222c 2022     ("ql_mvar", "
-00003900: 6638 2229 2c0d 0a20 2020 2020 2020 2020  f8"),..         
-00003910: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003920: 2020 2020 2020 2020 2822 695f 6672 6f6d          ("i_from
-00003930: 5f6b 6122 2c20 2266 3822 292c 0d0a 2020  _ka", "f8"),..  
-00003940: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003950: 2020 2020 2020 2020 2020 2020 2020 2028                 (
-00003960: 2269 5f74 6f5f 6b61 222c 2022 6638 2229  "i_to_ka", "f8")
-00003970: 5d2c 0d0a 2020 2020 2020 2020 225f 656d  ],..        "_em
-00003980: 7074 795f 7265 735f 6463 6c69 6e65 223a  pty_res_dcline":
-00003990: 205b 2822 705f 6672 6f6d 5f6d 7722 2c20   [("p_from_mw", 
-000039a0: 2266 3822 292c 0d0a 2020 2020 2020 2020  "f8"),..        
-000039b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000039c0: 2020 2020 2020 2822 715f 6672 6f6d 5f6d        ("q_from_m
-000039d0: 7661 7222 2c20 2266 3822 292c 0d0a 2020  var", "f8"),..  
-000039e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000039f0: 2020 2020 2020 2020 2020 2020 2822 705f              ("p_
-00003a00: 746f 5f6d 7722 2c20 2266 3822 292c 0d0a  to_mw", "f8"),..
-00003a10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003a20: 2020 2020 2020 2020 2020 2020 2020 2822                ("
-00003a30: 715f 746f 5f6d 7661 7222 2c20 2266 3822  q_to_mvar", "f8"
-00003a40: 292c 0d0a 2020 2020 2020 2020 2020 2020  ),..            
-00003a50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003a60: 2020 2822 706c 5f6d 7722 2c20 2266 3822    ("pl_mw", "f8"
-00003a70: 292c 0d0a 2020 2020 2020 2020 2020 2020  ),..            
-00003a80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003a90: 2020 2822 766d 5f66 726f 6d5f 7075 222c    ("vm_from_pu",
-00003aa0: 2022 6638 2229 2c0d 0a20 2020 2020 2020   "f8"),..       
-00003ab0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003ac0: 2020 2020 2020 2028 2276 615f 6672 6f6d         ("va_from
-00003ad0: 5f64 6567 7265 6522 2c20 2266 3822 292c  _degree", "f8"),
-00003ae0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00003af0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003b00: 2822 766d 5f74 6f5f 7075 222c 2022 6638  ("vm_to_pu", "f8
-00003b10: 2229 2c0d 0a20 2020 2020 2020 2020 2020  "),..           
-00003b20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003b30: 2020 2028 2276 615f 746f 5f64 6567 7265     ("va_to_degre
-00003b40: 6522 2c20 2266 3822 295d 2c0d 0a20 2020  e", "f8")],..   
-00003b50: 2020 2020 2022 5f65 6d70 7479 5f72 6573       "_empty_res
-00003b60: 5f77 6172 6422 3a20 5b28 2270 5f6d 7722  _ward": [("p_mw"
-00003b70: 2c20 2266 3822 292c 0d0a 2020 2020 2020  , "f8"),..      
-00003b80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003b90: 2020 2020 2020 2822 715f 6d76 6172 222c        ("q_mvar",
-00003ba0: 2022 6638 2229 2c0d 0a20 2020 2020 2020   "f8"),..       
-00003bb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003bc0: 2020 2020 2028 2276 6d5f 7075 222c 2022       ("vm_pu", "
-00003bd0: 6638 2229 5d2c 0d0a 2020 2020 2020 2020  f8")],..        
-00003be0: 225f 656d 7074 795f 7265 735f 7877 6172  "_empty_res_xwar
-00003bf0: 6422 3a20 5b28 2270 5f6d 7722 2c20 2266  d": [("p_mw", "f
-00003c00: 3822 292c 0d0a 2020 2020 2020 2020 2020  8"),..          
-00003c10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003c20: 2020 2028 2271 5f6d 7661 7222 2c20 2266     ("q_mvar", "f
-00003c30: 3822 292c 0d0a 2020 2020 2020 2020 2020  8"),..          
-00003c40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003c50: 2020 2028 2276 6d5f 7075 222c 2022 6638     ("vm_pu", "f8
-00003c60: 2229 2c0d 0a20 2020 2020 2020 2020 2020  "),..           
-00003c70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003c80: 2020 2822 7661 5f69 6e74 6572 6e61 6c5f    ("va_internal_
-00003c90: 6465 6772 6565 222c 2022 6638 2229 2c0d  degree", "f8"),.
-00003ca0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00003cb0: 2020 2020 2020 2020 2020 2020 2020 2822                ("
-00003cc0: 766d 5f69 6e74 6572 6e61 6c5f 7075 222c  vm_internal_pu",
-00003cd0: 2022 6638 2229 5d2c 0d0a 0d0a 2020 2020   "f8")],....    
-00003ce0: 2020 2020 225f 656d 7074 795f 7265 735f      "_empty_res_
-00003cf0: 7472 6166 6f5f 3370 6822 3a20 5b28 2270  trafo_3ph": [("p
-00003d00: 5f61 5f68 765f 6d77 222c 2022 6638 2229  _a_hv_mw", "f8")
-00003d10: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
-00003d20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003d30: 2020 2020 2822 715f 615f 6876 5f6d 7661      ("q_a_hv_mva
-00003d40: 7222 2c20 2266 3822 292c 0d0a 2020 2020  r", "f8"),..    
-00003d50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003d60: 2020 2020 2020 2020 2020 2020 2028 2270               ("p
-00003d70: 5f62 5f68 765f 6d77 222c 2022 6638 2229  _b_hv_mw", "f8")
-00003d80: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
-00003d90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003da0: 2020 2020 2822 715f 625f 6876 5f6d 7661      ("q_b_hv_mva
-00003db0: 7222 2c20 2266 3822 292c 0d0a 2020 2020  r", "f8"),..    
-00003dc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003dd0: 2020 2020 2020 2020 2020 2020 2028 2270               ("p
-00003de0: 5f63 5f68 765f 6d77 222c 2022 6638 2229  _c_hv_mw", "f8")
-00003df0: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
-00003e00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003e10: 2020 2020 2822 715f 635f 6876 5f6d 7661      ("q_c_hv_mva
-00003e20: 7222 2c20 2266 3822 292c 0d0a 2020 2020  r", "f8"),..    
-00003e30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003e40: 2020 2020 2020 2020 2020 2020 2028 2270               ("p
-00003e50: 5f61 5f6c 765f 6d77 222c 2022 6638 2229  _a_lv_mw", "f8")
-00003e60: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
-00003e70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003e80: 2020 2020 2822 715f 615f 6c76 5f6d 7661      ("q_a_lv_mva
-00003e90: 7222 2c20 2266 3822 292c 0d0a 2020 2020  r", "f8"),..    
-00003ea0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003eb0: 2020 2020 2020 2020 2020 2020 2028 2270               ("p
-00003ec0: 5f62 5f6c 765f 6d77 222c 2022 6638 2229  _b_lv_mw", "f8")
-00003ed0: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
-00003ee0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003ef0: 2020 2020 2822 715f 625f 6c76 5f6d 7661      ("q_b_lv_mva
-00003f00: 7222 2c20 2266 3822 292c 0d0a 2020 2020  r", "f8"),..    
-00003f10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003f20: 2020 2020 2020 2020 2020 2020 2028 2270               ("p
-00003f30: 5f63 5f6c 765f 6d77 222c 2022 6638 2229  _c_lv_mw", "f8")
-00003f40: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
-00003f50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003f60: 2020 2020 2822 715f 635f 6c76 5f6d 7661      ("q_c_lv_mva
-00003f70: 7222 2c20 2266 3822 292c 0d0a 2020 2020  r", "f8"),..    
-00003f80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003f90: 2020 2020 2020 2020 2020 2020 2028 2270               ("p
-00003fa0: 5f61 5f6c 5f6d 7722 2c20 2266 3822 292c  _a_l_mw", "f8"),
-00003fb0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00003fc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003fd0: 2020 2028 2271 5f61 5f6c 5f6d 7661 7222     ("q_a_l_mvar"
-00003fe0: 2c20 2266 3822 292c 0d0a 2020 2020 2020  , "f8"),..      
-00003ff0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004000: 2020 2020 2020 2020 2020 2028 2270 5f62             ("p_b
-00004010: 5f6c 5f6d 7722 2c20 2266 3822 292c 0d0a  _l_mw", "f8"),..
-00004020: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000038c0: 2020 2020 2020 2020 2020 2020 2020 2028                 (
+000038d0: 2270 6c5f 6d77 222c 2022 6638 2229 2c0d  "pl_mw", "f8"),.
+000038e0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000038f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003900: 2020 2822 716c 5f6d 7661 7222 2c20 2266    ("ql_mvar", "f
+00003910: 3822 292c 0d0a 2020 2020 2020 2020 2020  8"),..          
+00003920: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003930: 2020 2020 2020 2028 2269 5f66 726f 6d5f         ("i_from_
+00003940: 6b61 222c 2022 6638 2229 2c0d 0a20 2020  ka", "f8"),..   
+00003950: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003960: 2020 2020 2020 2020 2020 2020 2020 2822                ("
+00003970: 695f 746f 5f6b 6122 2c20 2266 3822 295d  i_to_ka", "f8")]
+00003980: 2c0d 0a20 2020 2020 2020 2022 5f65 6d70  ,..        "_emp
+00003990: 7479 5f72 6573 5f64 636c 696e 6522 3a20  ty_res_dcline": 
+000039a0: 5b28 2270 5f66 726f 6d5f 6d77 222c 2022  [("p_from_mw", "
+000039b0: 6638 2229 2c0d 0a20 2020 2020 2020 2020  f8"),..         
+000039c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000039d0: 2020 2020 2028 2271 5f66 726f 6d5f 6d76       ("q_from_mv
+000039e0: 6172 222c 2022 6638 2229 2c0d 0a20 2020  ar", "f8"),..   
+000039f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003a00: 2020 2020 2020 2020 2020 2028 2270 5f74             ("p_t
+00003a10: 6f5f 6d77 222c 2022 6638 2229 2c0d 0a20  o_mw", "f8"),.. 
+00003a20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003a30: 2020 2020 2020 2020 2020 2020 2028 2271               ("q
+00003a40: 5f74 6f5f 6d76 6172 222c 2022 6638 2229  _to_mvar", "f8")
+00003a50: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
+00003a60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003a70: 2028 2270 6c5f 6d77 222c 2022 6638 2229   ("pl_mw", "f8")
+00003a80: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
+00003a90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003aa0: 2028 2276 6d5f 6672 6f6d 5f70 7522 2c20   ("vm_from_pu", 
+00003ab0: 2266 3822 292c 0d0a 2020 2020 2020 2020  "f8"),..        
+00003ac0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003ad0: 2020 2020 2020 2822 7661 5f66 726f 6d5f        ("va_from_
+00003ae0: 6465 6772 6565 222c 2022 6638 2229 2c0d  degree", "f8"),.
+00003af0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00003b00: 2020 2020 2020 2020 2020 2020 2020 2028                 (
+00003b10: 2276 6d5f 746f 5f70 7522 2c20 2266 3822  "vm_to_pu", "f8"
+00003b20: 292c 0d0a 2020 2020 2020 2020 2020 2020  ),..            
+00003b30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003b40: 2020 2822 7661 5f74 6f5f 6465 6772 6565    ("va_to_degree
+00003b50: 222c 2022 6638 2229 5d2c 0d0a 2020 2020  ", "f8")],..    
+00003b60: 2020 2020 225f 656d 7074 795f 7265 735f      "_empty_res_
+00003b70: 7761 7264 223a 205b 2822 705f 6d77 222c  ward": [("p_mw",
+00003b80: 2022 6638 2229 2c0d 0a20 2020 2020 2020   "f8"),..       
+00003b90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003ba0: 2020 2020 2028 2271 5f6d 7661 7222 2c20       ("q_mvar", 
+00003bb0: 2266 3822 292c 0d0a 2020 2020 2020 2020  "f8"),..        
+00003bc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003bd0: 2020 2020 2822 766d 5f70 7522 2c20 2266      ("vm_pu", "f
+00003be0: 3822 295d 2c0d 0a20 2020 2020 2020 2022  8")],..        "
+00003bf0: 5f65 6d70 7479 5f72 6573 5f78 7761 7264  _empty_res_xward
+00003c00: 223a 205b 2822 705f 6d77 222c 2022 6638  ": [("p_mw", "f8
+00003c10: 2229 2c0d 0a20 2020 2020 2020 2020 2020  "),..           
+00003c20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003c30: 2020 2822 715f 6d76 6172 222c 2022 6638    ("q_mvar", "f8
+00003c40: 2229 2c0d 0a20 2020 2020 2020 2020 2020  "),..           
+00003c50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003c60: 2020 2822 766d 5f70 7522 2c20 2266 3822    ("vm_pu", "f8"
+00003c70: 292c 0d0a 2020 2020 2020 2020 2020 2020  ),..            
+00003c80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003c90: 2028 2276 615f 696e 7465 726e 616c 5f64   ("va_internal_d
+00003ca0: 6567 7265 6522 2c20 2266 3822 292c 0d0a  egree", "f8"),..
+00003cb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003cc0: 2020 2020 2020 2020 2020 2020 2028 2276               ("v
+00003cd0: 6d5f 696e 7465 726e 616c 5f70 7522 2c20  m_internal_pu", 
+00003ce0: 2266 3822 295d 2c0d 0a0d 0a20 2020 2020  "f8")],....     
+00003cf0: 2020 2022 5f65 6d70 7479 5f72 6573 5f74     "_empty_res_t
+00003d00: 7261 666f 5f33 7068 223a 205b 2822 705f  rafo_3ph": [("p_
+00003d10: 615f 6876 5f6d 7722 2c20 2266 3822 292c  a_hv_mw", "f8"),
+00003d20: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00003d30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003d40: 2020 2028 2271 5f61 5f68 765f 6d76 6172     ("q_a_hv_mvar
+00003d50: 222c 2022 6638 2229 2c0d 0a20 2020 2020  ", "f8"),..     
+00003d60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003d70: 2020 2020 2020 2020 2020 2020 2822 705f              ("p_
+00003d80: 625f 6876 5f6d 7722 2c20 2266 3822 292c  b_hv_mw", "f8"),
+00003d90: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00003da0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003db0: 2020 2028 2271 5f62 5f68 765f 6d76 6172     ("q_b_hv_mvar
+00003dc0: 222c 2022 6638 2229 2c0d 0a20 2020 2020  ", "f8"),..     
+00003dd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003de0: 2020 2020 2020 2020 2020 2020 2822 705f              ("p_
+00003df0: 635f 6876 5f6d 7722 2c20 2266 3822 292c  c_hv_mw", "f8"),
+00003e00: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00003e10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003e20: 2020 2028 2271 5f63 5f68 765f 6d76 6172     ("q_c_hv_mvar
+00003e30: 222c 2022 6638 2229 2c0d 0a20 2020 2020  ", "f8"),..     
+00003e40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003e50: 2020 2020 2020 2020 2020 2020 2822 705f              ("p_
+00003e60: 615f 6c76 5f6d 7722 2c20 2266 3822 292c  a_lv_mw", "f8"),
+00003e70: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00003e80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003e90: 2020 2028 2271 5f61 5f6c 765f 6d76 6172     ("q_a_lv_mvar
+00003ea0: 222c 2022 6638 2229 2c0d 0a20 2020 2020  ", "f8"),..     
+00003eb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003ec0: 2020 2020 2020 2020 2020 2020 2822 705f              ("p_
+00003ed0: 625f 6c76 5f6d 7722 2c20 2266 3822 292c  b_lv_mw", "f8"),
+00003ee0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00003ef0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003f00: 2020 2028 2271 5f62 5f6c 765f 6d76 6172     ("q_b_lv_mvar
+00003f10: 222c 2022 6638 2229 2c0d 0a20 2020 2020  ", "f8"),..     
+00003f20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003f30: 2020 2020 2020 2020 2020 2020 2822 705f              ("p_
+00003f40: 635f 6c76 5f6d 7722 2c20 2266 3822 292c  c_lv_mw", "f8"),
+00003f50: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00003f60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003f70: 2020 2028 2271 5f63 5f6c 765f 6d76 6172     ("q_c_lv_mvar
+00003f80: 222c 2022 6638 2229 2c0d 0a20 2020 2020  ", "f8"),..     
+00003f90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003fa0: 2020 2020 2020 2020 2020 2020 2822 705f              ("p_
+00003fb0: 615f 6c5f 6d77 222c 2022 6638 2229 2c0d  a_l_mw", "f8"),.
+00003fc0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00003fd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003fe0: 2020 2822 715f 615f 6c5f 6d76 6172 222c    ("q_a_l_mvar",
+00003ff0: 2022 6638 2229 2c0d 0a20 2020 2020 2020   "f8"),..       
+00004000: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004010: 2020 2020 2020 2020 2020 2822 705f 625f            ("p_b_
+00004020: 6c5f 6d77 222c 2022 6638 2229 2c0d 0a20  l_mw", "f8"),.. 
 00004030: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004040: 2028 2271 5f62 5f6c 5f6d 7661 7222 2c20   ("q_b_l_mvar", 
-00004050: 2266 3822 292c 0d0a 2020 2020 2020 2020  "f8"),..        
-00004060: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004070: 2020 2020 2020 2020 2028 2270 5f63 5f6c           ("p_c_l
-00004080: 5f6d 7722 2c20 2266 3822 292c 0d0a 2020  _mw", "f8"),..  
-00004090: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000040a0: 2020 2020 2020 2020 2020 2020 2020 2028                 (
-000040b0: 2271 5f63 5f6c 5f6d 7661 7222 2c20 2266  "q_c_l_mvar", "f
-000040c0: 3822 292c 0d0a 2020 2020 2020 2020 2020  8"),..          
-000040d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000040e0: 2020 2020 2020 2028 2269 5f61 5f68 765f         ("i_a_hv_
-000040f0: 6b61 222c 2022 6638 2229 2c0d 0a20 2020  ka", "f8"),..   
-00004100: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004110: 2020 2020 2020 2020 2020 2020 2020 2822                ("
-00004120: 695f 615f 6c76 5f6b 6122 2c20 2266 3822  i_a_lv_ka", "f8"
-00004130: 292c 0d0a 2020 2020 2020 2020 2020 2020  ),..            
-00004140: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004150: 2020 2020 2028 2269 5f62 5f68 765f 6b61       ("i_b_hv_ka
-00004160: 222c 2022 6638 2229 2c0d 0a20 2020 2020  ", "f8"),..     
-00004170: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004180: 2020 2020 2020 2020 2020 2020 2822 695f              ("i_
-00004190: 625f 6c76 5f6b 6122 2c20 2266 3822 292c  b_lv_ka", "f8"),
-000041a0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-000041b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000041c0: 2020 2028 2269 5f63 5f68 765f 6b61 222c     ("i_c_hv_ka",
-000041d0: 2022 6638 2229 2c0d 0a20 2020 2020 2020   "f8"),..       
-000041e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000041f0: 2020 2020 2020 2020 2020 2822 695f 635f            ("i_c_
-00004200: 6c76 5f6b 6122 2c20 2266 3822 292c 0d0a  lv_ka", "f8"),..
-00004210: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004040: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004050: 2822 715f 625f 6c5f 6d76 6172 222c 2022  ("q_b_l_mvar", "
+00004060: 6638 2229 2c0d 0a20 2020 2020 2020 2020  f8"),..         
+00004070: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004080: 2020 2020 2020 2020 2822 705f 635f 6c5f          ("p_c_l_
+00004090: 6d77 222c 2022 6638 2229 2c0d 0a20 2020  mw", "f8"),..   
+000040a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000040b0: 2020 2020 2020 2020 2020 2020 2020 2822                ("
+000040c0: 715f 635f 6c5f 6d76 6172 222c 2022 6638  q_c_l_mvar", "f8
+000040d0: 2229 2c0d 0a20 2020 2020 2020 2020 2020  "),..           
+000040e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000040f0: 2020 2020 2020 2822 695f 615f 6876 5f6b        ("i_a_hv_k
+00004100: 6122 2c20 2266 3822 292c 0d0a 2020 2020  a", "f8"),..    
+00004110: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004120: 2020 2020 2020 2020 2020 2020 2028 2269               ("i
+00004130: 5f61 5f6c 765f 6b61 222c 2022 6638 2229  _a_lv_ka", "f8")
+00004140: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
+00004150: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004160: 2020 2020 2822 695f 625f 6876 5f6b 6122      ("i_b_hv_ka"
+00004170: 2c20 2266 3822 292c 0d0a 2020 2020 2020  , "f8"),..      
+00004180: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004190: 2020 2020 2020 2020 2020 2028 2269 5f62             ("i_b
+000041a0: 5f6c 765f 6b61 222c 2022 6638 2229 2c0d  _lv_ka", "f8"),.
+000041b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000041c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000041d0: 2020 2822 695f 635f 6876 5f6b 6122 2c20    ("i_c_hv_ka", 
+000041e0: 2266 3822 292c 0d0a 2020 2020 2020 2020  "f8"),..        
+000041f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004200: 2020 2020 2020 2020 2028 2269 5f63 5f6c           ("i_c_l
+00004210: 765f 6b61 222c 2022 6638 2229 2c0d 0a20  v_ka", "f8"),.. 
 00004220: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004230: 2023 2028 2269 5f6e 5f68 765f 6b61 222c   # ("i_n_hv_ka",
-00004240: 2022 6638 2229 2c0d 0a20 2020 2020 2020   "f8"),..       
-00004250: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004260: 2020 2020 2020 2020 2020 2320 2822 695f            # ("i_
-00004270: 6e5f 6c76 5f6b 6122 2c20 2266 3822 292c  n_lv_ka", "f8"),
-00004280: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00004290: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000042a0: 2020 2028 226c 6f61 6469 6e67 5f61 5f70     ("loading_a_p
-000042b0: 6572 6365 6e74 222c 2022 6638 2229 2c0d  ercent", "f8"),.
-000042c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00004230: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004240: 2320 2822 695f 6e5f 6876 5f6b 6122 2c20  # ("i_n_hv_ka", 
+00004250: 2266 3822 292c 0d0a 2020 2020 2020 2020  "f8"),..        
+00004260: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004270: 2020 2020 2020 2020 2023 2028 2269 5f6e           # ("i_n
+00004280: 5f6c 765f 6b61 222c 2022 6638 2229 2c0d  _lv_ka", "f8"),.
+00004290: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000042a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000042b0: 2020 2822 6c6f 6164 696e 675f 615f 7065    ("loading_a_pe
+000042c0: 7263 656e 7422 2c20 2266 3822 292c 0d0a  rcent", "f8"),..
 000042d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000042e0: 2020 2822 6c6f 6164 696e 675f 625f 7065    ("loading_b_pe
-000042f0: 7263 656e 7422 2c20 2266 3822 292c 0d0a  rcent", "f8"),..
-00004300: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000042e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000042f0: 2028 226c 6f61 6469 6e67 5f62 5f70 6572   ("loading_b_per
+00004300: 6365 6e74 222c 2022 6638 2229 2c0d 0a20  cent", "f8"),.. 
 00004310: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004320: 2028 226c 6f61 6469 6e67 5f63 5f70 6572   ("loading_c_per
-00004330: 6365 6e74 222c 2022 6638 2229 2c0d 0a20  cent", "f8"),.. 
-00004340: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004320: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004330: 2822 6c6f 6164 696e 675f 635f 7065 7263  ("loading_c_perc
+00004340: 656e 7422 2c20 2266 3822 292c 0d0a 2020  ent", "f8"),..  
 00004350: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004360: 2822 6c6f 6164 696e 675f 7065 7263 656e  ("loading_percen
-00004370: 7422 2c20 2266 3822 295d 2c0d 0a20 2020  t", "f8")],..   
-00004380: 2020 2020 2022 5f65 6d70 7479 5f72 6573       "_empty_res
-00004390: 5f74 7261 666f 3377 223a 205b 2822 705f  _trafo3w": [("p_
-000043a0: 6876 5f6d 7722 2c20 2266 3822 292c 0d0a  hv_mw", "f8"),..
-000043b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000043c0: 2020 2020 2020 2020 2020 2020 2020 2028                 (
-000043d0: 2271 5f68 765f 6d76 6172 222c 2022 6638  "q_hv_mvar", "f8
-000043e0: 2229 2c0d 0a20 2020 2020 2020 2020 2020  "),..           
-000043f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004400: 2020 2020 2822 705f 6d76 5f6d 7722 2c20      ("p_mv_mw", 
-00004410: 2266 3822 292c 0d0a 2020 2020 2020 2020  "f8"),..        
-00004420: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004430: 2020 2020 2020 2028 2271 5f6d 765f 6d76         ("q_mv_mv
-00004440: 6172 222c 2022 6638 2229 2c0d 0a20 2020  ar", "f8"),..   
-00004450: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004460: 2020 2020 2020 2020 2020 2020 2822 705f              ("p_
-00004470: 6c76 5f6d 7722 2c20 2266 3822 292c 0d0a  lv_mw", "f8"),..
-00004480: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004490: 2020 2020 2020 2020 2020 2020 2020 2028                 (
-000044a0: 2271 5f6c 765f 6d76 6172 222c 2022 6638  "q_lv_mvar", "f8
-000044b0: 2229 2c0d 0a20 2020 2020 2020 2020 2020  "),..           
-000044c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000044d0: 2020 2020 2822 706c 5f6d 7722 2c20 2266      ("pl_mw", "f
-000044e0: 3822 292c 0d0a 2020 2020 2020 2020 2020  8"),..          
-000044f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004500: 2020 2020 2028 2271 6c5f 6d76 6172 222c       ("ql_mvar",
-00004510: 2022 6638 2229 2c0d 0a20 2020 2020 2020   "f8"),..       
-00004520: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004530: 2020 2020 2020 2020 2822 695f 6876 5f6b          ("i_hv_k
-00004540: 6122 2c20 2266 3822 292c 0d0a 2020 2020  a", "f8"),..    
-00004550: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004560: 2020 2020 2020 2020 2020 2028 2269 5f6d             ("i_m
-00004570: 765f 6b61 222c 2022 6638 2229 2c0d 0a20  v_ka", "f8"),.. 
-00004580: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004590: 2020 2020 2020 2020 2020 2020 2020 2822                ("
-000045a0: 695f 6c76 5f6b 6122 2c20 2266 3822 292c  i_lv_ka", "f8"),
-000045b0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-000045c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000045d0: 2028 2276 6d5f 6876 5f70 7522 2c20 2266   ("vm_hv_pu", "f
-000045e0: 3822 292c 0d0a 2020 2020 2020 2020 2020  8"),..          
-000045f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004600: 2020 2020 2028 2276 615f 6876 5f64 6567       ("va_hv_deg
-00004610: 7265 6522 2c20 2266 3822 292c 0d0a 2020  ree", "f8"),..  
-00004620: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004630: 2020 2020 2020 2020 2020 2020 2028 2276               ("v
-00004640: 6d5f 6d76 5f70 7522 2c20 2266 3822 292c  m_mv_pu", "f8"),
-00004650: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00004660: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004670: 2028 2276 615f 6d76 5f64 6567 7265 6522   ("va_mv_degree"
-00004680: 2c20 2266 3822 292c 0d0a 2020 2020 2020  , "f8"),..      
-00004690: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000046a0: 2020 2020 2020 2020 2028 2276 6d5f 6c76           ("vm_lv
-000046b0: 5f70 7522 2c20 2266 3822 292c 0d0a 2020  _pu", "f8"),..  
-000046c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000046d0: 2020 2020 2020 2020 2020 2020 2028 2276               ("v
-000046e0: 615f 6c76 5f64 6567 7265 6522 2c20 2266  a_lv_degree", "f
-000046f0: 3822 292c 0d0a 2020 2020 2020 2020 2020  8"),..          
-00004700: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004710: 2020 2020 2028 2276 615f 696e 7465 726e       ("va_intern
-00004720: 616c 5f64 6567 7265 6522 2c20 2266 3822  al_degree", "f8"
-00004730: 292c 0d0a 2020 2020 2020 2020 2020 2020  ),..            
-00004740: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004750: 2020 2028 2276 6d5f 696e 7465 726e 616c     ("vm_internal
-00004760: 5f70 7522 2c20 2266 3822 292c 0d0a 2020  _pu", "f8"),..  
-00004770: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004780: 2020 2020 2020 2020 2020 2020 2028 226c               ("l
-00004790: 6f61 6469 6e67 5f70 6572 6365 6e74 222c  oading_percent",
-000047a0: 2022 6638 2229 5d2c 0d0a 2020 2020 2020   "f8")],..      
-000047b0: 2020 225f 656d 7074 795f 7265 735f 6275    "_empty_res_bu
-000047c0: 735f 3370 6822 3a20 5b28 2276 6d5f 615f  s_3ph": [("vm_a_
-000047d0: 7075 222c 2022 6638 2229 2c0d 0a20 2020  pu", "f8"),..   
-000047e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000047f0: 2020 2020 2020 2020 2020 2020 2822 7661              ("va
-00004800: 5f61 5f64 6567 7265 6522 2c20 2266 3822  _a_degree", "f8"
-00004810: 292c 0d0a 2020 2020 2020 2020 2020 2020  ),..            
-00004820: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004830: 2020 2028 2276 6d5f 625f 7075 222c 2022     ("vm_b_pu", "
-00004840: 6638 2229 2c0d 0a20 2020 2020 2020 2020  f8"),..         
-00004850: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004860: 2020 2020 2020 2822 7661 5f62 5f64 6567        ("va_b_deg
-00004870: 7265 6522 2c20 2266 3822 292c 0d0a 2020  ree", "f8"),..  
-00004880: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004890: 2020 2020 2020 2020 2020 2020 2028 2276               ("v
-000048a0: 6d5f 635f 7075 222c 2022 6638 2229 2c0d  m_c_pu", "f8"),.
-000048b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00004360: 2020 2020 2020 2020 2020 2020 2020 2028                 (
+00004370: 226c 6f61 6469 6e67 5f70 6572 6365 6e74  "loading_percent
+00004380: 222c 2022 6638 2229 5d2c 0d0a 2020 2020  ", "f8")],..    
+00004390: 2020 2020 225f 656d 7074 795f 7265 735f      "_empty_res_
+000043a0: 7472 6166 6f33 7722 3a20 5b28 2270 5f68  trafo3w": [("p_h
+000043b0: 765f 6d77 222c 2022 6638 2229 2c0d 0a20  v_mw", "f8"),.. 
+000043c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000043d0: 2020 2020 2020 2020 2020 2020 2020 2822                ("
+000043e0: 715f 6876 5f6d 7661 7222 2c20 2266 3822  q_hv_mvar", "f8"
+000043f0: 292c 0d0a 2020 2020 2020 2020 2020 2020  ),..            
+00004400: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004410: 2020 2028 2270 5f6d 765f 6d77 222c 2022     ("p_mv_mw", "
+00004420: 6638 2229 2c0d 0a20 2020 2020 2020 2020  f8"),..         
+00004430: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004440: 2020 2020 2020 2822 715f 6d76 5f6d 7661        ("q_mv_mva
+00004450: 7222 2c20 2266 3822 292c 0d0a 2020 2020  r", "f8"),..    
+00004460: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004470: 2020 2020 2020 2020 2020 2028 2270 5f6c             ("p_l
+00004480: 765f 6d77 222c 2022 6638 2229 2c0d 0a20  v_mw", "f8"),.. 
+00004490: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000044a0: 2020 2020 2020 2020 2020 2020 2020 2822                ("
+000044b0: 715f 6c76 5f6d 7661 7222 2c20 2266 3822  q_lv_mvar", "f8"
+000044c0: 292c 0d0a 2020 2020 2020 2020 2020 2020  ),..            
+000044d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000044e0: 2020 2028 2270 6c5f 6d77 222c 2022 6638     ("pl_mw", "f8
+000044f0: 2229 2c0d 0a20 2020 2020 2020 2020 2020  "),..           
+00004500: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004510: 2020 2020 2822 716c 5f6d 7661 7222 2c20      ("ql_mvar", 
+00004520: 2266 3822 292c 0d0a 2020 2020 2020 2020  "f8"),..        
+00004530: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004540: 2020 2020 2020 2028 2269 5f68 765f 6b61         ("i_hv_ka
+00004550: 222c 2022 6638 2229 2c0d 0a20 2020 2020  ", "f8"),..     
+00004560: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004570: 2020 2020 2020 2020 2020 2822 695f 6d76            ("i_mv
+00004580: 5f6b 6122 2c20 2266 3822 292c 0d0a 2020  _ka", "f8"),..  
+00004590: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000045a0: 2020 2020 2020 2020 2020 2020 2028 2269               ("i
+000045b0: 5f6c 765f 6b61 222c 2022 6638 2229 2c0d  _lv_ka", "f8"),.
+000045c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000045d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000045e0: 2822 766d 5f68 765f 7075 222c 2022 6638  ("vm_hv_pu", "f8
+000045f0: 2229 2c0d 0a20 2020 2020 2020 2020 2020  "),..           
+00004600: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004610: 2020 2020 2822 7661 5f68 765f 6465 6772      ("va_hv_degr
+00004620: 6565 222c 2022 6638 2229 2c0d 0a20 2020  ee", "f8"),..   
+00004630: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004640: 2020 2020 2020 2020 2020 2020 2822 766d              ("vm
+00004650: 5f6d 765f 7075 222c 2022 6638 2229 2c0d  _mv_pu", "f8"),.
+00004660: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00004670: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004680: 2822 7661 5f6d 765f 6465 6772 6565 222c  ("va_mv_degree",
+00004690: 2022 6638 2229 2c0d 0a20 2020 2020 2020   "f8"),..       
+000046a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000046b0: 2020 2020 2020 2020 2822 766d 5f6c 765f          ("vm_lv_
+000046c0: 7075 222c 2022 6638 2229 2c0d 0a20 2020  pu", "f8"),..   
+000046d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000046e0: 2020 2020 2020 2020 2020 2020 2822 7661              ("va
+000046f0: 5f6c 765f 6465 6772 6565 222c 2022 6638  _lv_degree", "f8
+00004700: 2229 2c0d 0a20 2020 2020 2020 2020 2020  "),..           
+00004710: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004720: 2020 2020 2822 7661 5f69 6e74 6572 6e61      ("va_interna
+00004730: 6c5f 6465 6772 6565 222c 2022 6638 2229  l_degree", "f8")
+00004740: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
+00004750: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004760: 2020 2822 766d 5f69 6e74 6572 6e61 6c5f    ("vm_internal_
+00004770: 7075 222c 2022 6638 2229 2c0d 0a20 2020  pu", "f8"),..   
+00004780: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004790: 2020 2020 2020 2020 2020 2020 2822 6c6f              ("lo
+000047a0: 6164 696e 675f 7065 7263 656e 7422 2c20  ading_percent", 
+000047b0: 2266 3822 295d 2c0d 0a20 2020 2020 2020  "f8")],..       
+000047c0: 2022 5f65 6d70 7479 5f72 6573 5f62 7573   "_empty_res_bus
+000047d0: 5f33 7068 223a 205b 2822 766d 5f61 5f70  _3ph": [("vm_a_p
+000047e0: 7522 2c20 2266 3822 292c 0d0a 2020 2020  u", "f8"),..    
+000047f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004800: 2020 2020 2020 2020 2020 2028 2276 615f             ("va_
+00004810: 615f 6465 6772 6565 222c 2022 6638 2229  a_degree", "f8")
+00004820: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
+00004830: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004840: 2020 2822 766d 5f62 5f70 7522 2c20 2266    ("vm_b_pu", "f
+00004850: 3822 292c 0d0a 2020 2020 2020 2020 2020  8"),..          
+00004860: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004870: 2020 2020 2028 2276 615f 625f 6465 6772       ("va_b_degr
+00004880: 6565 222c 2022 6638 2229 2c0d 0a20 2020  ee", "f8"),..   
+00004890: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000048a0: 2020 2020 2020 2020 2020 2020 2822 766d              ("vm
+000048b0: 5f63 5f70 7522 2c20 2266 3822 292c 0d0a  _c_pu", "f8"),..
 000048c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000048d0: 2822 7661 5f63 5f64 6567 7265 6522 2c20  ("va_c_degree", 
-000048e0: 2266 3822 292c 0d0a 2020 2020 2020 2020  "f8"),..        
-000048f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004900: 2020 2020 2020 2028 2270 5f61 5f6d 7722         ("p_a_mw"
-00004910: 2c20 2266 3822 292c 0d0a 2020 2020 2020  , "f8"),..      
-00004920: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004930: 2020 2020 2020 2020 2028 2271 5f61 5f6d           ("q_a_m
-00004940: 7661 7222 2c20 2266 3822 292c 0d0a 2020  var", "f8"),..  
-00004950: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004960: 2020 2020 2020 2020 2020 2020 2028 2270               ("p
-00004970: 5f62 5f6d 7722 2c20 2266 3822 292c 0d0a  _b_mw", "f8"),..
-00004980: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004990: 2020 2020 2020 2020 2020 2020 2020 2028                 (
-000049a0: 2271 5f62 5f6d 7661 7222 2c20 2266 3822  "q_b_mvar", "f8"
-000049b0: 292c 0d0a 2020 2020 2020 2020 2020 2020  ),..            
-000049c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000049d0: 2020 2028 2270 5f63 5f6d 7722 2c20 2266     ("p_c_mw", "f
-000049e0: 3822 292c 0d0a 2020 2020 2020 2020 2020  8"),..          
-000049f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004a00: 2020 2020 2028 2271 5f63 5f6d 7661 7222       ("q_c_mvar"
-00004a10: 2c20 2266 3822 295d 2c0d 0a20 2020 2020  , "f8")],..     
-00004a20: 2020 2022 5f65 6d70 7479 5f72 6573 5f65     "_empty_res_e
-00004a30: 7874 5f67 7269 645f 3370 6822 3a20 5b28  xt_grid_3ph": [(
-00004a40: 2270 5f61 5f6d 7722 2c20 2266 3822 292c  "p_a_mw", "f8"),
-00004a50: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00004a60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004a70: 2020 2020 2020 2822 715f 615f 6d76 6172        ("q_a_mvar
-00004a80: 222c 2022 6638 2229 2c0d 0a20 2020 2020  ", "f8"),..     
-00004a90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004aa0: 2020 2020 2020 2020 2020 2020 2020 2028                 (
-00004ab0: 2270 5f62 5f6d 7722 2c20 2266 3822 292c  "p_b_mw", "f8"),
-00004ac0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00004ad0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004ae0: 2020 2020 2020 2822 715f 625f 6d76 6172        ("q_b_mvar
-00004af0: 222c 2022 6638 2229 2c0d 0a20 2020 2020  ", "f8"),..     
-00004b00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004b10: 2020 2020 2020 2020 2020 2020 2020 2028                 (
-00004b20: 2270 5f63 5f6d 7722 2c20 2266 3822 292c  "p_c_mw", "f8"),
-00004b30: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00004b40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004b50: 2020 2020 2020 2822 715f 635f 6d76 6172        ("q_c_mvar
-00004b60: 222c 2022 6638 2229 5d2c 0d0a 2020 2020  ", "f8")],..    
-00004b70: 2020 2020 225f 656d 7074 795f 7265 735f      "_empty_res_
-00004b80: 6c69 6e65 5f33 7068 223a 205b 2822 705f  line_3ph": [("p_
-00004b90: 615f 6672 6f6d 5f6d 7722 2c20 2266 3822  a_from_mw", "f8"
-00004ba0: 292c 0d0a 2020 2020 2020 2020 2020 2020  ),..            
-00004bb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004bc0: 2020 2020 2822 715f 615f 6672 6f6d 5f6d      ("q_a_from_m
-00004bd0: 7661 7222 2c20 2266 3822 292c 0d0a 2020  var", "f8"),..  
-00004be0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004bf0: 2020 2020 2020 2020 2020 2020 2020 2822                ("
-00004c00: 705f 625f 6672 6f6d 5f6d 7722 2c20 2266  p_b_from_mw", "f
-00004c10: 3822 292c 0d0a 2020 2020 2020 2020 2020  8"),..          
-00004c20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004c30: 2020 2020 2020 2822 715f 625f 6672 6f6d        ("q_b_from
-00004c40: 5f6d 7661 7222 2c20 2266 3822 292c 0d0a  _mvar", "f8"),..
-00004c50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000048d0: 2020 2020 2020 2020 2020 2020 2020 2028                 (
+000048e0: 2276 615f 635f 6465 6772 6565 222c 2022  "va_c_degree", "
+000048f0: 6638 2229 2c0d 0a20 2020 2020 2020 2020  f8"),..         
+00004900: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004910: 2020 2020 2020 2822 705f 615f 6d77 222c        ("p_a_mw",
+00004920: 2022 6638 2229 2c0d 0a20 2020 2020 2020   "f8"),..       
+00004930: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004940: 2020 2020 2020 2020 2822 715f 615f 6d76          ("q_a_mv
+00004950: 6172 222c 2022 6638 2229 2c0d 0a20 2020  ar", "f8"),..   
+00004960: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004970: 2020 2020 2020 2020 2020 2020 2822 705f              ("p_
+00004980: 625f 6d77 222c 2022 6638 2229 2c0d 0a20  b_mw", "f8"),.. 
+00004990: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000049a0: 2020 2020 2020 2020 2020 2020 2020 2822                ("
+000049b0: 715f 625f 6d76 6172 222c 2022 6638 2229  q_b_mvar", "f8")
+000049c0: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
+000049d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000049e0: 2020 2822 705f 635f 6d77 222c 2022 6638    ("p_c_mw", "f8
+000049f0: 2229 2c0d 0a20 2020 2020 2020 2020 2020  "),..           
+00004a00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004a10: 2020 2020 2822 715f 635f 6d76 6172 222c      ("q_c_mvar",
+00004a20: 2022 6638 2229 5d2c 0d0a 2020 2020 2020   "f8")],..      
+00004a30: 2020 225f 656d 7074 795f 7265 735f 6578    "_empty_res_ex
+00004a40: 745f 6772 6964 5f33 7068 223a 205b 2822  t_grid_3ph": [("
+00004a50: 705f 615f 6d77 222c 2022 6638 2229 2c0d  p_a_mw", "f8"),.
+00004a60: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00004a70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004a80: 2020 2020 2028 2271 5f61 5f6d 7661 7222       ("q_a_mvar"
+00004a90: 2c20 2266 3822 292c 0d0a 2020 2020 2020  , "f8"),..      
+00004aa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004ab0: 2020 2020 2020 2020 2020 2020 2020 2822                ("
+00004ac0: 705f 625f 6d77 222c 2022 6638 2229 2c0d  p_b_mw", "f8"),.
+00004ad0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00004ae0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004af0: 2020 2020 2028 2271 5f62 5f6d 7661 7222       ("q_b_mvar"
+00004b00: 2c20 2266 3822 292c 0d0a 2020 2020 2020  , "f8"),..      
+00004b10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004b20: 2020 2020 2020 2020 2020 2020 2020 2822                ("
+00004b30: 705f 635f 6d77 222c 2022 6638 2229 2c0d  p_c_mw", "f8"),.
+00004b40: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00004b50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004b60: 2020 2020 2028 2271 5f63 5f6d 7661 7222       ("q_c_mvar"
+00004b70: 2c20 2266 3822 295d 2c0d 0a20 2020 2020  , "f8")],..     
+00004b80: 2020 2022 5f65 6d70 7479 5f72 6573 5f6c     "_empty_res_l
+00004b90: 696e 655f 3370 6822 3a20 5b28 2270 5f61  ine_3ph": [("p_a
+00004ba0: 5f66 726f 6d5f 6d77 222c 2022 6638 2229  _from_mw", "f8")
+00004bb0: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
+00004bc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004bd0: 2020 2028 2271 5f61 5f66 726f 6d5f 6d76     ("q_a_from_mv
+00004be0: 6172 222c 2022 6638 2229 2c0d 0a20 2020  ar", "f8"),..   
+00004bf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004c00: 2020 2020 2020 2020 2020 2020 2028 2270               ("p
+00004c10: 5f62 5f66 726f 6d5f 6d77 222c 2022 6638  _b_from_mw", "f8
+00004c20: 2229 2c0d 0a20 2020 2020 2020 2020 2020  "),..           
+00004c30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004c40: 2020 2020 2028 2271 5f62 5f66 726f 6d5f       ("q_b_from_
+00004c50: 6d76 6172 222c 2022 6638 2229 2c0d 0a20  mvar", "f8"),.. 
 00004c60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004c70: 2822 715f 635f 6672 6f6d 5f6d 7661 7222  ("q_c_from_mvar"
-00004c80: 2c20 2266 3822 292c 0d0a 2020 2020 2020  , "f8"),..      
-00004c90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004ca0: 2020 2020 2020 2020 2020 2822 705f 615f            ("p_a_
-00004cb0: 746f 5f6d 7722 2c20 2266 3822 292c 0d0a  to_mw", "f8"),..
-00004cc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004c70: 2020 2020 2020 2020 2020 2020 2020 2028                 (
+00004c80: 2271 5f63 5f66 726f 6d5f 6d76 6172 222c  "q_c_from_mvar",
+00004c90: 2022 6638 2229 2c0d 0a20 2020 2020 2020   "f8"),..       
+00004ca0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004cb0: 2020 2020 2020 2020 2028 2270 5f61 5f74           ("p_a_t
+00004cc0: 6f5f 6d77 222c 2022 6638 2229 2c0d 0a20  o_mw", "f8"),.. 
 00004cd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004ce0: 2822 715f 615f 746f 5f6d 7661 7222 2c20  ("q_a_to_mvar", 
-00004cf0: 2266 3822 292c 0d0a 2020 2020 2020 2020  "f8"),..        
-00004d00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004d10: 2020 2020 2020 2020 2822 705f 625f 746f          ("p_b_to
-00004d20: 5f6d 7722 2c20 2266 3822 292c 0d0a 2020  _mw", "f8"),..  
-00004d30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004d40: 2020 2020 2020 2020 2020 2020 2020 2822                ("
-00004d50: 715f 625f 746f 5f6d 7661 7222 2c20 2266  q_b_to_mvar", "f
-00004d60: 3822 292c 0d0a 2020 2020 2020 2020 2020  8"),..          
-00004d70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004d80: 2020 2020 2020 2822 705f 635f 746f 5f6d        ("p_c_to_m
-00004d90: 7722 2c20 2266 3822 292c 0d0a 2020 2020  w", "f8"),..    
-00004da0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004db0: 2020 2020 2020 2020 2020 2020 2822 715f              ("q_
-00004dc0: 635f 746f 5f6d 7661 7222 2c20 2266 3822  c_to_mvar", "f8"
-00004dd0: 292c 0d0a 2020 2020 2020 2020 2020 2020  ),..            
-00004de0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004df0: 2020 2020 2822 705f 615f 6c5f 6d77 222c      ("p_a_l_mw",
-00004e00: 2022 6638 2229 2c0d 0a20 2020 2020 2020   "f8"),..       
-00004e10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004e20: 2020 2020 2020 2020 2028 2271 5f61 5f6c           ("q_a_l
-00004e30: 5f6d 7661 7222 2c20 2266 3822 292c 0d0a  _mvar", "f8"),..
-00004e40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004ce0: 2020 2020 2020 2020 2020 2020 2020 2028                 (
+00004cf0: 2271 5f61 5f74 6f5f 6d76 6172 222c 2022  "q_a_to_mvar", "
+00004d00: 6638 2229 2c0d 0a20 2020 2020 2020 2020  f8"),..         
+00004d10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004d20: 2020 2020 2020 2028 2270 5f62 5f74 6f5f         ("p_b_to_
+00004d30: 6d77 222c 2022 6638 2229 2c0d 0a20 2020  mw", "f8"),..   
+00004d40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004d50: 2020 2020 2020 2020 2020 2020 2028 2271               ("q
+00004d60: 5f62 5f74 6f5f 6d76 6172 222c 2022 6638  _b_to_mvar", "f8
+00004d70: 2229 2c0d 0a20 2020 2020 2020 2020 2020  "),..           
+00004d80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004d90: 2020 2020 2028 2270 5f63 5f74 6f5f 6d77       ("p_c_to_mw
+00004da0: 222c 2022 6638 2229 2c0d 0a20 2020 2020  ", "f8"),..     
+00004db0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004dc0: 2020 2020 2020 2020 2020 2028 2271 5f63             ("q_c
+00004dd0: 5f74 6f5f 6d76 6172 222c 2022 6638 2229  _to_mvar", "f8")
+00004de0: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
+00004df0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004e00: 2020 2028 2270 5f61 5f6c 5f6d 7722 2c20     ("p_a_l_mw", 
+00004e10: 2266 3822 292c 0d0a 2020 2020 2020 2020  "f8"),..        
+00004e20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004e30: 2020 2020 2020 2020 2822 715f 615f 6c5f          ("q_a_l_
+00004e40: 6d76 6172 222c 2022 6638 2229 2c0d 0a20  mvar", "f8"),.. 
 00004e50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004e60: 2822 705f 625f 6c5f 6d77 222c 2022 6638  ("p_b_l_mw", "f8
-00004e70: 2229 2c0d 0a20 2020 2020 2020 2020 2020  "),..           
-00004e80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004e90: 2020 2020 2028 2271 5f62 5f6c 5f6d 7661       ("q_b_l_mva
-00004ea0: 7222 2c20 2266 3822 292c 0d0a 2020 2020  r", "f8"),..    
-00004eb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004ec0: 2020 2020 2020 2020 2020 2020 2822 705f              ("p_
-00004ed0: 635f 6c5f 6d77 222c 2022 6638 2229 2c0d  c_l_mw", "f8"),.
-00004ee0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00004e60: 2020 2020 2020 2020 2020 2020 2020 2028                 (
+00004e70: 2270 5f62 5f6c 5f6d 7722 2c20 2266 3822  "p_b_l_mw", "f8"
+00004e80: 292c 0d0a 2020 2020 2020 2020 2020 2020  ),..            
+00004e90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004ea0: 2020 2020 2822 715f 625f 6c5f 6d76 6172      ("q_b_l_mvar
+00004eb0: 222c 2022 6638 2229 2c0d 0a20 2020 2020  ", "f8"),..     
+00004ec0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004ed0: 2020 2020 2020 2020 2020 2028 2270 5f63             ("p_c
+00004ee0: 5f6c 5f6d 7722 2c20 2266 3822 292c 0d0a  _l_mw", "f8"),..
 00004ef0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004f00: 2028 2271 5f63 5f6c 5f6d 7661 7222 2c20   ("q_c_l_mvar", 
-00004f10: 2266 3822 292c 0d0a 2020 2020 2020 2020  "f8"),..        
-00004f20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004f30: 2020 2020 2020 2020 2822 695f 615f 6672          ("i_a_fr
-00004f40: 6f6d 5f6b 6122 2c20 2266 3822 292c 0d0a  om_ka", "f8"),..
-00004f50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004f00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004f10: 2822 715f 635f 6c5f 6d76 6172 222c 2022  ("q_c_l_mvar", "
+00004f20: 6638 2229 2c0d 0a20 2020 2020 2020 2020  f8"),..         
+00004f30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004f40: 2020 2020 2020 2028 2269 5f61 5f66 726f         ("i_a_fro
+00004f50: 6d5f 6b61 222c 2022 6638 2229 2c0d 0a20  m_ka", "f8"),.. 
 00004f60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004f70: 2822 695f 615f 746f 5f6b 6122 2c20 2266  ("i_a_to_ka", "f
-00004f80: 3822 292c 0d0a 2020 2020 2020 2020 2020  8"),..          
-00004f90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004fa0: 2020 2020 2020 2822 695f 625f 6672 6f6d        ("i_b_from
-00004fb0: 5f6b 6122 2c20 2266 3822 292c 0d0a 2020  _ka", "f8"),..  
-00004fc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004fd0: 2020 2020 2020 2020 2020 2020 2020 2822                ("
-00004fe0: 695f 625f 746f 5f6b 6122 2c20 2266 3822  i_b_to_ka", "f8"
-00004ff0: 292c 0d0a 2020 2020 2020 2020 2020 2020  ),..            
-00005000: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005010: 2020 2020 2822 695f 635f 6672 6f6d 5f6b      ("i_c_from_k
-00005020: 6122 2c20 2266 3822 292c 0d0a 2020 2020  a", "f8"),..    
-00005030: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005040: 2020 2020 2020 2020 2020 2020 2822 695f              ("i_
-00005050: 635f 746f 5f6b 6122 2c20 2266 3822 292c  c_to_ka", "f8"),
-00005060: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00005070: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005080: 2020 2822 695f 615f 6b61 222c 2022 6638    ("i_a_ka", "f8
-00005090: 2229 2c0d 0a20 2020 2020 2020 2020 2020  "),..           
-000050a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000050b0: 2020 2020 2028 2269 5f62 5f6b 6122 2c20       ("i_b_ka", 
-000050c0: 2266 3822 292c 0d0a 2020 2020 2020 2020  "f8"),..        
-000050d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000050e0: 2020 2020 2020 2020 2822 695f 635f 6b61          ("i_c_ka
-000050f0: 222c 2022 6638 2229 2c0d 0a20 2020 2020  ", "f8"),..     
-00005100: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005110: 2020 2020 2020 2020 2020 2028 2269 5f6e             ("i_n
-00005120: 5f66 726f 6d5f 6b61 222c 2022 6638 2229  _from_ka", "f8")
-00005130: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
-00005140: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005150: 2020 2028 2269 5f6e 5f74 6f5f 6b61 222c     ("i_n_to_ka",
-00005160: 2022 6638 2229 2c0d 0a20 2020 2020 2020   "f8"),..       
-00005170: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005180: 2020 2020 2020 2020 2028 2269 5f6e 5f6b           ("i_n_k
-00005190: 6122 2c20 2266 3822 292c 0d0a 2020 2020  a", "f8"),..    
-000051a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000051b0: 2020 2020 2020 2020 2020 2020 2822 6c6f              ("lo
-000051c0: 6164 696e 675f 615f 7065 7263 656e 7422  ading_a_percent"
-000051d0: 2c20 2266 3822 292c 0d0a 2020 2020 2020  , "f8"),..      
-000051e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000051f0: 2020 2020 2020 2020 2020 2822 6c6f 6164            ("load
-00005200: 696e 675f 625f 7065 7263 656e 7422 2c20  ing_b_percent", 
-00005210: 2266 3822 292c 0d0a 2020 2020 2020 2020  "f8"),..        
-00005220: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005230: 2020 2020 2020 2020 2822 6c6f 6164 696e          ("loadin
-00005240: 675f 635f 7065 7263 656e 7422 2c20 2266  g_c_percent", "f
-00005250: 3822 295d 2c0d 0a20 2020 2020 2020 2022  8")],..        "
-00005260: 5f65 6d70 7479 5f72 6573 5f61 7379 6d6d  _empty_res_asymm
-00005270: 6574 7269 635f 6c6f 6164 5f33 7068 223a  etric_load_3ph":
-00005280: 205b 2822 705f 615f 6d77 222c 2022 6638   [("p_a_mw", "f8
-00005290: 2229 2c0d 0a20 2020 2020 2020 2020 2020  "),..           
-000052a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004f70: 2020 2020 2020 2020 2020 2020 2020 2028                 (
+00004f80: 2269 5f61 5f74 6f5f 6b61 222c 2022 6638  "i_a_to_ka", "f8
+00004f90: 2229 2c0d 0a20 2020 2020 2020 2020 2020  "),..           
+00004fa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004fb0: 2020 2020 2028 2269 5f62 5f66 726f 6d5f       ("i_b_from_
+00004fc0: 6b61 222c 2022 6638 2229 2c0d 0a20 2020  ka", "f8"),..   
+00004fd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004fe0: 2020 2020 2020 2020 2020 2020 2028 2269               ("i
+00004ff0: 5f62 5f74 6f5f 6b61 222c 2022 6638 2229  _b_to_ka", "f8")
+00005000: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
+00005010: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005020: 2020 2028 2269 5f63 5f66 726f 6d5f 6b61     ("i_c_from_ka
+00005030: 222c 2022 6638 2229 2c0d 0a20 2020 2020  ", "f8"),..     
+00005040: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005050: 2020 2020 2020 2020 2020 2028 2269 5f63             ("i_c
+00005060: 5f74 6f5f 6b61 222c 2022 6638 2229 2c0d  _to_ka", "f8"),.
+00005070: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00005080: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005090: 2028 2269 5f61 5f6b 6122 2c20 2266 3822   ("i_a_ka", "f8"
+000050a0: 292c 0d0a 2020 2020 2020 2020 2020 2020  ),..            
+000050b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000050c0: 2020 2020 2822 695f 625f 6b61 222c 2022      ("i_b_ka", "
+000050d0: 6638 2229 2c0d 0a20 2020 2020 2020 2020  f8"),..         
+000050e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000050f0: 2020 2020 2020 2028 2269 5f63 5f6b 6122         ("i_c_ka"
+00005100: 2c20 2266 3822 292c 0d0a 2020 2020 2020  , "f8"),..      
+00005110: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005120: 2020 2020 2020 2020 2020 2822 695f 6e5f            ("i_n_
+00005130: 6672 6f6d 5f6b 6122 2c20 2266 3822 292c  from_ka", "f8"),
+00005140: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00005150: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005160: 2020 2822 695f 6e5f 746f 5f6b 6122 2c20    ("i_n_to_ka", 
+00005170: 2266 3822 292c 0d0a 2020 2020 2020 2020  "f8"),..        
+00005180: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005190: 2020 2020 2020 2020 2822 695f 6e5f 6b61          ("i_n_ka
+000051a0: 222c 2022 6638 2229 2c0d 0a20 2020 2020  ", "f8"),..     
+000051b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000051c0: 2020 2020 2020 2020 2020 2028 226c 6f61             ("loa
+000051d0: 6469 6e67 5f61 5f70 6572 6365 6e74 222c  ding_a_percent",
+000051e0: 2022 6638 2229 2c0d 0a20 2020 2020 2020   "f8"),..       
+000051f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005200: 2020 2020 2020 2020 2028 226c 6f61 6469           ("loadi
+00005210: 6e67 5f62 5f70 6572 6365 6e74 222c 2022  ng_b_percent", "
+00005220: 6638 2229 2c0d 0a20 2020 2020 2020 2020  f8"),..         
+00005230: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005240: 2020 2020 2020 2028 226c 6f61 6469 6e67         ("loading
+00005250: 5f63 5f70 6572 6365 6e74 222c 2022 6638  _c_percent", "f8
+00005260: 2229 5d2c 0d0a 2020 2020 2020 2020 225f  ")],..        "_
+00005270: 656d 7074 795f 7265 735f 6173 796d 6d65  empty_res_asymme
+00005280: 7472 6963 5f6c 6f61 645f 3370 6822 3a20  tric_load_3ph": 
+00005290: 5b28 2270 5f61 5f6d 7722 2c20 2266 3822  [("p_a_mw", "f8"
+000052a0: 292c 0d0a 2020 2020 2020 2020 2020 2020  ),..            
 000052b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000052c0: 2822 715f 615f 6d76 6172 222c 2022 6638  ("q_a_mvar", "f8
-000052d0: 2229 2c0d 0a20 2020 2020 2020 2020 2020  "),..           
-000052e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000052c0: 2020 2020 2020 2020 2020 2020 2020 2028                 (
+000052d0: 2271 5f61 5f6d 7661 7222 2c20 2266 3822  "q_a_mvar", "f8"
+000052e0: 292c 0d0a 2020 2020 2020 2020 2020 2020  ),..            
 000052f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005300: 2822 705f 625f 6d77 222c 2022 6638 2229  ("p_b_mw", "f8")
-00005310: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
-00005320: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005330: 2020 2020 2020 2020 2020 2020 2020 2822                ("
-00005340: 715f 625f 6d76 6172 222c 2022 6638 2229  q_b_mvar", "f8")
-00005350: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
-00005360: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005370: 2020 2020 2020 2020 2020 2020 2020 2822                ("
-00005380: 705f 635f 6d77 222c 2022 6638 2229 2c0d  p_c_mw", "f8"),.
-00005390: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00005300: 2020 2020 2020 2020 2020 2020 2020 2028                 (
+00005310: 2270 5f62 5f6d 7722 2c20 2266 3822 292c  "p_b_mw", "f8"),
+00005320: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00005330: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005340: 2020 2020 2020 2020 2020 2020 2028 2271               ("q
+00005350: 5f62 5f6d 7661 7222 2c20 2266 3822 292c  _b_mvar", "f8"),
+00005360: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00005370: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005380: 2020 2020 2020 2020 2020 2020 2028 2270               ("p
+00005390: 5f63 5f6d 7722 2c20 2266 3822 292c 0d0a  _c_mw", "f8"),..
 000053a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000053b0: 2020 2020 2020 2020 2020 2020 2822 715f              ("q_
-000053c0: 635f 6d76 6172 222c 2022 6638 2229 5d2c  c_mvar", "f8")],
-000053d0: 0d0a 2020 2020 2020 2020 225f 656d 7074  ..        "_empt
-000053e0: 795f 7265 735f 6173 796d 6d65 7472 6963  y_res_asymmetric
-000053f0: 5f73 6765 6e5f 3370 6822 3a20 5b28 2270  _sgen_3ph": [("p
-00005400: 5f61 5f6d 7722 2c20 2266 3822 292c 0d0a  _a_mw", "f8"),..
-00005410: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000053b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000053c0: 2020 2020 2020 2020 2020 2028 2271 5f63             ("q_c
+000053d0: 5f6d 7661 7222 2c20 2266 3822 295d 2c0d  _mvar", "f8")],.
+000053e0: 0a20 2020 2020 2020 2022 5f65 6d70 7479  .        "_empty
+000053f0: 5f72 6573 5f61 7379 6d6d 6574 7269 635f  _res_asymmetric_
+00005400: 7367 656e 5f33 7068 223a 205b 2822 705f  sgen_3ph": [("p_
+00005410: 615f 6d77 222c 2022 6638 2229 2c0d 0a20  a_mw", "f8"),.. 
 00005420: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005430: 2020 2020 2020 2020 2020 2028 2271 5f61             ("q_a
-00005440: 5f6d 7661 7222 2c20 2266 3822 292c 0d0a  _mvar", "f8"),..
-00005450: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005430: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005440: 2020 2020 2020 2020 2020 2822 715f 615f            ("q_a_
+00005450: 6d76 6172 222c 2022 6638 2229 2c0d 0a20  mvar", "f8"),.. 
 00005460: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005470: 2020 2020 2020 2020 2020 2028 2270 5f62             ("p_b
-00005480: 5f6d 7722 2c20 2266 3822 292c 0d0a 2020  _mw", "f8"),..  
-00005490: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005470: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005480: 2020 2020 2020 2020 2020 2822 705f 625f            ("p_b_
+00005490: 6d77 222c 2022 6638 2229 2c0d 0a20 2020  mw", "f8"),..   
 000054a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000054b0: 2020 2020 2020 2020 2028 2271 5f62 5f6d           ("q_b_m
-000054c0: 7661 7222 2c20 2266 3822 292c 0d0a 2020  var", "f8"),..  
-000054d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000054b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000054c0: 2020 2020 2020 2020 2822 715f 625f 6d76          ("q_b_mv
+000054d0: 6172 222c 2022 6638 2229 2c0d 0a20 2020  ar", "f8"),..   
 000054e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000054f0: 2020 2020 2020 2020 2028 2270 5f63 5f6d           ("p_c_m
-00005500: 7722 2c20 2266 3822 292c 0d0a 2020 2020  w", "f8"),..    
-00005510: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000054f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005500: 2020 2020 2020 2020 2822 705f 635f 6d77          ("p_c_mw
+00005510: 222c 2022 6638 2229 2c0d 0a20 2020 2020  ", "f8"),..     
 00005520: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005530: 2020 2020 2020 2028 2271 5f63 5f6d 7661         ("q_c_mva
-00005540: 7222 2c20 2266 3822 295d 2c0d 0a20 2020  r", "f8")],..   
-00005550: 2020 2020 2022 5f65 6d70 7479 5f72 6573       "_empty_res
-00005560: 5f73 746f 7261 6765 223a 205b 2822 705f  _storage": [("p_
-00005570: 6d77 222c 2022 6638 2229 2c0d 0a20 2020  mw", "f8"),..   
-00005580: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005590: 2020 2020 2020 2020 2020 2020 2822 715f              ("q_
-000055a0: 6d76 6172 222c 2022 6638 2229 5d2c 0d0a  mvar", "f8")],..
-000055b0: 2020 2020 2020 2020 225f 656d 7074 795f          "_empty_
-000055c0: 7265 735f 7374 6f72 6167 655f 3370 6822  res_storage_3ph"
-000055d0: 3a20 5b28 2270 5f61 5f6d 7722 2c20 2266  : [("p_a_mw", "f
-000055e0: 3822 292c 2028 2270 5f62 5f6d 7722 2c20  8"), ("p_b_mw", 
-000055f0: 2266 3822 292c 2028 2270 5f63 5f6d 7722  "f8"), ("p_c_mw"
-00005600: 2c20 2266 3822 292c 0d0a 2020 2020 2020  , "f8"),..      
-00005610: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005620: 2020 2020 2020 2020 2020 2020 2028 2271               ("q
-00005630: 5f61 5f6d 7661 7222 2c20 2266 3822 292c  _a_mvar", "f8"),
-00005640: 2028 2271 5f62 5f6d 7661 7222 2c20 2266   ("q_b_mvar", "f
-00005650: 3822 292c 2028 2271 5f63 5f6d 7661 7222  8"), ("q_c_mvar"
-00005660: 2c20 2266 3822 295d 2c0d 0a20 2020 2020  , "f8")],..     
-00005670: 2020 2022 5f65 6d70 7479 5f72 6573 5f67     "_empty_res_g
-00005680: 656e 223a 205b 2822 705f 6d77 222c 2022  en": [("p_mw", "
-00005690: 6638 2229 2c0d 0a20 2020 2020 2020 2020  f8"),..         
-000056a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000056b0: 2020 2822 715f 6d76 6172 222c 2022 6638    ("q_mvar", "f8
-000056c0: 2229 2c0d 0a20 2020 2020 2020 2020 2020  "),..           
-000056d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000056e0: 2822 7661 5f64 6567 7265 6522 2c20 2266  ("va_degree", "f
-000056f0: 3822 292c 0d0a 2020 2020 2020 2020 2020  8"),..          
-00005700: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005710: 2028 2276 6d5f 7075 222c 2022 6638 2229   ("vm_pu", "f8")
-00005720: 5d2c 0d0a 0d0a 2020 2020 2020 2020 2320  ],....        # 
-00005730: 696e 7465 726e 616c 0d0a 2020 2020 2020  internal..      
-00005740: 2020 225f 7070 6322 3a20 4e6f 6e65 2c0d    "_ppc": None,.
-00005750: 0a20 2020 2020 2020 2022 5f70 7063 3022  .        "_ppc0"
-00005760: 3a20 4e6f 6e65 2c0d 0a20 2020 2020 2020  : None,..       
-00005770: 2022 5f70 7063 3122 3a20 4e6f 6e65 2c0d   "_ppc1": None,.
-00005780: 0a20 2020 2020 2020 2022 5f70 7063 3222  .        "_ppc2"
-00005790: 3a20 4e6f 6e65 2c0d 0a20 2020 2020 2020  : None,..       
-000057a0: 2022 5f69 735f 656c 656d 656e 7473 223a   "_is_elements":
-000057b0: 204e 6f6e 652c 0d0a 2020 2020 2020 2020   None,..        
-000057c0: 225f 7064 3270 7063 5f6c 6f6f 6b75 7073  "_pd2ppc_lookups
-000057d0: 223a 207b 2262 7573 223a 204e 6f6e 652c  ": {"bus": None,
-000057e0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-000057f0: 2020 2020 2020 2020 2020 2020 2020 2265                "e
-00005800: 7874 5f67 7269 6422 3a20 4e6f 6e65 2c0d  xt_grid": None,.
-00005810: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00005820: 2020 2020 2020 2020 2020 2020 2022 6765               "ge
-00005830: 6e22 3a20 4e6f 6e65 2c0d 0a20 2020 2020  n": None,..     
-00005840: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005850: 2020 2020 2020 2022 6272 616e 6368 223a         "branch":
-00005860: 204e 6f6e 657d 2c0d 0a20 2020 2020 2020   None},..       
-00005870: 2022 7665 7273 696f 6e22 3a20 5f5f 7665   "version": __ve
-00005880: 7273 696f 6e5f 5f2c 0d0a 2020 2020 2020  rsion__,..      
-00005890: 2020 2263 6f6e 7665 7267 6564 223a 2046    "converged": F
-000058a0: 616c 7365 2c0d 0a20 2020 2020 2020 2022  alse,..        "
-000058b0: 6e61 6d65 223a 206e 616d 652c 0d0a 2020  name": name,..  
-000058c0: 2020 2020 2020 2266 5f68 7a22 3a20 665f        "f_hz": f_
-000058d0: 687a 2c0d 0a20 2020 2020 2020 2022 736e  hz,..        "sn
-000058e0: 5f6d 7661 223a 2073 6e5f 6d76 610d 0a20  _mva": sn_mva.. 
-000058f0: 2020 207d 290d 0a0d 0a20 2020 206e 6574     })....    net
-00005900: 2e5f 656d 7074 795f 7265 735f 6c6f 6164  ._empty_res_load
-00005910: 5f33 7068 203d 206e 6574 2e5f 656d 7074  _3ph = net._empt
-00005920: 795f 7265 735f 6c6f 6164 0d0a 2020 2020  y_res_load..    
-00005930: 6e65 742e 5f65 6d70 7479 5f72 6573 5f73  net._empty_res_s
-00005940: 6765 6e5f 3370 6820 3d20 6e65 742e 5f65  gen_3ph = net._e
-00005950: 6d70 7479 5f72 6573 5f73 6765 6e0d 0a20  mpty_res_sgen.. 
-00005960: 2020 206e 6574 2e5f 656d 7074 795f 7265     net._empty_re
-00005970: 735f 7374 6f72 6167 655f 3370 6820 3d20  s_storage_3ph = 
-00005980: 6e65 742e 5f65 6d70 7479 5f72 6573 5f73  net._empty_res_s
-00005990: 746f 7261 6765 0d0a 0d0a 2020 2020 666f  torage....    fo
-000059a0: 7220 7320 696e 206e 6574 3a0d 0a20 2020  r s in net:..   
-000059b0: 2020 2020 2069 6620 6973 696e 7374 616e       if isinstan
-000059c0: 6365 286e 6574 5b73 5d2c 206c 6973 7429  ce(net[s], list)
-000059d0: 3a0d 0a20 2020 2020 2020 2020 2020 206e  :..            n
-000059e0: 6574 5b73 5d20 3d20 7064 2e44 6174 6146  et[s] = pd.DataF
-000059f0: 7261 6d65 287a 6572 6f73 2830 2c20 6474  rame(zeros(0, dt
-00005a00: 7970 653d 6e65 745b 735d 292c 2069 6e64  ype=net[s]), ind
-00005a10: 6578 3d70 642e 496e 6465 7828 5b5d 2c20  ex=pd.Index([], 
-00005a20: 6474 7970 653d 6e70 2e69 6e74 3634 2929  dtype=np.int64))
-00005a30: 0d0a 2020 2020 6966 2061 6464 5f73 7464  ..    if add_std
-00005a40: 7479 7065 733a 0d0a 2020 2020 2020 2020  types:..        
-00005a50: 6164 645f 6261 7369 635f 7374 645f 7479  add_basic_std_ty
-00005a60: 7065 7328 6e65 7429 0d0a 2020 2020 656c  pes(net)..    el
-00005a70: 7365 3a0d 0a20 2020 2020 2020 206e 6574  se:..        net
-00005a80: 2e73 7464 5f74 7970 6573 203d 207b 226c  .std_types = {"l
-00005a90: 696e 6522 3a20 7b7d 2c20 2274 7261 666f  ine": {}, "trafo
-00005aa0: 223a 207b 7d2c 2022 7472 6166 6f33 7722  ": {}, "trafo3w"
-00005ab0: 3a20 7b7d 7d0d 0a20 2020 2066 6f72 206d  : {}}..    for m
-00005ac0: 6f64 6520 696e 205b 2270 6622 2c20 2273  ode in ["pf", "s
-00005ad0: 6522 2c20 2273 6322 2c20 2270 665f 3370  e", "sc", "pf_3p
-00005ae0: 6822 5d3a 0d0a 2020 2020 2020 2020 7265  h"]:..        re
-00005af0: 7365 745f 7265 7375 6c74 7328 6e65 742c  set_results(net,
-00005b00: 206d 6f64 6529 0d0a 2020 2020 6e65 745b   mode)..    net[
-00005b10: 2775 7365 725f 7066 5f6f 7074 696f 6e73  'user_pf_options
-00005b20: 275d 203d 2064 6963 7428 290d 0a20 2020  '] = dict()..   
-00005b30: 2072 6574 7572 6e20 6e65 740d 0a0d 0a0d   return net.....
-00005b40: 0a64 6566 2063 7265 6174 655f 6275 7328  .def create_bus(
-00005b50: 6e65 742c 2076 6e5f 6b76 2c20 6e61 6d65  net, vn_kv, name
-00005b60: 3d4e 6f6e 652c 2069 6e64 6578 3d4e 6f6e  =None, index=Non
-00005b70: 652c 2067 656f 6461 7461 3d4e 6f6e 652c  e, geodata=None,
-00005b80: 2074 7970 653d 2262 222c 207a 6f6e 653d   type="b", zone=
-00005b90: 4e6f 6e65 2c0d 0a20 2020 2020 2020 2020  None,..         
-00005ba0: 2020 2020 2020 696e 5f73 6572 7669 6365        in_service
-00005bb0: 3d54 7275 652c 206d 6178 5f76 6d5f 7075  =True, max_vm_pu
-00005bc0: 3d6e 616e 2c20 6d69 6e5f 766d 5f70 753d  =nan, min_vm_pu=
-00005bd0: 6e61 6e2c 2063 6f6f 7264 733d 4e6f 6e65  nan, coords=None
-00005be0: 2c20 2a2a 6b77 6172 6773 293a 0d0a 2020  , **kwargs):..  
-00005bf0: 2020 2222 220d 0a20 2020 2041 6464 7320    """..    Adds 
-00005c00: 6f6e 6520 6275 7320 696e 2074 6162 6c65  one bus in table
-00005c10: 206e 6574 5b22 6275 7322 5d2e 0d0a 0d0a   net["bus"].....
-00005c20: 2020 2020 4275 7373 6573 2061 7265 2074      Busses are t
-00005c30: 6865 206e 6f64 6573 206f 6620 7468 6520  he nodes of the 
-00005c40: 6e65 7477 6f72 6b20 7468 6174 2061 6c6c  network that all
-00005c50: 206f 7468 6572 2065 6c65 6d65 6e74 7320   other elements 
-00005c60: 636f 6e6e 6563 7420 746f 2e0d 0a0d 0a20  connect to..... 
-00005c70: 2020 2049 4e50 5554 3a0d 0a20 2020 2020     INPUT:..     
-00005c80: 2020 202a 2a6e 6574 2a2a 2028 7061 6e64     **net** (pand
-00005c90: 6170 6f77 6572 4e65 7429 202d 2054 6865  apowerNet) - The
-00005ca0: 2070 616e 6461 706f 7765 7220 6e65 7477   pandapower netw
-00005cb0: 6f72 6b20 696e 2077 6869 6368 2074 6865  ork in which the
-00005cc0: 2065 6c65 6d65 6e74 2069 7320 6372 6561   element is crea
-00005cd0: 7465 640d 0a0d 0a20 2020 204f 5054 494f  ted....    OPTIO
-00005ce0: 4e41 4c3a 0d0a 2020 2020 2020 2020 2a2a  NAL:..        **
-00005cf0: 6e61 6d65 2a2a 2028 7374 7269 6e67 2c20  name** (string, 
-00005d00: 6465 6661 756c 7420 4e6f 6e65 2920 2d20  default None) - 
-00005d10: 7468 6520 6e61 6d65 2066 6f72 2074 6869  the name for thi
-00005d20: 7320 6275 730d 0a0d 0a20 2020 2020 2020  s bus....       
-00005d30: 202a 2a69 6e64 6578 2a2a 2028 696e 742c   **index** (int,
-00005d40: 2064 6566 6175 6c74 204e 6f6e 6529 202d   default None) -
-00005d50: 2046 6f72 6365 2061 2073 7065 6369 6669   Force a specifi
-00005d60: 6564 2049 4420 6966 2069 7420 6973 2061  ed ID if it is a
-00005d70: 7661 696c 6162 6c65 2e20 4966 204e 6f6e  vailable. If Non
-00005d80: 652c 2074 6865 205c 0d0a 2020 2020 2020  e, the \..      
-00005d90: 2020 2020 2020 696e 6465 7820 6f6e 6520        index one 
-00005da0: 6869 6768 6572 2074 6861 6e20 7468 6520  higher than the 
-00005db0: 6869 6768 6573 7420 616c 7265 6164 7920  highest already 
-00005dc0: 6578 6973 7469 6e67 2069 6e64 6578 2069  existing index i
-00005dd0: 7320 7365 6c65 6374 6564 2e0d 0a0d 0a20  s selected..... 
-00005de0: 2020 2020 2020 202a 2a76 6e5f 6b76 2a2a         **vn_kv**
-00005df0: 2028 666c 6f61 7429 202d 2054 6865 2067   (float) - The g
-00005e00: 7269 6420 766f 6c74 6167 6520 6c65 7665  rid voltage leve
-00005e10: 6c2e 0d0a 0d0a 2020 2020 2020 2020 2a2a  l.....        **
-00005e20: 6765 6f64 6174 612a 2a20 2828 782c 7929  geodata** ((x,y)
-00005e30: 2d74 7570 6c65 2c20 6465 6661 756c 7420  -tuple, default 
-00005e40: 4e6f 6e65 2920 2d20 636f 6f72 6469 6e61  None) - coordina
-00005e50: 7465 7320 7573 6564 2066 6f72 2070 6c6f  tes used for plo
-00005e60: 7474 696e 670d 0a0d 0a20 2020 2020 2020  tting....       
-00005e70: 202a 2a74 7970 652a 2a20 2873 7472 696e   **type** (strin
-00005e80: 672c 2064 6566 6175 6c74 2022 6222 2920  g, default "b") 
-00005e90: 2d20 5479 7065 206f 6620 7468 6520 6275  - Type of the bu
-00005ea0: 732e 2022 6e22 202d 206e 6f64 652c 0d0a  s. "n" - node,..
-00005eb0: 2020 2020 2020 2020 2262 2220 2d20 6275          "b" - bu
-00005ec0: 7362 6172 2c20 226d 2220 2d20 6d75 6666  sbar, "m" - muff
-00005ed0: 0d0a 0d0a 2020 2020 2020 2020 2a2a 7a6f  ....        **zo
-00005ee0: 6e65 2a2a 2028 7374 7269 6e67 2c20 4e6f  ne** (string, No
-00005ef0: 6e65 2920 2d20 6772 6964 2072 6567 696f  ne) - grid regio
-00005f00: 6e0d 0a0d 0a20 2020 2020 2020 202a 2a69  n....        **i
-00005f10: 6e5f 7365 7276 6963 652a 2a20 2862 6f6f  n_service** (boo
-00005f20: 6c65 616e 2920 2d20 5472 7565 2066 6f72  lean) - True for
-00005f30: 2069 6e5f 7365 7276 6963 6520 6f72 2046   in_service or F
-00005f40: 616c 7365 2066 6f72 206f 7574 206f 6620  alse for out of 
-00005f50: 7365 7276 6963 650d 0a0d 0a20 2020 2020  service....     
-00005f60: 2020 202a 2a6d 6178 5f76 6d5f 7075 2a2a     **max_vm_pu**
-00005f70: 2028 666c 6f61 742c 204e 414e 2920 2d20   (float, NAN) - 
-00005f80: 4d61 7869 6d75 6d20 6275 7320 766f 6c74  Maximum bus volt
-00005f90: 6167 6520 696e 2070 2e75 2e20 2d20 6e65  age in p.u. - ne
-00005fa0: 6365 7373 6172 7920 666f 7220 4f50 460d  cessary for OPF.
-00005fb0: 0a0d 0a20 2020 2020 2020 202a 2a6d 696e  ...        **min
-00005fc0: 5f76 6d5f 7075 2a2a 2028 666c 6f61 742c  _vm_pu** (float,
-00005fd0: 204e 414e 2920 2d20 4d69 6e69 6d75 6d20   NAN) - Minimum 
-00005fe0: 6275 7320 766f 6c74 6167 6520 696e 2070  bus voltage in p
-00005ff0: 2e75 2e20 2d20 6e65 6365 7373 6172 7920  .u. - necessary 
-00006000: 666f 7220 4f50 460d 0a0d 0a20 2020 2020  for OPF....     
-00006010: 2020 202a 2a63 6f6f 7264 732a 2a20 286c     **coords** (l
-00006020: 6973 7420 286c 656e 3d32 2920 6f66 2074  ist (len=2) of t
-00006030: 7570 6c65 7320 286c 656e 3d32 292c 2064  uples (len=2), d
-00006040: 6566 6175 6c74 204e 6f6e 6529 202d 2062  efault None) - b
-00006050: 7573 6261 7220 636f 6f72 6469 6e61 7465  usbar coordinate
-00006060: 7320 746f 2070 6c6f 740d 0a20 2020 2020  s to plot..     
-00006070: 2020 2074 6865 2062 7573 2077 6974 6820     the bus with 
-00006080: 6d75 6c74 6970 6c65 2070 6f69 6e74 732e  multiple points.
-00006090: 2063 6f6f 7264 7320 6973 2074 7970 6963   coords is typic
-000060a0: 616c 6c79 2061 206c 6973 7420 6f66 2074  ally a list of t
-000060b0: 7570 6c65 7320 2873 7461 7274 2061 6e64  uples (start and
-000060c0: 2065 6e64 706f 696e 7420 6f66 0d0a 2020   endpoint of..  
-000060d0: 2020 2020 2020 7468 6520 6275 7362 6172        the busbar
-000060e0: 2920 2d20 4578 616d 706c 653a 205b 2878  ) - Example: [(x
-000060f0: 312c 2079 3129 2c20 2878 322c 2079 3229  1, y1), (x2, y2)
-00006100: 5d0d 0a0d 0a20 2020 204f 5554 5055 543a  ]....    OUTPUT:
-00006110: 0d0a 2020 2020 2020 2020 2a2a 696e 6465  ..        **inde
-00006120: 782a 2a20 2869 6e74 2920 2d20 5468 6520  x** (int) - The 
-00006130: 756e 6971 7565 2049 4420 6f66 2074 6865  unique ID of the
-00006140: 2063 7265 6174 6564 2065 6c65 6d65 6e74   created element
-00006150: 0d0a 0d0a 2020 2020 4558 414d 504c 453a  ....    EXAMPLE:
-00006160: 0d0a 2020 2020 2020 2020 6372 6561 7465  ..        create
-00006170: 5f62 7573 286e 6574 2c20 6e61 6d65 203d  _bus(net, name =
-00006180: 2022 6275 7331 2229 0d0a 2020 2020 2222   "bus1")..    ""
-00006190: 220d 0a20 2020 2069 6e64 6578 203d 205f  "..    index = _
-000061a0: 6765 745f 696e 6465 785f 7769 7468 5f63  get_index_with_c
-000061b0: 6865 636b 286e 6574 2c20 2262 7573 222c  heck(net, "bus",
-000061c0: 2069 6e64 6578 290d 0a0d 0a20 2020 2065   index)....    e
-000061d0: 6e74 7269 6573 203d 2064 6963 7428 7a69  ntries = dict(zi
-000061e0: 7028 5b22 6e61 6d65 222c 2022 766e 5f6b  p(["name", "vn_k
-000061f0: 7622 2c20 2274 7970 6522 2c20 227a 6f6e  v", "type", "zon
-00006200: 6522 2c20 2269 6e5f 7365 7276 6963 6522  e", "in_service"
-00006210: 5d2c 0d0a 2020 2020 2020 2020 2020 2020  ],..            
-00006220: 2020 2020 2020 2020 2020 205b 6e61 6d65             [name
-00006230: 2c20 766e 5f6b 762c 2074 7970 652c 207a  , vn_kv, type, z
-00006240: 6f6e 652c 2062 6f6f 6c28 696e 5f73 6572  one, bool(in_ser
-00006250: 7669 6365 295d 2929 0d0a 0d0a 2020 2020  vice)]))....    
-00006260: 5f73 6574 5f65 6e74 7269 6573 286e 6574  _set_entries(net
-00006270: 2c20 2262 7573 222c 2069 6e64 6578 2c20  , "bus", index, 
-00006280: 5472 7565 2c20 2a2a 656e 7472 6965 732c  True, **entries,
-00006290: 202a 2a6b 7761 7267 7329 0d0a 0d0a 2020   **kwargs)....  
-000062a0: 2020 6966 2067 656f 6461 7461 2069 7320    if geodata is 
-000062b0: 6e6f 7420 4e6f 6e65 3a0d 0a20 2020 2020  not None:..     
-000062c0: 2020 2069 6620 6c65 6e28 6765 6f64 6174     if len(geodat
-000062d0: 6129 2021 3d20 323a 0d0a 2020 2020 2020  a) != 2:..      
-000062e0: 2020 2020 2020 7261 6973 6520 5573 6572        raise User
-000062f0: 5761 726e 696e 6728 2267 656f 6461 7461  Warning("geodata
-00006300: 206d 7573 7420 6265 2067 6976 656e 2061   must be given a
-00006310: 7320 2878 2c20 7929 2074 7570 6c65 2229  s (x, y) tuple")
-00006320: 0d0a 2020 2020 2020 2020 6e65 745b 2262  ..        net["b
-00006330: 7573 5f67 656f 6461 7461 225d 2e6c 6f63  us_geodata"].loc
-00006340: 5b69 6e64 6578 2c20 5b22 7822 2c20 2279  [index, ["x", "y
-00006350: 225d 5d20 3d20 6765 6f64 6174 610d 0a0d  "]] = geodata...
-00006360: 0a20 2020 2069 6620 636f 6f72 6473 2069  .    if coords i
-00006370: 7320 6e6f 7420 4e6f 6e65 3a0d 0a20 2020  s not None:..   
-00006380: 2020 2020 206e 6574 5b22 6275 735f 6765       net["bus_ge
-00006390: 6f64 6174 6122 5d2e 6174 5b69 6e64 6578  odata"].at[index
-000063a0: 2c20 2263 6f6f 7264 7322 5d20 3d20 636f  , "coords"] = co
-000063b0: 6f72 6473 0d0a 0d0a 2020 2020 2320 636f  ords....    # co
-000063c0: 6c75 6d6e 206e 6565 6465 6420 6279 204f  lumn needed by O
-000063d0: 5046 2e20 302e 2061 6e64 2032 2e20 6172  PF. 0. and 2. ar
-000063e0: 6520 7468 6520 6465 6661 756c 7420 6d61  e the default ma
-000063f0: 7869 6d75 6d20 2f20 6d69 6e69 6d75 6d20  ximum / minimum 
-00006400: 766f 6c74 6167 6573 0d0a 2020 2020 5f63  voltages..    _c
-00006410: 7265 6174 655f 636f 6c75 6d6e 5f61 6e64  reate_column_and
-00006420: 5f73 6574 5f76 616c 7565 286e 6574 2c20  _set_value(net, 
-00006430: 696e 6465 782c 206d 696e 5f76 6d5f 7075  index, min_vm_pu
-00006440: 2c20 226d 696e 5f76 6d5f 7075 222c 2022  , "min_vm_pu", "
-00006450: 6275 7322 2c20 6465 6661 756c 745f 7661  bus", default_va
-00006460: 6c3d 302e 290d 0a20 2020 205f 6372 6561  l=0.)..    _crea
-00006470: 7465 5f63 6f6c 756d 6e5f 616e 645f 7365  te_column_and_se
-00006480: 745f 7661 6c75 6528 6e65 742c 2069 6e64  t_value(net, ind
-00006490: 6578 2c20 6d61 785f 766d 5f70 752c 2022  ex, max_vm_pu, "
-000064a0: 6d61 785f 766d 5f70 7522 2c20 2262 7573  max_vm_pu", "bus
-000064b0: 222c 2064 6566 6175 6c74 5f76 616c 3d32  ", default_val=2
-000064c0: 2e29 0d0a 0d0a 2020 2020 7265 7475 726e  .)....    return
-000064d0: 2069 6e64 6578 0d0a 0d0a 0d0a 6465 6620   index......def 
-000064e0: 6372 6561 7465 5f62 7573 6573 286e 6574  create_buses(net
-000064f0: 2c20 6e72 5f62 7573 6573 2c20 766e 5f6b  , nr_buses, vn_k
-00006500: 762c 2069 6e64 6578 3d4e 6f6e 652c 206e  v, index=None, n
-00006510: 616d 653d 4e6f 6e65 2c20 7479 7065 3d22  ame=None, type="
-00006520: 6222 2c20 6765 6f64 6174 613d 4e6f 6e65  b", geodata=None
-00006530: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
-00006540: 2020 2020 7a6f 6e65 3d4e 6f6e 652c 2069      zone=None, i
-00006550: 6e5f 7365 7276 6963 653d 5472 7565 2c20  n_service=True, 
-00006560: 6d61 785f 766d 5f70 753d 4e6f 6e65 2c20  max_vm_pu=None, 
-00006570: 6d69 6e5f 766d 5f70 753d 4e6f 6e65 2c20  min_vm_pu=None, 
-00006580: 636f 6f72 6473 3d4e 6f6e 652c 202a 2a6b  coords=None, **k
-00006590: 7761 7267 7329 3a0d 0a20 2020 2022 2222  wargs):..    """
-000065a0: 0d0a 2020 2020 4164 6473 2073 6576 6572  ..    Adds sever
-000065b0: 616c 2062 7573 6573 2069 6e20 7461 626c  al buses in tabl
-000065c0: 6520 6e65 745b 2262 7573 225d 2061 7420  e net["bus"] at 
-000065d0: 6f6e 6365 2e0d 0a0d 0a20 2020 2042 7573  once.....    Bus
-000065e0: 7365 7320 6172 6520 7468 6520 6e6f 6461  ses are the noda
-000065f0: 6c20 706f 696e 7473 206f 6620 7468 6520  l points of the 
-00006600: 6e65 7477 6f72 6b20 7468 6174 2061 6c6c  network that all
-00006610: 206f 7468 6572 2065 6c65 6d65 6e74 7320   other elements 
-00006620: 636f 6e6e 6563 7420 746f 2e0d 0a0d 0a20  connect to..... 
-00006630: 2020 2049 6e70 7574 3a0d 0a20 2020 2020     Input:..     
-00006640: 2020 202a 2a6e 6574 2a2a 2028 7061 6e64     **net** (pand
-00006650: 6170 6f77 6572 4e65 7429 202d 2054 6865  apowerNet) - The
-00006660: 2070 616e 6461 706f 7765 7220 6e65 7477   pandapower netw
-00006670: 6f72 6b20 696e 2077 6869 6368 2074 6865  ork in which the
-00006680: 2065 6c65 6d65 6e74 2069 7320 6372 6561   element is crea
-00006690: 7465 640d 0a0d 0a20 2020 2020 2020 202a  ted....        *
-000066a0: 2a6e 725f 6275 7365 732a 2a20 2869 6e74  *nr_buses** (int
-000066b0: 2920 2d20 5468 6520 6e75 6d62 6572 206f  ) - The number o
-000066c0: 6620 6275 7365 7320 7468 6174 2069 7320  f buses that is 
-000066d0: 6372 6561 7465 640d 0a0d 0a20 2020 204f  created....    O
-000066e0: 5054 494f 4e41 4c3a 0d0a 2020 2020 2020  PTIONAL:..      
-000066f0: 2020 2a2a 6e61 6d65 2a2a 2028 7374 7269    **name** (stri
-00006700: 6e67 2c20 6465 6661 756c 7420 4e6f 6e65  ng, default None
-00006710: 2920 2d20 7468 6520 6e61 6d65 2066 6f72  ) - the name for
-00006720: 2074 6869 7320 6275 730d 0a0d 0a20 2020   this bus....   
-00006730: 2020 2020 202a 2a69 6e64 6578 2a2a 2028       **index** (
-00006740: 696e 742c 2064 6566 6175 6c74 204e 6f6e  int, default Non
-00006750: 6529 202d 2046 6f72 6365 2073 7065 6369  e) - Force speci
-00006760: 6669 6564 2049 4473 2069 6620 6176 6169  fied IDs if avai
-00006770: 6c61 626c 652e 2049 6620 4e6f 6e65 2c20  lable. If None, 
-00006780: 7468 6520 696e 6469 6365 7320 5c0d 0a20  the indices \.. 
-00006790: 2020 2020 2020 2020 2020 2068 6967 6865             highe
-000067a0: 7220 7468 616e 2074 6865 2068 6967 6865  r than the highe
-000067b0: 7374 2061 6c72 6561 6479 2065 7869 7374  st already exist
-000067c0: 696e 6720 696e 6465 7820 6172 6520 7365  ing index are se
-000067d0: 6c65 6374 6564 2e0d 0a0d 0a20 2020 2020  lected.....     
-000067e0: 2020 202a 2a76 6e5f 6b76 2a2a 2028 666c     **vn_kv** (fl
-000067f0: 6f61 7429 202d 2054 6865 2067 7269 6420  oat) - The grid 
-00006800: 766f 6c74 6167 6520 6c65 7665 6c2e 0d0a  voltage level...
-00006810: 0d0a 2020 2020 2020 2020 2a2a 6765 6f64  ..        **geod
-00006820: 6174 612a 2a20 2828 782c 7929 2d74 7570  ata** ((x,y)-tup
-00006830: 6c65 206f 7220 6c69 7374 206f 6620 7475  le or list of tu
-00006840: 706c 6573 2077 6974 6820 6c65 6e67 7468  ples with length
-00006850: 203d 3d20 6e72 5f62 7573 6573 2c20 6465   == nr_buses, de
-00006860: 6661 756c 7420 4e6f 6e65 2920 2d0d 0a20  fault None) -.. 
-00006870: 2020 2020 2020 2063 6f6f 7264 696e 6174         coordinat
-00006880: 6573 2075 7365 6420 666f 7220 706c 6f74  es used for plot
-00006890: 7469 6e67 0d0a 0d0a 2020 2020 2020 2020  ting....        
-000068a0: 2a2a 7479 7065 2a2a 2028 7374 7269 6e67  **type** (string
-000068b0: 2c20 6465 6661 756c 7420 2262 2229 202d  , default "b") -
-000068c0: 2054 7970 6520 6f66 2074 6865 2062 7573   Type of the bus
-000068d0: 2e20 226e 2220 2d20 6175 7869 6c61 7279  . "n" - auxilary
-000068e0: 206e 6f64 652c 0d0a 2020 2020 2020 2020   node,..        
-000068f0: 2262 2220 2d20 6275 7362 6172 2c20 226d  "b" - busbar, "m
-00006900: 2220 2d20 6d75 6666 0d0a 0d0a 2020 2020  " - muff....    
-00006910: 2020 2020 2a2a 7a6f 6e65 2a2a 2028 7374      **zone** (st
-00006920: 7269 6e67 2c20 4e6f 6e65 2920 2d20 6772  ring, None) - gr
-00006930: 6964 2072 6567 696f 6e0d 0a0d 0a20 2020  id region....   
-00006940: 2020 2020 202a 2a69 6e5f 7365 7276 6963       **in_servic
-00006950: 652a 2a20 2862 6f6f 6c65 616e 2920 2d20  e** (boolean) - 
-00006960: 5472 7565 2066 6f72 2069 6e5f 7365 7276  True for in_serv
-00006970: 6963 6520 6f72 2046 616c 7365 2066 6f72  ice or False for
-00006980: 206f 7574 206f 6620 7365 7276 6963 650d   out of service.
-00006990: 0a0d 0a20 2020 2020 2020 202a 2a6d 6178  ...        **max
-000069a0: 5f76 6d5f 7075 2a2a 2028 666c 6f61 742c  _vm_pu** (float,
-000069b0: 204e 414e 2920 2d20 4d61 7869 6d75 6d20   NAN) - Maximum 
-000069c0: 6275 7320 766f 6c74 6167 6520 696e 2070  bus voltage in p
-000069d0: 2e75 2e20 2d20 6e65 6365 7373 6172 7920  .u. - necessary 
-000069e0: 666f 7220 4f50 460d 0a0d 0a20 2020 2020  for OPF....     
-000069f0: 2020 202a 2a6d 696e 5f76 6d5f 7075 2a2a     **min_vm_pu**
-00006a00: 2028 666c 6f61 742c 204e 414e 2920 2d20   (float, NAN) - 
-00006a10: 4d69 6e69 6d75 6d20 6275 7320 766f 6c74  Minimum bus volt
-00006a20: 6167 6520 696e 2070 2e75 2e20 2d20 6e65  age in p.u. - ne
-00006a30: 6365 7373 6172 7920 666f 7220 4f50 460d  cessary for OPF.
-00006a40: 0a0d 0a20 2020 2020 2020 202a 2a63 6f6f  ...        **coo
-00006a50: 7264 732a 2a20 286c 6973 7420 286c 656e  rds** (list (len
-00006a60: 3d6e 725f 6275 7365 7329 206f 6620 6c69  =nr_buses) of li
-00006a70: 7374 2028 6c65 6e3d 3229 206f 6620 7475  st (len=2) of tu
-00006a80: 706c 6573 2028 6c65 6e3d 3229 2c20 6465  ples (len=2), de
-00006a90: 6661 756c 7420 4e6f 6e65 2920 2d20 6275  fault None) - bu
-00006aa0: 7362 6172 0d0a 2020 2020 2020 2020 636f  sbar..        co
-00006ab0: 6f72 6469 6e61 7465 7320 746f 2070 6c6f  ordinates to plo
-00006ac0: 7420 7468 6520 6275 7320 7769 7468 206d  t the bus with m
-00006ad0: 756c 7469 706c 6520 706f 696e 7473 2e20  ultiple points. 
-00006ae0: 636f 6f72 6473 2069 7320 7479 7069 6361  coords is typica
-00006af0: 6c6c 7920 6120 6c69 7374 206f 6620 7475  lly a list of tu
-00006b00: 706c 6573 0d0a 2020 2020 2020 2020 2873  ples..        (s
-00006b10: 7461 7274 2061 6e64 2065 6e64 706f 696e  tart and endpoin
-00006b20: 7420 6f66 2074 6865 2062 7573 6261 7229  t of the busbar)
-00006b30: 202d 2045 7861 6d70 6c65 2066 6f72 2033   - Example for 3
-00006b40: 2062 7573 6573 3a0d 0a20 2020 2020 2020   buses:..       
-00006b50: 205b 5b28 7831 312c 2079 3131 292c 2028   [[(x11, y11), (
-00006b60: 7831 322c 2079 3132 295d 2c20 5b28 7832  x12, y12)], [(x2
-00006b70: 312c 2079 3231 292c 2028 7832 322c 2079  1, y21), (x22, y
-00006b80: 3232 295d 2c20 5b28 7833 312c 2079 3331  22)], [(x31, y31
-00006b90: 292c 2028 7833 322c 2079 3332 295d 5d0d  ), (x32, y32)]].
-00006ba0: 0a0d 0a0d 0a20 2020 204f 5554 5055 543a  .....    OUTPUT:
-00006bb0: 0d0a 2020 2020 2020 2020 2a2a 696e 6465  ..        **inde
-00006bc0: 782a 2a20 2869 6e74 2920 2d20 5468 6520  x** (int) - The 
-00006bd0: 756e 6971 7565 2069 6e64 6963 6573 2049  unique indices I
-00006be0: 4420 6f66 2074 6865 2063 7265 6174 6564  D of the created
-00006bf0: 2065 6c65 6d65 6e74 730d 0a0d 0a20 2020   elements....   
-00006c00: 2045 5841 4d50 4c45 3a0d 0a20 2020 2020   EXAMPLE:..     
-00006c10: 2020 2063 7265 6174 655f 6275 7328 6e65     create_bus(ne
-00006c20: 742c 206e 616d 6520 3d20 2262 7573 3122  t, name = "bus1"
-00006c30: 290d 0a20 2020 2022 2222 0d0a 2020 2020  )..    """..    
-00006c40: 696e 6465 7820 3d20 5f67 6574 5f6d 756c  index = _get_mul
-00006c50: 7469 706c 655f 696e 6465 785f 7769 7468  tiple_index_with
-00006c60: 5f63 6865 636b 286e 6574 2c20 2262 7573  _check(net, "bus
-00006c70: 222c 2069 6e64 6578 2c20 6e72 5f62 7573  ", index, nr_bus
-00006c80: 6573 290d 0a0d 0a20 2020 2065 6e74 7269  es)....    entri
-00006c90: 6573 203d 207b 2276 6e5f 6b76 223a 2076  es = {"vn_kv": v
-00006ca0: 6e5f 6b76 2c20 2274 7970 6522 3a20 7479  n_kv, "type": ty
-00006cb0: 7065 2c20 227a 6f6e 6522 3a20 7a6f 6e65  pe, "zone": zone
-00006cc0: 2c20 2269 6e5f 7365 7276 6963 6522 3a20  , "in_service": 
-00006cd0: 696e 5f73 6572 7669 6365 2c20 226e 616d  in_service, "nam
-00006ce0: 6522 3a20 6e61 6d65 7d0d 0a20 2020 205f  e": name}..    _
-00006cf0: 6164 645f 7365 7269 6573 5f74 6f5f 656e  add_series_to_en
-00006d00: 7472 6965 7328 656e 7472 6965 732c 2069  tries(entries, i
-00006d10: 6e64 6578 2c20 226d 696e 5f76 6d5f 7075  ndex, "min_vm_pu
-00006d20: 222c 206d 696e 5f76 6d5f 7075 290d 0a20  ", min_vm_pu).. 
-00006d30: 2020 205f 6164 645f 7365 7269 6573 5f74     _add_series_t
-00006d40: 6f5f 656e 7472 6965 7328 656e 7472 6965  o_entries(entrie
-00006d50: 732c 2069 6e64 6578 2c20 226d 6178 5f76  s, index, "max_v
-00006d60: 6d5f 7075 222c 206d 6178 5f76 6d5f 7075  m_pu", max_vm_pu
-00006d70: 290d 0a20 2020 205f 7365 745f 6d75 6c74  )..    _set_mult
-00006d80: 6970 6c65 5f65 6e74 7269 6573 286e 6574  iple_entries(net
-00006d90: 2c20 2262 7573 222c 2069 6e64 6578 2c20  , "bus", index, 
-00006da0: 2a2a 656e 7472 6965 732c 202a 2a6b 7761  **entries, **kwa
-00006db0: 7267 7329 0d0a 0d0a 2020 2020 6966 2067  rgs)....    if g
-00006dc0: 656f 6461 7461 2069 7320 6e6f 7420 4e6f  eodata is not No
-00006dd0: 6e65 3a0d 0a20 2020 2020 2020 2023 2077  ne:..        # w
-00006de0: 6f72 6b73 2077 6974 6820 6120 322d 7475  orks with a 2-tu
-00006df0: 706c 6520 6f72 2061 206d 6174 6368 696e  ple or a matchin
-00006e00: 6720 6172 7261 790d 0a20 2020 2020 2020  g array..       
-00006e10: 206e 6574 2e62 7573 5f67 656f 6461 7461   net.bus_geodata
-00006e20: 203d 2070 642e 636f 6e63 6174 285b 6e65   = pd.concat([ne
-00006e30: 742e 6275 735f 6765 6f64 6174 612c 0d0a  t.bus_geodata,..
-00006e40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005530: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005540: 2020 2020 2020 2822 715f 635f 6d76 6172        ("q_c_mvar
+00005550: 222c 2022 6638 2229 5d2c 0d0a 2020 2020  ", "f8")],..    
+00005560: 2020 2020 225f 656d 7074 795f 7265 735f      "_empty_res_
+00005570: 7374 6f72 6167 6522 3a20 5b28 2270 5f6d  storage": [("p_m
+00005580: 7722 2c20 2266 3822 292c 0d0a 2020 2020  w", "f8"),..    
+00005590: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000055a0: 2020 2020 2020 2020 2020 2028 2271 5f6d             ("q_m
+000055b0: 7661 7222 2c20 2266 3822 295d 2c0d 0a20  var", "f8")],.. 
+000055c0: 2020 2020 2020 2022 5f65 6d70 7479 5f72         "_empty_r
+000055d0: 6573 5f73 746f 7261 6765 5f33 7068 223a  es_storage_3ph":
+000055e0: 205b 2822 705f 615f 6d77 222c 2022 6638   [("p_a_mw", "f8
+000055f0: 2229 2c20 2822 705f 625f 6d77 222c 2022  "), ("p_b_mw", "
+00005600: 6638 2229 2c20 2822 705f 635f 6d77 222c  f8"), ("p_c_mw",
+00005610: 2022 6638 2229 2c0d 0a20 2020 2020 2020   "f8"),..       
+00005620: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005630: 2020 2020 2020 2020 2020 2020 2822 715f              ("q_
+00005640: 615f 6d76 6172 222c 2022 6638 2229 2c20  a_mvar", "f8"), 
+00005650: 2822 715f 625f 6d76 6172 222c 2022 6638  ("q_b_mvar", "f8
+00005660: 2229 2c20 2822 715f 635f 6d76 6172 222c  "), ("q_c_mvar",
+00005670: 2022 6638 2229 5d2c 0d0a 2020 2020 2020   "f8")],..      
+00005680: 2020 225f 656d 7074 795f 7265 735f 6765    "_empty_res_ge
+00005690: 6e22 3a20 5b28 2270 5f6d 7722 2c20 2266  n": [("p_mw", "f
+000056a0: 3822 292c 0d0a 2020 2020 2020 2020 2020  8"),..          
+000056b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000056c0: 2028 2271 5f6d 7661 7222 2c20 2266 3822   ("q_mvar", "f8"
+000056d0: 292c 0d0a 2020 2020 2020 2020 2020 2020  ),..            
+000056e0: 2020 2020 2020 2020 2020 2020 2020 2028                 (
+000056f0: 2276 615f 6465 6772 6565 222c 2022 6638  "va_degree", "f8
+00005700: 2229 2c0d 0a20 2020 2020 2020 2020 2020  "),..           
+00005710: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005720: 2822 766d 5f70 7522 2c20 2266 3822 295d  ("vm_pu", "f8")]
+00005730: 2c0d 0a0d 0a20 2020 2020 2020 2023 2069  ,....        # i
+00005740: 6e74 6572 6e61 6c0d 0a20 2020 2020 2020  nternal..       
+00005750: 2022 5f70 7063 223a 204e 6f6e 652c 0d0a   "_ppc": None,..
+00005760: 2020 2020 2020 2020 225f 7070 6330 223a          "_ppc0":
+00005770: 204e 6f6e 652c 0d0a 2020 2020 2020 2020   None,..        
+00005780: 225f 7070 6331 223a 204e 6f6e 652c 0d0a  "_ppc1": None,..
+00005790: 2020 2020 2020 2020 225f 7070 6332 223a          "_ppc2":
+000057a0: 204e 6f6e 652c 0d0a 2020 2020 2020 2020   None,..        
+000057b0: 225f 6973 5f65 6c65 6d65 6e74 7322 3a20  "_is_elements": 
+000057c0: 4e6f 6e65 2c0d 0a20 2020 2020 2020 2022  None,..        "
+000057d0: 5f70 6432 7070 635f 6c6f 6f6b 7570 7322  _pd2ppc_lookups"
+000057e0: 3a20 7b22 6275 7322 3a20 4e6f 6e65 2c0d  : {"bus": None,.
+000057f0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00005800: 2020 2020 2020 2020 2020 2020 2022 6578               "ex
+00005810: 745f 6772 6964 223a 204e 6f6e 652c 0d0a  t_grid": None,..
+00005820: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005830: 2020 2020 2020 2020 2020 2020 2267 656e              "gen
+00005840: 223a 204e 6f6e 652c 0d0a 2020 2020 2020  ": None,..      
+00005850: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005860: 2020 2020 2020 2262 7261 6e63 6822 3a20        "branch": 
+00005870: 4e6f 6e65 7d2c 0d0a 2020 2020 2020 2020  None},..        
+00005880: 2276 6572 7369 6f6e 223a 205f 5f76 6572  "version": __ver
+00005890: 7369 6f6e 5f5f 2c0d 0a20 2020 2020 2020  sion__,..       
+000058a0: 2022 636f 6e76 6572 6765 6422 3a20 4661   "converged": Fa
+000058b0: 6c73 652c 0d0a 2020 2020 2020 2020 226e  lse,..        "n
+000058c0: 616d 6522 3a20 6e61 6d65 2c0d 0a20 2020  ame": name,..   
+000058d0: 2020 2020 2022 665f 687a 223a 2066 5f68       "f_hz": f_h
+000058e0: 7a2c 0d0a 2020 2020 2020 2020 2273 6e5f  z,..        "sn_
+000058f0: 6d76 6122 3a20 736e 5f6d 7661 0d0a 2020  mva": sn_mva..  
+00005900: 2020 7d29 0d0a 0d0a 2020 2020 6e65 742e    })....    net.
+00005910: 5f65 6d70 7479 5f72 6573 5f6c 6f61 645f  _empty_res_load_
+00005920: 3370 6820 3d20 6e65 742e 5f65 6d70 7479  3ph = net._empty
+00005930: 5f72 6573 5f6c 6f61 640d 0a20 2020 206e  _res_load..    n
+00005940: 6574 2e5f 656d 7074 795f 7265 735f 7367  et._empty_res_sg
+00005950: 656e 5f33 7068 203d 206e 6574 2e5f 656d  en_3ph = net._em
+00005960: 7074 795f 7265 735f 7367 656e 0d0a 2020  pty_res_sgen..  
+00005970: 2020 6e65 742e 5f65 6d70 7479 5f72 6573    net._empty_res
+00005980: 5f73 746f 7261 6765 5f33 7068 203d 206e  _storage_3ph = n
+00005990: 6574 2e5f 656d 7074 795f 7265 735f 7374  et._empty_res_st
+000059a0: 6f72 6167 650d 0a0d 0a20 2020 2066 6f72  orage....    for
+000059b0: 2073 2069 6e20 6e65 743a 0d0a 2020 2020   s in net:..    
+000059c0: 2020 2020 6966 2069 7369 6e73 7461 6e63      if isinstanc
+000059d0: 6528 6e65 745b 735d 2c20 6c69 7374 293a  e(net[s], list):
+000059e0: 0d0a 2020 2020 2020 2020 2020 2020 6e65  ..            ne
+000059f0: 745b 735d 203d 2070 642e 4461 7461 4672  t[s] = pd.DataFr
+00005a00: 616d 6528 7a65 726f 7328 302c 2064 7479  ame(zeros(0, dty
+00005a10: 7065 3d6e 6574 5b73 5d29 2c20 696e 6465  pe=net[s]), inde
+00005a20: 783d 7064 2e49 6e64 6578 285b 5d2c 2064  x=pd.Index([], d
+00005a30: 7479 7065 3d6e 702e 696e 7436 3429 290d  type=np.int64)).
+00005a40: 0a20 2020 2069 6620 6164 645f 7374 6474  .    if add_stdt
+00005a50: 7970 6573 3a0d 0a20 2020 2020 2020 2061  ypes:..        a
+00005a60: 6464 5f62 6173 6963 5f73 7464 5f74 7970  dd_basic_std_typ
+00005a70: 6573 286e 6574 290d 0a20 2020 2065 6c73  es(net)..    els
+00005a80: 653a 0d0a 2020 2020 2020 2020 6e65 742e  e:..        net.
+00005a90: 7374 645f 7479 7065 7320 3d20 7b22 6c69  std_types = {"li
+00005aa0: 6e65 223a 207b 7d2c 2022 7472 6166 6f22  ne": {}, "trafo"
+00005ab0: 3a20 7b7d 2c20 2274 7261 666f 3377 223a  : {}, "trafo3w":
+00005ac0: 207b 7d7d 0d0a 2020 2020 666f 7220 6d6f   {}}..    for mo
+00005ad0: 6465 2069 6e20 5b22 7066 222c 2022 7365  de in ["pf", "se
+00005ae0: 222c 2022 7363 222c 2022 7066 5f33 7068  ", "sc", "pf_3ph
+00005af0: 225d 3a0d 0a20 2020 2020 2020 2072 6573  "]:..        res
+00005b00: 6574 5f72 6573 756c 7473 286e 6574 2c20  et_results(net, 
+00005b10: 6d6f 6465 290d 0a20 2020 206e 6574 5b27  mode)..    net['
+00005b20: 7573 6572 5f70 665f 6f70 7469 6f6e 7327  user_pf_options'
+00005b30: 5d20 3d20 6469 6374 2829 0d0a 2020 2020  ] = dict()..    
+00005b40: 7265 7475 726e 206e 6574 0d0a 0d0a 0d0a  return net......
+00005b50: 6465 6620 6372 6561 7465 5f62 7573 286e  def create_bus(n
+00005b60: 6574 2c20 766e 5f6b 762c 206e 616d 653d  et, vn_kv, name=
+00005b70: 4e6f 6e65 2c20 696e 6465 783d 4e6f 6e65  None, index=None
+00005b80: 2c20 6765 6f64 6174 613d 4e6f 6e65 2c20  , geodata=None, 
+00005b90: 7479 7065 3d22 6222 2c20 7a6f 6e65 3d4e  type="b", zone=N
+00005ba0: 6f6e 652c 0d0a 2020 2020 2020 2020 2020  one,..          
+00005bb0: 2020 2020 2069 6e5f 7365 7276 6963 653d       in_service=
+00005bc0: 5472 7565 2c20 6d61 785f 766d 5f70 753d  True, max_vm_pu=
+00005bd0: 6e61 6e2c 206d 696e 5f76 6d5f 7075 3d6e  nan, min_vm_pu=n
+00005be0: 616e 2c20 636f 6f72 6473 3d4e 6f6e 652c  an, coords=None,
+00005bf0: 202a 2a6b 7761 7267 7329 3a0d 0a20 2020   **kwargs):..   
+00005c00: 2022 2222 0d0a 2020 2020 4164 6473 206f   """..    Adds o
+00005c10: 6e65 2062 7573 2069 6e20 7461 626c 6520  ne bus in table 
+00005c20: 6e65 745b 2262 7573 225d 2e0d 0a0d 0a20  net["bus"]..... 
+00005c30: 2020 2042 7573 7365 7320 6172 6520 7468     Busses are th
+00005c40: 6520 6e6f 6465 7320 6f66 2074 6865 206e  e nodes of the n
+00005c50: 6574 776f 726b 2074 6861 7420 616c 6c20  etwork that all 
+00005c60: 6f74 6865 7220 656c 656d 656e 7473 2063  other elements c
+00005c70: 6f6e 6e65 6374 2074 6f2e 0d0a 0d0a 2020  onnect to.....  
+00005c80: 2020 494e 5055 543a 0d0a 2020 2020 2020    INPUT:..      
+00005c90: 2020 2a2a 6e65 742a 2a20 2870 616e 6461    **net** (panda
+00005ca0: 706f 7765 724e 6574 2920 2d20 5468 6520  powerNet) - The 
+00005cb0: 7061 6e64 6170 6f77 6572 206e 6574 776f  pandapower netwo
+00005cc0: 726b 2069 6e20 7768 6963 6820 7468 6520  rk in which the 
+00005cd0: 656c 656d 656e 7420 6973 2063 7265 6174  element is creat
+00005ce0: 6564 0d0a 0d0a 2020 2020 4f50 5449 4f4e  ed....    OPTION
+00005cf0: 414c 3a0d 0a20 2020 2020 2020 202a 2a6e  AL:..        **n
+00005d00: 616d 652a 2a20 2873 7472 696e 672c 2064  ame** (string, d
+00005d10: 6566 6175 6c74 204e 6f6e 6529 202d 2074  efault None) - t
+00005d20: 6865 206e 616d 6520 666f 7220 7468 6973  he name for this
+00005d30: 2062 7573 0d0a 0d0a 2020 2020 2020 2020   bus....        
+00005d40: 2a2a 696e 6465 782a 2a20 2869 6e74 2c20  **index** (int, 
+00005d50: 6465 6661 756c 7420 4e6f 6e65 2920 2d20  default None) - 
+00005d60: 466f 7263 6520 6120 7370 6563 6966 6965  Force a specifie
+00005d70: 6420 4944 2069 6620 6974 2069 7320 6176  d ID if it is av
+00005d80: 6169 6c61 626c 652e 2049 6620 4e6f 6e65  ailable. If None
+00005d90: 2c20 7468 6520 5c0d 0a20 2020 2020 2020  , the \..       
+00005da0: 2020 2020 2069 6e64 6578 206f 6e65 2068       index one h
+00005db0: 6967 6865 7220 7468 616e 2074 6865 2068  igher than the h
+00005dc0: 6967 6865 7374 2061 6c72 6561 6479 2065  ighest already e
+00005dd0: 7869 7374 696e 6720 696e 6465 7820 6973  xisting index is
+00005de0: 2073 656c 6563 7465 642e 0d0a 0d0a 2020   selected.....  
+00005df0: 2020 2020 2020 2a2a 766e 5f6b 762a 2a20        **vn_kv** 
+00005e00: 2866 6c6f 6174 2920 2d20 5468 6520 6772  (float) - The gr
+00005e10: 6964 2076 6f6c 7461 6765 206c 6576 656c  id voltage level
+00005e20: 2e0d 0a0d 0a20 2020 2020 2020 202a 2a67  .....        **g
+00005e30: 656f 6461 7461 2a2a 2028 2878 2c79 292d  eodata** ((x,y)-
+00005e40: 7475 706c 652c 2064 6566 6175 6c74 204e  tuple, default N
+00005e50: 6f6e 6529 202d 2063 6f6f 7264 696e 6174  one) - coordinat
+00005e60: 6573 2075 7365 6420 666f 7220 706c 6f74  es used for plot
+00005e70: 7469 6e67 0d0a 0d0a 2020 2020 2020 2020  ting....        
+00005e80: 2a2a 7479 7065 2a2a 2028 7374 7269 6e67  **type** (string
+00005e90: 2c20 6465 6661 756c 7420 2262 2229 202d  , default "b") -
+00005ea0: 2054 7970 6520 6f66 2074 6865 2062 7573   Type of the bus
+00005eb0: 2e20 226e 2220 2d20 6e6f 6465 2c0d 0a20  . "n" - node,.. 
+00005ec0: 2020 2020 2020 2022 6222 202d 2062 7573         "b" - bus
+00005ed0: 6261 722c 2022 6d22 202d 206d 7566 660d  bar, "m" - muff.
+00005ee0: 0a0d 0a20 2020 2020 2020 202a 2a7a 6f6e  ...        **zon
+00005ef0: 652a 2a20 2873 7472 696e 672c 204e 6f6e  e** (string, Non
+00005f00: 6529 202d 2067 7269 6420 7265 6769 6f6e  e) - grid region
+00005f10: 0d0a 0d0a 2020 2020 2020 2020 2a2a 696e  ....        **in
+00005f20: 5f73 6572 7669 6365 2a2a 2028 626f 6f6c  _service** (bool
+00005f30: 6561 6e29 202d 2054 7275 6520 666f 7220  ean) - True for 
+00005f40: 696e 5f73 6572 7669 6365 206f 7220 4661  in_service or Fa
+00005f50: 6c73 6520 666f 7220 6f75 7420 6f66 2073  lse for out of s
+00005f60: 6572 7669 6365 0d0a 0d0a 2020 2020 2020  ervice....      
+00005f70: 2020 2a2a 6d61 785f 766d 5f70 752a 2a20    **max_vm_pu** 
+00005f80: 2866 6c6f 6174 2c20 4e41 4e29 202d 204d  (float, NAN) - M
+00005f90: 6178 696d 756d 2062 7573 2076 6f6c 7461  aximum bus volta
+00005fa0: 6765 2069 6e20 702e 752e 202d 206e 6563  ge in p.u. - nec
+00005fb0: 6573 7361 7279 2066 6f72 204f 5046 0d0a  essary for OPF..
+00005fc0: 0d0a 2020 2020 2020 2020 2a2a 6d69 6e5f  ..        **min_
+00005fd0: 766d 5f70 752a 2a20 2866 6c6f 6174 2c20  vm_pu** (float, 
+00005fe0: 4e41 4e29 202d 204d 696e 696d 756d 2062  NAN) - Minimum b
+00005ff0: 7573 2076 6f6c 7461 6765 2069 6e20 702e  us voltage in p.
+00006000: 752e 202d 206e 6563 6573 7361 7279 2066  u. - necessary f
+00006010: 6f72 204f 5046 0d0a 0d0a 2020 2020 2020  or OPF....      
+00006020: 2020 2a2a 636f 6f72 6473 2a2a 2028 6c69    **coords** (li
+00006030: 7374 2028 6c65 6e3d 3229 206f 6620 7475  st (len=2) of tu
+00006040: 706c 6573 2028 6c65 6e3d 3229 2c20 6465  ples (len=2), de
+00006050: 6661 756c 7420 4e6f 6e65 2920 2d20 6275  fault None) - bu
+00006060: 7362 6172 2063 6f6f 7264 696e 6174 6573  sbar coordinates
+00006070: 2074 6f20 706c 6f74 0d0a 2020 2020 2020   to plot..      
+00006080: 2020 7468 6520 6275 7320 7769 7468 206d    the bus with m
+00006090: 756c 7469 706c 6520 706f 696e 7473 2e20  ultiple points. 
+000060a0: 636f 6f72 6473 2069 7320 7479 7069 6361  coords is typica
+000060b0: 6c6c 7920 6120 6c69 7374 206f 6620 7475  lly a list of tu
+000060c0: 706c 6573 2028 7374 6172 7420 616e 6420  ples (start and 
+000060d0: 656e 6470 6f69 6e74 206f 660d 0a20 2020  endpoint of..   
+000060e0: 2020 2020 2074 6865 2062 7573 6261 7229       the busbar)
+000060f0: 202d 2045 7861 6d70 6c65 3a20 5b28 7831   - Example: [(x1
+00006100: 2c20 7931 292c 2028 7832 2c20 7932 295d  , y1), (x2, y2)]
+00006110: 0d0a 0d0a 2020 2020 4f55 5450 5554 3a0d  ....    OUTPUT:.
+00006120: 0a20 2020 2020 2020 202a 2a69 6e64 6578  .        **index
+00006130: 2a2a 2028 696e 7429 202d 2054 6865 2075  ** (int) - The u
+00006140: 6e69 7175 6520 4944 206f 6620 7468 6520  nique ID of the 
+00006150: 6372 6561 7465 6420 656c 656d 656e 740d  created element.
+00006160: 0a0d 0a20 2020 2045 5841 4d50 4c45 3a0d  ...    EXAMPLE:.
+00006170: 0a20 2020 2020 2020 2063 7265 6174 655f  .        create_
+00006180: 6275 7328 6e65 742c 206e 616d 6520 3d20  bus(net, name = 
+00006190: 2262 7573 3122 290d 0a20 2020 2022 2222  "bus1")..    """
+000061a0: 0d0a 2020 2020 696e 6465 7820 3d20 5f67  ..    index = _g
+000061b0: 6574 5f69 6e64 6578 5f77 6974 685f 6368  et_index_with_ch
+000061c0: 6563 6b28 6e65 742c 2022 6275 7322 2c20  eck(net, "bus", 
+000061d0: 696e 6465 7829 0d0a 0d0a 2020 2020 656e  index)....    en
+000061e0: 7472 6965 7320 3d20 6469 6374 287a 6970  tries = dict(zip
+000061f0: 285b 226e 616d 6522 2c20 2276 6e5f 6b76  (["name", "vn_kv
+00006200: 222c 2022 7479 7065 222c 2022 7a6f 6e65  ", "type", "zone
+00006210: 222c 2022 696e 5f73 6572 7669 6365 225d  ", "in_service"]
+00006220: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
+00006230: 2020 2020 2020 2020 2020 5b6e 616d 652c            [name,
+00006240: 2076 6e5f 6b76 2c20 7479 7065 2c20 7a6f   vn_kv, type, zo
+00006250: 6e65 2c20 626f 6f6c 2869 6e5f 7365 7276  ne, bool(in_serv
+00006260: 6963 6529 5d29 290d 0a0d 0a20 2020 205f  ice)]))....    _
+00006270: 7365 745f 656e 7472 6965 7328 6e65 742c  set_entries(net,
+00006280: 2022 6275 7322 2c20 696e 6465 782c 2054   "bus", index, T
+00006290: 7275 652c 202a 2a65 6e74 7269 6573 2c20  rue, **entries, 
+000062a0: 2a2a 6b77 6172 6773 290d 0a0d 0a20 2020  **kwargs)....   
+000062b0: 2069 6620 6765 6f64 6174 6120 6973 206e   if geodata is n
+000062c0: 6f74 204e 6f6e 653a 0d0a 2020 2020 2020  ot None:..      
+000062d0: 2020 6966 206c 656e 2867 656f 6461 7461    if len(geodata
+000062e0: 2920 213d 2032 3a0d 0a20 2020 2020 2020  ) != 2:..       
+000062f0: 2020 2020 2072 6169 7365 2055 7365 7257       raise UserW
+00006300: 6172 6e69 6e67 2822 6765 6f64 6174 6120  arning("geodata 
+00006310: 6d75 7374 2062 6520 6769 7665 6e20 6173  must be given as
+00006320: 2028 782c 2079 2920 7475 706c 6522 290d   (x, y) tuple").
+00006330: 0a20 2020 2020 2020 206e 6574 5b22 6275  .        net["bu
+00006340: 735f 6765 6f64 6174 6122 5d2e 6c6f 635b  s_geodata"].loc[
+00006350: 696e 6465 782c 205b 2278 222c 2022 7922  index, ["x", "y"
+00006360: 5d5d 203d 2067 656f 6461 7461 0d0a 0d0a  ]] = geodata....
+00006370: 2020 2020 6966 2063 6f6f 7264 7320 6973      if coords is
+00006380: 206e 6f74 204e 6f6e 653a 0d0a 2020 2020   not None:..    
+00006390: 2020 2020 6e65 745b 2262 7573 5f67 656f      net["bus_geo
+000063a0: 6461 7461 225d 2e61 745b 696e 6465 782c  data"].at[index,
+000063b0: 2022 636f 6f72 6473 225d 203d 2063 6f6f   "coords"] = coo
+000063c0: 7264 730d 0a0d 0a20 2020 2023 2063 6f6c  rds....    # col
+000063d0: 756d 6e20 6e65 6564 6564 2062 7920 4f50  umn needed by OP
+000063e0: 462e 2030 2e20 616e 6420 322e 2061 7265  F. 0. and 2. are
+000063f0: 2074 6865 2064 6566 6175 6c74 206d 6178   the default max
+00006400: 696d 756d 202f 206d 696e 696d 756d 2076  imum / minimum v
+00006410: 6f6c 7461 6765 730d 0a20 2020 205f 6372  oltages..    _cr
+00006420: 6561 7465 5f63 6f6c 756d 6e5f 616e 645f  eate_column_and_
+00006430: 7365 745f 7661 6c75 6528 6e65 742c 2069  set_value(net, i
+00006440: 6e64 6578 2c20 6d69 6e5f 766d 5f70 752c  ndex, min_vm_pu,
+00006450: 2022 6d69 6e5f 766d 5f70 7522 2c20 2262   "min_vm_pu", "b
+00006460: 7573 222c 2064 6566 6175 6c74 5f76 616c  us", default_val
+00006470: 3d30 2e29 0d0a 2020 2020 5f63 7265 6174  =0.)..    _creat
+00006480: 655f 636f 6c75 6d6e 5f61 6e64 5f73 6574  e_column_and_set
+00006490: 5f76 616c 7565 286e 6574 2c20 696e 6465  _value(net, inde
+000064a0: 782c 206d 6178 5f76 6d5f 7075 2c20 226d  x, max_vm_pu, "m
+000064b0: 6178 5f76 6d5f 7075 222c 2022 6275 7322  ax_vm_pu", "bus"
+000064c0: 2c20 6465 6661 756c 745f 7661 6c3d 322e  , default_val=2.
+000064d0: 290d 0a0d 0a20 2020 2072 6574 7572 6e20  )....    return 
+000064e0: 696e 6465 780d 0a0d 0a0d 0a64 6566 2063  index......def c
+000064f0: 7265 6174 655f 6275 7365 7328 6e65 742c  reate_buses(net,
+00006500: 206e 725f 6275 7365 732c 2076 6e5f 6b76   nr_buses, vn_kv
+00006510: 2c20 696e 6465 783d 4e6f 6e65 2c20 6e61  , index=None, na
+00006520: 6d65 3d4e 6f6e 652c 2074 7970 653d 2262  me=None, type="b
+00006530: 222c 2067 656f 6461 7461 3d4e 6f6e 652c  ", geodata=None,
+00006540: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00006550: 2020 207a 6f6e 653d 4e6f 6e65 2c20 696e     zone=None, in
+00006560: 5f73 6572 7669 6365 3d54 7275 652c 206d  _service=True, m
+00006570: 6178 5f76 6d5f 7075 3d4e 6f6e 652c 206d  ax_vm_pu=None, m
+00006580: 696e 5f76 6d5f 7075 3d4e 6f6e 652c 2063  in_vm_pu=None, c
+00006590: 6f6f 7264 733d 4e6f 6e65 2c20 2a2a 6b77  oords=None, **kw
+000065a0: 6172 6773 293a 0d0a 2020 2020 2222 220d  args):..    """.
+000065b0: 0a20 2020 2041 6464 7320 7365 7665 7261  .    Adds severa
+000065c0: 6c20 6275 7365 7320 696e 2074 6162 6c65  l buses in table
+000065d0: 206e 6574 5b22 6275 7322 5d20 6174 206f   net["bus"] at o
+000065e0: 6e63 652e 0d0a 0d0a 2020 2020 4275 7373  nce.....    Buss
+000065f0: 6573 2061 7265 2074 6865 206e 6f64 616c  es are the nodal
+00006600: 2070 6f69 6e74 7320 6f66 2074 6865 206e   points of the n
+00006610: 6574 776f 726b 2074 6861 7420 616c 6c20  etwork that all 
+00006620: 6f74 6865 7220 656c 656d 656e 7473 2063  other elements c
+00006630: 6f6e 6e65 6374 2074 6f2e 0d0a 0d0a 2020  onnect to.....  
+00006640: 2020 496e 7075 743a 0d0a 2020 2020 2020    Input:..      
+00006650: 2020 2a2a 6e65 742a 2a20 2870 616e 6461    **net** (panda
+00006660: 706f 7765 724e 6574 2920 2d20 5468 6520  powerNet) - The 
+00006670: 7061 6e64 6170 6f77 6572 206e 6574 776f  pandapower netwo
+00006680: 726b 2069 6e20 7768 6963 6820 7468 6520  rk in which the 
+00006690: 656c 656d 656e 7420 6973 2063 7265 6174  element is creat
+000066a0: 6564 0d0a 0d0a 2020 2020 2020 2020 2a2a  ed....        **
+000066b0: 6e72 5f62 7573 6573 2a2a 2028 696e 7429  nr_buses** (int)
+000066c0: 202d 2054 6865 206e 756d 6265 7220 6f66   - The number of
+000066d0: 2062 7573 6573 2074 6861 7420 6973 2063   buses that is c
+000066e0: 7265 6174 6564 0d0a 0d0a 2020 2020 4f50  reated....    OP
+000066f0: 5449 4f4e 414c 3a0d 0a20 2020 2020 2020  TIONAL:..       
+00006700: 202a 2a6e 616d 652a 2a20 2873 7472 696e   **name** (strin
+00006710: 672c 2064 6566 6175 6c74 204e 6f6e 6529  g, default None)
+00006720: 202d 2074 6865 206e 616d 6520 666f 7220   - the name for 
+00006730: 7468 6973 2062 7573 0d0a 0d0a 2020 2020  this bus....    
+00006740: 2020 2020 2a2a 696e 6465 782a 2a20 2869      **index** (i
+00006750: 6e74 2c20 6465 6661 756c 7420 4e6f 6e65  nt, default None
+00006760: 2920 2d20 466f 7263 6520 7370 6563 6966  ) - Force specif
+00006770: 6965 6420 4944 7320 6966 2061 7661 696c  ied IDs if avail
+00006780: 6162 6c65 2e20 4966 204e 6f6e 652c 2074  able. If None, t
+00006790: 6865 2069 6e64 6963 6573 205c 0d0a 2020  he indices \..  
+000067a0: 2020 2020 2020 2020 2020 6869 6768 6572            higher
+000067b0: 2074 6861 6e20 7468 6520 6869 6768 6573   than the highes
+000067c0: 7420 616c 7265 6164 7920 6578 6973 7469  t already existi
+000067d0: 6e67 2069 6e64 6578 2061 7265 2073 656c  ng index are sel
+000067e0: 6563 7465 642e 0d0a 0d0a 2020 2020 2020  ected.....      
+000067f0: 2020 2a2a 766e 5f6b 762a 2a20 2866 6c6f    **vn_kv** (flo
+00006800: 6174 2920 2d20 5468 6520 6772 6964 2076  at) - The grid v
+00006810: 6f6c 7461 6765 206c 6576 656c 2e0d 0a0d  oltage level....
+00006820: 0a20 2020 2020 2020 202a 2a67 656f 6461  .        **geoda
+00006830: 7461 2a2a 2028 2878 2c79 292d 7475 706c  ta** ((x,y)-tupl
+00006840: 6520 6f72 206c 6973 7420 6f66 2074 7570  e or list of tup
+00006850: 6c65 7320 7769 7468 206c 656e 6774 6820  les with length 
+00006860: 3d3d 206e 725f 6275 7365 732c 2064 6566  == nr_buses, def
+00006870: 6175 6c74 204e 6f6e 6529 202d 0d0a 2020  ault None) -..  
+00006880: 2020 2020 2020 636f 6f72 6469 6e61 7465        coordinate
+00006890: 7320 7573 6564 2066 6f72 2070 6c6f 7474  s used for plott
+000068a0: 696e 670d 0a0d 0a20 2020 2020 2020 202a  ing....        *
+000068b0: 2a74 7970 652a 2a20 2873 7472 696e 672c  *type** (string,
+000068c0: 2064 6566 6175 6c74 2022 6222 2920 2d20   default "b") - 
+000068d0: 5479 7065 206f 6620 7468 6520 6275 732e  Type of the bus.
+000068e0: 2022 6e22 202d 2061 7578 696c 6172 7920   "n" - auxilary 
+000068f0: 6e6f 6465 2c0d 0a20 2020 2020 2020 2022  node,..        "
+00006900: 6222 202d 2062 7573 6261 722c 2022 6d22  b" - busbar, "m"
+00006910: 202d 206d 7566 660d 0a0d 0a20 2020 2020   - muff....     
+00006920: 2020 202a 2a7a 6f6e 652a 2a20 2873 7472     **zone** (str
+00006930: 696e 672c 204e 6f6e 6529 202d 2067 7269  ing, None) - gri
+00006940: 6420 7265 6769 6f6e 0d0a 0d0a 2020 2020  d region....    
+00006950: 2020 2020 2a2a 696e 5f73 6572 7669 6365      **in_service
+00006960: 2a2a 2028 626f 6f6c 6561 6e29 202d 2054  ** (boolean) - T
+00006970: 7275 6520 666f 7220 696e 5f73 6572 7669  rue for in_servi
+00006980: 6365 206f 7220 4661 6c73 6520 666f 7220  ce or False for 
+00006990: 6f75 7420 6f66 2073 6572 7669 6365 0d0a  out of service..
+000069a0: 0d0a 2020 2020 2020 2020 2a2a 6d61 785f  ..        **max_
+000069b0: 766d 5f70 752a 2a20 2866 6c6f 6174 2c20  vm_pu** (float, 
+000069c0: 4e41 4e29 202d 204d 6178 696d 756d 2062  NAN) - Maximum b
+000069d0: 7573 2076 6f6c 7461 6765 2069 6e20 702e  us voltage in p.
+000069e0: 752e 202d 206e 6563 6573 7361 7279 2066  u. - necessary f
+000069f0: 6f72 204f 5046 0d0a 0d0a 2020 2020 2020  or OPF....      
+00006a00: 2020 2a2a 6d69 6e5f 766d 5f70 752a 2a20    **min_vm_pu** 
+00006a10: 2866 6c6f 6174 2c20 4e41 4e29 202d 204d  (float, NAN) - M
+00006a20: 696e 696d 756d 2062 7573 2076 6f6c 7461  inimum bus volta
+00006a30: 6765 2069 6e20 702e 752e 202d 206e 6563  ge in p.u. - nec
+00006a40: 6573 7361 7279 2066 6f72 204f 5046 0d0a  essary for OPF..
+00006a50: 0d0a 2020 2020 2020 2020 2a2a 636f 6f72  ..        **coor
+00006a60: 6473 2a2a 2028 6c69 7374 2028 6c65 6e3d  ds** (list (len=
+00006a70: 6e72 5f62 7573 6573 2920 6f66 206c 6973  nr_buses) of lis
+00006a80: 7420 286c 656e 3d32 2920 6f66 2074 7570  t (len=2) of tup
+00006a90: 6c65 7320 286c 656e 3d32 292c 2064 6566  les (len=2), def
+00006aa0: 6175 6c74 204e 6f6e 6529 202d 2062 7573  ault None) - bus
+00006ab0: 6261 720d 0a20 2020 2020 2020 2063 6f6f  bar..        coo
+00006ac0: 7264 696e 6174 6573 2074 6f20 706c 6f74  rdinates to plot
+00006ad0: 2074 6865 2062 7573 2077 6974 6820 6d75   the bus with mu
+00006ae0: 6c74 6970 6c65 2070 6f69 6e74 732e 2063  ltiple points. c
+00006af0: 6f6f 7264 7320 6973 2074 7970 6963 616c  oords is typical
+00006b00: 6c79 2061 206c 6973 7420 6f66 2074 7570  ly a list of tup
+00006b10: 6c65 730d 0a20 2020 2020 2020 2028 7374  les..        (st
+00006b20: 6172 7420 616e 6420 656e 6470 6f69 6e74  art and endpoint
+00006b30: 206f 6620 7468 6520 6275 7362 6172 2920   of the busbar) 
+00006b40: 2d20 4578 616d 706c 6520 666f 7220 3320  - Example for 3 
+00006b50: 6275 7365 733a 0d0a 2020 2020 2020 2020  buses:..        
+00006b60: 5b5b 2878 3131 2c20 7931 3129 2c20 2878  [[(x11, y11), (x
+00006b70: 3132 2c20 7931 3229 5d2c 205b 2878 3231  12, y12)], [(x21
+00006b80: 2c20 7932 3129 2c20 2878 3232 2c20 7932  , y21), (x22, y2
+00006b90: 3229 5d2c 205b 2878 3331 2c20 7933 3129  2)], [(x31, y31)
+00006ba0: 2c20 2878 3332 2c20 7933 3229 5d5d 0d0a  , (x32, y32)]]..
+00006bb0: 0d0a 0d0a 2020 2020 4f55 5450 5554 3a0d  ....    OUTPUT:.
+00006bc0: 0a20 2020 2020 2020 202a 2a69 6e64 6578  .        **index
+00006bd0: 2a2a 2028 696e 7429 202d 2054 6865 2075  ** (int) - The u
+00006be0: 6e69 7175 6520 696e 6469 6365 7320 4944  nique indices ID
+00006bf0: 206f 6620 7468 6520 6372 6561 7465 6420   of the created 
+00006c00: 656c 656d 656e 7473 0d0a 0d0a 2020 2020  elements....    
+00006c10: 4558 414d 504c 453a 0d0a 2020 2020 2020  EXAMPLE:..      
+00006c20: 2020 6372 6561 7465 5f62 7573 286e 6574    create_bus(net
+00006c30: 2c20 6e61 6d65 203d 2022 6275 7331 2229  , name = "bus1")
+00006c40: 0d0a 2020 2020 2222 220d 0a20 2020 2069  ..    """..    i
+00006c50: 6e64 6578 203d 205f 6765 745f 6d75 6c74  ndex = _get_mult
+00006c60: 6970 6c65 5f69 6e64 6578 5f77 6974 685f  iple_index_with_
+00006c70: 6368 6563 6b28 6e65 742c 2022 6275 7322  check(net, "bus"
+00006c80: 2c20 696e 6465 782c 206e 725f 6275 7365  , index, nr_buse
+00006c90: 7329 0d0a 0d0a 2020 2020 656e 7472 6965  s)....    entrie
+00006ca0: 7320 3d20 7b22 766e 5f6b 7622 3a20 766e  s = {"vn_kv": vn
+00006cb0: 5f6b 762c 2022 7479 7065 223a 2074 7970  _kv, "type": typ
+00006cc0: 652c 2022 7a6f 6e65 223a 207a 6f6e 652c  e, "zone": zone,
+00006cd0: 2022 696e 5f73 6572 7669 6365 223a 2069   "in_service": i
+00006ce0: 6e5f 7365 7276 6963 652c 2022 6e61 6d65  n_service, "name
+00006cf0: 223a 206e 616d 657d 0d0a 2020 2020 5f61  ": name}..    _a
+00006d00: 6464 5f73 6572 6965 735f 746f 5f65 6e74  dd_series_to_ent
+00006d10: 7269 6573 2865 6e74 7269 6573 2c20 696e  ries(entries, in
+00006d20: 6465 782c 2022 6d69 6e5f 766d 5f70 7522  dex, "min_vm_pu"
+00006d30: 2c20 6d69 6e5f 766d 5f70 7529 0d0a 2020  , min_vm_pu)..  
+00006d40: 2020 5f61 6464 5f73 6572 6965 735f 746f    _add_series_to
+00006d50: 5f65 6e74 7269 6573 2865 6e74 7269 6573  _entries(entries
+00006d60: 2c20 696e 6465 782c 2022 6d61 785f 766d  , index, "max_vm
+00006d70: 5f70 7522 2c20 6d61 785f 766d 5f70 7529  _pu", max_vm_pu)
+00006d80: 0d0a 2020 2020 5f73 6574 5f6d 756c 7469  ..    _set_multi
+00006d90: 706c 655f 656e 7472 6965 7328 6e65 742c  ple_entries(net,
+00006da0: 2022 6275 7322 2c20 696e 6465 782c 202a   "bus", index, *
+00006db0: 2a65 6e74 7269 6573 2c20 2a2a 6b77 6172  *entries, **kwar
+00006dc0: 6773 290d 0a0d 0a20 2020 2069 6620 6765  gs)....    if ge
+00006dd0: 6f64 6174 6120 6973 206e 6f74 204e 6f6e  odata is not Non
+00006de0: 653a 0d0a 2020 2020 2020 2020 2320 776f  e:..        # wo
+00006df0: 726b 7320 7769 7468 2061 2032 2d74 7570  rks with a 2-tup
+00006e00: 6c65 206f 7220 6120 6d61 7463 6869 6e67  le or a matching
+00006e10: 2061 7272 6179 0d0a 2020 2020 2020 2020   array..        
+00006e20: 6e65 742e 6275 735f 6765 6f64 6174 6120  net.bus_geodata 
+00006e30: 3d20 7064 2e63 6f6e 6361 7428 5b6e 6574  = pd.concat([net
+00006e40: 2e62 7573 5f67 656f 6461 7461 2c0d 0a20  .bus_geodata,.. 
 00006e50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006e60: 2020 2020 2070 642e 4461 7461 4672 616d       pd.DataFram
-00006e70: 6528 7a65 726f 7328 286c 656e 2869 6e64  e(zeros((len(ind
-00006e80: 6578 292c 206c 656e 286e 6574 2e62 7573  ex), len(net.bus
-00006e90: 5f67 656f 6461 7461 2e63 6f6c 756d 6e73  _geodata.columns
-00006ea0: 2929 2c20 6474 7970 653d 696e 7429 2c0d  )), dtype=int),.
-00006eb0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00006e60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006e70: 2020 2020 7064 2e44 6174 6146 7261 6d65      pd.DataFrame
+00006e80: 287a 6572 6f73 2828 6c65 6e28 696e 6465  (zeros((len(inde
+00006e90: 7829 2c20 6c65 6e28 6e65 742e 6275 735f  x), len(net.bus_
+00006ea0: 6765 6f64 6174 612e 636f 6c75 6d6e 7329  geodata.columns)
+00006eb0: 292c 2064 7479 7065 3d69 6e74 292c 0d0a  ), dtype=int),..
 00006ec0: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00006ed0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006ee0: 2020 2069 6e64 6578 3d69 6e64 6578 2c20     index=index, 
-00006ef0: 636f 6c75 6d6e 733d 6e65 742e 6275 735f  columns=net.bus_
-00006f00: 6765 6f64 6174 612e 636f 6c75 6d6e 7329  geodata.columns)
-00006f10: 5d29 0d0a 2020 2020 2020 2020 6e65 742e  ])..        net.
-00006f20: 6275 735f 6765 6f64 6174 612e 6c6f 635b  bus_geodata.loc[
-00006f30: 696e 6465 782c 203a 5d20 3d20 6e61 6e0d  index, :] = nan.
-00006f40: 0a20 2020 2020 2020 206e 6574 2e62 7573  .        net.bus
-00006f50: 5f67 656f 6461 7461 2e6c 6f63 5b69 6e64  _geodata.loc[ind
-00006f60: 6578 2c20 5b22 7822 2c20 2279 225d 5d20  ex, ["x", "y"]] 
-00006f70: 3d20 6765 6f64 6174 610d 0a20 2020 2069  = geodata..    i
-00006f80: 6620 636f 6f72 6473 2069 7320 6e6f 7420  f coords is not 
-00006f90: 4e6f 6e65 3a0d 0a20 2020 2020 2020 206e  None:..        n
-00006fa0: 6574 2e62 7573 5f67 656f 6461 7461 203d  et.bus_geodata =
-00006fb0: 2070 642e 636f 6e63 6174 285b 6e65 742e   pd.concat([net.
-00006fc0: 6275 735f 6765 6f64 6174 612c 2070 642e  bus_geodata, pd.
-00006fd0: 4461 7461 4672 616d 6528 696e 6465 783d  DataFrame(index=
-00006fe0: 696e 6465 782c 2063 6f6c 756d 6e73 3d6e  index, columns=n
-00006ff0: 6574 2e62 7573 5f67 656f 6461 7461 2e63  et.bus_geodata.c
-00007000: 6f6c 756d 6e73 295d 290d 0a20 2020 2020  olumns)])..     
-00007010: 2020 206e 6574 5b22 6275 735f 6765 6f64     net["bus_geod
-00007020: 6174 6122 5d2e 6c6f 635b 696e 6465 782c  ata"].loc[index,
-00007030: 2022 636f 6f72 6473 225d 203d 2063 6f6f   "coords"] = coo
-00007040: 7264 730d 0a20 2020 2072 6574 7572 6e20  rds..    return 
-00007050: 696e 6465 780d 0a0d 0a0d 0a64 6566 2063  index......def c
-00007060: 7265 6174 655f 6c6f 6164 286e 6574 2c20  reate_load(net, 
-00007070: 6275 732c 2070 5f6d 772c 2071 5f6d 7661  bus, p_mw, q_mva
-00007080: 723d 302c 2063 6f6e 7374 5f7a 5f70 6572  r=0, const_z_per
-00007090: 6365 6e74 3d30 2c20 636f 6e73 745f 695f  cent=0, const_i_
-000070a0: 7065 7263 656e 743d 302c 2073 6e5f 6d76  percent=0, sn_mv
-000070b0: 613d 6e61 6e2c 0d0a 2020 2020 2020 2020  a=nan,..        
-000070c0: 2020 2020 2020 2020 6e61 6d65 3d4e 6f6e          name=Non
-000070d0: 652c 2073 6361 6c69 6e67 3d31 2e2c 2069  e, scaling=1., i
-000070e0: 6e64 6578 3d4e 6f6e 652c 2069 6e5f 7365  ndex=None, in_se
-000070f0: 7276 6963 653d 5472 7565 2c20 7479 7065  rvice=True, type
-00007100: 3d27 7779 6527 2c20 6d61 785f 705f 6d77  ='wye', max_p_mw
-00007110: 3d6e 616e 2c0d 0a20 2020 2020 2020 2020  =nan,..         
-00007120: 2020 2020 2020 206d 696e 5f70 5f6d 773d         min_p_mw=
-00007130: 6e61 6e2c 206d 6178 5f71 5f6d 7661 723d  nan, max_q_mvar=
-00007140: 6e61 6e2c 206d 696e 5f71 5f6d 7661 723d  nan, min_q_mvar=
-00007150: 6e61 6e2c 2063 6f6e 7472 6f6c 6c61 626c  nan, controllabl
-00007160: 653d 6e61 6e29 3a0d 0a20 2020 2022 2222  e=nan):..    """
-00007170: 0d0a 2020 2020 4164 6473 206f 6e65 206c  ..    Adds one l
-00007180: 6f61 6420 696e 2074 6162 6c65 206e 6574  oad in table net
-00007190: 5b22 6c6f 6164 225d 2e0d 0a0d 0a20 2020  ["load"].....   
-000071a0: 2041 6c6c 206c 6f61 6473 2061 7265 206d   All loads are m
-000071b0: 6f64 656c 6c65 6420 696e 2074 6865 2063  odelled in the c
-000071c0: 6f6e 7375 6d65 7220 7379 7374 656d 2c20  onsumer system, 
-000071d0: 6d65 616e 696e 6720 6c6f 6164 2069 7320  meaning load is 
-000071e0: 706f 7369 7469 7665 2061 6e64 2067 656e  positive and gen
-000071f0: 6572 6174 696f 6e20 6973 0d0a 2020 2020  eration is..    
-00007200: 6e65 6761 7469 7665 2061 6374 6976 6520  negative active 
-00007210: 706f 7765 722e 2050 6c65 6173 6520 7061  power. Please pa
-00007220: 7920 6174 7465 6e74 696f 6e20 746f 2074  y attention to t
-00007230: 6865 2063 6f72 7265 6374 2073 6967 6e69  he correct signi
-00007240: 6e67 206f 6620 7468 6520 7265 6163 7469  ng of the reacti
-00007250: 7665 2070 6f77 6572 2061 730d 0a20 2020  ve power as..   
-00007260: 2077 656c 6c2e 0d0a 0d0a 2020 2020 494e   well.....    IN
-00007270: 5055 543a 0d0a 2020 2020 2020 2020 2a2a  PUT:..        **
-00007280: 6e65 742a 2a20 2d20 5468 6520 6e65 7420  net** - The net 
-00007290: 7769 7468 696e 2074 6869 7320 6c6f 6164  within this load
-000072a0: 2073 686f 756c 6420 6265 2063 7265 6174   should be creat
-000072b0: 6564 0d0a 0d0a 2020 2020 2020 2020 2a2a  ed....        **
-000072c0: 6275 732a 2a20 2869 6e74 2920 2d20 5468  bus** (int) - Th
-000072d0: 6520 6275 7320 6964 2074 6f20 7768 6963  e bus id to whic
-000072e0: 6820 7468 6520 6c6f 6164 2069 7320 636f  h the load is co
-000072f0: 6e6e 6563 7465 640d 0a0d 0a20 2020 204f  nnected....    O
-00007300: 5054 494f 4e41 4c3a 0d0a 2020 2020 2020  PTIONAL:..      
-00007310: 2020 2a2a 705f 6d77 2a2a 2028 666c 6f61    **p_mw** (floa
-00007320: 742c 2064 6566 6175 6c74 2030 2920 2d20  t, default 0) - 
-00007330: 5468 6520 6163 7469 7665 2070 6f77 6572  The active power
-00007340: 206f 6620 7468 6520 6c6f 6164 0d0a 0d0a   of the load....
-00007350: 2020 2020 2020 2020 2d20 706f 7374 6976          - postiv
-00007360: 6520 7661 6c75 6520 2020 2d3e 206c 6f61  e value   -> loa
-00007370: 640d 0a20 2020 2020 2020 202d 206e 6567  d..        - neg
-00007380: 6174 6976 6520 7661 6c75 6520 202d 3e20  ative value  -> 
-00007390: 6765 6e65 7261 7469 6f6e 0d0a 0d0a 2020  generation....  
-000073a0: 2020 2020 2020 2a2a 715f 6d76 6172 2a2a        **q_mvar**
-000073b0: 2028 666c 6f61 742c 2064 6566 6175 6c74   (float, default
-000073c0: 2030 2920 2d20 5468 6520 7265 6163 7469   0) - The reacti
-000073d0: 7665 2070 6f77 6572 206f 6620 7468 6520  ve power of the 
-000073e0: 6c6f 6164 0d0a 0d0a 2020 2020 2020 2020  load....        
-000073f0: 2a2a 636f 6e73 745f 7a5f 7065 7263 656e  **const_z_percen
-00007400: 742a 2a20 2866 6c6f 6174 2c20 6465 6661  t** (float, defa
-00007410: 756c 7420 3029 202d 2070 6572 6365 6e74  ult 0) - percent
-00007420: 6167 6520 6f66 2070 5f6d 7720 616e 6420  age of p_mw and 
-00007430: 715f 6d76 6172 2074 6861 7420 7769 6c6c  q_mvar that will
-00007440: 2062 6520 5c0d 0a20 2020 2020 2020 2020   be \..         
-00007450: 2020 2061 7373 6f63 6961 7465 6420 746f     associated to
-00007460: 2063 6f6e 7374 616e 7420 696d 7065 6461   constant impeda
-00007470: 6e63 6520 6c6f 6164 2061 7420 7261 7465  nce load at rate
-00007480: 6420 766f 6c74 6167 650d 0a0d 0a20 2020  d voltage....   
-00007490: 2020 2020 202a 2a63 6f6e 7374 5f69 5f70       **const_i_p
-000074a0: 6572 6365 6e74 2a2a 2028 666c 6f61 742c  ercent** (float,
-000074b0: 2064 6566 6175 6c74 2030 2920 2d20 7065   default 0) - pe
-000074c0: 7263 656e 7461 6765 206f 6620 705f 6d77  rcentage of p_mw
-000074d0: 2061 6e64 2071 5f6d 7661 7220 7468 6174   and q_mvar that
-000074e0: 2077 696c 6c20 6265 205c 0d0a 2020 2020   will be \..    
-000074f0: 2020 2020 2020 2020 6173 736f 6369 6174          associat
-00007500: 6564 2074 6f20 636f 6e73 7461 6e74 2063  ed to constant c
-00007510: 7572 7265 6e74 206c 6f61 6420 6174 2072  urrent load at r
-00007520: 6174 6564 2076 6f6c 7461 6765 0d0a 0d0a  ated voltage....
-00007530: 2020 2020 2020 2020 2a2a 736e 5f6d 7661          **sn_mva
-00007540: 2a2a 2028 666c 6f61 742c 2064 6566 6175  ** (float, defau
-00007550: 6c74 204e 6f6e 6529 202d 204e 6f6d 696e  lt None) - Nomin
-00007560: 616c 2070 6f77 6572 206f 6620 7468 6520  al power of the 
-00007570: 6c6f 6164 0d0a 0d0a 2020 2020 2020 2020  load....        
-00007580: 2a2a 6e61 6d65 2a2a 2028 7374 7269 6e67  **name** (string
-00007590: 2c20 6465 6661 756c 7420 4e6f 6e65 2920  , default None) 
-000075a0: 2d20 5468 6520 6e61 6d65 2066 6f72 2074  - The name for t
-000075b0: 6869 7320 6c6f 6164 0d0a 0d0a 2020 2020  his load....    
-000075c0: 2020 2020 2a2a 7363 616c 696e 672a 2a20      **scaling** 
-000075d0: 2866 6c6f 6174 2c20 6465 6661 756c 7420  (float, default 
-000075e0: 312e 2920 2d20 416e 204f 5054 494f 4e41  1.) - An OPTIONA
-000075f0: 4c20 7363 616c 696e 6720 6661 6374 6f72  L scaling factor
-00007600: 2074 6f20 6265 2073 6574 2063 7573 746f   to be set custo
-00007610: 6d6c 792e 0d0a 2020 2020 2020 2020 4d75  mly...        Mu
-00007620: 6c74 6970 6c79 7320 7769 7468 2070 5f6d  ltiplys with p_m
-00007630: 7720 616e 6420 715f 6d76 6172 2e0d 0a0d  w and q_mvar....
-00007640: 0a20 2020 2020 2020 202a 2a74 7970 652a  .        **type*
-00007650: 2a20 2873 7472 696e 672c 2027 7779 6527  * (string, 'wye'
-00007660: 2920 2d20 2074 7970 6520 7661 7269 6162  ) -  type variab
-00007670: 6c65 2074 6f20 636c 6173 7369 6679 2074  le to classify t
-00007680: 6865 206c 6f61 643a 2077 7965 2f64 656c  he load: wye/del
-00007690: 7461 0d0a 0d0a 2020 2020 2020 2020 2a2a  ta....        **
-000076a0: 696e 6465 782a 2a20 2869 6e74 2c20 4e6f  index** (int, No
-000076b0: 6e65 2920 2d20 466f 7263 6520 6120 7370  ne) - Force a sp
-000076c0: 6563 6966 6965 6420 4944 2069 6620 6974  ecified ID if it
-000076d0: 2069 7320 6176 6169 6c61 626c 652e 2049   is available. I
-000076e0: 6620 4e6f 6e65 2c20 7468 6520 696e 6465  f None, the inde
-000076f0: 7820 6f6e 6520 5c0d 0a20 2020 2020 2020  x one \..       
-00007700: 2020 2020 2068 6967 6865 7220 7468 616e       higher than
-00007710: 2074 6865 2068 6967 6865 7374 2061 6c72   the highest alr
-00007720: 6561 6479 2065 7869 7374 696e 6720 696e  eady existing in
-00007730: 6465 7820 6973 2073 656c 6563 7465 642e  dex is selected.
-00007740: 0d0a 0d0a 2020 2020 2020 2020 2a2a 696e  ....        **in
-00007750: 5f73 6572 7669 6365 2a2a 2028 626f 6f6c  _service** (bool
-00007760: 6561 6e29 202d 2054 7275 6520 666f 7220  ean) - True for 
-00007770: 696e 5f73 6572 7669 6365 206f 7220 4661  in_service or Fa
-00007780: 6c73 6520 666f 7220 6f75 7420 6f66 2073  lse for out of s
-00007790: 6572 7669 6365 0d0a 0d0a 2020 2020 2020  ervice....      
-000077a0: 2020 2a2a 6d61 785f 705f 6d77 2a2a 2028    **max_p_mw** (
-000077b0: 666c 6f61 742c 2064 6566 6175 6c74 204e  float, default N
-000077c0: 614e 2920 2d20 4d61 7869 6d75 6d20 6163  aN) - Maximum ac
-000077d0: 7469 7665 2070 6f77 6572 206c 6f61 6420  tive power load 
-000077e0: 2d20 6e65 6365 7373 6172 7920 666f 7220  - necessary for 
-000077f0: 636f 6e74 726f 6c6c 6162 6c65 205c 0d0a  controllable \..
-00007800: 2020 2020 2020 2020 2020 2020 6c6f 6164              load
-00007810: 7320 696e 2066 6f72 204f 5046 0d0a 0d0a  s in for OPF....
-00007820: 2020 2020 2020 2020 2a2a 6d69 6e5f 705f          **min_p_
-00007830: 6d77 2a2a 2028 666c 6f61 742c 2064 6566  mw** (float, def
-00007840: 6175 6c74 204e 614e 2920 2d20 4d69 6e69  ault NaN) - Mini
-00007850: 6d75 6d20 6163 7469 7665 2070 6f77 6572  mum active power
-00007860: 206c 6f61 6420 2d20 6e65 6365 7373 6172   load - necessar
-00007870: 7920 666f 7220 636f 6e74 726f 6c6c 6162  y for controllab
-00007880: 6c65 205c 0d0a 2020 2020 2020 2020 2020  le \..          
-00007890: 2020 6c6f 6164 7320 696e 2066 6f72 204f    loads in for O
-000078a0: 5046 0d0a 0d0a 2020 2020 2020 2020 2a2a  PF....        **
-000078b0: 6d61 785f 715f 6d76 6172 2a2a 2028 666c  max_q_mvar** (fl
-000078c0: 6f61 742c 2064 6566 6175 6c74 204e 614e  oat, default NaN
-000078d0: 2920 2d20 4d61 7869 6d75 6d20 7265 6163  ) - Maximum reac
-000078e0: 7469 7665 2070 6f77 6572 206c 6f61 6420  tive power load 
-000078f0: 2d20 6e65 6365 7373 6172 7920 666f 7220  - necessary for 
-00007900: 5c0d 0a20 2020 2020 2020 2020 2020 2063  \..            c
-00007910: 6f6e 7472 6f6c 6c61 626c 6520 6c6f 6164  ontrollable load
-00007920: 7320 696e 2066 6f72 204f 5046 0d0a 0d0a  s in for OPF....
-00007930: 2020 2020 2020 2020 2a2a 6d69 6e5f 715f          **min_q_
-00007940: 6d76 6172 2a2a 2028 666c 6f61 742c 2064  mvar** (float, d
-00007950: 6566 6175 6c74 204e 614e 2920 2d20 4d69  efault NaN) - Mi
-00007960: 6e69 6d75 6d20 7265 6163 7469 7665 2070  nimum reactive p
-00007970: 6f77 6572 206c 6f61 6420 2d20 6e65 6365  ower load - nece
-00007980: 7373 6172 7920 666f 7220 5c0d 0a20 2020  ssary for \..   
-00007990: 2020 2020 2020 2020 2063 6f6e 7472 6f6c           control
-000079a0: 6c61 626c 6520 6c6f 6164 7320 696e 204f  lable loads in O
-000079b0: 5046 0d0a 0d0a 2020 2020 2020 2020 2a2a  PF....        **
-000079c0: 636f 6e74 726f 6c6c 6162 6c65 2a2a 2028  controllable** (
-000079d0: 626f 6f6c 6561 6e2c 2064 6566 6175 6c74  boolean, default
-000079e0: 204e 614e 2920 2d20 5374 6174 6573 2c20   NaN) - States, 
-000079f0: 7768 6574 6865 7220 6120 6c6f 6164 2069  whether a load i
-00007a00: 7320 636f 6e74 726f 6c6c 6162 6c65 206f  s controllable o
-00007a10: 7220 6e6f 742e 205c 0d0a 2020 2020 2020  r not. \..      
-00007a20: 2020 2020 2020 4f6e 6c79 2072 6573 7065        Only respe
-00007a30: 6374 6564 2066 6f72 204f 5046 3b20 6465  cted for OPF; de
-00007a40: 6661 756c 7473 2074 6f20 4661 6c73 6520  faults to False 
-00007a50: 6966 2022 636f 6e74 726f 6c6c 6162 6c65  if "controllable
-00007a60: 2220 636f 6c75 6d6e 2065 7869 7374 7320  " column exists 
-00007a70: 696e 2044 6174 6146 7261 6d65 0d0a 0d0a  in DataFrame....
-00007a80: 2020 2020 4f55 5450 5554 3a0d 0a20 2020      OUTPUT:..   
-00007a90: 2020 2020 202a 2a69 6e64 6578 2a2a 2028       **index** (
-00007aa0: 696e 7429 202d 2054 6865 2075 6e69 7175  int) - The uniqu
-00007ab0: 6520 4944 206f 6620 7468 6520 6372 6561  e ID of the crea
-00007ac0: 7465 6420 656c 656d 656e 740d 0a0d 0a20  ted element.... 
-00007ad0: 2020 2045 5841 4d50 4c45 3a0d 0a20 2020     EXAMPLE:..   
-00007ae0: 2020 2020 2063 7265 6174 655f 6c6f 6164       create_load
-00007af0: 286e 6574 2c20 6275 733d 302c 2070 5f6d  (net, bus=0, p_m
-00007b00: 773d 3130 2e2c 2071 5f6d 7661 723d 322e  w=10., q_mvar=2.
-00007b10: 290d 0a0d 0a20 2020 2022 2222 0d0a 2020  )....    """..  
-00007b20: 2020 5f63 6865 636b 5f6e 6f64 655f 656c    _check_node_el
-00007b30: 656d 656e 7428 6e65 742c 2062 7573 290d  ement(net, bus).
-00007b40: 0a0d 0a20 2020 2069 6e64 6578 203d 205f  ...    index = _
-00007b50: 6765 745f 696e 6465 785f 7769 7468 5f63  get_index_with_c
-00007b60: 6865 636b 286e 6574 2c20 226c 6f61 6422  heck(net, "load"
-00007b70: 2c20 696e 6465 7829 0d0a 0d0a 2020 2020  , index)....    
-00007b80: 656e 7472 6965 7320 3d20 6469 6374 287a  entries = dict(z
-00007b90: 6970 285b 226e 616d 6522 2c20 2262 7573  ip(["name", "bus
-00007ba0: 222c 2022 705f 6d77 222c 2022 636f 6e73  ", "p_mw", "cons
-00007bb0: 745f 7a5f 7065 7263 656e 7422 2c20 2263  t_z_percent", "c
-00007bc0: 6f6e 7374 5f69 5f70 6572 6365 6e74 222c  onst_i_percent",
-00007bd0: 2022 7363 616c 696e 6722 2c0d 0a20 2020   "scaling",..   
-00007be0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007bf0: 2020 2020 2022 715f 6d76 6172 222c 2022       "q_mvar", "
-00007c00: 736e 5f6d 7661 222c 2022 696e 5f73 6572  sn_mva", "in_ser
-00007c10: 7669 6365 222c 2022 7479 7065 225d 2c0d  vice", "type"],.
-00007c20: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00007c30: 2020 2020 2020 2020 5b6e 616d 652c 2062          [name, b
-00007c40: 7573 2c20 705f 6d77 2c20 636f 6e73 745f  us, p_mw, const_
-00007c50: 7a5f 7065 7263 656e 742c 2063 6f6e 7374  z_percent, const
-00007c60: 5f69 5f70 6572 6365 6e74 2c20 7363 616c  _i_percent, scal
-00007c70: 696e 672c 2071 5f6d 7661 722c 2073 6e5f  ing, q_mvar, sn_
-00007c80: 6d76 612c 0d0a 2020 2020 2020 2020 2020  mva,..          
-00007c90: 2020 2020 2020 2020 2020 2020 2020 626f                bo
-00007ca0: 6f6c 2869 6e5f 7365 7276 6963 6529 2c20  ol(in_service), 
-00007cb0: 7479 7065 5d29 290d 0a0d 0a20 2020 205f  type]))....    _
-00007cc0: 7365 745f 656e 7472 6965 7328 6e65 742c  set_entries(net,
-00007cd0: 2022 6c6f 6164 222c 2069 6e64 6578 2c20   "load", index, 
-00007ce0: 5472 7565 2c20 2a2a 656e 7472 6965 7329  True, **entries)
-00007cf0: 0d0a 0d0a 2020 2020 5f63 7265 6174 655f  ....    _create_
-00007d00: 636f 6c75 6d6e 5f61 6e64 5f73 6574 5f76  column_and_set_v
-00007d10: 616c 7565 286e 6574 2c20 696e 6465 782c  alue(net, index,
-00007d20: 206d 696e 5f70 5f6d 772c 2022 6d69 6e5f   min_p_mw, "min_
-00007d30: 705f 6d77 222c 2022 6c6f 6164 2229 0d0a  p_mw", "load")..
-00007d40: 2020 2020 5f63 7265 6174 655f 636f 6c75      _create_colu
-00007d50: 6d6e 5f61 6e64 5f73 6574 5f76 616c 7565  mn_and_set_value
-00007d60: 286e 6574 2c20 696e 6465 782c 206d 6178  (net, index, max
-00007d70: 5f70 5f6d 772c 2022 6d61 785f 705f 6d77  _p_mw, "max_p_mw
-00007d80: 222c 2022 6c6f 6164 2229 0d0a 2020 2020  ", "load")..    
-00007d90: 5f63 7265 6174 655f 636f 6c75 6d6e 5f61  _create_column_a
-00007da0: 6e64 5f73 6574 5f76 616c 7565 286e 6574  nd_set_value(net
-00007db0: 2c20 696e 6465 782c 206d 696e 5f71 5f6d  , index, min_q_m
-00007dc0: 7661 722c 2022 6d69 6e5f 715f 6d76 6172  var, "min_q_mvar
-00007dd0: 222c 2022 6c6f 6164 2229 0d0a 2020 2020  ", "load")..    
-00007de0: 5f63 7265 6174 655f 636f 6c75 6d6e 5f61  _create_column_a
-00007df0: 6e64 5f73 6574 5f76 616c 7565 286e 6574  nd_set_value(net
-00007e00: 2c20 696e 6465 782c 206d 6178 5f71 5f6d  , index, max_q_m
-00007e10: 7661 722c 2022 6d61 785f 715f 6d76 6172  var, "max_q_mvar
-00007e20: 222c 2022 6c6f 6164 2229 0d0a 2020 2020  ", "load")..    
-00007e30: 5f63 7265 6174 655f 636f 6c75 6d6e 5f61  _create_column_a
-00007e40: 6e64 5f73 6574 5f76 616c 7565 286e 6574  nd_set_value(net
-00007e50: 2c20 696e 6465 782c 2063 6f6e 7472 6f6c  , index, control
-00007e60: 6c61 626c 652c 2022 636f 6e74 726f 6c6c  lable, "controll
-00007e70: 6162 6c65 222c 2022 6c6f 6164 222c 2064  able", "load", d
-00007e80: 7479 703d 626f 6f6c 5f2c 0d0a 2020 2020  typ=bool_,..    
-00007e90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007ea0: 2020 2020 2020 2020 2020 2020 2064 6566               def
-00007eb0: 6175 6c74 5f76 616c 3d46 616c 7365 2c20  ault_val=False, 
-00007ec0: 6465 6661 756c 745f 666f 725f 6e61 6e3d  default_for_nan=
-00007ed0: 5472 7565 290d 0a0d 0a20 2020 2072 6574  True)....    ret
-00007ee0: 7572 6e20 696e 6465 780d 0a0d 0a0d 0a64  urn index......d
-00007ef0: 6566 2063 7265 6174 655f 6c6f 6164 7328  ef create_loads(
-00007f00: 6e65 742c 2062 7573 6573 2c20 705f 6d77  net, buses, p_mw
-00007f10: 2c20 715f 6d76 6172 3d30 2c20 636f 6e73  , q_mvar=0, cons
-00007f20: 745f 7a5f 7065 7263 656e 743d 302c 2063  t_z_percent=0, c
-00007f30: 6f6e 7374 5f69 5f70 6572 6365 6e74 3d30  onst_i_percent=0
-00007f40: 2c20 736e 5f6d 7661 3d6e 616e 2c0d 0a20  , sn_mva=nan,.. 
-00007f50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007f60: 6e61 6d65 3d4e 6f6e 652c 2073 6361 6c69  name=None, scali
-00007f70: 6e67 3d31 2e2c 2069 6e64 6578 3d4e 6f6e  ng=1., index=Non
-00007f80: 652c 2069 6e5f 7365 7276 6963 653d 5472  e, in_service=Tr
-00007f90: 7565 2c20 7479 7065 3d4e 6f6e 652c 206d  ue, type=None, m
-00007fa0: 6178 5f70 5f6d 773d 4e6f 6e65 2c0d 0a20  ax_p_mw=None,.. 
-00007fb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007fc0: 6d69 6e5f 705f 6d77 3d4e 6f6e 652c 206d  min_p_mw=None, m
-00007fd0: 6178 5f71 5f6d 7661 723d 4e6f 6e65 2c20  ax_q_mvar=None, 
-00007fe0: 6d69 6e5f 715f 6d76 6172 3d4e 6f6e 652c  min_q_mvar=None,
-00007ff0: 2063 6f6e 7472 6f6c 6c61 626c 653d 4e6f   controllable=No
-00008000: 6e65 2c20 2a2a 6b77 6172 6773 293a 0d0a  ne, **kwargs):..
-00008010: 2020 2020 2222 220d 0a20 2020 2041 6464      """..    Add
-00008020: 7320 6120 6e75 6d62 6572 206f 6620 6c6f  s a number of lo
-00008030: 6164 7320 696e 2074 6162 6c65 206e 6574  ads in table net
-00008040: 5b22 6c6f 6164 225d 2e0d 0a0d 0a20 2020  ["load"].....   
-00008050: 2041 6c6c 206c 6f61 6473 2061 7265 206d   All loads are m
-00008060: 6f64 656c 6c65 6420 696e 2074 6865 2063  odelled in the c
-00008070: 6f6e 7375 6d65 7220 7379 7374 656d 2c20  onsumer system, 
-00008080: 6d65 616e 696e 6720 6c6f 6164 2069 7320  meaning load is 
-00008090: 706f 7369 7469 7665 2061 6e64 2067 656e  positive and gen
-000080a0: 6572 6174 696f 6e20 6973 0d0a 2020 2020  eration is..    
-000080b0: 6e65 6761 7469 7665 2061 6374 6976 6520  negative active 
-000080c0: 706f 7765 722e 2050 6c65 6173 6520 7061  power. Please pa
-000080d0: 7920 6174 7465 6e74 696f 6e20 746f 2074  y attention to t
-000080e0: 6865 2063 6f72 7265 6374 2073 6967 6e69  he correct signi
-000080f0: 6e67 206f 6620 7468 6520 7265 6163 7469  ng of the reacti
-00008100: 7665 2070 6f77 6572 2061 730d 0a20 2020  ve power as..   
-00008110: 2077 656c 6c2e 0d0a 0d0a 2020 2020 494e   well.....    IN
-00008120: 5055 543a 0d0a 2020 2020 2020 2020 2a2a  PUT:..        **
-00008130: 6e65 742a 2a20 2d20 5468 6520 6e65 7420  net** - The net 
-00008140: 7769 7468 696e 2074 6869 7320 6c6f 6164  within this load
-00008150: 2073 686f 756c 6420 6265 2063 7265 6174   should be creat
-00008160: 6564 0d0a 0d0a 2020 2020 2020 2020 2a2a  ed....        **
-00008170: 6275 7365 732a 2a20 286c 6973 7420 6f66  buses** (list of
-00008180: 2069 6e74 2920 2d20 4120 6c69 7374 206f   int) - A list o
-00008190: 6620 6275 7320 6964 7320 746f 2077 6869  f bus ids to whi
-000081a0: 6368 2074 6865 206c 6f61 6473 2061 7265  ch the loads are
-000081b0: 2063 6f6e 6e65 6374 6564 0d0a 0d0a 2020   connected....  
-000081c0: 2020 4f50 5449 4f4e 414c 3a0d 0a20 2020    OPTIONAL:..   
-000081d0: 2020 2020 202a 2a70 5f6d 772a 2a20 286c       **p_mw** (l
-000081e0: 6973 7420 6f66 2066 6c6f 6174 7329 202d  ist of floats) -
-000081f0: 2054 6865 2061 6374 6976 6520 706f 7765   The active powe
-00008200: 7220 6f66 2074 6865 206c 6f61 6473 0d0a  r of the loads..
-00008210: 0d0a 2020 2020 2020 2020 2d20 706f 7374  ..        - post
-00008220: 6976 6520 7661 6c75 6520 2020 2d3e 206c  ive value   -> l
-00008230: 6f61 640d 0a20 2020 2020 2020 202d 206e  oad..        - n
-00008240: 6567 6174 6976 6520 7661 6c75 6520 202d  egative value  -
-00008250: 3e20 6765 6e65 7261 7469 6f6e 0d0a 0d0a  > generation....
-00008260: 2020 2020 2020 2020 2a2a 715f 6d76 6172          **q_mvar
-00008270: 2a2a 2028 6c69 7374 206f 6620 666c 6f61  ** (list of floa
-00008280: 7473 2c20 6465 6661 756c 7420 3029 202d  ts, default 0) -
-00008290: 2054 6865 2072 6561 6374 6976 6520 706f   The reactive po
-000082a0: 7765 7220 6f66 2074 6865 206c 6f61 6473  wer of the loads
-000082b0: 0d0a 0d0a 2020 2020 2020 2020 2a2a 636f  ....        **co
-000082c0: 6e73 745f 7a5f 7065 7263 656e 742a 2a20  nst_z_percent** 
-000082d0: 286c 6973 7420 6f66 2066 6c6f 6174 732c  (list of floats,
-000082e0: 2064 6566 6175 6c74 2030 2920 2d20 7065   default 0) - pe
-000082f0: 7263 656e 7461 6765 206f 6620 705f 6d77  rcentage of p_mw
-00008300: 2061 6e64 2071 5f6d 7661 7220 7468 6174   and q_mvar that
-00008310: 2077 696c 6c20 5c0d 0a20 2020 2020 2020   will \..       
-00008320: 2020 2020 2062 6520 6173 736f 6369 6174       be associat
-00008330: 6564 2074 6f20 636f 6e73 7461 6e74 2069  ed to constant i
-00008340: 6d70 6564 616e 6365 206c 6f61 6473 2061  mpedance loads a
-00008350: 7420 7261 7465 6420 766f 6c74 6167 650d  t rated voltage.
-00008360: 0a0d 0a20 2020 2020 2020 202a 2a63 6f6e  ...        **con
-00008370: 7374 5f69 5f70 6572 6365 6e74 2a2a 2028  st_i_percent** (
-00008380: 6c69 7374 206f 6620 666c 6f61 7473 2c20  list of floats, 
-00008390: 6465 6661 756c 7420 3029 202d 2070 6572  default 0) - per
-000083a0: 6365 6e74 6167 6520 6f66 2070 5f6d 7720  centage of p_mw 
-000083b0: 616e 6420 715f 6d76 6172 2074 6861 7420  and q_mvar that 
-000083c0: 7769 6c6c 205c 0d0a 2020 2020 2020 2020  will \..        
-000083d0: 2020 2020 6265 2061 7373 6f63 6961 7465      be associate
-000083e0: 6420 746f 2063 6f6e 7374 616e 7420 6375  d to constant cu
-000083f0: 7272 656e 7420 6c6f 6164 2061 7420 7261  rrent load at ra
-00008400: 7465 6420 766f 6c74 6167 650d 0a0d 0a20  ted voltage.... 
-00008410: 2020 2020 2020 202a 2a73 6e5f 6d76 612a         **sn_mva*
-00008420: 2a20 286c 6973 7420 6f66 2066 6c6f 6174  * (list of float
-00008430: 732c 2064 6566 6175 6c74 204e 6f6e 6529  s, default None)
-00008440: 202d 204e 6f6d 696e 616c 2070 6f77 6572   - Nominal power
-00008450: 206f 6620 7468 6520 6c6f 6164 730d 0a0d   of the loads...
-00008460: 0a20 2020 2020 2020 202a 2a6e 616d 652a  .        **name*
-00008470: 2a20 286c 6973 7420 6f66 2073 7472 696e  * (list of strin
-00008480: 6773 2c20 6465 6661 756c 7420 4e6f 6e65  gs, default None
-00008490: 2920 2d20 5468 6520 6e61 6d65 2066 6f72  ) - The name for
-000084a0: 2074 6869 7320 6c6f 6164 0d0a 0d0a 2020   this load....  
-000084b0: 2020 2020 2020 2a2a 7363 616c 696e 672a        **scaling*
-000084c0: 2a20 286c 6973 7420 6f66 2066 6c6f 6174  * (list of float
-000084d0: 732c 2064 6566 6175 6c74 2031 2e29 202d  s, default 1.) -
-000084e0: 2041 6e20 4f50 5449 4f4e 414c 2073 6361   An OPTIONAL sca
-000084f0: 6c69 6e67 2066 6163 746f 7220 746f 2062  ling factor to b
-00008500: 6520 7365 7420 6375 7374 6f6d 6c79 2e0d  e set customly..
-00008510: 0a20 2020 2020 2020 204d 756c 7469 706c  .        Multipl
-00008520: 7973 2077 6974 6820 705f 6d77 2061 6e64  ys with p_mw and
-00008530: 2071 5f6d 7661 722e 0d0a 0d0a 2020 2020   q_mvar.....    
-00008540: 2020 2020 2a2a 7479 7065 2a2a 2028 7374      **type** (st
-00008550: 7269 6e67 2c20 4e6f 6e65 2920 2d20 2074  ring, None) -  t
-00008560: 7970 6520 7661 7269 6162 6c65 2074 6f20  ype variable to 
-00008570: 636c 6173 7369 6679 2074 6865 206c 6f61  classify the loa
-00008580: 640d 0a0d 0a20 2020 2020 2020 202a 2a69  d....        **i
-00008590: 6e64 6578 2a2a 2028 6c69 7374 206f 6620  ndex** (list of 
-000085a0: 696e 742c 204e 6f6e 6529 202d 2046 6f72  int, None) - For
-000085b0: 6365 2061 2073 7065 6369 6669 6564 2049  ce a specified I
-000085c0: 4420 6966 2069 7420 6973 2061 7661 696c  D if it is avail
-000085d0: 6162 6c65 2e20 4966 204e 6f6e 652c 2074  able. If None, t
-000085e0: 6865 2069 6e64 6578 5c0d 0a20 2020 2020  he index\..     
-000085f0: 2020 2020 2020 2069 7320 7365 7420 746f         is set to
-00008600: 2061 2072 616e 6765 2062 6574 7765 656e   a range between
-00008610: 206f 6e65 2068 6967 6865 7220 7468 616e   one higher than
-00008620: 2074 6865 2068 6967 6865 7374 2061 6c72   the highest alr
-00008630: 6561 6479 2065 7869 7374 696e 6720 696e  eady existing in
-00008640: 6465 7820 616e 6420 7468 6520 5c0d 0a20  dex and the \.. 
-00008650: 2020 2020 2020 2020 2020 206c 656e 6774             lengt
-00008660: 6820 6f66 206c 6f61 6473 2074 6861 7420  h of loads that 
-00008670: 7368 616c 6c20 6265 2063 7265 6174 6564  shall be created
-00008680: 2e0d 0a0d 0a20 2020 2020 2020 202a 2a69  .....        **i
-00008690: 6e5f 7365 7276 6963 652a 2a20 286c 6973  n_service** (lis
-000086a0: 7420 6f66 2062 6f6f 6c65 616e 2920 2d20  t of boolean) - 
-000086b0: 5472 7565 2066 6f72 2069 6e5f 7365 7276  True for in_serv
-000086c0: 6963 6520 6f72 2046 616c 7365 2066 6f72  ice or False for
-000086d0: 206f 7574 206f 6620 7365 7276 6963 650d   out of service.
-000086e0: 0a0d 0a20 2020 2020 2020 202a 2a6d 6178  ...        **max
-000086f0: 5f70 5f6d 772a 2a20 286c 6973 7420 6f66  _p_mw** (list of
-00008700: 2066 6c6f 6174 732c 2064 6566 6175 6c74   floats, default
-00008710: 204e 614e 2920 2d20 4d61 7869 6d75 6d20   NaN) - Maximum 
-00008720: 6163 7469 7665 2070 6f77 6572 206c 6f61  active power loa
-00008730: 6420 2d20 6e65 6365 7373 6172 7920 666f  d - necessary fo
-00008740: 7220 5c0d 0a20 2020 2020 2020 2020 2020  r \..           
-00008750: 2063 6f6e 7472 6f6c 6c61 626c 6520 6c6f   controllable lo
-00008760: 6164 7320 696e 2066 6f72 204f 5046 0d0a  ads in for OPF..
-00008770: 0d0a 2020 2020 2020 2020 2a2a 6d69 6e5f  ..        **min_
-00008780: 705f 6d77 2a2a 2028 6c69 7374 206f 6620  p_mw** (list of 
-00008790: 666c 6f61 7473 2c20 6465 6661 756c 7420  floats, default 
-000087a0: 4e61 4e29 202d 204d 696e 696d 756d 2061  NaN) - Minimum a
-000087b0: 6374 6976 6520 706f 7765 7220 6c6f 6164  ctive power load
-000087c0: 202d 206e 6563 6573 7361 7279 2066 6f72   - necessary for
-000087d0: 205c 0d0a 2020 2020 2020 2020 2020 2020   \..            
-000087e0: 636f 6e74 726f 6c6c 6162 6c65 206c 6f61  controllable loa
-000087f0: 6473 2069 6e20 666f 7220 4f50 460d 0a0d  ds in for OPF...
-00008800: 0a20 2020 2020 2020 202a 2a6d 6178 5f71  .        **max_q
-00008810: 5f6d 7661 722a 2a20 286c 6973 7420 6f66  _mvar** (list of
-00008820: 2066 6c6f 6174 732c 2064 6566 6175 6c74   floats, default
-00008830: 204e 614e 2920 2d20 4d61 7869 6d75 6d20   NaN) - Maximum 
-00008840: 7265 6163 7469 7665 2070 6f77 6572 206c  reactive power l
-00008850: 6f61 6420 2d20 6e65 6365 7373 6172 7920  oad - necessary 
-00008860: 666f 7220 5c0d 0a20 2020 2020 2020 2020  for \..         
-00008870: 2020 2063 6f6e 7472 6f6c 6c61 626c 6520     controllable 
-00008880: 6c6f 6164 7320 696e 2066 6f72 204f 5046  loads in for OPF
-00008890: 0d0a 0d0a 2020 2020 2020 2020 2a2a 6d69  ....        **mi
-000088a0: 6e5f 715f 6d76 6172 2a2a 2028 6c69 7374  n_q_mvar** (list
-000088b0: 206f 6620 666c 6f61 7473 2c20 6465 6661   of floats, defa
-000088c0: 756c 7420 4e61 4e29 202d 204d 696e 696d  ult NaN) - Minim
-000088d0: 756d 2072 6561 6374 6976 6520 706f 7765  um reactive powe
-000088e0: 7220 6c6f 6164 202d 206e 6563 6573 7361  r load - necessa
-000088f0: 7279 2066 6f72 205c 0d0a 2020 2020 2020  ry for \..      
-00008900: 2020 2020 2020 636f 6e74 726f 6c6c 6162        controllab
-00008910: 6c65 206c 6f61 6473 2069 6e20 4f50 460d  le loads in OPF.
-00008920: 0a0d 0a20 2020 2020 2020 202a 2a63 6f6e  ...        **con
-00008930: 7472 6f6c 6c61 626c 652a 2a20 286c 6973  trollable** (lis
-00008940: 7420 6f66 2062 6f6f 6c65 616e 2c20 6465  t of boolean, de
-00008950: 6661 756c 7420 4e61 4e29 202d 2053 7461  fault NaN) - Sta
-00008960: 7465 732c 2077 6865 7468 6572 2061 206c  tes, whether a l
-00008970: 6f61 6420 6973 2063 6f6e 7472 6f6c 6c61  oad is controlla
-00008980: 626c 6520 5c0d 0a20 2020 2020 2020 2020  ble \..         
-00008990: 2020 206f 7220 6e6f 742e 204f 6e6c 7920     or not. Only 
-000089a0: 7265 7370 6563 7465 6420 666f 7220 4f50  respected for OP
-000089b0: 460d 0a20 2020 2020 2020 2020 2020 2044  F..            D
-000089c0: 6566 6175 6c74 7320 746f 2046 616c 7365  efaults to False
-000089d0: 2069 6620 2263 6f6e 7472 6f6c 6c61 626c   if "controllabl
-000089e0: 6522 2063 6f6c 756d 6e20 6578 6973 7473  e" column exists
-000089f0: 2069 6e20 4461 7461 4672 616d 650d 0a0d   in DataFrame...
-00008a00: 0a20 2020 204f 5554 5055 543a 0d0a 2020  .    OUTPUT:..  
-00008a10: 2020 2020 2020 2a2a 696e 6465 782a 2a20        **index** 
-00008a20: 2869 6e74 2920 2d20 5468 6520 756e 6971  (int) - The uniq
-00008a30: 7565 2049 4473 206f 6620 7468 6520 6372  ue IDs of the cr
-00008a40: 6561 7465 6420 656c 656d 656e 7473 0d0a  eated elements..
-00008a50: 0d0a 2020 2020 4558 414d 504c 453a 0d0a  ..    EXAMPLE:..
-00008a60: 2020 2020 2020 2020 6372 6561 7465 5f6c          create_l
-00008a70: 6f61 6473 286e 6574 2c20 6275 7365 733d  oads(net, buses=
-00008a80: 5b30 2c20 325d 2c20 705f 6d77 3d5b 3130  [0, 2], p_mw=[10
-00008a90: 2e2c 2035 2e5d 2c20 715f 6d76 6172 3d5b  ., 5.], q_mvar=[
-00008aa0: 322e 2c20 302e 5d29 0d0a 0d0a 2020 2020  2., 0.])....    
-00008ab0: 2222 220d 0a20 2020 205f 6368 6563 6b5f  """..    _check_
-00008ac0: 6d75 6c74 6970 6c65 5f6e 6f64 655f 656c  multiple_node_el
-00008ad0: 656d 656e 7473 286e 6574 2c20 6275 7365  ements(net, buse
-00008ae0: 7329 0d0a 0d0a 2020 2020 696e 6465 7820  s)....    index 
-00008af0: 3d20 5f67 6574 5f6d 756c 7469 706c 655f  = _get_multiple_
-00008b00: 696e 6465 785f 7769 7468 5f63 6865 636b  index_with_check
-00008b10: 286e 6574 2c20 226c 6f61 6422 2c20 696e  (net, "load", in
-00008b20: 6465 782c 206c 656e 2862 7573 6573 2929  dex, len(buses))
-00008b30: 0d0a 0d0a 2020 2020 656e 7472 6965 7320  ....    entries 
-00008b40: 3d20 7b22 6275 7322 3a20 6275 7365 732c  = {"bus": buses,
-00008b50: 2022 705f 6d77 223a 2070 5f6d 772c 2022   "p_mw": p_mw, "
-00008b60: 715f 6d76 6172 223a 2071 5f6d 7661 722c  q_mvar": q_mvar,
-00008b70: 2022 736e 5f6d 7661 223a 2073 6e5f 6d76   "sn_mva": sn_mv
-00008b80: 612c 0d0a 2020 2020 2020 2020 2020 2020  a,..            
-00008b90: 2020 2022 636f 6e73 745f 7a5f 7065 7263     "const_z_perc
-00008ba0: 656e 7422 3a20 636f 6e73 745f 7a5f 7065  ent": const_z_pe
-00008bb0: 7263 656e 742c 2022 636f 6e73 745f 695f  rcent, "const_i_
-00008bc0: 7065 7263 656e 7422 3a20 636f 6e73 745f  percent": const_
-00008bd0: 695f 7065 7263 656e 742c 0d0a 2020 2020  i_percent,..    
-00008be0: 2020 2020 2020 2020 2020 2022 7363 616c             "scal
-00008bf0: 696e 6722 3a20 7363 616c 696e 672c 2022  ing": scaling, "
-00008c00: 696e 5f73 6572 7669 6365 223a 2069 6e5f  in_service": in_
-00008c10: 7365 7276 6963 652c 2022 6e61 6d65 223a  service, "name":
-00008c20: 206e 616d 652c 2022 7479 7065 223a 2074   name, "type": t
-00008c30: 7970 657d 0d0a 0d0a 2020 2020 5f61 6464  ype}....    _add
-00008c40: 5f73 6572 6965 735f 746f 5f65 6e74 7269  _series_to_entri
-00008c50: 6573 2865 6e74 7269 6573 2c20 696e 6465  es(entries, inde
-00008c60: 782c 2022 6d69 6e5f 705f 6d77 222c 206d  x, "min_p_mw", m
-00008c70: 696e 5f70 5f6d 7729 0d0a 2020 2020 5f61  in_p_mw)..    _a
-00008c80: 6464 5f73 6572 6965 735f 746f 5f65 6e74  dd_series_to_ent
-00008c90: 7269 6573 2865 6e74 7269 6573 2c20 696e  ries(entries, in
-00008ca0: 6465 782c 2022 6d61 785f 705f 6d77 222c  dex, "max_p_mw",
-00008cb0: 206d 6178 5f70 5f6d 7729 0d0a 2020 2020   max_p_mw)..    
-00008cc0: 5f61 6464 5f73 6572 6965 735f 746f 5f65  _add_series_to_e
-00008cd0: 6e74 7269 6573 2865 6e74 7269 6573 2c20  ntries(entries, 
-00008ce0: 696e 6465 782c 2022 6d69 6e5f 715f 6d76  index, "min_q_mv
-00008cf0: 6172 222c 206d 696e 5f71 5f6d 7661 7229  ar", min_q_mvar)
-00008d00: 0d0a 2020 2020 5f61 6464 5f73 6572 6965  ..    _add_serie
-00008d10: 735f 746f 5f65 6e74 7269 6573 2865 6e74  s_to_entries(ent
-00008d20: 7269 6573 2c20 696e 6465 782c 2022 6d61  ries, index, "ma
-00008d30: 785f 715f 6d76 6172 222c 206d 6178 5f71  x_q_mvar", max_q
-00008d40: 5f6d 7661 7229 0d0a 2020 2020 5f61 6464  _mvar)..    _add
-00008d50: 5f73 6572 6965 735f 746f 5f65 6e74 7269  _series_to_entri
-00008d60: 6573 2865 6e74 7269 6573 2c20 696e 6465  es(entries, inde
-00008d70: 782c 2022 636f 6e74 726f 6c6c 6162 6c65  x, "controllable
-00008d80: 222c 2063 6f6e 7472 6f6c 6c61 626c 652c  ", controllable,
-00008d90: 2064 7479 703d 626f 6f6c 5f2c 0d0a 2020   dtyp=bool_,..  
-00008da0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008db0: 2020 2020 2020 2020 2064 6566 6175 6c74           default
-00008dc0: 5f76 616c 3d46 616c 7365 290d 0a0d 0a20  _val=False).... 
-00008dd0: 2020 205f 7365 745f 6d75 6c74 6970 6c65     _set_multiple
-00008de0: 5f65 6e74 7269 6573 286e 6574 2c20 226c  _entries(net, "l
-00008df0: 6f61 6422 2c20 696e 6465 782c 202a 2a65  oad", index, **e
-00008e00: 6e74 7269 6573 2c20 2a2a 6b77 6172 6773  ntries, **kwargs
-00008e10: 290d 0a0d 0a20 2020 2072 6574 7572 6e20  )....    return 
-00008e20: 696e 6465 780d 0a0d 0a0d 0a64 6566 2063  index......def c
-00008e30: 7265 6174 655f 6173 796d 6d65 7472 6963  reate_asymmetric
-00008e40: 5f6c 6f61 6428 6e65 742c 2062 7573 2c20  _load(net, bus, 
-00008e50: 705f 615f 6d77 3d30 2c20 705f 625f 6d77  p_a_mw=0, p_b_mw
-00008e60: 3d30 2c20 705f 635f 6d77 3d30 2c20 715f  =0, p_c_mw=0, q_
-00008e70: 615f 6d76 6172 3d30 2c20 715f 625f 6d76  a_mvar=0, q_b_mv
-00008e80: 6172 3d30 2c0d 0a20 2020 2020 2020 2020  ar=0,..         
-00008e90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008ea0: 2020 715f 635f 6d76 6172 3d30 2c20 736e    q_c_mvar=0, sn
-00008eb0: 5f6d 7661 3d6e 616e 2c20 6e61 6d65 3d4e  _mva=nan, name=N
-00008ec0: 6f6e 652c 2073 6361 6c69 6e67 3d31 2e2c  one, scaling=1.,
-00008ed0: 2069 6e64 6578 3d4e 6f6e 652c 0d0a 2020   index=None,..  
-00008ee0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008ef0: 2020 2020 2020 2020 2069 6e5f 7365 7276           in_serv
-00008f00: 6963 653d 5472 7565 2c20 7479 7065 3d22  ice=True, type="
-00008f10: 7779 6522 293a 0d0a 2020 2020 2222 220d  wye"):..    """.
-00008f20: 0a20 2020 2041 6464 7320 6f6e 6520 3320  .    Adds one 3 
-00008f30: 7068 6173 6520 6c6f 6164 2069 6e20 7461  phase load in ta
-00008f40: 626c 6520 6e65 745b 2261 7379 6d6d 6574  ble net["asymmet
-00008f50: 7269 635f 6c6f 6164 225d 2e0d 0a0d 0a20  ric_load"]..... 
-00008f60: 2020 2041 6c6c 206c 6f61 6473 2061 7265     All loads are
-00008f70: 206d 6f64 656c 6c65 6420 696e 2074 6865   modelled in the
-00008f80: 2063 6f6e 7375 6d65 7220 7379 7374 656d   consumer system
-00008f90: 2c20 6d65 616e 696e 6720 6c6f 6164 2069  , meaning load i
-00008fa0: 7320 706f 7369 7469 7665 2061 6e64 2067  s positive and g
-00008fb0: 656e 6572 6174 696f 6e20 6973 0d0a 2020  eneration is..  
-00008fc0: 2020 6e65 6761 7469 7665 2061 6374 6976    negative activ
-00008fd0: 6520 706f 7765 722e 2050 6c65 6173 6520  e power. Please 
-00008fe0: 7061 7920 6174 7465 6e74 696f 6e20 746f  pay attention to
-00008ff0: 2074 6865 2063 6f72 7265 6374 2073 6967   the correct sig
-00009000: 6e69 6e67 206f 6620 7468 6520 7265 6163  ning of the reac
-00009010: 7469 7665 2070 6f77 6572 2061 730d 0a20  tive power as.. 
-00009020: 2020 2077 656c 6c2e 0d0a 0d0a 2020 2020     well.....    
-00009030: 494e 5055 543a 0d0a 2020 2020 2020 2020  INPUT:..        
-00009040: 2a2a 6e65 742a 2a20 2d20 5468 6520 6e65  **net** - The ne
-00009050: 7420 7769 7468 696e 2074 6869 7320 6c6f  t within this lo
-00009060: 6164 2073 686f 756c 6420 6265 2063 7265  ad should be cre
-00009070: 6174 6564 0d0a 0d0a 2020 2020 2020 2020  ated....        
-00009080: 2a2a 6275 732a 2a20 2869 6e74 2920 2d20  **bus** (int) - 
-00009090: 5468 6520 6275 7320 6964 2074 6f20 7768  The bus id to wh
-000090a0: 6963 6820 7468 6520 6c6f 6164 2069 7320  ich the load is 
-000090b0: 636f 6e6e 6563 7465 640d 0a0d 0a20 2020  connected....   
-000090c0: 204f 5054 494f 4e41 4c3a 0d0a 2020 2020   OPTIONAL:..    
-000090d0: 2020 2020 2a2a 705f 615f 6d77 2a2a 2028      **p_a_mw** (
-000090e0: 666c 6f61 742c 2064 6566 6175 6c74 2030  float, default 0
-000090f0: 2920 2d20 5468 6520 6163 7469 7665 2070  ) - The active p
-00009100: 6f77 6572 2066 6f72 2050 6861 7365 2041  ower for Phase A
-00009110: 206c 6f61 640d 0a0d 0a20 2020 2020 2020   load....       
-00009120: 202a 2a70 5f62 5f6d 772a 2a20 2866 6c6f   **p_b_mw** (flo
-00009130: 6174 2c20 6465 6661 756c 7420 3029 202d  at, default 0) -
-00009140: 2054 6865 2061 6374 6976 6520 706f 7765   The active powe
-00009150: 7220 666f 7220 5068 6173 6520 4220 6c6f  r for Phase B lo
-00009160: 6164 0d0a 0d0a 2020 2020 2020 2020 2a2a  ad....        **
-00009170: 705f 635f 6d77 2a2a 2028 666c 6f61 742c  p_c_mw** (float,
-00009180: 2064 6566 6175 6c74 2030 2920 2d20 5468   default 0) - Th
-00009190: 6520 6163 7469 7665 2070 6f77 6572 2066  e active power f
-000091a0: 6f72 2050 6861 7365 2043 206c 6f61 640d  or Phase C load.
-000091b0: 0a0d 0a20 2020 2020 2020 202a 2a71 5f61  ...        **q_a
-000091c0: 5f6d 7661 722a 2a20 666c 6f61 742c 2064  _mvar** float, d
-000091d0: 6566 6175 6c74 2030 2920 2d20 5468 6520  efault 0) - The 
-000091e0: 7265 6163 7469 7665 2070 6f77 6572 2066  reactive power f
-000091f0: 6f72 2050 6861 7365 2041 206c 6f61 640d  or Phase A load.
-00009200: 0a0d 0a20 2020 2020 2020 202a 2a71 5f62  ...        **q_b
-00009210: 5f6d 7661 722a 2a20 666c 6f61 742c 2064  _mvar** float, d
-00009220: 6566 6175 6c74 2030 2920 2d20 5468 6520  efault 0) - The 
-00009230: 7265 6163 7469 7665 2070 6f77 6572 2066  reactive power f
-00009240: 6f72 2050 6861 7365 2042 206c 6f61 640d  or Phase B load.
-00009250: 0a0d 0a20 2020 2020 2020 202a 2a71 5f63  ...        **q_c
-00009260: 5f6d 7661 722a 2a20 2866 6c6f 6174 2c20  _mvar** (float, 
-00009270: 6465 6661 756c 7420 3029 202d 2054 6865  default 0) - The
-00009280: 2072 6561 6374 6976 6520 706f 7765 7220   reactive power 
-00009290: 666f 7220 5068 6173 6520 4320 6c6f 6164  for Phase C load
-000092a0: 0d0a 0d0a 2020 2020 2020 2020 2a2a 736e  ....        **sn
-000092b0: 5f6b 7661 2a2a 2028 666c 6f61 742c 2064  _kva** (float, d
-000092c0: 6566 6175 6c74 3a20 4e6f 6e65 2920 2d20  efault: None) - 
-000092d0: 4e6f 6d69 6e61 6c20 706f 7765 7220 6f66  Nominal power of
-000092e0: 2074 6865 206c 6f61 640d 0a0d 0a20 2020   the load....   
-000092f0: 2020 2020 202a 2a6e 616d 652a 2a20 2873       **name** (s
-00009300: 7472 696e 672c 2064 6566 6175 6c74 3a20  tring, default: 
-00009310: 4e6f 6e65 2920 2d20 5468 6520 6e61 6d65  None) - The name
-00009320: 2066 6f72 2074 6869 7320 6c6f 6164 0d0a   for this load..
-00009330: 0d0a 2020 2020 2020 2020 2a2a 7363 616c  ..        **scal
-00009340: 696e 672a 2a20 2866 6c6f 6174 2c20 6465  ing** (float, de
-00009350: 6661 756c 743a 2031 2e29 202d 2041 6e20  fault: 1.) - An 
-00009360: 4f50 5449 4f4e 414c 2073 6361 6c69 6e67  OPTIONAL scaling
-00009370: 2066 6163 746f 7220 746f 2062 6520 7365   factor to be se
-00009380: 7420 6375 7374 6f6d 6c79 0d0a 2020 2020  t customly..    
-00009390: 2020 2020 4d75 6c74 6970 6c79 7320 7769      Multiplys wi
-000093a0: 7468 2070 5f6d 7720 616e 6420 715f 6d76  th p_mw and q_mv
-000093b0: 6172 206f 6620 616c 6c20 7068 6173 6573  ar of all phases
-000093c0: 2e0d 0a0d 0a20 2020 2020 2020 202a 2a74  .....        **t
-000093d0: 7970 652a 2a20 2873 7472 696e 672c 6465  ype** (string,de
-000093e0: 6661 756c 743a 2077 7965 2920 2d20 2074  fault: wye) -  t
-000093f0: 7970 6520 7661 7269 6162 6c65 2074 6f20  ype variable to 
-00009400: 636c 6173 7369 6679 2074 6872 6565 2070  classify three p
-00009410: 6820 6c6f 6164 3a20 6465 6c74 612f 7779  h load: delta/wy
-00009420: 650d 0a0d 0a20 2020 2020 2020 202a 2a69  e....        **i
-00009430: 6e64 6578 2a2a 2028 696e 742c 6465 6661  ndex** (int,defa
-00009440: 756c 743a 204e 6f6e 6529 202d 2046 6f72  ult: None) - For
-00009450: 6365 2061 2073 7065 6369 6669 6564 2049  ce a specified I
-00009460: 4420 6966 2069 7420 6973 2061 7661 696c  D if it is avail
-00009470: 6162 6c65 2e20 4966 204e 6f6e 652c 2074  able. If None, t
-00009480: 6865 2069 6e64 6578 5c0d 0a20 2020 2020  he index\..     
-00009490: 2020 2020 2020 206f 6e65 2068 6967 6865         one highe
-000094a0: 7220 7468 616e 2074 6865 2068 6967 6865  r than the highe
-000094b0: 7374 2061 6c72 6561 6479 2065 7869 7374  st already exist
-000094c0: 696e 6720 696e 6465 7820 6973 2073 656c  ing index is sel
-000094d0: 6563 7465 642e 0d0a 0d0a 2020 2020 2020  ected.....      
-000094e0: 2020 2a2a 696e 5f73 6572 7669 6365 2a2a    **in_service**
-000094f0: 2028 626f 6f6c 6561 6e29 202d 2054 7275   (boolean) - Tru
-00009500: 6520 666f 7220 696e 5f73 6572 7669 6365  e for in_service
-00009510: 206f 7220 4661 6c73 6520 666f 7220 6f75   or False for ou
-00009520: 7420 6f66 2073 6572 7669 6365 0d0a 0d0a  t of service....
-00009530: 2020 2020 4f55 5450 5554 3a0d 0a20 2020      OUTPUT:..   
-00009540: 2020 2020 202a 2a69 6e64 6578 2a2a 2028       **index** (
-00009550: 696e 7429 202d 2054 6865 2075 6e69 7175  int) - The uniqu
-00009560: 6520 4944 206f 6620 7468 6520 6372 6561  e ID of the crea
-00009570: 7465 6420 656c 656d 656e 740d 0a0d 0a20  ted element.... 
-00009580: 2020 2045 5841 4d50 4c45 3a0d 0a20 2020     EXAMPLE:..   
-00009590: 2020 2020 202a 2a63 7265 6174 655f 6173       **create_as
-000095a0: 796d 6d65 7472 6963 5f6c 6f61 6428 6e65  ymmetric_load(ne
-000095b0: 742c 2062 7573 3d30 2c20 705f 635f 6d77  t, bus=0, p_c_mw
-000095c0: 203d 2039 2e2c 2071 5f63 5f6d 7661 7220   = 9., q_c_mvar 
-000095d0: 3d20 312e 3829 2a2a 0d0a 0d0a 2020 2020  = 1.8)**....    
-000095e0: 2222 220d 0a20 2020 205f 6368 6563 6b5f  """..    _check_
-000095f0: 6e6f 6465 5f65 6c65 6d65 6e74 286e 6574  node_element(net
-00009600: 2c20 6275 7329 0d0a 0d0a 2020 2020 696e  , bus)....    in
-00009610: 6465 7820 3d20 5f67 6574 5f69 6e64 6578  dex = _get_index
-00009620: 5f77 6974 685f 6368 6563 6b28 6e65 742c  _with_check(net,
-00009630: 2022 6173 796d 6d65 7472 6963 5f6c 6f61   "asymmetric_loa
-00009640: 6422 2c20 696e 6465 782c 206e 616d 653d  d", index, name=
-00009650: 2233 2070 6861 7365 2061 7379 6d6d 6574  "3 phase asymmet
-00009660: 7269 635f 6c6f 6164 2229 0d0a 0d0a 2020  ric_load")....  
-00009670: 2020 656e 7472 6965 7320 3d20 6469 6374    entries = dict
-00009680: 287a 6970 285b 226e 616d 6522 2c20 2262  (zip(["name", "b
-00009690: 7573 222c 2022 705f 615f 6d77 222c 2022  us", "p_a_mw", "
-000096a0: 705f 625f 6d77 222c 2022 705f 635f 6d77  p_b_mw", "p_c_mw
-000096b0: 222c 2022 7363 616c 696e 6722 2c20 2271  ", "scaling", "q
-000096c0: 5f61 5f6d 7661 7222 2c0d 0a20 2020 2020  _a_mvar",..     
-000096d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000096e0: 2020 2022 715f 625f 6d76 6172 222c 2022     "q_b_mvar", "
-000096f0: 715f 635f 6d76 6172 222c 2022 736e 5f6d  q_c_mvar", "sn_m
-00009700: 7661 222c 2022 696e 5f73 6572 7669 6365  va", "in_service
-00009710: 222c 2022 7479 7065 225d 2c0d 0a20 2020  ", "type"],..   
-00009720: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009730: 2020 2020 5b6e 616d 652c 2062 7573 2c20      [name, bus, 
-00009740: 705f 615f 6d77 2c20 705f 625f 6d77 2c20  p_a_mw, p_b_mw, 
-00009750: 705f 635f 6d77 2c20 7363 616c 696e 672c  p_c_mw, scaling,
-00009760: 2071 5f61 5f6d 7661 722c 2071 5f62 5f6d   q_a_mvar, q_b_m
-00009770: 7661 722c 2071 5f63 5f6d 7661 722c 0d0a  var, q_c_mvar,..
-00009780: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009790: 2020 2020 2020 2020 736e 5f6d 7661 2c20          sn_mva, 
-000097a0: 626f 6f6c 2869 6e5f 7365 7276 6963 6529  bool(in_service)
-000097b0: 2c20 7479 7065 5d29 290d 0a0d 0a20 2020  , type]))....   
-000097c0: 205f 7365 745f 656e 7472 6965 7328 6e65   _set_entries(ne
-000097d0: 742c 2022 6173 796d 6d65 7472 6963 5f6c  t, "asymmetric_l
-000097e0: 6f61 6422 2c20 696e 6465 782c 2054 7275  oad", index, Tru
-000097f0: 652c 202a 2a65 6e74 7269 6573 290d 0a0d  e, **entries)...
-00009800: 0a20 2020 2072 6574 7572 6e20 696e 6465  .    return inde
-00009810: 780d 0a0d 0a0d 0a23 203d 3d3d 3d3d 3d3d  x......# =======
-00009820: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00006ee0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006ef0: 2020 696e 6465 783d 696e 6465 782c 2063    index=index, c
+00006f00: 6f6c 756d 6e73 3d6e 6574 2e62 7573 5f67  olumns=net.bus_g
+00006f10: 656f 6461 7461 2e63 6f6c 756d 6e73 295d  eodata.columns)]
+00006f20: 290d 0a20 2020 2020 2020 206e 6574 2e62  )..        net.b
+00006f30: 7573 5f67 656f 6461 7461 2e6c 6f63 5b69  us_geodata.loc[i
+00006f40: 6e64 6578 2c20 3a5d 203d 206e 616e 0d0a  ndex, :] = nan..
+00006f50: 2020 2020 2020 2020 6e65 742e 6275 735f          net.bus_
+00006f60: 6765 6f64 6174 612e 6c6f 635b 696e 6465  geodata.loc[inde
+00006f70: 782c 205b 2278 222c 2022 7922 5d5d 203d  x, ["x", "y"]] =
+00006f80: 2067 656f 6461 7461 0d0a 2020 2020 6966   geodata..    if
+00006f90: 2063 6f6f 7264 7320 6973 206e 6f74 204e   coords is not N
+00006fa0: 6f6e 653a 0d0a 2020 2020 2020 2020 6e65  one:..        ne
+00006fb0: 742e 6275 735f 6765 6f64 6174 6120 3d20  t.bus_geodata = 
+00006fc0: 7064 2e63 6f6e 6361 7428 5b6e 6574 2e62  pd.concat([net.b
+00006fd0: 7573 5f67 656f 6461 7461 2c20 7064 2e44  us_geodata, pd.D
+00006fe0: 6174 6146 7261 6d65 2869 6e64 6578 3d69  ataFrame(index=i
+00006ff0: 6e64 6578 2c20 636f 6c75 6d6e 733d 6e65  ndex, columns=ne
+00007000: 742e 6275 735f 6765 6f64 6174 612e 636f  t.bus_geodata.co
+00007010: 6c75 6d6e 7329 5d29 0d0a 2020 2020 2020  lumns)])..      
+00007020: 2020 6e65 745b 2262 7573 5f67 656f 6461    net["bus_geoda
+00007030: 7461 225d 2e6c 6f63 5b69 6e64 6578 2c20  ta"].loc[index, 
+00007040: 2263 6f6f 7264 7322 5d20 3d20 636f 6f72  "coords"] = coor
+00007050: 6473 0d0a 2020 2020 7265 7475 726e 2069  ds..    return i
+00007060: 6e64 6578 0d0a 0d0a 0d0a 6465 6620 6372  ndex......def cr
+00007070: 6561 7465 5f6c 6f61 6428 6e65 742c 2062  eate_load(net, b
+00007080: 7573 2c20 705f 6d77 2c20 715f 6d76 6172  us, p_mw, q_mvar
+00007090: 3d30 2c20 636f 6e73 745f 7a5f 7065 7263  =0, const_z_perc
+000070a0: 656e 743d 302c 2063 6f6e 7374 5f69 5f70  ent=0, const_i_p
+000070b0: 6572 6365 6e74 3d30 2c20 736e 5f6d 7661  ercent=0, sn_mva
+000070c0: 3d6e 616e 2c0d 0a20 2020 2020 2020 2020  =nan,..         
+000070d0: 2020 2020 2020 206e 616d 653d 4e6f 6e65         name=None
+000070e0: 2c20 7363 616c 696e 673d 312e 2c20 696e  , scaling=1., in
+000070f0: 6465 783d 4e6f 6e65 2c20 696e 5f73 6572  dex=None, in_ser
+00007100: 7669 6365 3d54 7275 652c 2074 7970 653d  vice=True, type=
+00007110: 2777 7965 272c 206d 6178 5f70 5f6d 773d  'wye', max_p_mw=
+00007120: 6e61 6e2c 0d0a 2020 2020 2020 2020 2020  nan,..          
+00007130: 2020 2020 2020 6d69 6e5f 705f 6d77 3d6e        min_p_mw=n
+00007140: 616e 2c20 6d61 785f 715f 6d76 6172 3d6e  an, max_q_mvar=n
+00007150: 616e 2c20 6d69 6e5f 715f 6d76 6172 3d6e  an, min_q_mvar=n
+00007160: 616e 2c20 636f 6e74 726f 6c6c 6162 6c65  an, controllable
+00007170: 3d6e 616e 293a 0d0a 2020 2020 2222 220d  =nan):..    """.
+00007180: 0a20 2020 2041 6464 7320 6f6e 6520 6c6f  .    Adds one lo
+00007190: 6164 2069 6e20 7461 626c 6520 6e65 745b  ad in table net[
+000071a0: 226c 6f61 6422 5d2e 0d0a 0d0a 2020 2020  "load"].....    
+000071b0: 416c 6c20 6c6f 6164 7320 6172 6520 6d6f  All loads are mo
+000071c0: 6465 6c6c 6564 2069 6e20 7468 6520 636f  delled in the co
+000071d0: 6e73 756d 6572 2073 7973 7465 6d2c 206d  nsumer system, m
+000071e0: 6561 6e69 6e67 206c 6f61 6420 6973 2070  eaning load is p
+000071f0: 6f73 6974 6976 6520 616e 6420 6765 6e65  ositive and gene
+00007200: 7261 7469 6f6e 2069 730d 0a20 2020 206e  ration is..    n
+00007210: 6567 6174 6976 6520 6163 7469 7665 2070  egative active p
+00007220: 6f77 6572 2e20 506c 6561 7365 2070 6179  ower. Please pay
+00007230: 2061 7474 656e 7469 6f6e 2074 6f20 7468   attention to th
+00007240: 6520 636f 7272 6563 7420 7369 676e 696e  e correct signin
+00007250: 6720 6f66 2074 6865 2072 6561 6374 6976  g of the reactiv
+00007260: 6520 706f 7765 7220 6173 0d0a 2020 2020  e power as..    
+00007270: 7765 6c6c 2e0d 0a0d 0a20 2020 2049 4e50  well.....    INP
+00007280: 5554 3a0d 0a20 2020 2020 2020 202a 2a6e  UT:..        **n
+00007290: 6574 2a2a 202d 2054 6865 206e 6574 2077  et** - The net w
+000072a0: 6974 6869 6e20 7468 6973 206c 6f61 6420  ithin this load 
+000072b0: 7368 6f75 6c64 2062 6520 6372 6561 7465  should be create
+000072c0: 640d 0a0d 0a20 2020 2020 2020 202a 2a62  d....        **b
+000072d0: 7573 2a2a 2028 696e 7429 202d 2054 6865  us** (int) - The
+000072e0: 2062 7573 2069 6420 746f 2077 6869 6368   bus id to which
+000072f0: 2074 6865 206c 6f61 6420 6973 2063 6f6e   the load is con
+00007300: 6e65 6374 6564 0d0a 0d0a 2020 2020 4f50  nected....    OP
+00007310: 5449 4f4e 414c 3a0d 0a20 2020 2020 2020  TIONAL:..       
+00007320: 202a 2a70 5f6d 772a 2a20 2866 6c6f 6174   **p_mw** (float
+00007330: 2c20 6465 6661 756c 7420 3029 202d 2054  , default 0) - T
+00007340: 6865 2061 6374 6976 6520 706f 7765 7220  he active power 
+00007350: 6f66 2074 6865 206c 6f61 640d 0a0d 0a20  of the load.... 
+00007360: 2020 2020 2020 202d 2070 6f73 7469 7665         - postive
+00007370: 2076 616c 7565 2020 202d 3e20 6c6f 6164   value   -> load
+00007380: 0d0a 2020 2020 2020 2020 2d20 6e65 6761  ..        - nega
+00007390: 7469 7665 2076 616c 7565 2020 2d3e 2067  tive value  -> g
+000073a0: 656e 6572 6174 696f 6e0d 0a0d 0a20 2020  eneration....   
+000073b0: 2020 2020 202a 2a71 5f6d 7661 722a 2a20       **q_mvar** 
+000073c0: 2866 6c6f 6174 2c20 6465 6661 756c 7420  (float, default 
+000073d0: 3029 202d 2054 6865 2072 6561 6374 6976  0) - The reactiv
+000073e0: 6520 706f 7765 7220 6f66 2074 6865 206c  e power of the l
+000073f0: 6f61 640d 0a0d 0a20 2020 2020 2020 202a  oad....        *
+00007400: 2a63 6f6e 7374 5f7a 5f70 6572 6365 6e74  *const_z_percent
+00007410: 2a2a 2028 666c 6f61 742c 2064 6566 6175  ** (float, defau
+00007420: 6c74 2030 2920 2d20 7065 7263 656e 7461  lt 0) - percenta
+00007430: 6765 206f 6620 705f 6d77 2061 6e64 2071  ge of p_mw and q
+00007440: 5f6d 7661 7220 7468 6174 2077 696c 6c20  _mvar that will 
+00007450: 6265 205c 0d0a 2020 2020 2020 2020 2020  be \..          
+00007460: 2020 6173 736f 6369 6174 6564 2074 6f20    associated to 
+00007470: 636f 6e73 7461 6e74 2069 6d70 6564 616e  constant impedan
+00007480: 6365 206c 6f61 6420 6174 2072 6174 6564  ce load at rated
+00007490: 2076 6f6c 7461 6765 0d0a 0d0a 2020 2020   voltage....    
+000074a0: 2020 2020 2a2a 636f 6e73 745f 695f 7065      **const_i_pe
+000074b0: 7263 656e 742a 2a20 2866 6c6f 6174 2c20  rcent** (float, 
+000074c0: 6465 6661 756c 7420 3029 202d 2070 6572  default 0) - per
+000074d0: 6365 6e74 6167 6520 6f66 2070 5f6d 7720  centage of p_mw 
+000074e0: 616e 6420 715f 6d76 6172 2074 6861 7420  and q_mvar that 
+000074f0: 7769 6c6c 2062 6520 5c0d 0a20 2020 2020  will be \..     
+00007500: 2020 2020 2020 2061 7373 6f63 6961 7465         associate
+00007510: 6420 746f 2063 6f6e 7374 616e 7420 6375  d to constant cu
+00007520: 7272 656e 7420 6c6f 6164 2061 7420 7261  rrent load at ra
+00007530: 7465 6420 766f 6c74 6167 650d 0a0d 0a20  ted voltage.... 
+00007540: 2020 2020 2020 202a 2a73 6e5f 6d76 612a         **sn_mva*
+00007550: 2a20 2866 6c6f 6174 2c20 6465 6661 756c  * (float, defaul
+00007560: 7420 4e6f 6e65 2920 2d20 4e6f 6d69 6e61  t None) - Nomina
+00007570: 6c20 706f 7765 7220 6f66 2074 6865 206c  l power of the l
+00007580: 6f61 640d 0a0d 0a20 2020 2020 2020 202a  oad....        *
+00007590: 2a6e 616d 652a 2a20 2873 7472 696e 672c  *name** (string,
+000075a0: 2064 6566 6175 6c74 204e 6f6e 6529 202d   default None) -
+000075b0: 2054 6865 206e 616d 6520 666f 7220 7468   The name for th
+000075c0: 6973 206c 6f61 640d 0a0d 0a20 2020 2020  is load....     
+000075d0: 2020 202a 2a73 6361 6c69 6e67 2a2a 2028     **scaling** (
+000075e0: 666c 6f61 742c 2064 6566 6175 6c74 2031  float, default 1
+000075f0: 2e29 202d 2041 6e20 4f50 5449 4f4e 414c  .) - An OPTIONAL
+00007600: 2073 6361 6c69 6e67 2066 6163 746f 7220   scaling factor 
+00007610: 746f 2062 6520 7365 7420 6375 7374 6f6d  to be set custom
+00007620: 6c79 2e0d 0a20 2020 2020 2020 204d 756c  ly...        Mul
+00007630: 7469 706c 7973 2077 6974 6820 705f 6d77  tiplys with p_mw
+00007640: 2061 6e64 2071 5f6d 7661 722e 0d0a 0d0a   and q_mvar.....
+00007650: 2020 2020 2020 2020 2a2a 7479 7065 2a2a          **type**
+00007660: 2028 7374 7269 6e67 2c20 2777 7965 2729   (string, 'wye')
+00007670: 202d 2020 7479 7065 2076 6172 6961 626c   -  type variabl
+00007680: 6520 746f 2063 6c61 7373 6966 7920 7468  e to classify th
+00007690: 6520 6c6f 6164 3a20 7779 652f 6465 6c74  e load: wye/delt
+000076a0: 610d 0a0d 0a20 2020 2020 2020 202a 2a69  a....        **i
+000076b0: 6e64 6578 2a2a 2028 696e 742c 204e 6f6e  ndex** (int, Non
+000076c0: 6529 202d 2046 6f72 6365 2061 2073 7065  e) - Force a spe
+000076d0: 6369 6669 6564 2049 4420 6966 2069 7420  cified ID if it 
+000076e0: 6973 2061 7661 696c 6162 6c65 2e20 4966  is available. If
+000076f0: 204e 6f6e 652c 2074 6865 2069 6e64 6578   None, the index
+00007700: 206f 6e65 205c 0d0a 2020 2020 2020 2020   one \..        
+00007710: 2020 2020 6869 6768 6572 2074 6861 6e20      higher than 
+00007720: 7468 6520 6869 6768 6573 7420 616c 7265  the highest alre
+00007730: 6164 7920 6578 6973 7469 6e67 2069 6e64  ady existing ind
+00007740: 6578 2069 7320 7365 6c65 6374 6564 2e0d  ex is selected..
+00007750: 0a0d 0a20 2020 2020 2020 202a 2a69 6e5f  ...        **in_
+00007760: 7365 7276 6963 652a 2a20 2862 6f6f 6c65  service** (boole
+00007770: 616e 2920 2d20 5472 7565 2066 6f72 2069  an) - True for i
+00007780: 6e5f 7365 7276 6963 6520 6f72 2046 616c  n_service or Fal
+00007790: 7365 2066 6f72 206f 7574 206f 6620 7365  se for out of se
+000077a0: 7276 6963 650d 0a0d 0a20 2020 2020 2020  rvice....       
+000077b0: 202a 2a6d 6178 5f70 5f6d 772a 2a20 2866   **max_p_mw** (f
+000077c0: 6c6f 6174 2c20 6465 6661 756c 7420 4e61  loat, default Na
+000077d0: 4e29 202d 204d 6178 696d 756d 2061 6374  N) - Maximum act
+000077e0: 6976 6520 706f 7765 7220 6c6f 6164 202d  ive power load -
+000077f0: 206e 6563 6573 7361 7279 2066 6f72 2063   necessary for c
+00007800: 6f6e 7472 6f6c 6c61 626c 6520 5c0d 0a20  ontrollable \.. 
+00007810: 2020 2020 2020 2020 2020 206c 6f61 6473             loads
+00007820: 2069 6e20 666f 7220 4f50 460d 0a0d 0a20   in for OPF.... 
+00007830: 2020 2020 2020 202a 2a6d 696e 5f70 5f6d         **min_p_m
+00007840: 772a 2a20 2866 6c6f 6174 2c20 6465 6661  w** (float, defa
+00007850: 756c 7420 4e61 4e29 202d 204d 696e 696d  ult NaN) - Minim
+00007860: 756d 2061 6374 6976 6520 706f 7765 7220  um active power 
+00007870: 6c6f 6164 202d 206e 6563 6573 7361 7279  load - necessary
+00007880: 2066 6f72 2063 6f6e 7472 6f6c 6c61 626c   for controllabl
+00007890: 6520 5c0d 0a20 2020 2020 2020 2020 2020  e \..           
+000078a0: 206c 6f61 6473 2069 6e20 666f 7220 4f50   loads in for OP
+000078b0: 460d 0a0d 0a20 2020 2020 2020 202a 2a6d  F....        **m
+000078c0: 6178 5f71 5f6d 7661 722a 2a20 2866 6c6f  ax_q_mvar** (flo
+000078d0: 6174 2c20 6465 6661 756c 7420 4e61 4e29  at, default NaN)
+000078e0: 202d 204d 6178 696d 756d 2072 6561 6374   - Maximum react
+000078f0: 6976 6520 706f 7765 7220 6c6f 6164 202d  ive power load -
+00007900: 206e 6563 6573 7361 7279 2066 6f72 205c   necessary for \
+00007910: 0d0a 2020 2020 2020 2020 2020 2020 636f  ..            co
+00007920: 6e74 726f 6c6c 6162 6c65 206c 6f61 6473  ntrollable loads
+00007930: 2069 6e20 666f 7220 4f50 460d 0a0d 0a20   in for OPF.... 
+00007940: 2020 2020 2020 202a 2a6d 696e 5f71 5f6d         **min_q_m
+00007950: 7661 722a 2a20 2866 6c6f 6174 2c20 6465  var** (float, de
+00007960: 6661 756c 7420 4e61 4e29 202d 204d 696e  fault NaN) - Min
+00007970: 696d 756d 2072 6561 6374 6976 6520 706f  imum reactive po
+00007980: 7765 7220 6c6f 6164 202d 206e 6563 6573  wer load - neces
+00007990: 7361 7279 2066 6f72 205c 0d0a 2020 2020  sary for \..    
+000079a0: 2020 2020 2020 2020 636f 6e74 726f 6c6c          controll
+000079b0: 6162 6c65 206c 6f61 6473 2069 6e20 4f50  able loads in OP
+000079c0: 460d 0a0d 0a20 2020 2020 2020 202a 2a63  F....        **c
+000079d0: 6f6e 7472 6f6c 6c61 626c 652a 2a20 2862  ontrollable** (b
+000079e0: 6f6f 6c65 616e 2c20 6465 6661 756c 7420  oolean, default 
+000079f0: 4e61 4e29 202d 2053 7461 7465 732c 2077  NaN) - States, w
+00007a00: 6865 7468 6572 2061 206c 6f61 6420 6973  hether a load is
+00007a10: 2063 6f6e 7472 6f6c 6c61 626c 6520 6f72   controllable or
+00007a20: 206e 6f74 2e20 5c0d 0a20 2020 2020 2020   not. \..       
+00007a30: 2020 2020 204f 6e6c 7920 7265 7370 6563       Only respec
+00007a40: 7465 6420 666f 7220 4f50 463b 2064 6566  ted for OPF; def
+00007a50: 6175 6c74 7320 746f 2046 616c 7365 2069  aults to False i
+00007a60: 6620 2263 6f6e 7472 6f6c 6c61 626c 6522  f "controllable"
+00007a70: 2063 6f6c 756d 6e20 6578 6973 7473 2069   column exists i
+00007a80: 6e20 4461 7461 4672 616d 650d 0a0d 0a20  n DataFrame.... 
+00007a90: 2020 204f 5554 5055 543a 0d0a 2020 2020     OUTPUT:..    
+00007aa0: 2020 2020 2a2a 696e 6465 782a 2a20 2869      **index** (i
+00007ab0: 6e74 2920 2d20 5468 6520 756e 6971 7565  nt) - The unique
+00007ac0: 2049 4420 6f66 2074 6865 2063 7265 6174   ID of the creat
+00007ad0: 6564 2065 6c65 6d65 6e74 0d0a 0d0a 2020  ed element....  
+00007ae0: 2020 4558 414d 504c 453a 0d0a 2020 2020    EXAMPLE:..    
+00007af0: 2020 2020 6372 6561 7465 5f6c 6f61 6428      create_load(
+00007b00: 6e65 742c 2062 7573 3d30 2c20 705f 6d77  net, bus=0, p_mw
+00007b10: 3d31 302e 2c20 715f 6d76 6172 3d32 2e29  =10., q_mvar=2.)
+00007b20: 0d0a 0d0a 2020 2020 2222 220d 0a20 2020  ....    """..   
+00007b30: 205f 6368 6563 6b5f 6e6f 6465 5f65 6c65   _check_node_ele
+00007b40: 6d65 6e74 286e 6574 2c20 6275 7329 0d0a  ment(net, bus)..
+00007b50: 0d0a 2020 2020 696e 6465 7820 3d20 5f67  ..    index = _g
+00007b60: 6574 5f69 6e64 6578 5f77 6974 685f 6368  et_index_with_ch
+00007b70: 6563 6b28 6e65 742c 2022 6c6f 6164 222c  eck(net, "load",
+00007b80: 2069 6e64 6578 290d 0a0d 0a20 2020 2065   index)....    e
+00007b90: 6e74 7269 6573 203d 2064 6963 7428 7a69  ntries = dict(zi
+00007ba0: 7028 5b22 6e61 6d65 222c 2022 6275 7322  p(["name", "bus"
+00007bb0: 2c20 2270 5f6d 7722 2c20 2263 6f6e 7374  , "p_mw", "const
+00007bc0: 5f7a 5f70 6572 6365 6e74 222c 2022 636f  _z_percent", "co
+00007bd0: 6e73 745f 695f 7065 7263 656e 7422 2c20  nst_i_percent", 
+00007be0: 2273 6361 6c69 6e67 222c 0d0a 2020 2020  "scaling",..    
+00007bf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007c00: 2020 2020 2271 5f6d 7661 7222 2c20 2273      "q_mvar", "s
+00007c10: 6e5f 6d76 6122 2c20 2269 6e5f 7365 7276  n_mva", "in_serv
+00007c20: 6963 6522 2c20 2274 7970 6522 5d2c 0d0a  ice", "type"],..
+00007c30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007c40: 2020 2020 2020 205b 6e61 6d65 2c20 6275         [name, bu
+00007c50: 732c 2070 5f6d 772c 2063 6f6e 7374 5f7a  s, p_mw, const_z
+00007c60: 5f70 6572 6365 6e74 2c20 636f 6e73 745f  _percent, const_
+00007c70: 695f 7065 7263 656e 742c 2073 6361 6c69  i_percent, scali
+00007c80: 6e67 2c20 715f 6d76 6172 2c20 736e 5f6d  ng, q_mvar, sn_m
+00007c90: 7661 2c0d 0a20 2020 2020 2020 2020 2020  va,..           
+00007ca0: 2020 2020 2020 2020 2020 2020 2062 6f6f               boo
+00007cb0: 6c28 696e 5f73 6572 7669 6365 292c 2074  l(in_service), t
+00007cc0: 7970 655d 2929 0d0a 0d0a 2020 2020 5f73  ype]))....    _s
+00007cd0: 6574 5f65 6e74 7269 6573 286e 6574 2c20  et_entries(net, 
+00007ce0: 226c 6f61 6422 2c20 696e 6465 782c 2054  "load", index, T
+00007cf0: 7275 652c 202a 2a65 6e74 7269 6573 290d  rue, **entries).
+00007d00: 0a0d 0a20 2020 205f 6372 6561 7465 5f63  ...    _create_c
+00007d10: 6f6c 756d 6e5f 616e 645f 7365 745f 7661  olumn_and_set_va
+00007d20: 6c75 6528 6e65 742c 2069 6e64 6578 2c20  lue(net, index, 
+00007d30: 6d69 6e5f 705f 6d77 2c20 226d 696e 5f70  min_p_mw, "min_p
+00007d40: 5f6d 7722 2c20 226c 6f61 6422 290d 0a20  _mw", "load").. 
+00007d50: 2020 205f 6372 6561 7465 5f63 6f6c 756d     _create_colum
+00007d60: 6e5f 616e 645f 7365 745f 7661 6c75 6528  n_and_set_value(
+00007d70: 6e65 742c 2069 6e64 6578 2c20 6d61 785f  net, index, max_
+00007d80: 705f 6d77 2c20 226d 6178 5f70 5f6d 7722  p_mw, "max_p_mw"
+00007d90: 2c20 226c 6f61 6422 290d 0a20 2020 205f  , "load")..    _
+00007da0: 6372 6561 7465 5f63 6f6c 756d 6e5f 616e  create_column_an
+00007db0: 645f 7365 745f 7661 6c75 6528 6e65 742c  d_set_value(net,
+00007dc0: 2069 6e64 6578 2c20 6d69 6e5f 715f 6d76   index, min_q_mv
+00007dd0: 6172 2c20 226d 696e 5f71 5f6d 7661 7222  ar, "min_q_mvar"
+00007de0: 2c20 226c 6f61 6422 290d 0a20 2020 205f  , "load")..    _
+00007df0: 6372 6561 7465 5f63 6f6c 756d 6e5f 616e  create_column_an
+00007e00: 645f 7365 745f 7661 6c75 6528 6e65 742c  d_set_value(net,
+00007e10: 2069 6e64 6578 2c20 6d61 785f 715f 6d76   index, max_q_mv
+00007e20: 6172 2c20 226d 6178 5f71 5f6d 7661 7222  ar, "max_q_mvar"
+00007e30: 2c20 226c 6f61 6422 290d 0a20 2020 205f  , "load")..    _
+00007e40: 6372 6561 7465 5f63 6f6c 756d 6e5f 616e  create_column_an
+00007e50: 645f 7365 745f 7661 6c75 6528 6e65 742c  d_set_value(net,
+00007e60: 2069 6e64 6578 2c20 636f 6e74 726f 6c6c   index, controll
+00007e70: 6162 6c65 2c20 2263 6f6e 7472 6f6c 6c61  able, "controlla
+00007e80: 626c 6522 2c20 226c 6f61 6422 2c20 6474  ble", "load", dt
+00007e90: 7970 3d62 6f6f 6c5f 2c0d 0a20 2020 2020  yp=bool_,..     
+00007ea0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007eb0: 2020 2020 2020 2020 2020 2020 6465 6661              defa
+00007ec0: 756c 745f 7661 6c3d 4661 6c73 652c 2064  ult_val=False, d
+00007ed0: 6566 6175 6c74 5f66 6f72 5f6e 616e 3d54  efault_for_nan=T
+00007ee0: 7275 6529 0d0a 0d0a 2020 2020 7265 7475  rue)....    retu
+00007ef0: 726e 2069 6e64 6578 0d0a 0d0a 0d0a 6465  rn index......de
+00007f00: 6620 6372 6561 7465 5f6c 6f61 6473 286e  f create_loads(n
+00007f10: 6574 2c20 6275 7365 732c 2070 5f6d 772c  et, buses, p_mw,
+00007f20: 2071 5f6d 7661 723d 302c 2063 6f6e 7374   q_mvar=0, const
+00007f30: 5f7a 5f70 6572 6365 6e74 3d30 2c20 636f  _z_percent=0, co
+00007f40: 6e73 745f 695f 7065 7263 656e 743d 302c  nst_i_percent=0,
+00007f50: 2073 6e5f 6d76 613d 6e61 6e2c 0d0a 2020   sn_mva=nan,..  
+00007f60: 2020 2020 2020 2020 2020 2020 2020 206e                 n
+00007f70: 616d 653d 4e6f 6e65 2c20 7363 616c 696e  ame=None, scalin
+00007f80: 673d 312e 2c20 696e 6465 783d 4e6f 6e65  g=1., index=None
+00007f90: 2c20 696e 5f73 6572 7669 6365 3d54 7275  , in_service=Tru
+00007fa0: 652c 2074 7970 653d 4e6f 6e65 2c20 6d61  e, type=None, ma
+00007fb0: 785f 705f 6d77 3d4e 6f6e 652c 0d0a 2020  x_p_mw=None,..  
+00007fc0: 2020 2020 2020 2020 2020 2020 2020 206d                 m
+00007fd0: 696e 5f70 5f6d 773d 4e6f 6e65 2c20 6d61  in_p_mw=None, ma
+00007fe0: 785f 715f 6d76 6172 3d4e 6f6e 652c 206d  x_q_mvar=None, m
+00007ff0: 696e 5f71 5f6d 7661 723d 4e6f 6e65 2c20  in_q_mvar=None, 
+00008000: 636f 6e74 726f 6c6c 6162 6c65 3d4e 6f6e  controllable=Non
+00008010: 652c 202a 2a6b 7761 7267 7329 3a0d 0a20  e, **kwargs):.. 
+00008020: 2020 2022 2222 0d0a 2020 2020 4164 6473     """..    Adds
+00008030: 2061 206e 756d 6265 7220 6f66 206c 6f61   a number of loa
+00008040: 6473 2069 6e20 7461 626c 6520 6e65 745b  ds in table net[
+00008050: 226c 6f61 6422 5d2e 0d0a 0d0a 2020 2020  "load"].....    
+00008060: 416c 6c20 6c6f 6164 7320 6172 6520 6d6f  All loads are mo
+00008070: 6465 6c6c 6564 2069 6e20 7468 6520 636f  delled in the co
+00008080: 6e73 756d 6572 2073 7973 7465 6d2c 206d  nsumer system, m
+00008090: 6561 6e69 6e67 206c 6f61 6420 6973 2070  eaning load is p
+000080a0: 6f73 6974 6976 6520 616e 6420 6765 6e65  ositive and gene
+000080b0: 7261 7469 6f6e 2069 730d 0a20 2020 206e  ration is..    n
+000080c0: 6567 6174 6976 6520 6163 7469 7665 2070  egative active p
+000080d0: 6f77 6572 2e20 506c 6561 7365 2070 6179  ower. Please pay
+000080e0: 2061 7474 656e 7469 6f6e 2074 6f20 7468   attention to th
+000080f0: 6520 636f 7272 6563 7420 7369 676e 696e  e correct signin
+00008100: 6720 6f66 2074 6865 2072 6561 6374 6976  g of the reactiv
+00008110: 6520 706f 7765 7220 6173 0d0a 2020 2020  e power as..    
+00008120: 7765 6c6c 2e0d 0a0d 0a20 2020 2049 4e50  well.....    INP
+00008130: 5554 3a0d 0a20 2020 2020 2020 202a 2a6e  UT:..        **n
+00008140: 6574 2a2a 202d 2054 6865 206e 6574 2077  et** - The net w
+00008150: 6974 6869 6e20 7468 6973 206c 6f61 6420  ithin this load 
+00008160: 7368 6f75 6c64 2062 6520 6372 6561 7465  should be create
+00008170: 640d 0a0d 0a20 2020 2020 2020 202a 2a62  d....        **b
+00008180: 7573 6573 2a2a 2028 6c69 7374 206f 6620  uses** (list of 
+00008190: 696e 7429 202d 2041 206c 6973 7420 6f66  int) - A list of
+000081a0: 2062 7573 2069 6473 2074 6f20 7768 6963   bus ids to whic
+000081b0: 6820 7468 6520 6c6f 6164 7320 6172 6520  h the loads are 
+000081c0: 636f 6e6e 6563 7465 640d 0a0d 0a20 2020  connected....   
+000081d0: 204f 5054 494f 4e41 4c3a 0d0a 2020 2020   OPTIONAL:..    
+000081e0: 2020 2020 2a2a 705f 6d77 2a2a 2028 6c69      **p_mw** (li
+000081f0: 7374 206f 6620 666c 6f61 7473 2920 2d20  st of floats) - 
+00008200: 5468 6520 6163 7469 7665 2070 6f77 6572  The active power
+00008210: 206f 6620 7468 6520 6c6f 6164 730d 0a0d   of the loads...
+00008220: 0a20 2020 2020 2020 202d 2070 6f73 7469  .        - posti
+00008230: 7665 2076 616c 7565 2020 202d 3e20 6c6f  ve value   -> lo
+00008240: 6164 0d0a 2020 2020 2020 2020 2d20 6e65  ad..        - ne
+00008250: 6761 7469 7665 2076 616c 7565 2020 2d3e  gative value  ->
+00008260: 2067 656e 6572 6174 696f 6e0d 0a0d 0a20   generation.... 
+00008270: 2020 2020 2020 202a 2a71 5f6d 7661 722a         **q_mvar*
+00008280: 2a20 286c 6973 7420 6f66 2066 6c6f 6174  * (list of float
+00008290: 732c 2064 6566 6175 6c74 2030 2920 2d20  s, default 0) - 
+000082a0: 5468 6520 7265 6163 7469 7665 2070 6f77  The reactive pow
+000082b0: 6572 206f 6620 7468 6520 6c6f 6164 730d  er of the loads.
+000082c0: 0a0d 0a20 2020 2020 2020 202a 2a63 6f6e  ...        **con
+000082d0: 7374 5f7a 5f70 6572 6365 6e74 2a2a 2028  st_z_percent** (
+000082e0: 6c69 7374 206f 6620 666c 6f61 7473 2c20  list of floats, 
+000082f0: 6465 6661 756c 7420 3029 202d 2070 6572  default 0) - per
+00008300: 6365 6e74 6167 6520 6f66 2070 5f6d 7720  centage of p_mw 
+00008310: 616e 6420 715f 6d76 6172 2074 6861 7420  and q_mvar that 
+00008320: 7769 6c6c 205c 0d0a 2020 2020 2020 2020  will \..        
+00008330: 2020 2020 6265 2061 7373 6f63 6961 7465      be associate
+00008340: 6420 746f 2063 6f6e 7374 616e 7420 696d  d to constant im
+00008350: 7065 6461 6e63 6520 6c6f 6164 7320 6174  pedance loads at
+00008360: 2072 6174 6564 2076 6f6c 7461 6765 0d0a   rated voltage..
+00008370: 0d0a 2020 2020 2020 2020 2a2a 636f 6e73  ..        **cons
+00008380: 745f 695f 7065 7263 656e 742a 2a20 286c  t_i_percent** (l
+00008390: 6973 7420 6f66 2066 6c6f 6174 732c 2064  ist of floats, d
+000083a0: 6566 6175 6c74 2030 2920 2d20 7065 7263  efault 0) - perc
+000083b0: 656e 7461 6765 206f 6620 705f 6d77 2061  entage of p_mw a
+000083c0: 6e64 2071 5f6d 7661 7220 7468 6174 2077  nd q_mvar that w
+000083d0: 696c 6c20 5c0d 0a20 2020 2020 2020 2020  ill \..         
+000083e0: 2020 2062 6520 6173 736f 6369 6174 6564     be associated
+000083f0: 2074 6f20 636f 6e73 7461 6e74 2063 7572   to constant cur
+00008400: 7265 6e74 206c 6f61 6420 6174 2072 6174  rent load at rat
+00008410: 6564 2076 6f6c 7461 6765 0d0a 0d0a 2020  ed voltage....  
+00008420: 2020 2020 2020 2a2a 736e 5f6d 7661 2a2a        **sn_mva**
+00008430: 2028 6c69 7374 206f 6620 666c 6f61 7473   (list of floats
+00008440: 2c20 6465 6661 756c 7420 4e6f 6e65 2920  , default None) 
+00008450: 2d20 4e6f 6d69 6e61 6c20 706f 7765 7220  - Nominal power 
+00008460: 6f66 2074 6865 206c 6f61 6473 0d0a 0d0a  of the loads....
+00008470: 2020 2020 2020 2020 2a2a 6e61 6d65 2a2a          **name**
+00008480: 2028 6c69 7374 206f 6620 7374 7269 6e67   (list of string
+00008490: 732c 2064 6566 6175 6c74 204e 6f6e 6529  s, default None)
+000084a0: 202d 2054 6865 206e 616d 6520 666f 7220   - The name for 
+000084b0: 7468 6973 206c 6f61 640d 0a0d 0a20 2020  this load....   
+000084c0: 2020 2020 202a 2a73 6361 6c69 6e67 2a2a       **scaling**
+000084d0: 2028 6c69 7374 206f 6620 666c 6f61 7473   (list of floats
+000084e0: 2c20 6465 6661 756c 7420 312e 2920 2d20  , default 1.) - 
+000084f0: 416e 204f 5054 494f 4e41 4c20 7363 616c  An OPTIONAL scal
+00008500: 696e 6720 6661 6374 6f72 2074 6f20 6265  ing factor to be
+00008510: 2073 6574 2063 7573 746f 6d6c 792e 0d0a   set customly...
+00008520: 2020 2020 2020 2020 4d75 6c74 6970 6c79          Multiply
+00008530: 7320 7769 7468 2070 5f6d 7720 616e 6420  s with p_mw and 
+00008540: 715f 6d76 6172 2e0d 0a0d 0a20 2020 2020  q_mvar.....     
+00008550: 2020 202a 2a74 7970 652a 2a20 2873 7472     **type** (str
+00008560: 696e 672c 204e 6f6e 6529 202d 2020 7479  ing, None) -  ty
+00008570: 7065 2076 6172 6961 626c 6520 746f 2063  pe variable to c
+00008580: 6c61 7373 6966 7920 7468 6520 6c6f 6164  lassify the load
+00008590: 0d0a 0d0a 2020 2020 2020 2020 2a2a 696e  ....        **in
+000085a0: 6465 782a 2a20 286c 6973 7420 6f66 2069  dex** (list of i
+000085b0: 6e74 2c20 4e6f 6e65 2920 2d20 466f 7263  nt, None) - Forc
+000085c0: 6520 6120 7370 6563 6966 6965 6420 4944  e a specified ID
+000085d0: 2069 6620 6974 2069 7320 6176 6169 6c61   if it is availa
+000085e0: 626c 652e 2049 6620 4e6f 6e65 2c20 7468  ble. If None, th
+000085f0: 6520 696e 6465 785c 0d0a 2020 2020 2020  e index\..      
+00008600: 2020 2020 2020 6973 2073 6574 2074 6f20        is set to 
+00008610: 6120 7261 6e67 6520 6265 7477 6565 6e20  a range between 
+00008620: 6f6e 6520 6869 6768 6572 2074 6861 6e20  one higher than 
+00008630: 7468 6520 6869 6768 6573 7420 616c 7265  the highest alre
+00008640: 6164 7920 6578 6973 7469 6e67 2069 6e64  ady existing ind
+00008650: 6578 2061 6e64 2074 6865 205c 0d0a 2020  ex and the \..  
+00008660: 2020 2020 2020 2020 2020 6c65 6e67 7468            length
+00008670: 206f 6620 6c6f 6164 7320 7468 6174 2073   of loads that s
+00008680: 6861 6c6c 2062 6520 6372 6561 7465 642e  hall be created.
+00008690: 0d0a 0d0a 2020 2020 2020 2020 2a2a 696e  ....        **in
+000086a0: 5f73 6572 7669 6365 2a2a 2028 6c69 7374  _service** (list
+000086b0: 206f 6620 626f 6f6c 6561 6e29 202d 2054   of boolean) - T
+000086c0: 7275 6520 666f 7220 696e 5f73 6572 7669  rue for in_servi
+000086d0: 6365 206f 7220 4661 6c73 6520 666f 7220  ce or False for 
+000086e0: 6f75 7420 6f66 2073 6572 7669 6365 0d0a  out of service..
+000086f0: 0d0a 2020 2020 2020 2020 2a2a 6d61 785f  ..        **max_
+00008700: 705f 6d77 2a2a 2028 6c69 7374 206f 6620  p_mw** (list of 
+00008710: 666c 6f61 7473 2c20 6465 6661 756c 7420  floats, default 
+00008720: 4e61 4e29 202d 204d 6178 696d 756d 2061  NaN) - Maximum a
+00008730: 6374 6976 6520 706f 7765 7220 6c6f 6164  ctive power load
+00008740: 202d 206e 6563 6573 7361 7279 2066 6f72   - necessary for
+00008750: 205c 0d0a 2020 2020 2020 2020 2020 2020   \..            
+00008760: 636f 6e74 726f 6c6c 6162 6c65 206c 6f61  controllable loa
+00008770: 6473 2069 6e20 666f 7220 4f50 460d 0a0d  ds in for OPF...
+00008780: 0a20 2020 2020 2020 202a 2a6d 696e 5f70  .        **min_p
+00008790: 5f6d 772a 2a20 286c 6973 7420 6f66 2066  _mw** (list of f
+000087a0: 6c6f 6174 732c 2064 6566 6175 6c74 204e  loats, default N
+000087b0: 614e 2920 2d20 4d69 6e69 6d75 6d20 6163  aN) - Minimum ac
+000087c0: 7469 7665 2070 6f77 6572 206c 6f61 6420  tive power load 
+000087d0: 2d20 6e65 6365 7373 6172 7920 666f 7220  - necessary for 
+000087e0: 5c0d 0a20 2020 2020 2020 2020 2020 2063  \..            c
+000087f0: 6f6e 7472 6f6c 6c61 626c 6520 6c6f 6164  ontrollable load
+00008800: 7320 696e 2066 6f72 204f 5046 0d0a 0d0a  s in for OPF....
+00008810: 2020 2020 2020 2020 2a2a 6d61 785f 715f          **max_q_
+00008820: 6d76 6172 2a2a 2028 6c69 7374 206f 6620  mvar** (list of 
+00008830: 666c 6f61 7473 2c20 6465 6661 756c 7420  floats, default 
+00008840: 4e61 4e29 202d 204d 6178 696d 756d 2072  NaN) - Maximum r
+00008850: 6561 6374 6976 6520 706f 7765 7220 6c6f  eactive power lo
+00008860: 6164 202d 206e 6563 6573 7361 7279 2066  ad - necessary f
+00008870: 6f72 205c 0d0a 2020 2020 2020 2020 2020  or \..          
+00008880: 2020 636f 6e74 726f 6c6c 6162 6c65 206c    controllable l
+00008890: 6f61 6473 2069 6e20 666f 7220 4f50 460d  oads in for OPF.
+000088a0: 0a0d 0a20 2020 2020 2020 202a 2a6d 696e  ...        **min
+000088b0: 5f71 5f6d 7661 722a 2a20 286c 6973 7420  _q_mvar** (list 
+000088c0: 6f66 2066 6c6f 6174 732c 2064 6566 6175  of floats, defau
+000088d0: 6c74 204e 614e 2920 2d20 4d69 6e69 6d75  lt NaN) - Minimu
+000088e0: 6d20 7265 6163 7469 7665 2070 6f77 6572  m reactive power
+000088f0: 206c 6f61 6420 2d20 6e65 6365 7373 6172   load - necessar
+00008900: 7920 666f 7220 5c0d 0a20 2020 2020 2020  y for \..       
+00008910: 2020 2020 2063 6f6e 7472 6f6c 6c61 626c       controllabl
+00008920: 6520 6c6f 6164 7320 696e 204f 5046 0d0a  e loads in OPF..
+00008930: 0d0a 2020 2020 2020 2020 2a2a 636f 6e74  ..        **cont
+00008940: 726f 6c6c 6162 6c65 2a2a 2028 6c69 7374  rollable** (list
+00008950: 206f 6620 626f 6f6c 6561 6e2c 2064 6566   of boolean, def
+00008960: 6175 6c74 204e 614e 2920 2d20 5374 6174  ault NaN) - Stat
+00008970: 6573 2c20 7768 6574 6865 7220 6120 6c6f  es, whether a lo
+00008980: 6164 2069 7320 636f 6e74 726f 6c6c 6162  ad is controllab
+00008990: 6c65 205c 0d0a 2020 2020 2020 2020 2020  le \..          
+000089a0: 2020 6f72 206e 6f74 2e20 4f6e 6c79 2072    or not. Only r
+000089b0: 6573 7065 6374 6564 2066 6f72 204f 5046  espected for OPF
+000089c0: 0d0a 2020 2020 2020 2020 2020 2020 4465  ..            De
+000089d0: 6661 756c 7473 2074 6f20 4661 6c73 6520  faults to False 
+000089e0: 6966 2022 636f 6e74 726f 6c6c 6162 6c65  if "controllable
+000089f0: 2220 636f 6c75 6d6e 2065 7869 7374 7320  " column exists 
+00008a00: 696e 2044 6174 6146 7261 6d65 0d0a 0d0a  in DataFrame....
+00008a10: 2020 2020 4f55 5450 5554 3a0d 0a20 2020      OUTPUT:..   
+00008a20: 2020 2020 202a 2a69 6e64 6578 2a2a 2028       **index** (
+00008a30: 696e 7429 202d 2054 6865 2075 6e69 7175  int) - The uniqu
+00008a40: 6520 4944 7320 6f66 2074 6865 2063 7265  e IDs of the cre
+00008a50: 6174 6564 2065 6c65 6d65 6e74 730d 0a0d  ated elements...
+00008a60: 0a20 2020 2045 5841 4d50 4c45 3a0d 0a20  .    EXAMPLE:.. 
+00008a70: 2020 2020 2020 2063 7265 6174 655f 6c6f         create_lo
+00008a80: 6164 7328 6e65 742c 2062 7573 6573 3d5b  ads(net, buses=[
+00008a90: 302c 2032 5d2c 2070 5f6d 773d 5b31 302e  0, 2], p_mw=[10.
+00008aa0: 2c20 352e 5d2c 2071 5f6d 7661 723d 5b32  , 5.], q_mvar=[2
+00008ab0: 2e2c 2030 2e5d 290d 0a0d 0a20 2020 2022  ., 0.])....    "
+00008ac0: 2222 0d0a 2020 2020 5f63 6865 636b 5f6d  ""..    _check_m
+00008ad0: 756c 7469 706c 655f 6e6f 6465 5f65 6c65  ultiple_node_ele
+00008ae0: 6d65 6e74 7328 6e65 742c 2062 7573 6573  ments(net, buses
+00008af0: 290d 0a0d 0a20 2020 2069 6e64 6578 203d  )....    index =
+00008b00: 205f 6765 745f 6d75 6c74 6970 6c65 5f69   _get_multiple_i
+00008b10: 6e64 6578 5f77 6974 685f 6368 6563 6b28  ndex_with_check(
+00008b20: 6e65 742c 2022 6c6f 6164 222c 2069 6e64  net, "load", ind
+00008b30: 6578 2c20 6c65 6e28 6275 7365 7329 290d  ex, len(buses)).
+00008b40: 0a0d 0a20 2020 2065 6e74 7269 6573 203d  ...    entries =
+00008b50: 207b 2262 7573 223a 2062 7573 6573 2c20   {"bus": buses, 
+00008b60: 2270 5f6d 7722 3a20 705f 6d77 2c20 2271  "p_mw": p_mw, "q
+00008b70: 5f6d 7661 7222 3a20 715f 6d76 6172 2c20  _mvar": q_mvar, 
+00008b80: 2273 6e5f 6d76 6122 3a20 736e 5f6d 7661  "sn_mva": sn_mva
+00008b90: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
+00008ba0: 2020 2263 6f6e 7374 5f7a 5f70 6572 6365    "const_z_perce
+00008bb0: 6e74 223a 2063 6f6e 7374 5f7a 5f70 6572  nt": const_z_per
+00008bc0: 6365 6e74 2c20 2263 6f6e 7374 5f69 5f70  cent, "const_i_p
+00008bd0: 6572 6365 6e74 223a 2063 6f6e 7374 5f69  ercent": const_i
+00008be0: 5f70 6572 6365 6e74 2c0d 0a20 2020 2020  _percent,..     
+00008bf0: 2020 2020 2020 2020 2020 2273 6361 6c69            "scali
+00008c00: 6e67 223a 2073 6361 6c69 6e67 2c20 2269  ng": scaling, "i
+00008c10: 6e5f 7365 7276 6963 6522 3a20 696e 5f73  n_service": in_s
+00008c20: 6572 7669 6365 2c20 226e 616d 6522 3a20  ervice, "name": 
+00008c30: 6e61 6d65 2c20 2274 7970 6522 3a20 7479  name, "type": ty
+00008c40: 7065 7d0d 0a0d 0a20 2020 205f 6164 645f  pe}....    _add_
+00008c50: 7365 7269 6573 5f74 6f5f 656e 7472 6965  series_to_entrie
+00008c60: 7328 656e 7472 6965 732c 2069 6e64 6578  s(entries, index
+00008c70: 2c20 226d 696e 5f70 5f6d 7722 2c20 6d69  , "min_p_mw", mi
+00008c80: 6e5f 705f 6d77 290d 0a20 2020 205f 6164  n_p_mw)..    _ad
+00008c90: 645f 7365 7269 6573 5f74 6f5f 656e 7472  d_series_to_entr
+00008ca0: 6965 7328 656e 7472 6965 732c 2069 6e64  ies(entries, ind
+00008cb0: 6578 2c20 226d 6178 5f70 5f6d 7722 2c20  ex, "max_p_mw", 
+00008cc0: 6d61 785f 705f 6d77 290d 0a20 2020 205f  max_p_mw)..    _
+00008cd0: 6164 645f 7365 7269 6573 5f74 6f5f 656e  add_series_to_en
+00008ce0: 7472 6965 7328 656e 7472 6965 732c 2069  tries(entries, i
+00008cf0: 6e64 6578 2c20 226d 696e 5f71 5f6d 7661  ndex, "min_q_mva
+00008d00: 7222 2c20 6d69 6e5f 715f 6d76 6172 290d  r", min_q_mvar).
+00008d10: 0a20 2020 205f 6164 645f 7365 7269 6573  .    _add_series
+00008d20: 5f74 6f5f 656e 7472 6965 7328 656e 7472  _to_entries(entr
+00008d30: 6965 732c 2069 6e64 6578 2c20 226d 6178  ies, index, "max
+00008d40: 5f71 5f6d 7661 7222 2c20 6d61 785f 715f  _q_mvar", max_q_
+00008d50: 6d76 6172 290d 0a20 2020 205f 6164 645f  mvar)..    _add_
+00008d60: 7365 7269 6573 5f74 6f5f 656e 7472 6965  series_to_entrie
+00008d70: 7328 656e 7472 6965 732c 2069 6e64 6578  s(entries, index
+00008d80: 2c20 2263 6f6e 7472 6f6c 6c61 626c 6522  , "controllable"
+00008d90: 2c20 636f 6e74 726f 6c6c 6162 6c65 2c20  , controllable, 
+00008da0: 6474 7970 3d62 6f6f 6c5f 2c0d 0a20 2020  dtyp=bool_,..   
+00008db0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008dc0: 2020 2020 2020 2020 6465 6661 756c 745f          default_
+00008dd0: 7661 6c3d 4661 6c73 6529 0d0a 0d0a 2020  val=False)....  
+00008de0: 2020 5f73 6574 5f6d 756c 7469 706c 655f    _set_multiple_
+00008df0: 656e 7472 6965 7328 6e65 742c 2022 6c6f  entries(net, "lo
+00008e00: 6164 222c 2069 6e64 6578 2c20 2a2a 656e  ad", index, **en
+00008e10: 7472 6965 732c 202a 2a6b 7761 7267 7329  tries, **kwargs)
+00008e20: 0d0a 0d0a 2020 2020 7265 7475 726e 2069  ....    return i
+00008e30: 6e64 6578 0d0a 0d0a 0d0a 6465 6620 6372  ndex......def cr
+00008e40: 6561 7465 5f61 7379 6d6d 6574 7269 635f  eate_asymmetric_
+00008e50: 6c6f 6164 286e 6574 2c20 6275 732c 2070  load(net, bus, p
+00008e60: 5f61 5f6d 773d 302c 2070 5f62 5f6d 773d  _a_mw=0, p_b_mw=
+00008e70: 302c 2070 5f63 5f6d 773d 302c 2071 5f61  0, p_c_mw=0, q_a
+00008e80: 5f6d 7661 723d 302c 2071 5f62 5f6d 7661  _mvar=0, q_b_mva
+00008e90: 723d 302c 0d0a 2020 2020 2020 2020 2020  r=0,..          
+00008ea0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008eb0: 2071 5f63 5f6d 7661 723d 302c 2073 6e5f   q_c_mvar=0, sn_
+00008ec0: 6d76 613d 6e61 6e2c 206e 616d 653d 4e6f  mva=nan, name=No
+00008ed0: 6e65 2c20 7363 616c 696e 673d 312e 2c20  ne, scaling=1., 
+00008ee0: 696e 6465 783d 4e6f 6e65 2c0d 0a20 2020  index=None,..   
+00008ef0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008f00: 2020 2020 2020 2020 696e 5f73 6572 7669          in_servi
+00008f10: 6365 3d54 7275 652c 2074 7970 653d 2277  ce=True, type="w
+00008f20: 7965 2229 3a0d 0a20 2020 2022 2222 0d0a  ye"):..    """..
+00008f30: 2020 2020 4164 6473 206f 6e65 2033 2070      Adds one 3 p
+00008f40: 6861 7365 206c 6f61 6420 696e 2074 6162  hase load in tab
+00008f50: 6c65 206e 6574 5b22 6173 796d 6d65 7472  le net["asymmetr
+00008f60: 6963 5f6c 6f61 6422 5d2e 0d0a 0d0a 2020  ic_load"].....  
+00008f70: 2020 416c 6c20 6c6f 6164 7320 6172 6520    All loads are 
+00008f80: 6d6f 6465 6c6c 6564 2069 6e20 7468 6520  modelled in the 
+00008f90: 636f 6e73 756d 6572 2073 7973 7465 6d2c  consumer system,
+00008fa0: 206d 6561 6e69 6e67 206c 6f61 6420 6973   meaning load is
+00008fb0: 2070 6f73 6974 6976 6520 616e 6420 6765   positive and ge
+00008fc0: 6e65 7261 7469 6f6e 2069 730d 0a20 2020  neration is..   
+00008fd0: 206e 6567 6174 6976 6520 6163 7469 7665   negative active
+00008fe0: 2070 6f77 6572 2e20 506c 6561 7365 2070   power. Please p
+00008ff0: 6179 2061 7474 656e 7469 6f6e 2074 6f20  ay attention to 
+00009000: 7468 6520 636f 7272 6563 7420 7369 676e  the correct sign
+00009010: 696e 6720 6f66 2074 6865 2072 6561 6374  ing of the react
+00009020: 6976 6520 706f 7765 7220 6173 0d0a 2020  ive power as..  
+00009030: 2020 7765 6c6c 2e0d 0a0d 0a20 2020 2049    well.....    I
+00009040: 4e50 5554 3a0d 0a20 2020 2020 2020 202a  NPUT:..        *
+00009050: 2a6e 6574 2a2a 202d 2054 6865 206e 6574  *net** - The net
+00009060: 2077 6974 6869 6e20 7468 6973 206c 6f61   within this loa
+00009070: 6420 7368 6f75 6c64 2062 6520 6372 6561  d should be crea
+00009080: 7465 640d 0a0d 0a20 2020 2020 2020 202a  ted....        *
+00009090: 2a62 7573 2a2a 2028 696e 7429 202d 2054  *bus** (int) - T
+000090a0: 6865 2062 7573 2069 6420 746f 2077 6869  he bus id to whi
+000090b0: 6368 2074 6865 206c 6f61 6420 6973 2063  ch the load is c
+000090c0: 6f6e 6e65 6374 6564 0d0a 0d0a 2020 2020  onnected....    
+000090d0: 4f50 5449 4f4e 414c 3a0d 0a20 2020 2020  OPTIONAL:..     
+000090e0: 2020 202a 2a70 5f61 5f6d 772a 2a20 2866     **p_a_mw** (f
+000090f0: 6c6f 6174 2c20 6465 6661 756c 7420 3029  loat, default 0)
+00009100: 202d 2054 6865 2061 6374 6976 6520 706f   - The active po
+00009110: 7765 7220 666f 7220 5068 6173 6520 4120  wer for Phase A 
+00009120: 6c6f 6164 0d0a 0d0a 2020 2020 2020 2020  load....        
+00009130: 2a2a 705f 625f 6d77 2a2a 2028 666c 6f61  **p_b_mw** (floa
+00009140: 742c 2064 6566 6175 6c74 2030 2920 2d20  t, default 0) - 
+00009150: 5468 6520 6163 7469 7665 2070 6f77 6572  The active power
+00009160: 2066 6f72 2050 6861 7365 2042 206c 6f61   for Phase B loa
+00009170: 640d 0a0d 0a20 2020 2020 2020 202a 2a70  d....        **p
+00009180: 5f63 5f6d 772a 2a20 2866 6c6f 6174 2c20  _c_mw** (float, 
+00009190: 6465 6661 756c 7420 3029 202d 2054 6865  default 0) - The
+000091a0: 2061 6374 6976 6520 706f 7765 7220 666f   active power fo
+000091b0: 7220 5068 6173 6520 4320 6c6f 6164 0d0a  r Phase C load..
+000091c0: 0d0a 2020 2020 2020 2020 2a2a 715f 615f  ..        **q_a_
+000091d0: 6d76 6172 2a2a 2066 6c6f 6174 2c20 6465  mvar** float, de
+000091e0: 6661 756c 7420 3029 202d 2054 6865 2072  fault 0) - The r
+000091f0: 6561 6374 6976 6520 706f 7765 7220 666f  eactive power fo
+00009200: 7220 5068 6173 6520 4120 6c6f 6164 0d0a  r Phase A load..
+00009210: 0d0a 2020 2020 2020 2020 2a2a 715f 625f  ..        **q_b_
+00009220: 6d76 6172 2a2a 2066 6c6f 6174 2c20 6465  mvar** float, de
+00009230: 6661 756c 7420 3029 202d 2054 6865 2072  fault 0) - The r
+00009240: 6561 6374 6976 6520 706f 7765 7220 666f  eactive power fo
+00009250: 7220 5068 6173 6520 4220 6c6f 6164 0d0a  r Phase B load..
+00009260: 0d0a 2020 2020 2020 2020 2a2a 715f 635f  ..        **q_c_
+00009270: 6d76 6172 2a2a 2028 666c 6f61 742c 2064  mvar** (float, d
+00009280: 6566 6175 6c74 2030 2920 2d20 5468 6520  efault 0) - The 
+00009290: 7265 6163 7469 7665 2070 6f77 6572 2066  reactive power f
+000092a0: 6f72 2050 6861 7365 2043 206c 6f61 640d  or Phase C load.
+000092b0: 0a0d 0a20 2020 2020 2020 202a 2a73 6e5f  ...        **sn_
+000092c0: 6b76 612a 2a20 2866 6c6f 6174 2c20 6465  kva** (float, de
+000092d0: 6661 756c 743a 204e 6f6e 6529 202d 204e  fault: None) - N
+000092e0: 6f6d 696e 616c 2070 6f77 6572 206f 6620  ominal power of 
+000092f0: 7468 6520 6c6f 6164 0d0a 0d0a 2020 2020  the load....    
+00009300: 2020 2020 2a2a 6e61 6d65 2a2a 2028 7374      **name** (st
+00009310: 7269 6e67 2c20 6465 6661 756c 743a 204e  ring, default: N
+00009320: 6f6e 6529 202d 2054 6865 206e 616d 6520  one) - The name 
+00009330: 666f 7220 7468 6973 206c 6f61 640d 0a0d  for this load...
+00009340: 0a20 2020 2020 2020 202a 2a73 6361 6c69  .        **scali
+00009350: 6e67 2a2a 2028 666c 6f61 742c 2064 6566  ng** (float, def
+00009360: 6175 6c74 3a20 312e 2920 2d20 416e 204f  ault: 1.) - An O
+00009370: 5054 494f 4e41 4c20 7363 616c 696e 6720  PTIONAL scaling 
+00009380: 6661 6374 6f72 2074 6f20 6265 2073 6574  factor to be set
+00009390: 2063 7573 746f 6d6c 790d 0a20 2020 2020   customly..     
+000093a0: 2020 204d 756c 7469 706c 7973 2077 6974     Multiplys wit
+000093b0: 6820 705f 6d77 2061 6e64 2071 5f6d 7661  h p_mw and q_mva
+000093c0: 7220 6f66 2061 6c6c 2070 6861 7365 732e  r of all phases.
+000093d0: 0d0a 0d0a 2020 2020 2020 2020 2a2a 7479  ....        **ty
+000093e0: 7065 2a2a 2028 7374 7269 6e67 2c64 6566  pe** (string,def
+000093f0: 6175 6c74 3a20 7779 6529 202d 2020 7479  ault: wye) -  ty
+00009400: 7065 2076 6172 6961 626c 6520 746f 2063  pe variable to c
+00009410: 6c61 7373 6966 7920 7468 7265 6520 7068  lassify three ph
+00009420: 206c 6f61 643a 2064 656c 7461 2f77 7965   load: delta/wye
+00009430: 0d0a 0d0a 2020 2020 2020 2020 2a2a 696e  ....        **in
+00009440: 6465 782a 2a20 2869 6e74 2c64 6566 6175  dex** (int,defau
+00009450: 6c74 3a20 4e6f 6e65 2920 2d20 466f 7263  lt: None) - Forc
+00009460: 6520 6120 7370 6563 6966 6965 6420 4944  e a specified ID
+00009470: 2069 6620 6974 2069 7320 6176 6169 6c61   if it is availa
+00009480: 626c 652e 2049 6620 4e6f 6e65 2c20 7468  ble. If None, th
+00009490: 6520 696e 6465 785c 0d0a 2020 2020 2020  e index\..      
+000094a0: 2020 2020 2020 6f6e 6520 6869 6768 6572        one higher
+000094b0: 2074 6861 6e20 7468 6520 6869 6768 6573   than the highes
+000094c0: 7420 616c 7265 6164 7920 6578 6973 7469  t already existi
+000094d0: 6e67 2069 6e64 6578 2069 7320 7365 6c65  ng index is sele
+000094e0: 6374 6564 2e0d 0a0d 0a20 2020 2020 2020  cted.....       
+000094f0: 202a 2a69 6e5f 7365 7276 6963 652a 2a20   **in_service** 
+00009500: 2862 6f6f 6c65 616e 2920 2d20 5472 7565  (boolean) - True
+00009510: 2066 6f72 2069 6e5f 7365 7276 6963 6520   for in_service 
+00009520: 6f72 2046 616c 7365 2066 6f72 206f 7574  or False for out
+00009530: 206f 6620 7365 7276 6963 650d 0a0d 0a20   of service.... 
+00009540: 2020 204f 5554 5055 543a 0d0a 2020 2020     OUTPUT:..    
+00009550: 2020 2020 2a2a 696e 6465 782a 2a20 2869      **index** (i
+00009560: 6e74 2920 2d20 5468 6520 756e 6971 7565  nt) - The unique
+00009570: 2049 4420 6f66 2074 6865 2063 7265 6174   ID of the creat
+00009580: 6564 2065 6c65 6d65 6e74 0d0a 0d0a 2020  ed element....  
+00009590: 2020 4558 414d 504c 453a 0d0a 2020 2020    EXAMPLE:..    
+000095a0: 2020 2020 2a2a 6372 6561 7465 5f61 7379      **create_asy
+000095b0: 6d6d 6574 7269 635f 6c6f 6164 286e 6574  mmetric_load(net
+000095c0: 2c20 6275 733d 302c 2070 5f63 5f6d 7720  , bus=0, p_c_mw 
+000095d0: 3d20 392e 2c20 715f 635f 6d76 6172 203d  = 9., q_c_mvar =
+000095e0: 2031 2e38 292a 2a0d 0a0d 0a20 2020 2022   1.8)**....    "
+000095f0: 2222 0d0a 2020 2020 5f63 6865 636b 5f6e  ""..    _check_n
+00009600: 6f64 655f 656c 656d 656e 7428 6e65 742c  ode_element(net,
+00009610: 2062 7573 290d 0a0d 0a20 2020 2069 6e64   bus)....    ind
+00009620: 6578 203d 205f 6765 745f 696e 6465 785f  ex = _get_index_
+00009630: 7769 7468 5f63 6865 636b 286e 6574 2c20  with_check(net, 
+00009640: 2261 7379 6d6d 6574 7269 635f 6c6f 6164  "asymmetric_load
+00009650: 222c 2069 6e64 6578 2c20 6e61 6d65 3d22  ", index, name="
+00009660: 3320 7068 6173 6520 6173 796d 6d65 7472  3 phase asymmetr
+00009670: 6963 5f6c 6f61 6422 290d 0a0d 0a20 2020  ic_load")....   
+00009680: 2065 6e74 7269 6573 203d 2064 6963 7428   entries = dict(
+00009690: 7a69 7028 5b22 6e61 6d65 222c 2022 6275  zip(["name", "bu
+000096a0: 7322 2c20 2270 5f61 5f6d 7722 2c20 2270  s", "p_a_mw", "p
+000096b0: 5f62 5f6d 7722 2c20 2270 5f63 5f6d 7722  _b_mw", "p_c_mw"
+000096c0: 2c20 2273 6361 6c69 6e67 222c 2022 715f  , "scaling", "q_
+000096d0: 615f 6d76 6172 222c 0d0a 2020 2020 2020  a_mvar",..      
+000096e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000096f0: 2020 2271 5f62 5f6d 7661 7222 2c20 2271    "q_b_mvar", "q
+00009700: 5f63 5f6d 7661 7222 2c20 2273 6e5f 6d76  _c_mvar", "sn_mv
+00009710: 6122 2c20 2269 6e5f 7365 7276 6963 6522  a", "in_service"
+00009720: 2c20 2274 7970 6522 5d2c 0d0a 2020 2020  , "type"],..    
+00009730: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009740: 2020 205b 6e61 6d65 2c20 6275 732c 2070     [name, bus, p
+00009750: 5f61 5f6d 772c 2070 5f62 5f6d 772c 2070  _a_mw, p_b_mw, p
+00009760: 5f63 5f6d 772c 2073 6361 6c69 6e67 2c20  _c_mw, scaling, 
+00009770: 715f 615f 6d76 6172 2c20 715f 625f 6d76  q_a_mvar, q_b_mv
+00009780: 6172 2c20 715f 635f 6d76 6172 2c0d 0a20  ar, q_c_mvar,.. 
+00009790: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000097a0: 2020 2020 2020 2073 6e5f 6d76 612c 2062         sn_mva, b
+000097b0: 6f6f 6c28 696e 5f73 6572 7669 6365 292c  ool(in_service),
+000097c0: 2074 7970 655d 2929 0d0a 0d0a 2020 2020   type]))....    
+000097d0: 5f73 6574 5f65 6e74 7269 6573 286e 6574  _set_entries(net
+000097e0: 2c20 2261 7379 6d6d 6574 7269 635f 6c6f  , "asymmetric_lo
+000097f0: 6164 222c 2069 6e64 6578 2c20 5472 7565  ad", index, True
+00009800: 2c20 2a2a 656e 7472 6965 7329 0d0a 0d0a  , **entries)....
+00009810: 2020 2020 7265 7475 726e 2069 6e64 6578      return index
+00009820: 0d0a 0d0a 0d0a 2320 3d3d 3d3d 3d3d 3d3d  ......# ========
 00009830: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
 00009840: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
 00009850: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00009860: 3d3d 3d3d 3d3d 0d0a 2320 6465 6620 6372  ======..# def cr
-00009870: 6561 7465 5f69 6d70 6564 616e 6365 5f6c  eate_impedance_l
-00009880: 6f61 6428 6e65 742c 2062 7573 2c20 725f  oad(net, bus, r_
-00009890: 4120 2c20 725f 4220 2c20 725f 432c 2078  A , r_B , r_C, x
-000098a0: 5f41 3d30 2c20 785f 423d 302c 2078 5f43  _A=0, x_B=0, x_C
-000098b0: 3d30 2c0d 0a23 2020 2020 2020 2020 2020  =0,..#          
-000098c0: 2020 2020 2020 2020 2020 2020 736e 5f6d              sn_m
-000098d0: 7661 3d6e 616e 2c20 6e61 6d65 3d4e 6f6e  va=nan, name=Non
-000098e0: 652c 2073 6361 6c69 6e67 3d31 2e2c 0d0a  e, scaling=1.,..
-000098f0: 2320 2020 2020 2020 2020 2020 2020 2020  #               
-00009900: 2020 2020 2020 696e 6465 783d 4e6f 6e65        index=None
-00009910: 2c20 696e 5f73 6572 7669 6365 3d54 7275  , in_service=Tru
-00009920: 652c 2074 7970 653d 4e6f 6e65 2c0d 0a23  e, type=None,..#
-00009930: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009940: 2020 2020 2029 3a0d 0a23 2020 2020 2022       ):..#     "
-00009950: 2222 0d0a 2320 2020 2020 4372 6561 7465  ""..#     Create
-00009960: 7320 6120 636f 6e73 7461 6e74 2069 6d70  s a constant imp
-00009970: 6564 616e 6365 206c 6f61 6420 656c 656d  edance load elem
-00009980: 656e 7420 4142 432e 0d0a 230d 0a23 2020  ent ABC...#..#  
-00009990: 2020 2049 4e50 5554 3a0d 0a23 2020 2020     INPUT:..#    
-000099a0: 2020 2020 202a 2a6e 6574 2a2a 202d 2054       **net** - T
-000099b0: 6865 206e 6574 2077 6974 6869 6e20 7468  he net within th
-000099c0: 6973 2063 6f6e 7374 616e 7420 696d 7065  is constant impe
-000099d0: 6461 6e63 6520 6c6f 6164 2073 686f 756c  dance load shoul
-000099e0: 6420 6265 2063 7265 6174 6564 0d0a 230d  d be created..#.
-000099f0: 0a23 2020 2020 2020 2020 202a 2a62 7573  .#         **bus
-00009a00: 2a2a 2028 696e 7429 202d 2054 6865 2062  ** (int) - The b
-00009a10: 7573 2069 6420 746f 2077 6869 6368 2074  us id to which t
-00009a20: 6865 206c 6f61 6420 6973 2063 6f6e 6e65  he load is conne
-00009a30: 6374 6564 0d0a 230d 0a23 2020 2020 2020  cted..#..#      
-00009a40: 2020 202a 2a73 6e5f 6d76 612a 2a20 2866     **sn_mva** (f
-00009a50: 6c6f 6174 2920 2d20 7261 7465 6420 706f  loat) - rated po
-00009a60: 7765 7220 6f66 2074 6865 206c 6f61 640d  wer of the load.
-00009a70: 0a23 0d0a 2320 2020 2020 2020 2020 2a2a  .#..#         **
-00009a80: 725f 412a 2a20 2866 6c6f 6174 2920 2d20  r_A** (float) - 
-00009a90: 5265 7369 7374 616e 6365 2069 6e20 5068  Resistance in Ph
-00009aa0: 6173 6520 410d 0a23 2020 2020 2020 2020  ase A..#        
-00009ab0: 202a 2a72 5f42 2a2a 2028 666c 6f61 7429   **r_B** (float)
-00009ac0: 202d 2052 6573 6973 7461 6e63 6520 696e   - Resistance in
-00009ad0: 2050 6861 7365 2042 0d0a 2320 2020 2020   Phase B..#     
-00009ae0: 2020 2020 2a2a 725f 432a 2a20 2866 6c6f      **r_C** (flo
-00009af0: 6174 2920 2d20 5265 7369 7374 616e 6365  at) - Resistance
-00009b00: 2069 6e20 5068 6173 6520 430d 0a23 2020   in Phase C..#  
-00009b10: 2020 2020 2020 202a 2a78 5f41 2a2a 2028         **x_A** (
-00009b20: 666c 6f61 7429 202d 2052 6561 6374 616e  float) - Reactan
-00009b30: 6365 2069 6e20 5068 6173 6520 410d 0a23  ce in Phase A..#
-00009b40: 2020 2020 2020 2020 202a 2a78 5f42 2a2a           **x_B**
-00009b50: 2028 666c 6f61 7429 202d 2052 6561 6374   (float) - React
-00009b60: 616e 6365 2069 6e20 5068 6173 6520 420d  ance in Phase B.
-00009b70: 0a23 2020 2020 2020 2020 202a 2a78 5f43  .#         **x_C
-00009b80: 2a2a 2028 666c 6f61 7429 202d 2052 6561  ** (float) - Rea
-00009b90: 6374 616e 6365 2069 6e20 5068 6173 6520  ctance in Phase 
-00009ba0: 430d 0a23 0d0a 230d 0a23 2020 2020 2020  C..#..#..#      
-00009bb0: 2020 202a 2a6b 7761 7267 7320 6172 6520     **kwargs are 
-00009bc0: 7061 7373 6564 206f 6e20 746f 2074 6865  passed on to the
-00009bd0: 2063 7265 6174 655f 6c6f 6164 2066 756e   create_load fun
-00009be0: 6374 696f 6e0d 0a23 0d0a 2320 2020 2020  ction..#..#     
-00009bf0: 4f55 5450 5554 3a0d 0a23 2020 2020 2020  OUTPUT:..#      
-00009c00: 2020 202a 2a69 6e64 6578 2a2a 2028 696e     **index** (in
-00009c10: 7429 202d 2054 6865 2075 6e69 7175 6520  t) - The unique 
-00009c20: 4944 206f 6620 7468 6520 6372 6561 7465  ID of the create
-00009c30: 6420 6c6f 6164 0d0a 230d 0a23 2020 2020  d load..#..#    
-00009c40: 204c 6f61 6420 656c 656d 656e 7473 2061   Load elements a
-00009c50: 7265 206d 6f64 656c 6564 2066 726f 6d20  re modeled from 
-00009c60: 6120 636f 6e73 756d 6572 2070 6f69 6e74  a consumer point
-00009c70: 206f 6620 7669 6577 2e20 4163 7469 7665   of view. Active
-00009c80: 2070 6f77 6572 2077 696c 6c20 7468 6572   power will ther
-00009c90: 6566 6f72 6520 616c 7761 7973 2062 650d  efore always be.
-00009ca0: 0a23 2020 2020 2070 6f73 6974 6976 652c  .#     positive,
-00009cb0: 2072 6561 6374 6976 6520 706f 7765 7220   reactive power 
-00009cc0: 7769 6c6c 2062 6520 706f 7369 7469 7665  will be positive
-00009cd0: 2066 6f72 2075 6e64 6572 2d65 7863 6974   for under-excit
-00009ce0: 6564 2062 6568 6176 696f 7220 2851 2061  ed behavior (Q a
-00009cf0: 6273 6f72 7074 696f 6e2c 2064 6563 7265  bsorption, decre
-00009d00: 6173 6573 2076 6f6c 7461 6765 2920 616e  ases voltage) an
-00009d10: 6420 6e65 6761 7469 7665 2066 6f72 206f  d negative for o
-00009d20: 7665 722d 6578 6369 7465 6420 6265 6861  ver-excited beha
-00009d30: 7669 6f72 2028 5120 696e 6a65 6374 696f  vior (Q injectio
-00009d40: 6e2c 2069 6e63 7265 6173 6573 2076 6f6c  n, increases vol
-00009d50: 7461 6765 290d 0a23 2020 2020 2022 2222  tage)..#     """
-00009d60: 0d0a 2320 2020 2020 6966 2062 7573 206e  ..#     if bus n
-00009d70: 6f74 2069 6e20 6e65 745b 2262 7573 225d  ot in net["bus"]
-00009d80: 2e69 6e64 6578 2e76 616c 7565 733a 0d0a  .index.values:..
-00009d90: 2320 2020 2020 2020 2020 7261 6973 6520  #         raise 
-00009da0: 5573 6572 5761 726e 696e 6728 2243 616e  UserWarning("Can
-00009db0: 6e6f 7420 6174 7461 6368 2074 6f20 6275  not attach to bu
-00009dc0: 7320 2573 2c20 6275 7320 646f 6573 206e  s %s, bus does n
-00009dd0: 6f74 2065 7869 7374 2220 2520 6275 7329  ot exist" % bus)
-00009de0: 0d0a 230d 0a23 2020 2020 2069 6620 696e  ..#..#     if in
-00009df0: 6465 7820 6973 204e 6f6e 653a 0d0a 2320  dex is None:..# 
-00009e00: 2020 2020 2020 2020 696e 6465 7820 3d20          index = 
-00009e10: 6765 745f 6672 6565 5f69 6428 6e65 745b  get_free_id(net[
-00009e20: 2261 7379 6d6d 6574 7269 635f 6c6f 6164  "asymmetric_load
-00009e30: 225d 290d 0a23 2020 2020 2069 6620 696e  "])..#     if in
-00009e40: 6465 7820 696e 206e 6574 5b22 696d 7065  dex in net["impe
-00009e50: 6461 6e63 655f 6c6f 6164 225d 2e69 6e64  dance_load"].ind
-00009e60: 6578 3a0d 0a23 2020 2020 2020 2020 2072  ex:..#         r
-00009e70: 6169 7365 2055 7365 7257 6172 6e69 6e67  aise UserWarning
-00009e80: 2822 4120 3320 7068 6173 6520 6173 796d  ("A 3 phase asym
-00009e90: 6d65 7472 6963 5f6c 6f61 6420 7769 7468  metric_load with
-00009ea0: 2074 6865 2069 6420 2573 2061 6c72 6561   the id %s alrea
-00009eb0: 6479 2065 7869 7374 7322 2025 2069 6e64  dy exists" % ind
-00009ec0: 6578 290d 0a23 0d0a 2320 2020 2020 2320  ex)..#..#     # 
-00009ed0: 7374 6f72 6520 6474 7970 6573 0d0a 2320  store dtypes..# 
-00009ee0: 2020 2020 6474 7970 6573 203d 206e 6574      dtypes = net
-00009ef0: 2e69 6d70 6564 616e 6365 5f6c 6f61 642e  .impedance_load.
-00009f00: 6474 7970 6573 0d0a 230d 0a23 2020 2020  dtypes..#..#    
-00009f10: 206e 6574 2e69 6d70 6564 616e 6365 5f6c   net.impedance_l
-00009f20: 6f61 642e 6c6f 635b 696e 6465 782c 205b  oad.loc[index, [
-00009f30: 226e 616d 6522 2c20 2262 7573 222c 2022  "name", "bus", "
-00009f40: 725f 4122 2c22 725f 4222 2c22 725f 4322  r_A","r_B","r_C"
-00009f50: 2c20 2273 6361 6c69 6e67 222c 0d0a 2320  , "scaling",..# 
-00009f60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009f70: 2020 2020 2020 2278 5f41 222c 2278 5f42        "x_A","x_B
-00009f80: 222c 2278 5f43 222c 2273 6e5f 6d76 6122  ","x_C","sn_mva"
-00009f90: 2c20 2269 6e5f 7365 7276 6963 6522 2c20  , "in_service", 
-00009fa0: 2274 7970 6522 5d5d 203d 205c 0d0a 2320  "type"]] = \..# 
-00009fb0: 2020 2020 5b6e 616d 652c 2062 7573 2c20      [name, bus, 
-00009fc0: 725f 412c 725f 422c 725f 432c 2073 6361  r_A,r_B,r_C, sca
-00009fd0: 6c69 6e67 2c0d 0a23 2020 2020 2020 2078  ling,..#       x
-00009fe0: 5f41 2c78 5f42 2c78 5f43 2c73 6e5f 6d76  _A,x_B,x_C,sn_mv
-00009ff0: 612c 2062 6f6f 6c28 696e 5f73 6572 7669  a, bool(in_servi
-0000a000: 6365 292c 2074 7970 655d 0d0a 230d 0a23  ce), type]..#..#
-0000a010: 2020 2020 2023 2061 6e64 2070 7265 7365       # and prese
-0000a020: 7276 6520 6474 7970 6573 0d0a 2320 2020  rve dtypes..#   
-0000a030: 2020 5f70 7265 7365 7276 655f 6474 7970    _preserve_dtyp
-0000a040: 6573 286e 6574 2e69 6d70 6564 616e 6365  es(net.impedance
-0000a050: 5f6c 6f61 642c 2064 7479 7065 7329 0d0a  _load, dtypes)..
-0000a060: 230d 0a23 2020 2020 2072 6574 7572 6e20  #..#     return 
-0000a070: 696e 6465 780d 0a23 0d0a 2320 3d3d 3d3d  index..#..# ====
-0000a080: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00009860: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00009870: 3d3d 3d3d 3d0d 0a23 2064 6566 2063 7265  =====..# def cre
+00009880: 6174 655f 696d 7065 6461 6e63 655f 6c6f  ate_impedance_lo
+00009890: 6164 286e 6574 2c20 6275 732c 2072 5f41  ad(net, bus, r_A
+000098a0: 202c 2072 5f42 202c 2072 5f43 2c20 785f   , r_B , r_C, x_
+000098b0: 413d 302c 2078 5f42 3d30 2c20 785f 433d  A=0, x_B=0, x_C=
+000098c0: 302c 0d0a 2320 2020 2020 2020 2020 2020  0,..#           
+000098d0: 2020 2020 2020 2020 2020 2073 6e5f 6d76             sn_mv
+000098e0: 613d 6e61 6e2c 206e 616d 653d 4e6f 6e65  a=nan, name=None
+000098f0: 2c20 7363 616c 696e 673d 312e 2c0d 0a23  , scaling=1.,..#
+00009900: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009910: 2020 2020 2069 6e64 6578 3d4e 6f6e 652c       index=None,
+00009920: 2069 6e5f 7365 7276 6963 653d 5472 7565   in_service=True
+00009930: 2c20 7479 7065 3d4e 6f6e 652c 0d0a 2320  , type=None,..# 
+00009940: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009950: 2020 2020 293a 0d0a 2320 2020 2020 2222      ):..#     ""
+00009960: 220d 0a23 2020 2020 2043 7265 6174 6573  "..#     Creates
+00009970: 2061 2063 6f6e 7374 616e 7420 696d 7065   a constant impe
+00009980: 6461 6e63 6520 6c6f 6164 2065 6c65 6d65  dance load eleme
+00009990: 6e74 2041 4243 2e0d 0a23 0d0a 2320 2020  nt ABC...#..#   
+000099a0: 2020 494e 5055 543a 0d0a 2320 2020 2020    INPUT:..#     
+000099b0: 2020 2020 2a2a 6e65 742a 2a20 2d20 5468      **net** - Th
+000099c0: 6520 6e65 7420 7769 7468 696e 2074 6869  e net within thi
+000099d0: 7320 636f 6e73 7461 6e74 2069 6d70 6564  s constant imped
+000099e0: 616e 6365 206c 6f61 6420 7368 6f75 6c64  ance load should
+000099f0: 2062 6520 6372 6561 7465 640d 0a23 0d0a   be created..#..
+00009a00: 2320 2020 2020 2020 2020 2a2a 6275 732a  #         **bus*
+00009a10: 2a20 2869 6e74 2920 2d20 5468 6520 6275  * (int) - The bu
+00009a20: 7320 6964 2074 6f20 7768 6963 6820 7468  s id to which th
+00009a30: 6520 6c6f 6164 2069 7320 636f 6e6e 6563  e load is connec
+00009a40: 7465 640d 0a23 0d0a 2320 2020 2020 2020  ted..#..#       
+00009a50: 2020 2a2a 736e 5f6d 7661 2a2a 2028 666c    **sn_mva** (fl
+00009a60: 6f61 7429 202d 2072 6174 6564 2070 6f77  oat) - rated pow
+00009a70: 6572 206f 6620 7468 6520 6c6f 6164 0d0a  er of the load..
+00009a80: 230d 0a23 2020 2020 2020 2020 202a 2a72  #..#         **r
+00009a90: 5f41 2a2a 2028 666c 6f61 7429 202d 2052  _A** (float) - R
+00009aa0: 6573 6973 7461 6e63 6520 696e 2050 6861  esistance in Pha
+00009ab0: 7365 2041 0d0a 2320 2020 2020 2020 2020  se A..#         
+00009ac0: 2a2a 725f 422a 2a20 2866 6c6f 6174 2920  **r_B** (float) 
+00009ad0: 2d20 5265 7369 7374 616e 6365 2069 6e20  - Resistance in 
+00009ae0: 5068 6173 6520 420d 0a23 2020 2020 2020  Phase B..#      
+00009af0: 2020 202a 2a72 5f43 2a2a 2028 666c 6f61     **r_C** (floa
+00009b00: 7429 202d 2052 6573 6973 7461 6e63 6520  t) - Resistance 
+00009b10: 696e 2050 6861 7365 2043 0d0a 2320 2020  in Phase C..#   
+00009b20: 2020 2020 2020 2a2a 785f 412a 2a20 2866        **x_A** (f
+00009b30: 6c6f 6174 2920 2d20 5265 6163 7461 6e63  loat) - Reactanc
+00009b40: 6520 696e 2050 6861 7365 2041 0d0a 2320  e in Phase A..# 
+00009b50: 2020 2020 2020 2020 2a2a 785f 422a 2a20          **x_B** 
+00009b60: 2866 6c6f 6174 2920 2d20 5265 6163 7461  (float) - Reacta
+00009b70: 6e63 6520 696e 2050 6861 7365 2042 0d0a  nce in Phase B..
+00009b80: 2320 2020 2020 2020 2020 2a2a 785f 432a  #         **x_C*
+00009b90: 2a20 2866 6c6f 6174 2920 2d20 5265 6163  * (float) - Reac
+00009ba0: 7461 6e63 6520 696e 2050 6861 7365 2043  tance in Phase C
+00009bb0: 0d0a 230d 0a23 0d0a 2320 2020 2020 2020  ..#..#..#       
+00009bc0: 2020 2a2a 6b77 6172 6773 2061 7265 2070    **kwargs are p
+00009bd0: 6173 7365 6420 6f6e 2074 6f20 7468 6520  assed on to the 
+00009be0: 6372 6561 7465 5f6c 6f61 6420 6675 6e63  create_load func
+00009bf0: 7469 6f6e 0d0a 230d 0a23 2020 2020 204f  tion..#..#     O
+00009c00: 5554 5055 543a 0d0a 2320 2020 2020 2020  UTPUT:..#       
+00009c10: 2020 2a2a 696e 6465 782a 2a20 2869 6e74    **index** (int
+00009c20: 2920 2d20 5468 6520 756e 6971 7565 2049  ) - The unique I
+00009c30: 4420 6f66 2074 6865 2063 7265 6174 6564  D of the created
+00009c40: 206c 6f61 640d 0a23 0d0a 2320 2020 2020   load..#..#     
+00009c50: 4c6f 6164 2065 6c65 6d65 6e74 7320 6172  Load elements ar
+00009c60: 6520 6d6f 6465 6c65 6420 6672 6f6d 2061  e modeled from a
+00009c70: 2063 6f6e 7375 6d65 7220 706f 696e 7420   consumer point 
+00009c80: 6f66 2076 6965 772e 2041 6374 6976 6520  of view. Active 
+00009c90: 706f 7765 7220 7769 6c6c 2074 6865 7265  power will there
+00009ca0: 666f 7265 2061 6c77 6179 7320 6265 0d0a  fore always be..
+00009cb0: 2320 2020 2020 706f 7369 7469 7665 2c20  #     positive, 
+00009cc0: 7265 6163 7469 7665 2070 6f77 6572 2077  reactive power w
+00009cd0: 696c 6c20 6265 2070 6f73 6974 6976 6520  ill be positive 
+00009ce0: 666f 7220 756e 6465 722d 6578 6369 7465  for under-excite
+00009cf0: 6420 6265 6861 7669 6f72 2028 5120 6162  d behavior (Q ab
+00009d00: 736f 7270 7469 6f6e 2c20 6465 6372 6561  sorption, decrea
+00009d10: 7365 7320 766f 6c74 6167 6529 2061 6e64  ses voltage) and
+00009d20: 206e 6567 6174 6976 6520 666f 7220 6f76   negative for ov
+00009d30: 6572 2d65 7863 6974 6564 2062 6568 6176  er-excited behav
+00009d40: 696f 7220 2851 2069 6e6a 6563 7469 6f6e  ior (Q injection
+00009d50: 2c20 696e 6372 6561 7365 7320 766f 6c74  , increases volt
+00009d60: 6167 6529 0d0a 2320 2020 2020 2222 220d  age)..#     """.
+00009d70: 0a23 2020 2020 2069 6620 6275 7320 6e6f  .#     if bus no
+00009d80: 7420 696e 206e 6574 5b22 6275 7322 5d2e  t in net["bus"].
+00009d90: 696e 6465 782e 7661 6c75 6573 3a0d 0a23  index.values:..#
+00009da0: 2020 2020 2020 2020 2072 6169 7365 2055           raise U
+00009db0: 7365 7257 6172 6e69 6e67 2822 4361 6e6e  serWarning("Cann
+00009dc0: 6f74 2061 7474 6163 6820 746f 2062 7573  ot attach to bus
+00009dd0: 2025 732c 2062 7573 2064 6f65 7320 6e6f   %s, bus does no
+00009de0: 7420 6578 6973 7422 2025 2062 7573 290d  t exist" % bus).
+00009df0: 0a23 0d0a 2320 2020 2020 6966 2069 6e64  .#..#     if ind
+00009e00: 6578 2069 7320 4e6f 6e65 3a0d 0a23 2020  ex is None:..#  
+00009e10: 2020 2020 2020 2069 6e64 6578 203d 2067         index = g
+00009e20: 6574 5f66 7265 655f 6964 286e 6574 5b22  et_free_id(net["
+00009e30: 6173 796d 6d65 7472 6963 5f6c 6f61 6422  asymmetric_load"
+00009e40: 5d29 0d0a 2320 2020 2020 6966 2069 6e64  ])..#     if ind
+00009e50: 6578 2069 6e20 6e65 745b 2269 6d70 6564  ex in net["imped
+00009e60: 616e 6365 5f6c 6f61 6422 5d2e 696e 6465  ance_load"].inde
+00009e70: 783a 0d0a 2320 2020 2020 2020 2020 7261  x:..#         ra
+00009e80: 6973 6520 5573 6572 5761 726e 696e 6728  ise UserWarning(
+00009e90: 2241 2033 2070 6861 7365 2061 7379 6d6d  "A 3 phase asymm
+00009ea0: 6574 7269 635f 6c6f 6164 2077 6974 6820  etric_load with 
+00009eb0: 7468 6520 6964 2025 7320 616c 7265 6164  the id %s alread
+00009ec0: 7920 6578 6973 7473 2220 2520 696e 6465  y exists" % inde
+00009ed0: 7829 0d0a 230d 0a23 2020 2020 2023 2073  x)..#..#     # s
+00009ee0: 746f 7265 2064 7479 7065 730d 0a23 2020  tore dtypes..#  
+00009ef0: 2020 2064 7479 7065 7320 3d20 6e65 742e     dtypes = net.
+00009f00: 696d 7065 6461 6e63 655f 6c6f 6164 2e64  impedance_load.d
+00009f10: 7479 7065 730d 0a23 0d0a 2320 2020 2020  types..#..#     
+00009f20: 6e65 742e 696d 7065 6461 6e63 655f 6c6f  net.impedance_lo
+00009f30: 6164 2e6c 6f63 5b69 6e64 6578 2c20 5b22  ad.loc[index, ["
+00009f40: 6e61 6d65 222c 2022 6275 7322 2c20 2272  name", "bus", "r
+00009f50: 5f41 222c 2272 5f42 222c 2272 5f43 222c  _A","r_B","r_C",
+00009f60: 2022 7363 616c 696e 6722 2c0d 0a23 2020   "scaling",..#  
+00009f70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009f80: 2020 2020 2022 785f 4122 2c22 785f 4222       "x_A","x_B"
+00009f90: 2c22 785f 4322 2c22 736e 5f6d 7661 222c  ,"x_C","sn_mva",
+00009fa0: 2022 696e 5f73 6572 7669 6365 222c 2022   "in_service", "
+00009fb0: 7479 7065 225d 5d20 3d20 5c0d 0a23 2020  type"]] = \..#  
+00009fc0: 2020 205b 6e61 6d65 2c20 6275 732c 2072     [name, bus, r
+00009fd0: 5f41 2c72 5f42 2c72 5f43 2c20 7363 616c  _A,r_B,r_C, scal
+00009fe0: 696e 672c 0d0a 2320 2020 2020 2020 785f  ing,..#       x_
+00009ff0: 412c 785f 422c 785f 432c 736e 5f6d 7661  A,x_B,x_C,sn_mva
+0000a000: 2c20 626f 6f6c 2869 6e5f 7365 7276 6963  , bool(in_servic
+0000a010: 6529 2c20 7479 7065 5d0d 0a23 0d0a 2320  e), type]..#..# 
+0000a020: 2020 2020 2320 616e 6420 7072 6573 6572      # and preser
+0000a030: 7665 2064 7479 7065 730d 0a23 2020 2020  ve dtypes..#    
+0000a040: 205f 7072 6573 6572 7665 5f64 7479 7065   _preserve_dtype
+0000a050: 7328 6e65 742e 696d 7065 6461 6e63 655f  s(net.impedance_
+0000a060: 6c6f 6164 2c20 6474 7970 6573 290d 0a23  load, dtypes)..#
+0000a070: 0d0a 2320 2020 2020 7265 7475 726e 2069  ..#     return i
+0000a080: 6e64 6578 0d0a 230d 0a23 203d 3d3d 3d3d  ndex..#..# =====
 0000a090: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
 0000a0a0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
 0000a0b0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0000a0c0: 3d3d 3d3d 3d3d 3d3d 3d0d 0a0d 0a0d 0a64  =========......d
-0000a0d0: 6566 2063 7265 6174 655f 6c6f 6164 5f66  ef create_load_f
-0000a0e0: 726f 6d5f 636f 7370 6869 286e 6574 2c20  rom_cosphi(net, 
-0000a0f0: 6275 732c 2073 6e5f 6d76 612c 2063 6f73  bus, sn_mva, cos
-0000a100: 5f70 6869 2c20 6d6f 6465 2c20 2a2a 6b77  _phi, mode, **kw
-0000a110: 6172 6773 293a 0d0a 2020 2020 2222 220d  args):..    """.
-0000a120: 0a20 2020 2043 7265 6174 6573 2061 206c  .    Creates a l
-0000a130: 6f61 6420 656c 656d 656e 7420 6672 6f6d  oad element from
-0000a140: 2072 6174 6564 2070 6f77 6572 2061 6e64   rated power and
-0000a150: 2070 6f77 6572 2066 6163 746f 7220 636f   power factor co
-0000a160: 7328 7068 6929 2e0d 0a0d 0a20 2020 2049  s(phi).....    I
-0000a170: 4e50 5554 3a0d 0a20 2020 2020 2020 202a  NPUT:..        *
-0000a180: 2a6e 6574 2a2a 202d 2054 6865 206e 6574  *net** - The net
-0000a190: 2077 6974 6869 6e20 7468 6973 2073 7461   within this sta
-0000a1a0: 7469 6320 6765 6e65 7261 746f 7220 7368  tic generator sh
-0000a1b0: 6f75 6c64 2062 6520 6372 6561 7465 640d  ould be created.
-0000a1c0: 0a0d 0a20 2020 2020 2020 202a 2a62 7573  ...        **bus
-0000a1d0: 2a2a 2028 696e 7429 202d 2054 6865 2062  ** (int) - The b
-0000a1e0: 7573 2069 6420 746f 2077 6869 6368 2074  us id to which t
-0000a1f0: 6865 206c 6f61 6420 6973 2063 6f6e 6e65  he load is conne
-0000a200: 6374 6564 0d0a 0d0a 2020 2020 2020 2020  cted....        
-0000a210: 2a2a 736e 5f6d 7661 2a2a 2028 666c 6f61  **sn_mva** (floa
-0000a220: 7429 202d 2072 6174 6564 2070 6f77 6572  t) - rated power
-0000a230: 206f 6620 7468 6520 6c6f 6164 0d0a 0d0a   of the load....
-0000a240: 2020 2020 2020 2020 2a2a 636f 735f 7068          **cos_ph
-0000a250: 692a 2a20 2866 6c6f 6174 2920 2d20 706f  i** (float) - po
-0000a260: 7765 7220 6661 6374 6f72 2063 6f73 5f70  wer factor cos_p
-0000a270: 6869 0d0a 0d0a 2020 2020 2020 2020 2a2a  hi....        **
-0000a280: 6d6f 6465 2a2a 2028 7374 7229 202d 2022  mode** (str) - "
-0000a290: 756e 6465 7265 7863 6974 6564 2220 2851  underexcited" (Q
-0000a2a0: 2061 6273 6f72 7074 696f 6e2c 2064 6563   absorption, dec
-0000a2b0: 7265 6173 6573 2076 6f6c 7461 6765 2920  reases voltage) 
-0000a2c0: 6f72 2022 6f76 6572 6578 6369 7465 6422  or "overexcited"
-0000a2d0: 2028 5120 696e 6a65 6374 696f 6e2c 2069   (Q injection, i
-0000a2e0: 6e63 7265 6173 6573 2076 6f6c 7461 6765  ncreases voltage
-0000a2f0: 290d 0a0d 0a20 2020 204f 5054 494f 4e41  )....    OPTIONA
-0000a300: 4c3a 0d0a 2020 2020 2020 2020 7361 6d65  L:..        same
-0000a310: 2061 7320 696e 2063 7265 6174 655f 6c6f   as in create_lo
-0000a320: 6164 2c20 6b65 7977 6f72 6420 6172 6775  ad, keyword argu
-0000a330: 6d65 6e74 7320 6172 6520 7061 7373 6564  ments are passed
-0000a340: 2074 6f20 7468 6520 6372 6561 7465 5f6c   to the create_l
-0000a350: 6f61 6420 6675 6e63 7469 6f6e 0d0a 0d0a  oad function....
-0000a360: 2020 2020 4f55 5450 5554 3a0d 0a20 2020      OUTPUT:..   
-0000a370: 2020 2020 202a 2a69 6e64 6578 2a2a 2028       **index** (
-0000a380: 696e 7429 202d 2054 6865 2075 6e69 7175  int) - The uniqu
-0000a390: 6520 4944 206f 6620 7468 6520 6372 6561  e ID of the crea
-0000a3a0: 7465 6420 6c6f 6164 0d0a 0d0a 2020 2020  ted load....    
-0000a3b0: 4c6f 6164 2065 6c65 6d65 6e74 7320 6172  Load elements ar
-0000a3c0: 6520 6d6f 6465 6c65 6420 6672 6f6d 2061  e modeled from a
-0000a3d0: 2063 6f6e 7375 6d65 7220 706f 696e 7420   consumer point 
-0000a3e0: 6f66 2076 6965 772e 2041 6374 6976 6520  of view. Active 
-0000a3f0: 706f 7765 7220 7769 6c6c 2074 6865 7265  power will there
-0000a400: 666f 7265 2061 6c77 6179 7320 6265 0d0a  fore always be..
-0000a410: 2020 2020 706f 7369 7469 7665 2c20 7265      positive, re
-0000a420: 6163 7469 7665 2070 6f77 6572 2077 696c  active power wil
-0000a430: 6c20 6265 2070 6f73 6974 6976 6520 666f  l be positive fo
-0000a440: 7220 756e 6465 7265 7863 6974 6564 2062  r underexcited b
-0000a450: 6568 6176 696f 7220 2851 2061 6273 6f72  ehavior (Q absor
-0000a460: 7074 696f 6e2c 2064 6563 7265 6173 6573  ption, decreases
-0000a470: 2076 6f6c 7461 6765 2920 616e 6420 6e65   voltage) and ne
-0000a480: 6761 7469 7665 2066 6f72 0d0a 2020 2020  gative for..    
-0000a490: 6f76 6572 6578 6369 7465 6420 6265 6861  overexcited beha
-0000a4a0: 7669 6f72 2028 5120 696e 6a65 6374 696f  vior (Q injectio
-0000a4b0: 6e2c 2069 6e63 7265 6173 6573 2076 6f6c  n, increases vol
-0000a4c0: 7461 6765 292e 0d0a 2020 2020 2222 220d  tage)...    """.
-0000a4d0: 0a20 2020 2066 726f 6d20 7061 6e64 6170  .    from pandap
-0000a4e0: 6f77 6572 2e74 6f6f 6c62 6f78 2069 6d70  ower.toolbox imp
-0000a4f0: 6f72 7420 7071 5f66 726f 6d5f 636f 7370  ort pq_from_cosp
-0000a500: 6869 0d0a 2020 2020 705f 6d77 2c20 715f  hi..    p_mw, q_
-0000a510: 6d76 6172 203d 2070 715f 6672 6f6d 5f63  mvar = pq_from_c
-0000a520: 6f73 7068 6928 736e 5f6d 7661 2c20 636f  osphi(sn_mva, co
-0000a530: 735f 7068 692c 2071 6d6f 6465 3d6d 6f64  s_phi, qmode=mod
-0000a540: 652c 2070 6d6f 6465 3d22 6c6f 6164 2229  e, pmode="load")
-0000a550: 0d0a 2020 2020 7265 7475 726e 2063 7265  ..    return cre
-0000a560: 6174 655f 6c6f 6164 286e 6574 2c20 6275  ate_load(net, bu
-0000a570: 732c 2073 6e5f 6d76 613d 736e 5f6d 7661  s, sn_mva=sn_mva
-0000a580: 2c20 705f 6d77 3d70 5f6d 772c 2071 5f6d  , p_mw=p_mw, q_m
-0000a590: 7661 723d 715f 6d76 6172 2c20 2a2a 6b77  var=q_mvar, **kw
-0000a5a0: 6172 6773 290d 0a0d 0a0d 0a64 6566 2063  args)......def c
-0000a5b0: 7265 6174 655f 7367 656e 286e 6574 2c20  reate_sgen(net, 
-0000a5c0: 6275 732c 2070 5f6d 772c 2071 5f6d 7661  bus, p_mw, q_mva
-0000a5d0: 723d 302c 2073 6e5f 6d76 613d 6e61 6e2c  r=0, sn_mva=nan,
-0000a5e0: 206e 616d 653d 4e6f 6e65 2c20 696e 6465   name=None, inde
-0000a5f0: 783d 4e6f 6e65 2c0d 0a20 2020 2020 2020  x=None,..       
-0000a600: 2020 2020 2020 2020 2073 6361 6c69 6e67           scaling
-0000a610: 3d31 2e2c 2074 7970 653d 2777 7965 272c  =1., type='wye',
-0000a620: 2069 6e5f 7365 7276 6963 653d 5472 7565   in_service=True
-0000a630: 2c20 6d61 785f 705f 6d77 3d6e 616e 2c20  , max_p_mw=nan, 
-0000a640: 6d69 6e5f 705f 6d77 3d6e 616e 2c0d 0a20  min_p_mw=nan,.. 
-0000a650: 2020 2020 2020 2020 2020 2020 2020 206d                 m
-0000a660: 6178 5f71 5f6d 7661 723d 6e61 6e2c 206d  ax_q_mvar=nan, m
-0000a670: 696e 5f71 5f6d 7661 723d 6e61 6e2c 2063  in_q_mvar=nan, c
-0000a680: 6f6e 7472 6f6c 6c61 626c 653d 6e61 6e2c  ontrollable=nan,
-0000a690: 206b 3d6e 616e 2c20 7278 3d6e 616e 2c0d   k=nan, rx=nan,.
-0000a6a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000a6b0: 2063 7572 7265 6e74 5f73 6f75 7263 653d   current_source=
-0000a6c0: 5472 7565 293a 0d0a 2020 2020 2222 220d  True):..    """.
-0000a6d0: 0a20 2020 2041 6464 7320 6f6e 6520 7374  .    Adds one st
-0000a6e0: 6174 6963 2067 656e 6572 6174 6f72 2069  atic generator i
-0000a6f0: 6e20 7461 626c 6520 6e65 745b 2273 6765  n table net["sge
-0000a700: 6e22 5d2e 0d0a 0d0a 2020 2020 5374 6174  n"].....    Stat
-0000a710: 6963 2067 656e 6572 6174 6f72 7320 6172  ic generators ar
-0000a720: 6520 6d6f 6465 6c6c 6564 2061 7320 706f  e modelled as po
-0000a730: 7369 7469 7665 2061 6e64 2063 6f6e 7374  sitive and const
-0000a740: 616e 7420 5051 2070 6f77 6572 2e20 5468  ant PQ power. Th
-0000a750: 6973 2065 6c65 6d65 6e74 2069 7320 7573  is element is us
-0000a760: 6564 2074 6f20 6d6f 6465 6c0d 0a20 2020  ed to model..   
-0000a770: 2067 656e 6572 6174 6f72 7320 7769 7468   generators with
-0000a780: 2061 2063 6f6e 7374 616e 7420 6163 7469   a constant acti
-0000a790: 7665 2061 6e64 2072 6561 6374 6976 6520  ve and reactive 
-0000a7a0: 706f 7765 7220 6665 6564 2d69 6e2e 2049  power feed-in. I
-0000a7b0: 6620 796f 7520 7761 6e74 2074 6f20 6d6f  f you want to mo
-0000a7c0: 6465 6c20 6120 766f 6c74 6167 650d 0a20  del a voltage.. 
-0000a7d0: 2020 2063 6f6e 7472 6f6c 6c65 6420 6765     controlled ge
-0000a7e0: 6e65 7261 746f 722c 2075 7365 2074 6865  nerator, use the
-0000a7f0: 2067 656e 6572 6174 6f72 2065 6c65 6d65   generator eleme
-0000a800: 6e74 2069 6e73 7465 6164 2e0d 0a0d 0a20  nt instead..... 
-0000a810: 2020 2067 656e 2c20 7367 656e 2061 6e64     gen, sgen and
-0000a820: 2065 7874 5f67 7269 6420 696e 2074 6865   ext_grid in the
-0000a830: 2067 7269 6420 6172 6520 6d6f 6465 6c6c   grid are modell
-0000a840: 6564 2069 6e20 7468 6520 6765 6e65 7261  ed in the genera
-0000a850: 746f 7220 7379 7374 656d 210d 0a20 2020  tor system!..   
-0000a860: 2049 6620 796f 7520 7761 6e74 2074 6f20   If you want to 
-0000a870: 6d6f 6465 6c20 7468 6520 6765 6e65 7261  model the genera
-0000a880: 7469 6f6e 206f 6620 706f 7765 722c 2079  tion of power, y
-0000a890: 6f75 2068 6176 6520 746f 2061 7373 6967  ou have to assig
-0000a8a0: 6e20 6120 706f 7369 7469 7665 2061 6374  n a positive act
-0000a8b0: 6976 6520 706f 7765 720d 0a20 2020 2074  ive power..    t
-0000a8c0: 6f20 7468 6520 6765 6e65 7261 746f 722e  o the generator.
-0000a8d0: 2050 6c65 6173 6520 7061 7920 6174 7465   Please pay atte
-0000a8e0: 6e74 696f 6e20 746f 2074 6865 2063 6f72  ntion to the cor
-0000a8f0: 7265 6374 2073 6967 6e69 6e67 206f 6620  rect signing of 
-0000a900: 7468 650d 0a20 2020 2072 6561 6374 6976  the..    reactiv
-0000a910: 6520 706f 7765 7220 6173 2077 656c 6c20  e power as well 
-0000a920: 2870 6f73 6974 6976 6520 666f 7220 696e  (positive for in
-0000a930: 6a65 6374 696f 6e20 616e 6420 6e65 6761  jection and nega
-0000a940: 7469 7665 2066 6f72 2063 6f6e 7375 6d70  tive for consump
-0000a950: 7469 6f6e 292e 0d0a 0d0a 2020 2020 494e  tion).....    IN
-0000a960: 5055 543a 0d0a 2020 2020 2020 2020 2a2a  PUT:..        **
-0000a970: 6e65 742a 2a20 2d20 5468 6520 6e65 7420  net** - The net 
-0000a980: 7769 7468 696e 2074 6869 7320 7374 6174  within this stat
-0000a990: 6963 2067 656e 6572 6174 6f72 2073 686f  ic generator sho
-0000a9a0: 756c 6420 6265 2063 7265 6174 6564 0d0a  uld be created..
-0000a9b0: 0d0a 2020 2020 2020 2020 2a2a 6275 732a  ..        **bus*
-0000a9c0: 2a20 2869 6e74 2920 2d20 5468 6520 6275  * (int) - The bu
-0000a9d0: 7320 6964 2074 6f20 7768 6963 6820 7468  s id to which th
-0000a9e0: 6520 7374 6174 6963 2067 656e 6572 6174  e static generat
-0000a9f0: 6f72 2069 7320 636f 6e6e 6563 7465 640d  or is connected.
-0000aa00: 0a0d 0a20 2020 2020 2020 202a 2a70 5f6d  ...        **p_m
-0000aa10: 772a 2a20 2866 6c6f 6174 2920 2d20 5468  w** (float) - Th
-0000aa20: 6520 6163 7469 7665 2070 6f77 6572 206f  e active power o
-0000aa30: 6620 7468 6520 7374 6174 6963 2067 656e  f the static gen
-0000aa40: 6572 6174 6f72 2020 2870 6f73 6974 6976  erator  (positiv
-0000aa50: 6520 666f 7220 6765 6e65 7261 7469 6f6e  e for generation
-0000aa60: 2129 0d0a 0d0a 2020 2020 4f50 5449 4f4e  !)....    OPTION
-0000aa70: 414c 3a0d 0a20 2020 2020 2020 202a 2a71  AL:..        **q
-0000aa80: 5f6d 7661 722a 2a20 2866 6c6f 6174 2c20  _mvar** (float, 
-0000aa90: 3029 202d 2054 6865 2072 6561 6374 6976  0) - The reactiv
-0000aaa0: 6520 706f 7765 7220 6f66 2074 6865 2073  e power of the s
-0000aab0: 6765 6e0d 0a0d 0a20 2020 2020 2020 202a  gen....        *
-0000aac0: 2a73 6e5f 6d76 612a 2a20 2866 6c6f 6174  *sn_mva** (float
-0000aad0: 2c20 4e6f 6e65 2920 2d20 4e6f 6d69 6e61  , None) - Nomina
-0000aae0: 6c20 706f 7765 7220 6f66 2074 6865 2073  l power of the s
-0000aaf0: 6765 6e0d 0a0d 0a20 2020 2020 2020 202a  gen....        *
-0000ab00: 2a6e 616d 652a 2a20 2873 7472 696e 672c  *name** (string,
-0000ab10: 204e 6f6e 6529 202d 2054 6865 206e 616d   None) - The nam
-0000ab20: 6520 666f 7220 7468 6973 2073 6765 6e0d  e for this sgen.
-0000ab30: 0a0d 0a20 2020 2020 2020 202a 2a69 6e64  ...        **ind
-0000ab40: 6578 2a2a 2028 696e 742c 204e 6f6e 6529  ex** (int, None)
-0000ab50: 202d 2046 6f72 6365 2061 2073 7065 6369   - Force a speci
-0000ab60: 6669 6564 2049 4420 6966 2069 7420 6973  fied ID if it is
-0000ab70: 2061 7661 696c 6162 6c65 2e20 4966 204e   available. If N
-0000ab80: 6f6e 652c 2074 6865 2069 6e64 6578 206f  one, the index o
-0000ab90: 6e65 205c 0d0a 2020 2020 2020 2020 2020  ne \..          
-0000aba0: 2020 6869 6768 6572 2074 6861 6e20 7468    higher than th
-0000abb0: 6520 6869 6768 6573 7420 616c 7265 6164  e highest alread
-0000abc0: 7920 6578 6973 7469 6e67 2069 6e64 6578  y existing index
-0000abd0: 2069 7320 7365 6c65 6374 6564 2e0d 0a0d   is selected....
-0000abe0: 0a20 2020 2020 2020 202a 2a73 6361 6c69  .        **scali
-0000abf0: 6e67 2a2a 2028 666c 6f61 742c 2031 2e29  ng** (float, 1.)
-0000ac00: 202d 2041 6e20 4f50 5449 4f4e 414c 2073   - An OPTIONAL s
-0000ac10: 6361 6c69 6e67 2066 6163 746f 7220 746f  caling factor to
-0000ac20: 2062 6520 7365 7420 6375 7374 6f6d 6c79   be set customly
-0000ac30: 2e0d 0a20 2020 2020 2020 204d 756c 7469  ...        Multi
-0000ac40: 706c 7973 2077 6974 6820 705f 6d77 2061  plys with p_mw a
-0000ac50: 6e64 2071 5f6d 7661 722e 0d0a 0d0a 2020  nd q_mvar.....  
-0000ac60: 2020 2020 2020 2a2a 7479 7065 2a2a 2028        **type** (
-0000ac70: 7374 7269 6e67 2c20 4e6f 6e65 2920 2d20  string, None) - 
-0000ac80: 2054 6872 6565 2070 6861 7365 2043 6f6e   Three phase Con
-0000ac90: 6e65 6374 696f 6e20 7479 7065 206f 6620  nection type of 
-0000aca0: 7468 6520 7374 6174 6963 2067 656e 6572  the static gener
-0000acb0: 6174 6f72 3a20 7779 652f 6465 6c74 610d  ator: wye/delta.
-0000acc0: 0a0d 0a20 2020 2020 2020 202a 2a69 6e5f  ...        **in_
-0000acd0: 7365 7276 6963 652a 2a20 2862 6f6f 6c65  service** (boole
-0000ace0: 616e 2920 2d20 5472 7565 2066 6f72 2069  an) - True for i
-0000acf0: 6e5f 7365 7276 6963 6520 6f72 2046 616c  n_service or Fal
-0000ad00: 7365 2066 6f72 206f 7574 206f 6620 7365  se for out of se
-0000ad10: 7276 6963 650d 0a0d 0a20 2020 2020 2020  rvice....       
-0000ad20: 202a 2a6d 6178 5f70 5f6d 772a 2a20 2866   **max_p_mw** (f
-0000ad30: 6c6f 6174 2c20 4e61 4e29 202d 204d 6178  loat, NaN) - Max
-0000ad40: 696d 756d 2061 6374 6976 6520 706f 7765  imum active powe
-0000ad50: 7220 696e 6a65 6374 696f 6e20 2d20 6e65  r injection - ne
-0000ad60: 6365 7373 6172 7920 666f 7220 5c0d 0a20  cessary for \.. 
-0000ad70: 2020 2020 2020 2020 2020 2063 6f6e 7472             contr
-0000ad80: 6f6c 6c61 626c 6520 7367 656e 7320 696e  ollable sgens in
-0000ad90: 204f 5046 0d0a 0d0a 2020 2020 2020 2020   OPF....        
-0000ada0: 2a2a 6d69 6e5f 705f 6d77 2a2a 2028 666c  **min_p_mw** (fl
-0000adb0: 6f61 742c 204e 614e 2920 2d20 4d69 6e69  oat, NaN) - Mini
-0000adc0: 6d75 6d20 6163 7469 7665 2070 6f77 6572  mum active power
-0000add0: 2069 6e6a 6563 7469 6f6e 202d 206e 6563   injection - nec
-0000ade0: 6573 7361 7279 2066 6f72 205c 0d0a 2020  essary for \..  
-0000adf0: 2020 2020 2020 2020 2020 636f 6e74 726f            contro
-0000ae00: 6c6c 6162 6c65 2073 6765 6e73 2069 6e20  llable sgens in 
-0000ae10: 4f50 460d 0a0d 0a20 2020 2020 2020 202a  OPF....        *
-0000ae20: 2a6d 6178 5f71 5f6d 7661 722a 2a20 2866  *max_q_mvar** (f
-0000ae30: 6c6f 6174 2c20 4e61 4e29 202d 204d 6178  loat, NaN) - Max
-0000ae40: 696d 756d 2072 6561 6374 6976 6520 706f  imum reactive po
-0000ae50: 7765 7220 696e 6a65 6374 696f 6e20 2d20  wer injection - 
-0000ae60: 6e65 6365 7373 6172 7920 666f 7220 5c0d  necessary for \.
-0000ae70: 0a20 2020 2020 2020 2020 2020 2063 6f6e  .            con
-0000ae80: 7472 6f6c 6c61 626c 6520 7367 656e 7320  trollable sgens 
-0000ae90: 696e 204f 5046 0d0a 0d0a 2020 2020 2020  in OPF....      
-0000aea0: 2020 2a2a 6d69 6e5f 715f 6d76 6172 2a2a    **min_q_mvar**
-0000aeb0: 2028 666c 6f61 742c 204e 614e 2920 2d20   (float, NaN) - 
-0000aec0: 4d69 6e69 6d75 6d20 7265 6163 7469 7665  Minimum reactive
-0000aed0: 2070 6f77 6572 2069 6e6a 6563 7469 6f6e   power injection
-0000aee0: 202d 206e 6563 6573 7361 7279 2066 6f72   - necessary for
-0000aef0: 205c 0d0a 2020 2020 2020 2020 2020 2020   \..            
-0000af00: 636f 6e74 726f 6c6c 6162 6c65 2073 6765  controllable sge
-0000af10: 6e73 2069 6e20 4f50 460d 0a0d 0a20 2020  ns in OPF....   
-0000af20: 2020 2020 202a 2a63 6f6e 7472 6f6c 6c61       **controlla
-0000af30: 626c 652a 2a20 2862 6f6f 6c2c 204e 614e  ble** (bool, NaN
-0000af40: 2920 2d20 5768 6574 6865 7220 7468 6973  ) - Whether this
-0000af50: 2067 656e 6572 6174 6f72 2069 7320 636f   generator is co
-0000af60: 6e74 726f 6c6c 6162 6c65 2062 7920 7468  ntrollable by th
-0000af70: 6520 6f70 7469 6d61 6c20 5c0d 0a20 2020  e optimal \..   
-0000af80: 2020 2020 2020 2020 2070 6f77 6572 666c           powerfl
-0000af90: 6f77 3b20 6465 6661 756c 7473 2074 6f20  ow; defaults to 
-0000afa0: 4661 6c73 6520 6966 2022 636f 6e74 726f  False if "contro
-0000afb0: 6c6c 6162 6c65 2220 636f 6c75 6d6e 2065  llable" column e
-0000afc0: 7869 7374 7320 696e 2044 6174 6146 7261  xists in DataFra
-0000afd0: 6d65 0d0a 0d0a 2020 2020 2020 2020 2a2a  me....        **
-0000afe0: 6b2a 2a20 2866 6c6f 6174 2c20 4e61 4e29  k** (float, NaN)
-0000aff0: 202d 2052 6174 696f 206f 6620 6e6f 6d69   - Ratio of nomi
-0000b000: 6e61 6c20 6375 7272 656e 7420 746f 2073  nal current to s
-0000b010: 686f 7274 2063 6972 6375 6974 2063 7572  hort circuit cur
-0000b020: 7265 6e74 0d0a 0d0a 2020 2020 2020 2020  rent....        
-0000b030: 2a2a 7278 2a2a 2028 666c 6f61 742c 204e  **rx** (float, N
-0000b040: 614e 2920 2d20 522f 5820 7261 7469 6f20  aN) - R/X ratio 
-0000b050: 666f 7220 7368 6f72 7420 6369 7263 7569  for short circui
-0000b060: 7420 696d 7065 6461 6e63 652e 204f 6e6c  t impedance. Onl
-0000b070: 7920 7265 6c65 7661 6e74 2069 6620 7479  y relevant if ty
-0000b080: 7065 2069 7320 5c0d 0a20 2020 2020 2020  pe is \..       
-0000b090: 2020 2020 2073 7065 6369 6669 6564 2061       specified a
-0000b0a0: 7320 6d6f 746f 7220 736f 2074 6861 7420  s motor so that 
-0000b0b0: 7367 656e 2069 7320 7472 6561 7465 6420  sgen is treated 
-0000b0c0: 6173 2061 7379 6e63 6872 6f6e 6f75 7320  as asynchronous 
-0000b0d0: 6d6f 746f 720d 0a0d 0a20 2020 2020 2020  motor....       
-0000b0e0: 202a 2a63 7572 7265 6e74 5f73 6f75 7263   **current_sourc
-0000b0f0: 652a 2a20 2862 6f6f 6c2c 2054 7275 6529  e** (bool, True)
-0000b100: 202d 204d 6f64 656c 2074 6869 7320 7367   - Model this sg
-0000b110: 656e 2061 7320 6120 6375 7272 656e 7420  en as a current 
-0000b120: 736f 7572 6365 2064 7572 696e 6720 7368  source during sh
-0000b130: 6f72 742d 5c0d 0a20 2020 2020 2020 2020  ort-\..         
-0000b140: 2020 2063 6972 6375 6974 2063 616c 6375     circuit calcu
-0000b150: 6c61 7469 6f6e 733b 2075 7365 6675 6c20  lations; useful 
-0000b160: 696e 2073 6f6d 6520 6361 7365 732c 2066  in some cases, f
-0000b170: 6f72 2065 7861 6d70 6c65 2074 6865 2073  or example the s
-0000b180: 696d 756c 6174 696f 6e20 6f66 2066 756c  imulation of ful
-0000b190: 6c2d 5c0d 0a20 2020 2020 2020 2020 2020  l-\..           
-0000b1a0: 2073 697a 6520 636f 6e76 6572 7465 7273   size converters
-0000b1b0: 2070 6572 2049 4543 2036 3039 3039 2d30   per IEC 60909-0
-0000b1c0: 3a32 3031 362e 0d0a 0d0a 2020 2020 4f55  :2016.....    OU
-0000b1d0: 5450 5554 3a0d 0a20 2020 2020 2020 202a  TPUT:..        *
-0000b1e0: 2a69 6e64 6578 2a2a 2028 696e 7429 202d  *index** (int) -
-0000b1f0: 2054 6865 2075 6e69 7175 6520 4944 206f   The unique ID o
-0000b200: 6620 7468 6520 6372 6561 7465 6420 7367  f the created sg
-0000b210: 656e 0d0a 0d0a 2020 2020 4558 414d 504c  en....    EXAMPL
-0000b220: 453a 0d0a 2020 2020 2020 2020 6372 6561  E:..        crea
-0000b230: 7465 5f73 6765 6e28 6e65 742c 2031 2c20  te_sgen(net, 1, 
-0000b240: 705f 6d77 203d 202d 3132 3029 0d0a 0d0a  p_mw = -120)....
-0000b250: 2020 2020 2222 220d 0a20 2020 205f 6368      """..    _ch
-0000b260: 6563 6b5f 6e6f 6465 5f65 6c65 6d65 6e74  eck_node_element
-0000b270: 286e 6574 2c20 6275 7329 0d0a 0d0a 2020  (net, bus)....  
-0000b280: 2020 696e 6465 7820 3d20 5f67 6574 5f69    index = _get_i
-0000b290: 6e64 6578 5f77 6974 685f 6368 6563 6b28  ndex_with_check(
-0000b2a0: 6e65 742c 2022 7367 656e 222c 2069 6e64  net, "sgen", ind
-0000b2b0: 6578 2c20 6e61 6d65 3d22 7374 6174 6963  ex, name="static
-0000b2c0: 2067 656e 6572 6174 6f72 2229 0d0a 0d0a   generator")....
-0000b2d0: 2020 2020 656e 7472 6965 7320 3d20 6469      entries = di
-0000b2e0: 6374 287a 6970 285b 226e 616d 6522 2c20  ct(zip(["name", 
-0000b2f0: 2262 7573 222c 2022 705f 6d77 222c 2022  "bus", "p_mw", "
-0000b300: 7363 616c 696e 6722 2c20 2271 5f6d 7661  scaling", "q_mva
-0000b310: 7222 2c20 2273 6e5f 6d76 6122 2c20 2269  r", "sn_mva", "i
-0000b320: 6e5f 7365 7276 6963 6522 2c20 2274 7970  n_service", "typ
-0000b330: 6522 2c0d 0a20 2020 2020 2020 2020 2020  e",..           
-0000b340: 2020 2020 2020 2020 2020 2020 2022 6375               "cu
-0000b350: 7272 656e 745f 736f 7572 6365 225d 2c20  rrent_source"], 
-0000b360: 5b6e 616d 652c 2062 7573 2c20 705f 6d77  [name, bus, p_mw
-0000b370: 2c20 7363 616c 696e 672c 2071 5f6d 7661  , scaling, q_mva
-0000b380: 722c 2073 6e5f 6d76 612c 0d0a 2020 2020  r, sn_mva,..    
-0000b390: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a0c0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0000a0d0: 3d3d 3d3d 3d3d 3d3d 0d0a 0d0a 0d0a 6465  ========......de
+0000a0e0: 6620 6372 6561 7465 5f6c 6f61 645f 6672  f create_load_fr
+0000a0f0: 6f6d 5f63 6f73 7068 6928 6e65 742c 2062  om_cosphi(net, b
+0000a100: 7573 2c20 736e 5f6d 7661 2c20 636f 735f  us, sn_mva, cos_
+0000a110: 7068 692c 206d 6f64 652c 202a 2a6b 7761  phi, mode, **kwa
+0000a120: 7267 7329 3a0d 0a20 2020 2022 2222 0d0a  rgs):..    """..
+0000a130: 2020 2020 4372 6561 7465 7320 6120 6c6f      Creates a lo
+0000a140: 6164 2065 6c65 6d65 6e74 2066 726f 6d20  ad element from 
+0000a150: 7261 7465 6420 706f 7765 7220 616e 6420  rated power and 
+0000a160: 706f 7765 7220 6661 6374 6f72 2063 6f73  power factor cos
+0000a170: 2870 6869 292e 0d0a 0d0a 2020 2020 494e  (phi).....    IN
+0000a180: 5055 543a 0d0a 2020 2020 2020 2020 2a2a  PUT:..        **
+0000a190: 6e65 742a 2a20 2d20 5468 6520 6e65 7420  net** - The net 
+0000a1a0: 7769 7468 696e 2074 6869 7320 7374 6174  within this stat
+0000a1b0: 6963 2067 656e 6572 6174 6f72 2073 686f  ic generator sho
+0000a1c0: 756c 6420 6265 2063 7265 6174 6564 0d0a  uld be created..
+0000a1d0: 0d0a 2020 2020 2020 2020 2a2a 6275 732a  ..        **bus*
+0000a1e0: 2a20 2869 6e74 2920 2d20 5468 6520 6275  * (int) - The bu
+0000a1f0: 7320 6964 2074 6f20 7768 6963 6820 7468  s id to which th
+0000a200: 6520 6c6f 6164 2069 7320 636f 6e6e 6563  e load is connec
+0000a210: 7465 640d 0a0d 0a20 2020 2020 2020 202a  ted....        *
+0000a220: 2a73 6e5f 6d76 612a 2a20 2866 6c6f 6174  *sn_mva** (float
+0000a230: 2920 2d20 7261 7465 6420 706f 7765 7220  ) - rated power 
+0000a240: 6f66 2074 6865 206c 6f61 640d 0a0d 0a20  of the load.... 
+0000a250: 2020 2020 2020 202a 2a63 6f73 5f70 6869         **cos_phi
+0000a260: 2a2a 2028 666c 6f61 7429 202d 2070 6f77  ** (float) - pow
+0000a270: 6572 2066 6163 746f 7220 636f 735f 7068  er factor cos_ph
+0000a280: 690d 0a0d 0a20 2020 2020 2020 202a 2a6d  i....        **m
+0000a290: 6f64 652a 2a20 2873 7472 2920 2d20 2275  ode** (str) - "u
+0000a2a0: 6e64 6572 6578 6369 7465 6422 2028 5120  nderexcited" (Q 
+0000a2b0: 6162 736f 7270 7469 6f6e 2c20 6465 6372  absorption, decr
+0000a2c0: 6561 7365 7320 766f 6c74 6167 6529 206f  eases voltage) o
+0000a2d0: 7220 226f 7665 7265 7863 6974 6564 2220  r "overexcited" 
+0000a2e0: 2851 2069 6e6a 6563 7469 6f6e 2c20 696e  (Q injection, in
+0000a2f0: 6372 6561 7365 7320 766f 6c74 6167 6529  creases voltage)
+0000a300: 0d0a 0d0a 2020 2020 4f50 5449 4f4e 414c  ....    OPTIONAL
+0000a310: 3a0d 0a20 2020 2020 2020 2073 616d 6520  :..        same 
+0000a320: 6173 2069 6e20 6372 6561 7465 5f6c 6f61  as in create_loa
+0000a330: 642c 206b 6579 776f 7264 2061 7267 756d  d, keyword argum
+0000a340: 656e 7473 2061 7265 2070 6173 7365 6420  ents are passed 
+0000a350: 746f 2074 6865 2063 7265 6174 655f 6c6f  to the create_lo
+0000a360: 6164 2066 756e 6374 696f 6e0d 0a0d 0a20  ad function.... 
+0000a370: 2020 204f 5554 5055 543a 0d0a 2020 2020     OUTPUT:..    
+0000a380: 2020 2020 2a2a 696e 6465 782a 2a20 2869      **index** (i
+0000a390: 6e74 2920 2d20 5468 6520 756e 6971 7565  nt) - The unique
+0000a3a0: 2049 4420 6f66 2074 6865 2063 7265 6174   ID of the creat
+0000a3b0: 6564 206c 6f61 640d 0a0d 0a20 2020 204c  ed load....    L
+0000a3c0: 6f61 6420 656c 656d 656e 7473 2061 7265  oad elements are
+0000a3d0: 206d 6f64 656c 6564 2066 726f 6d20 6120   modeled from a 
+0000a3e0: 636f 6e73 756d 6572 2070 6f69 6e74 206f  consumer point o
+0000a3f0: 6620 7669 6577 2e20 4163 7469 7665 2070  f view. Active p
+0000a400: 6f77 6572 2077 696c 6c20 7468 6572 6566  ower will theref
+0000a410: 6f72 6520 616c 7761 7973 2062 650d 0a20  ore always be.. 
+0000a420: 2020 2070 6f73 6974 6976 652c 2072 6561     positive, rea
+0000a430: 6374 6976 6520 706f 7765 7220 7769 6c6c  ctive power will
+0000a440: 2062 6520 706f 7369 7469 7665 2066 6f72   be positive for
+0000a450: 2075 6e64 6572 6578 6369 7465 6420 6265   underexcited be
+0000a460: 6861 7669 6f72 2028 5120 6162 736f 7270  havior (Q absorp
+0000a470: 7469 6f6e 2c20 6465 6372 6561 7365 7320  tion, decreases 
+0000a480: 766f 6c74 6167 6529 2061 6e64 206e 6567  voltage) and neg
+0000a490: 6174 6976 6520 666f 720d 0a20 2020 206f  ative for..    o
+0000a4a0: 7665 7265 7863 6974 6564 2062 6568 6176  verexcited behav
+0000a4b0: 696f 7220 2851 2069 6e6a 6563 7469 6f6e  ior (Q injection
+0000a4c0: 2c20 696e 6372 6561 7365 7320 766f 6c74  , increases volt
+0000a4d0: 6167 6529 2e0d 0a20 2020 2022 2222 0d0a  age)...    """..
+0000a4e0: 2020 2020 6672 6f6d 2070 616e 6461 706f      from pandapo
+0000a4f0: 7765 722e 746f 6f6c 626f 7820 696d 706f  wer.toolbox impo
+0000a500: 7274 2070 715f 6672 6f6d 5f63 6f73 7068  rt pq_from_cosph
+0000a510: 690d 0a20 2020 2070 5f6d 772c 2071 5f6d  i..    p_mw, q_m
+0000a520: 7661 7220 3d20 7071 5f66 726f 6d5f 636f  var = pq_from_co
+0000a530: 7370 6869 2873 6e5f 6d76 612c 2063 6f73  sphi(sn_mva, cos
+0000a540: 5f70 6869 2c20 716d 6f64 653d 6d6f 6465  _phi, qmode=mode
+0000a550: 2c20 706d 6f64 653d 226c 6f61 6422 290d  , pmode="load").
+0000a560: 0a20 2020 2072 6574 7572 6e20 6372 6561  .    return crea
+0000a570: 7465 5f6c 6f61 6428 6e65 742c 2062 7573  te_load(net, bus
+0000a580: 2c20 736e 5f6d 7661 3d73 6e5f 6d76 612c  , sn_mva=sn_mva,
+0000a590: 2070 5f6d 773d 705f 6d77 2c20 715f 6d76   p_mw=p_mw, q_mv
+0000a5a0: 6172 3d71 5f6d 7661 722c 202a 2a6b 7761  ar=q_mvar, **kwa
+0000a5b0: 7267 7329 0d0a 0d0a 0d0a 6465 6620 6372  rgs)......def cr
+0000a5c0: 6561 7465 5f73 6765 6e28 6e65 742c 2062  eate_sgen(net, b
+0000a5d0: 7573 2c20 705f 6d77 2c20 715f 6d76 6172  us, p_mw, q_mvar
+0000a5e0: 3d30 2c20 736e 5f6d 7661 3d6e 616e 2c20  =0, sn_mva=nan, 
+0000a5f0: 6e61 6d65 3d4e 6f6e 652c 2069 6e64 6578  name=None, index
+0000a600: 3d4e 6f6e 652c 0d0a 2020 2020 2020 2020  =None,..        
+0000a610: 2020 2020 2020 2020 7363 616c 696e 673d          scaling=
+0000a620: 312e 2c20 7479 7065 3d27 7779 6527 2c20  1., type='wye', 
+0000a630: 696e 5f73 6572 7669 6365 3d54 7275 652c  in_service=True,
+0000a640: 206d 6178 5f70 5f6d 773d 6e61 6e2c 206d   max_p_mw=nan, m
+0000a650: 696e 5f70 5f6d 773d 6e61 6e2c 0d0a 2020  in_p_mw=nan,..  
+0000a660: 2020 2020 2020 2020 2020 2020 2020 6d61                ma
+0000a670: 785f 715f 6d76 6172 3d6e 616e 2c20 6d69  x_q_mvar=nan, mi
+0000a680: 6e5f 715f 6d76 6172 3d6e 616e 2c20 636f  n_q_mvar=nan, co
+0000a690: 6e74 726f 6c6c 6162 6c65 3d6e 616e 2c20  ntrollable=nan, 
+0000a6a0: 6b3d 6e61 6e2c 2072 783d 6e61 6e2c 0d0a  k=nan, rx=nan,..
+0000a6b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a6c0: 6375 7272 656e 745f 736f 7572 6365 3d54  current_source=T
+0000a6d0: 7275 6529 3a0d 0a20 2020 2022 2222 0d0a  rue):..    """..
+0000a6e0: 2020 2020 4164 6473 206f 6e65 2073 7461      Adds one sta
+0000a6f0: 7469 6320 6765 6e65 7261 746f 7220 696e  tic generator in
+0000a700: 2074 6162 6c65 206e 6574 5b22 7367 656e   table net["sgen
+0000a710: 225d 2e0d 0a0d 0a20 2020 2053 7461 7469  "].....    Stati
+0000a720: 6320 6765 6e65 7261 746f 7273 2061 7265  c generators are
+0000a730: 206d 6f64 656c 6c65 6420 6173 2070 6f73   modelled as pos
+0000a740: 6974 6976 6520 616e 6420 636f 6e73 7461  itive and consta
+0000a750: 6e74 2050 5120 706f 7765 722e 2054 6869  nt PQ power. Thi
+0000a760: 7320 656c 656d 656e 7420 6973 2075 7365  s element is use
+0000a770: 6420 746f 206d 6f64 656c 0d0a 2020 2020  d to model..    
+0000a780: 6765 6e65 7261 746f 7273 2077 6974 6820  generators with 
+0000a790: 6120 636f 6e73 7461 6e74 2061 6374 6976  a constant activ
+0000a7a0: 6520 616e 6420 7265 6163 7469 7665 2070  e and reactive p
+0000a7b0: 6f77 6572 2066 6565 642d 696e 2e20 4966  ower feed-in. If
+0000a7c0: 2079 6f75 2077 616e 7420 746f 206d 6f64   you want to mod
+0000a7d0: 656c 2061 2076 6f6c 7461 6765 0d0a 2020  el a voltage..  
+0000a7e0: 2020 636f 6e74 726f 6c6c 6564 2067 656e    controlled gen
+0000a7f0: 6572 6174 6f72 2c20 7573 6520 7468 6520  erator, use the 
+0000a800: 6765 6e65 7261 746f 7220 656c 656d 656e  generator elemen
+0000a810: 7420 696e 7374 6561 642e 0d0a 0d0a 2020  t instead.....  
+0000a820: 2020 6765 6e2c 2073 6765 6e20 616e 6420    gen, sgen and 
+0000a830: 6578 745f 6772 6964 2069 6e20 7468 6520  ext_grid in the 
+0000a840: 6772 6964 2061 7265 206d 6f64 656c 6c65  grid are modelle
+0000a850: 6420 696e 2074 6865 2067 656e 6572 6174  d in the generat
+0000a860: 6f72 2073 7973 7465 6d21 0d0a 2020 2020  or system!..    
+0000a870: 4966 2079 6f75 2077 616e 7420 746f 206d  If you want to m
+0000a880: 6f64 656c 2074 6865 2067 656e 6572 6174  odel the generat
+0000a890: 696f 6e20 6f66 2070 6f77 6572 2c20 796f  ion of power, yo
+0000a8a0: 7520 6861 7665 2074 6f20 6173 7369 676e  u have to assign
+0000a8b0: 2061 2070 6f73 6974 6976 6520 6163 7469   a positive acti
+0000a8c0: 7665 2070 6f77 6572 0d0a 2020 2020 746f  ve power..    to
+0000a8d0: 2074 6865 2067 656e 6572 6174 6f72 2e20   the generator. 
+0000a8e0: 506c 6561 7365 2070 6179 2061 7474 656e  Please pay atten
+0000a8f0: 7469 6f6e 2074 6f20 7468 6520 636f 7272  tion to the corr
+0000a900: 6563 7420 7369 676e 696e 6720 6f66 2074  ect signing of t
+0000a910: 6865 0d0a 2020 2020 7265 6163 7469 7665  he..    reactive
+0000a920: 2070 6f77 6572 2061 7320 7765 6c6c 2028   power as well (
+0000a930: 706f 7369 7469 7665 2066 6f72 2069 6e6a  positive for inj
+0000a940: 6563 7469 6f6e 2061 6e64 206e 6567 6174  ection and negat
+0000a950: 6976 6520 666f 7220 636f 6e73 756d 7074  ive for consumpt
+0000a960: 696f 6e29 2e0d 0a0d 0a20 2020 2049 4e50  ion).....    INP
+0000a970: 5554 3a0d 0a20 2020 2020 2020 202a 2a6e  UT:..        **n
+0000a980: 6574 2a2a 202d 2054 6865 206e 6574 2077  et** - The net w
+0000a990: 6974 6869 6e20 7468 6973 2073 7461 7469  ithin this stati
+0000a9a0: 6320 6765 6e65 7261 746f 7220 7368 6f75  c generator shou
+0000a9b0: 6c64 2062 6520 6372 6561 7465 640d 0a0d  ld be created...
+0000a9c0: 0a20 2020 2020 2020 202a 2a62 7573 2a2a  .        **bus**
+0000a9d0: 2028 696e 7429 202d 2054 6865 2062 7573   (int) - The bus
+0000a9e0: 2069 6420 746f 2077 6869 6368 2074 6865   id to which the
+0000a9f0: 2073 7461 7469 6320 6765 6e65 7261 746f   static generato
+0000aa00: 7220 6973 2063 6f6e 6e65 6374 6564 0d0a  r is connected..
+0000aa10: 0d0a 2020 2020 2020 2020 2a2a 705f 6d77  ..        **p_mw
+0000aa20: 2a2a 2028 666c 6f61 7429 202d 2054 6865  ** (float) - The
+0000aa30: 2061 6374 6976 6520 706f 7765 7220 6f66   active power of
+0000aa40: 2074 6865 2073 7461 7469 6320 6765 6e65   the static gene
+0000aa50: 7261 746f 7220 2028 706f 7369 7469 7665  rator  (positive
+0000aa60: 2066 6f72 2067 656e 6572 6174 696f 6e21   for generation!
+0000aa70: 290d 0a0d 0a20 2020 204f 5054 494f 4e41  )....    OPTIONA
+0000aa80: 4c3a 0d0a 2020 2020 2020 2020 2a2a 715f  L:..        **q_
+0000aa90: 6d76 6172 2a2a 2028 666c 6f61 742c 2030  mvar** (float, 0
+0000aaa0: 2920 2d20 5468 6520 7265 6163 7469 7665  ) - The reactive
+0000aab0: 2070 6f77 6572 206f 6620 7468 6520 7367   power of the sg
+0000aac0: 656e 0d0a 0d0a 2020 2020 2020 2020 2a2a  en....        **
+0000aad0: 736e 5f6d 7661 2a2a 2028 666c 6f61 742c  sn_mva** (float,
+0000aae0: 204e 6f6e 6529 202d 204e 6f6d 696e 616c   None) - Nominal
+0000aaf0: 2070 6f77 6572 206f 6620 7468 6520 7367   power of the sg
+0000ab00: 656e 0d0a 0d0a 2020 2020 2020 2020 2a2a  en....        **
+0000ab10: 6e61 6d65 2a2a 2028 7374 7269 6e67 2c20  name** (string, 
+0000ab20: 4e6f 6e65 2920 2d20 5468 6520 6e61 6d65  None) - The name
+0000ab30: 2066 6f72 2074 6869 7320 7367 656e 0d0a   for this sgen..
+0000ab40: 0d0a 2020 2020 2020 2020 2a2a 696e 6465  ..        **inde
+0000ab50: 782a 2a20 2869 6e74 2c20 4e6f 6e65 2920  x** (int, None) 
+0000ab60: 2d20 466f 7263 6520 6120 7370 6563 6966  - Force a specif
+0000ab70: 6965 6420 4944 2069 6620 6974 2069 7320  ied ID if it is 
+0000ab80: 6176 6169 6c61 626c 652e 2049 6620 4e6f  available. If No
+0000ab90: 6e65 2c20 7468 6520 696e 6465 7820 6f6e  ne, the index on
+0000aba0: 6520 5c0d 0a20 2020 2020 2020 2020 2020  e \..           
+0000abb0: 2068 6967 6865 7220 7468 616e 2074 6865   higher than the
+0000abc0: 2068 6967 6865 7374 2061 6c72 6561 6479   highest already
+0000abd0: 2065 7869 7374 696e 6720 696e 6465 7820   existing index 
+0000abe0: 6973 2073 656c 6563 7465 642e 0d0a 0d0a  is selected.....
+0000abf0: 2020 2020 2020 2020 2a2a 7363 616c 696e          **scalin
+0000ac00: 672a 2a20 2866 6c6f 6174 2c20 312e 2920  g** (float, 1.) 
+0000ac10: 2d20 416e 204f 5054 494f 4e41 4c20 7363  - An OPTIONAL sc
+0000ac20: 616c 696e 6720 6661 6374 6f72 2074 6f20  aling factor to 
+0000ac30: 6265 2073 6574 2063 7573 746f 6d6c 792e  be set customly.
+0000ac40: 0d0a 2020 2020 2020 2020 4d75 6c74 6970  ..        Multip
+0000ac50: 6c79 7320 7769 7468 2070 5f6d 7720 616e  lys with p_mw an
+0000ac60: 6420 715f 6d76 6172 2e0d 0a0d 0a20 2020  d q_mvar.....   
+0000ac70: 2020 2020 202a 2a74 7970 652a 2a20 2873       **type** (s
+0000ac80: 7472 696e 672c 204e 6f6e 6529 202d 2020  tring, None) -  
+0000ac90: 5468 7265 6520 7068 6173 6520 436f 6e6e  Three phase Conn
+0000aca0: 6563 7469 6f6e 2074 7970 6520 6f66 2074  ection type of t
+0000acb0: 6865 2073 7461 7469 6320 6765 6e65 7261  he static genera
+0000acc0: 746f 723a 2077 7965 2f64 656c 7461 0d0a  tor: wye/delta..
+0000acd0: 0d0a 2020 2020 2020 2020 2a2a 696e 5f73  ..        **in_s
+0000ace0: 6572 7669 6365 2a2a 2028 626f 6f6c 6561  ervice** (boolea
+0000acf0: 6e29 202d 2054 7275 6520 666f 7220 696e  n) - True for in
+0000ad00: 5f73 6572 7669 6365 206f 7220 4661 6c73  _service or Fals
+0000ad10: 6520 666f 7220 6f75 7420 6f66 2073 6572  e for out of ser
+0000ad20: 7669 6365 0d0a 0d0a 2020 2020 2020 2020  vice....        
+0000ad30: 2a2a 6d61 785f 705f 6d77 2a2a 2028 666c  **max_p_mw** (fl
+0000ad40: 6f61 742c 204e 614e 2920 2d20 4d61 7869  oat, NaN) - Maxi
+0000ad50: 6d75 6d20 6163 7469 7665 2070 6f77 6572  mum active power
+0000ad60: 2069 6e6a 6563 7469 6f6e 202d 206e 6563   injection - nec
+0000ad70: 6573 7361 7279 2066 6f72 205c 0d0a 2020  essary for \..  
+0000ad80: 2020 2020 2020 2020 2020 636f 6e74 726f            contro
+0000ad90: 6c6c 6162 6c65 2073 6765 6e73 2069 6e20  llable sgens in 
+0000ada0: 4f50 460d 0a0d 0a20 2020 2020 2020 202a  OPF....        *
+0000adb0: 2a6d 696e 5f70 5f6d 772a 2a20 2866 6c6f  *min_p_mw** (flo
+0000adc0: 6174 2c20 4e61 4e29 202d 204d 696e 696d  at, NaN) - Minim
+0000add0: 756d 2061 6374 6976 6520 706f 7765 7220  um active power 
+0000ade0: 696e 6a65 6374 696f 6e20 2d20 6e65 6365  injection - nece
+0000adf0: 7373 6172 7920 666f 7220 5c0d 0a20 2020  ssary for \..   
+0000ae00: 2020 2020 2020 2020 2063 6f6e 7472 6f6c           control
+0000ae10: 6c61 626c 6520 7367 656e 7320 696e 204f  lable sgens in O
+0000ae20: 5046 0d0a 0d0a 2020 2020 2020 2020 2a2a  PF....        **
+0000ae30: 6d61 785f 715f 6d76 6172 2a2a 2028 666c  max_q_mvar** (fl
+0000ae40: 6f61 742c 204e 614e 2920 2d20 4d61 7869  oat, NaN) - Maxi
+0000ae50: 6d75 6d20 7265 6163 7469 7665 2070 6f77  mum reactive pow
+0000ae60: 6572 2069 6e6a 6563 7469 6f6e 202d 206e  er injection - n
+0000ae70: 6563 6573 7361 7279 2066 6f72 205c 0d0a  ecessary for \..
+0000ae80: 2020 2020 2020 2020 2020 2020 636f 6e74              cont
+0000ae90: 726f 6c6c 6162 6c65 2073 6765 6e73 2069  rollable sgens i
+0000aea0: 6e20 4f50 460d 0a0d 0a20 2020 2020 2020  n OPF....       
+0000aeb0: 202a 2a6d 696e 5f71 5f6d 7661 722a 2a20   **min_q_mvar** 
+0000aec0: 2866 6c6f 6174 2c20 4e61 4e29 202d 204d  (float, NaN) - M
+0000aed0: 696e 696d 756d 2072 6561 6374 6976 6520  inimum reactive 
+0000aee0: 706f 7765 7220 696e 6a65 6374 696f 6e20  power injection 
+0000aef0: 2d20 6e65 6365 7373 6172 7920 666f 7220  - necessary for 
+0000af00: 5c0d 0a20 2020 2020 2020 2020 2020 2063  \..            c
+0000af10: 6f6e 7472 6f6c 6c61 626c 6520 7367 656e  ontrollable sgen
+0000af20: 7320 696e 204f 5046 0d0a 0d0a 2020 2020  s in OPF....    
+0000af30: 2020 2020 2a2a 636f 6e74 726f 6c6c 6162      **controllab
+0000af40: 6c65 2a2a 2028 626f 6f6c 2c20 4e61 4e29  le** (bool, NaN)
+0000af50: 202d 2057 6865 7468 6572 2074 6869 7320   - Whether this 
+0000af60: 6765 6e65 7261 746f 7220 6973 2063 6f6e  generator is con
+0000af70: 7472 6f6c 6c61 626c 6520 6279 2074 6865  trollable by the
+0000af80: 206f 7074 696d 616c 205c 0d0a 2020 2020   optimal \..    
+0000af90: 2020 2020 2020 2020 706f 7765 7266 6c6f          powerflo
+0000afa0: 773b 2064 6566 6175 6c74 7320 746f 2046  w; defaults to F
+0000afb0: 616c 7365 2069 6620 2263 6f6e 7472 6f6c  alse if "control
+0000afc0: 6c61 626c 6522 2063 6f6c 756d 6e20 6578  lable" column ex
+0000afd0: 6973 7473 2069 6e20 4461 7461 4672 616d  ists in DataFram
+0000afe0: 650d 0a0d 0a20 2020 2020 2020 202a 2a6b  e....        **k
+0000aff0: 2a2a 2028 666c 6f61 742c 204e 614e 2920  ** (float, NaN) 
+0000b000: 2d20 5261 7469 6f20 6f66 206e 6f6d 696e  - Ratio of nomin
+0000b010: 616c 2063 7572 7265 6e74 2074 6f20 7368  al current to sh
+0000b020: 6f72 7420 6369 7263 7569 7420 6375 7272  ort circuit curr
+0000b030: 656e 740d 0a0d 0a20 2020 2020 2020 202a  ent....        *
+0000b040: 2a72 782a 2a20 2866 6c6f 6174 2c20 4e61  *rx** (float, Na
+0000b050: 4e29 202d 2052 2f58 2072 6174 696f 2066  N) - R/X ratio f
+0000b060: 6f72 2073 686f 7274 2063 6972 6375 6974  or short circuit
+0000b070: 2069 6d70 6564 616e 6365 2e20 4f6e 6c79   impedance. Only
+0000b080: 2072 656c 6576 616e 7420 6966 2074 7970   relevant if typ
+0000b090: 6520 6973 205c 0d0a 2020 2020 2020 2020  e is \..        
+0000b0a0: 2020 2020 7370 6563 6966 6965 6420 6173      specified as
+0000b0b0: 206d 6f74 6f72 2073 6f20 7468 6174 2073   motor so that s
+0000b0c0: 6765 6e20 6973 2074 7265 6174 6564 2061  gen is treated a
+0000b0d0: 7320 6173 796e 6368 726f 6e6f 7573 206d  s asynchronous m
+0000b0e0: 6f74 6f72 0d0a 0d0a 2020 2020 2020 2020  otor....        
+0000b0f0: 2a2a 6375 7272 656e 745f 736f 7572 6365  **current_source
+0000b100: 2a2a 2028 626f 6f6c 2c20 5472 7565 2920  ** (bool, True) 
+0000b110: 2d20 4d6f 6465 6c20 7468 6973 2073 6765  - Model this sge
+0000b120: 6e20 6173 2061 2063 7572 7265 6e74 2073  n as a current s
+0000b130: 6f75 7263 6520 6475 7269 6e67 2073 686f  ource during sho
+0000b140: 7274 2d5c 0d0a 2020 2020 2020 2020 2020  rt-\..          
+0000b150: 2020 6369 7263 7569 7420 6361 6c63 756c    circuit calcul
+0000b160: 6174 696f 6e73 3b20 7573 6566 756c 2069  ations; useful i
+0000b170: 6e20 736f 6d65 2063 6173 6573 2c20 666f  n some cases, fo
+0000b180: 7220 6578 616d 706c 6520 7468 6520 7369  r example the si
+0000b190: 6d75 6c61 7469 6f6e 206f 6620 6675 6c6c  mulation of full
+0000b1a0: 2d5c 0d0a 2020 2020 2020 2020 2020 2020  -\..            
+0000b1b0: 7369 7a65 2063 6f6e 7665 7274 6572 7320  size converters 
+0000b1c0: 7065 7220 4945 4320 3630 3930 392d 303a  per IEC 60909-0:
+0000b1d0: 3230 3136 2e0d 0a0d 0a20 2020 204f 5554  2016.....    OUT
+0000b1e0: 5055 543a 0d0a 2020 2020 2020 2020 2a2a  PUT:..        **
+0000b1f0: 696e 6465 782a 2a20 2869 6e74 2920 2d20  index** (int) - 
+0000b200: 5468 6520 756e 6971 7565 2049 4420 6f66  The unique ID of
+0000b210: 2074 6865 2063 7265 6174 6564 2073 6765   the created sge
+0000b220: 6e0d 0a0d 0a20 2020 2045 5841 4d50 4c45  n....    EXAMPLE
+0000b230: 3a0d 0a20 2020 2020 2020 2063 7265 6174  :..        creat
+0000b240: 655f 7367 656e 286e 6574 2c20 312c 2070  e_sgen(net, 1, p
+0000b250: 5f6d 7720 3d20 2d31 3230 290d 0a0d 0a20  _mw = -120).... 
+0000b260: 2020 2022 2222 0d0a 2020 2020 5f63 6865     """..    _che
+0000b270: 636b 5f6e 6f64 655f 656c 656d 656e 7428  ck_node_element(
+0000b280: 6e65 742c 2062 7573 290d 0a0d 0a20 2020  net, bus)....   
+0000b290: 2069 6e64 6578 203d 205f 6765 745f 696e   index = _get_in
+0000b2a0: 6465 785f 7769 7468 5f63 6865 636b 286e  dex_with_check(n
+0000b2b0: 6574 2c20 2273 6765 6e22 2c20 696e 6465  et, "sgen", inde
+0000b2c0: 782c 206e 616d 653d 2273 7461 7469 6320  x, name="static 
+0000b2d0: 6765 6e65 7261 746f 7222 290d 0a0d 0a20  generator").... 
+0000b2e0: 2020 2065 6e74 7269 6573 203d 2064 6963     entries = dic
+0000b2f0: 7428 7a69 7028 5b22 6e61 6d65 222c 2022  t(zip(["name", "
+0000b300: 6275 7322 2c20 2270 5f6d 7722 2c20 2273  bus", "p_mw", "s
+0000b310: 6361 6c69 6e67 222c 2022 715f 6d76 6172  caling", "q_mvar
+0000b320: 222c 2022 736e 5f6d 7661 222c 2022 696e  ", "sn_mva", "in
+0000b330: 5f73 6572 7669 6365 222c 2022 7479 7065  _service", "type
+0000b340: 222c 0d0a 2020 2020 2020 2020 2020 2020  ",..            
+0000b350: 2020 2020 2020 2020 2020 2020 2263 7572              "cur
+0000b360: 7265 6e74 5f73 6f75 7263 6522 5d2c 205b  rent_source"], [
+0000b370: 6e61 6d65 2c20 6275 732c 2070 5f6d 772c  name, bus, p_mw,
+0000b380: 2073 6361 6c69 6e67 2c20 715f 6d76 6172   scaling, q_mvar
+0000b390: 2c20 736e 5f6d 7661 2c0d 0a20 2020 2020  , sn_mva,..     
 0000b3a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b3b0: 2020 2020 2020 2020 626f 6f6c 2869 6e5f          bool(in_
-0000b3c0: 7365 7276 6963 6529 2c20 7479 7065 2c20  service), type, 
-0000b3d0: 6375 7272 656e 745f 736f 7572 6365 5d29  current_source])
-0000b3e0: 290d 0a0d 0a20 2020 205f 7365 745f 656e  )....    _set_en
-0000b3f0: 7472 6965 7328 6e65 742c 2022 7367 656e  tries(net, "sgen
-0000b400: 222c 2069 6e64 6578 2c20 5472 7565 2c20  ", index, True, 
-0000b410: 2a2a 656e 7472 6965 7329 0d0a 0d0a 2020  **entries)....  
-0000b420: 2020 5f63 7265 6174 655f 636f 6c75 6d6e    _create_column
-0000b430: 5f61 6e64 5f73 6574 5f76 616c 7565 286e  _and_set_value(n
-0000b440: 6574 2c20 696e 6465 782c 206d 696e 5f70  et, index, min_p
-0000b450: 5f6d 772c 2022 6d69 6e5f 705f 6d77 222c  _mw, "min_p_mw",
-0000b460: 2022 7367 656e 2229 0d0a 2020 2020 5f63   "sgen")..    _c
-0000b470: 7265 6174 655f 636f 6c75 6d6e 5f61 6e64  reate_column_and
-0000b480: 5f73 6574 5f76 616c 7565 286e 6574 2c20  _set_value(net, 
-0000b490: 696e 6465 782c 206d 6178 5f70 5f6d 772c  index, max_p_mw,
-0000b4a0: 2022 6d61 785f 705f 6d77 222c 2022 7367   "max_p_mw", "sg
-0000b4b0: 656e 2229 0d0a 2020 2020 5f63 7265 6174  en")..    _creat
-0000b4c0: 655f 636f 6c75 6d6e 5f61 6e64 5f73 6574  e_column_and_set
-0000b4d0: 5f76 616c 7565 286e 6574 2c20 696e 6465  _value(net, inde
-0000b4e0: 782c 206d 696e 5f71 5f6d 7661 722c 2022  x, min_q_mvar, "
-0000b4f0: 6d69 6e5f 715f 6d76 6172 222c 2022 7367  min_q_mvar", "sg
-0000b500: 656e 2229 0d0a 2020 2020 5f63 7265 6174  en")..    _creat
-0000b510: 655f 636f 6c75 6d6e 5f61 6e64 5f73 6574  e_column_and_set
-0000b520: 5f76 616c 7565 286e 6574 2c20 696e 6465  _value(net, inde
-0000b530: 782c 206d 6178 5f71 5f6d 7661 722c 2022  x, max_q_mvar, "
-0000b540: 6d61 785f 715f 6d76 6172 222c 2022 7367  max_q_mvar", "sg
-0000b550: 656e 2229 0d0a 2020 2020 5f63 7265 6174  en")..    _creat
-0000b560: 655f 636f 6c75 6d6e 5f61 6e64 5f73 6574  e_column_and_set
-0000b570: 5f76 616c 7565 286e 6574 2c20 696e 6465  _value(net, inde
-0000b580: 782c 206b 2c20 226b 222c 2022 7367 656e  x, k, "k", "sgen
-0000b590: 2229 0d0a 2020 2020 5f63 7265 6174 655f  ")..    _create_
-0000b5a0: 636f 6c75 6d6e 5f61 6e64 5f73 6574 5f76  column_and_set_v
-0000b5b0: 616c 7565 286e 6574 2c20 696e 6465 782c  alue(net, index,
-0000b5c0: 2072 782c 2022 7278 222c 2022 7367 656e   rx, "rx", "sgen
-0000b5d0: 2229 0d0a 2020 2020 5f63 7265 6174 655f  ")..    _create_
-0000b5e0: 636f 6c75 6d6e 5f61 6e64 5f73 6574 5f76  column_and_set_v
-0000b5f0: 616c 7565 286e 6574 2c20 696e 6465 782c  alue(net, index,
-0000b600: 2063 6f6e 7472 6f6c 6c61 626c 652c 2022   controllable, "
-0000b610: 636f 6e74 726f 6c6c 6162 6c65 222c 2022  controllable", "
-0000b620: 7367 656e 222c 2064 7479 703d 626f 6f6c  sgen", dtyp=bool
-0000b630: 5f2c 0d0a 2020 2020 2020 2020 2020 2020  _,..            
-0000b640: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b650: 2020 2020 2064 6566 6175 6c74 5f76 616c       default_val
-0000b660: 3d46 616c 7365 2c20 6465 6661 756c 745f  =False, default_
-0000b670: 666f 725f 6e61 6e3d 5472 7565 290d 0a0d  for_nan=True)...
-0000b680: 0a20 2020 2072 6574 7572 6e20 696e 6465  .    return inde
-0000b690: 780d 0a0d 0a0d 0a64 6566 2063 7265 6174  x......def creat
-0000b6a0: 655f 7367 656e 7328 6e65 742c 2062 7573  e_sgens(net, bus
-0000b6b0: 6573 2c20 705f 6d77 2c20 715f 6d76 6172  es, p_mw, q_mvar
-0000b6c0: 3d30 2c20 736e 5f6d 7661 3d6e 616e 2c20  =0, sn_mva=nan, 
-0000b6d0: 6e61 6d65 3d4e 6f6e 652c 2069 6e64 6578  name=None, index
-0000b6e0: 3d4e 6f6e 652c 0d0a 2020 2020 2020 2020  =None,..        
-0000b6f0: 2020 2020 2020 2020 2073 6361 6c69 6e67           scaling
-0000b700: 3d31 2e2c 2074 7970 653d 2777 7965 272c  =1., type='wye',
-0000b710: 2069 6e5f 7365 7276 6963 653d 5472 7565   in_service=True
-0000b720: 2c20 6d61 785f 705f 6d77 3d4e 6f6e 652c  , max_p_mw=None,
-0000b730: 206d 696e 5f70 5f6d 773d 4e6f 6e65 2c0d   min_p_mw=None,.
-0000b740: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000b750: 2020 6d61 785f 715f 6d76 6172 3d4e 6f6e    max_q_mvar=Non
-0000b760: 652c 206d 696e 5f71 5f6d 7661 723d 4e6f  e, min_q_mvar=No
-0000b770: 6e65 2c20 636f 6e74 726f 6c6c 6162 6c65  ne, controllable
-0000b780: 3d4e 6f6e 652c 206b 3d4e 6f6e 652c 2072  =None, k=None, r
-0000b790: 783d 4e6f 6e65 2c0d 0a20 2020 2020 2020  x=None,..       
-0000b7a0: 2020 2020 2020 2020 2020 6375 7272 656e            curren
-0000b7b0: 745f 736f 7572 6365 3d54 7275 652c 202a  t_source=True, *
-0000b7c0: 2a6b 7761 7267 7329 3a0d 0a20 2020 2022  *kwargs):..    "
-0000b7d0: 2222 0d0a 2020 2020 4164 6473 2061 206e  ""..    Adds a n
-0000b7e0: 756d 6265 7220 6f66 2073 6765 6e73 2069  umber of sgens i
-0000b7f0: 6e20 7461 626c 6520 6e65 745b 2273 6765  n table net["sge
-0000b800: 6e22 5d2e 0d0a 0d0a 2020 2020 5374 6174  n"].....    Stat
-0000b810: 6963 2067 656e 6572 6174 6f72 7320 6172  ic generators ar
-0000b820: 6520 6d6f 6465 6c6c 6564 2061 7320 706f  e modelled as po
-0000b830: 7369 7469 7665 2061 6e64 2063 6f6e 7374  sitive and const
-0000b840: 616e 7420 5051 2070 6f77 6572 2e20 5468  ant PQ power. Th
-0000b850: 6973 2065 6c65 6d65 6e74 2069 7320 7573  is element is us
-0000b860: 6564 2074 6f20 6d6f 6465 6c0d 0a20 2020  ed to model..   
-0000b870: 2067 656e 6572 6174 6f72 7320 7769 7468   generators with
-0000b880: 2061 2063 6f6e 7374 616e 7420 6163 7469   a constant acti
-0000b890: 7665 2061 6e64 2072 6561 6374 6976 6520  ve and reactive 
-0000b8a0: 706f 7765 7220 6665 6564 2d69 6e2e 2049  power feed-in. I
-0000b8b0: 6620 796f 7520 7761 6e74 2074 6f20 6d6f  f you want to mo
-0000b8c0: 6465 6c20 6120 766f 6c74 6167 650d 0a20  del a voltage.. 
-0000b8d0: 2020 2063 6f6e 7472 6f6c 6c65 6420 6765     controlled ge
-0000b8e0: 6e65 7261 746f 722c 2075 7365 2074 6865  nerator, use the
-0000b8f0: 2067 656e 6572 6174 6f72 2065 6c65 6d65   generator eleme
-0000b900: 6e74 2069 6e73 7465 6164 2e0d 0a0d 0a20  nt instead..... 
-0000b910: 2020 2049 4e50 5554 3a0d 0a20 2020 2020     INPUT:..     
-0000b920: 2020 202a 2a6e 6574 2a2a 202d 2054 6865     **net** - The
-0000b930: 206e 6574 2077 6974 6869 6e20 7468 6973   net within this
-0000b940: 206c 6f61 6420 7368 6f75 6c64 2062 6520   load should be 
-0000b950: 6372 6561 7465 640d 0a0d 0a20 2020 2020  created....     
-0000b960: 2020 202a 2a62 7573 6573 2a2a 2028 6c69     **buses** (li
-0000b970: 7374 206f 6620 696e 7429 202d 2041 206c  st of int) - A l
-0000b980: 6973 7420 6f66 2062 7573 2069 6473 2074  ist of bus ids t
-0000b990: 6f20 7768 6963 6820 7468 6520 6c6f 6164  o which the load
-0000b9a0: 7320 6172 6520 636f 6e6e 6563 7465 640d  s are connected.
-0000b9b0: 0a0d 0a20 2020 204f 5054 494f 4e41 4c3a  ...    OPTIONAL:
-0000b9c0: 0d0a 0d0a 2020 2020 2020 2020 2a2a 705f  ....        **p_
-0000b9d0: 6d77 2a2a 2028 6c69 7374 206f 6620 666c  mw** (list of fl
-0000b9e0: 6f61 7473 2920 2d20 5468 6520 6163 7469  oats) - The acti
-0000b9f0: 7665 2070 6f77 6572 206f 6620 7468 6520  ve power of the 
-0000ba00: 7367 656e 730d 0a0d 0a20 2020 2020 2020  sgens....       
-0000ba10: 2020 2020 2020 2d20 706f 7374 6976 6520        - postive 
-0000ba20: 7661 6c75 6520 2020 2d3e 2067 656e 6572  value   -> gener
-0000ba30: 6174 696f 6e0d 0a20 2020 2020 2020 2020  ation..         
-0000ba40: 2020 2020 2d20 6e65 6761 7469 7665 2076      - negative v
-0000ba50: 616c 7565 2020 2d3e 206c 6f61 640d 0a0d  alue  -> load...
-0000ba60: 0a20 2020 2020 2020 202a 2a71 5f6d 7661  .        **q_mva
-0000ba70: 722a 2a20 286c 6973 7420 6f66 2066 6c6f  r** (list of flo
-0000ba80: 6174 732c 2064 6566 6175 6c74 2030 2920  ats, default 0) 
-0000ba90: 2d20 5468 6520 7265 6163 7469 7665 2070  - The reactive p
-0000baa0: 6f77 6572 206f 6620 7468 6520 7367 656e  ower of the sgen
-0000bab0: 730d 0a0d 0a20 2020 2020 2020 202a 2a73  s....        **s
-0000bac0: 6e5f 6d76 612a 2a20 286c 6973 7420 6f66  n_mva** (list of
-0000bad0: 2066 6c6f 6174 732c 2064 6566 6175 6c74   floats, default
-0000bae0: 204e 6f6e 6529 202d 204e 6f6d 696e 616c   None) - Nominal
-0000baf0: 2070 6f77 6572 206f 6620 7468 6520 7367   power of the sg
-0000bb00: 656e 730d 0a0d 0a20 2020 2020 2020 202a  ens....        *
-0000bb10: 2a6e 616d 652a 2a20 286c 6973 7420 6f66  *name** (list of
-0000bb20: 2073 7472 696e 6773 2c20 6465 6661 756c   strings, defaul
-0000bb30: 7420 4e6f 6e65 2920 2d20 5468 6520 6e61  t None) - The na
-0000bb40: 6d65 2066 6f72 2074 6869 7320 7367 656e  me for this sgen
-0000bb50: 0d0a 0d0a 2020 2020 2020 2020 2a2a 7363  ....        **sc
-0000bb60: 616c 696e 672a 2a20 286c 6973 7420 6f66  aling** (list of
-0000bb70: 2066 6c6f 6174 732c 2064 6566 6175 6c74   floats, default
-0000bb80: 2031 2e29 202d 2041 6e20 4f50 5449 4f4e   1.) - An OPTION
-0000bb90: 414c 2073 6361 6c69 6e67 2066 6163 746f  AL scaling facto
-0000bba0: 7220 746f 2062 6520 7365 7420 6375 7374  r to be set cust
-0000bbb0: 6f6d 6c79 2e0d 0a20 2020 2020 2020 204d  omly...        M
-0000bbc0: 756c 7469 706c 7973 2077 6974 6820 705f  ultiplys with p_
-0000bbd0: 6d77 2061 6e64 2071 5f6d 7661 722e 0d0a  mw and q_mvar...
-0000bbe0: 0d0a 2020 2020 2020 2020 2a2a 7479 7065  ..        **type
-0000bbf0: 2a2a 2028 7374 7269 6e67 2c20 4e6f 6e65  ** (string, None
-0000bc00: 2920 2d20 2074 7970 6520 7661 7269 6162  ) -  type variab
-0000bc10: 6c65 2074 6f20 636c 6173 7369 6679 2074  le to classify t
-0000bc20: 6865 2073 6765 6e0d 0a0d 0a20 2020 2020  he sgen....     
-0000bc30: 2020 202a 2a69 6e64 6578 2a2a 2028 6c69     **index** (li
-0000bc40: 7374 206f 6620 696e 742c 204e 6f6e 6529  st of int, None)
-0000bc50: 202d 2046 6f72 6365 2061 2073 7065 6369   - Force a speci
-0000bc60: 6669 6564 2049 4420 6966 2069 7420 6973  fied ID if it is
-0000bc70: 2061 7661 696c 6162 6c65 2e20 4966 204e   available. If N
-0000bc80: 6f6e 652c 2074 6865 2069 6e64 6578 5c0d  one, the index\.
-0000bc90: 0a20 2020 2020 2020 2020 2020 2020 6973  .             is
-0000bca0: 2073 6574 2074 6f20 6120 7261 6e67 6520   set to a range 
-0000bcb0: 6265 7477 6565 6e20 6f6e 6520 6869 6768  between one high
-0000bcc0: 6572 2074 6861 6e20 7468 6520 6869 6768  er than the high
-0000bcd0: 6573 7420 616c 7265 6164 7920 6578 6973  est already exis
-0000bce0: 7469 6e67 2069 6e64 6578 2061 6e64 2074  ting index and t
-0000bcf0: 6865 205c 0d0a 2020 2020 2020 2020 2020  he \..          
-0000bd00: 2020 206c 656e 6774 6820 6f66 2073 6765     length of sge
-0000bd10: 6e73 2074 6861 7420 7368 616c 6c20 6265  ns that shall be
-0000bd20: 2063 7265 6174 6564 2e0d 0a0d 0a20 2020   created.....   
-0000bd30: 2020 2020 202a 2a69 6e5f 7365 7276 6963       **in_servic
-0000bd40: 652a 2a20 286c 6973 7420 6f66 2062 6f6f  e** (list of boo
-0000bd50: 6c65 616e 2920 2d20 5472 7565 2066 6f72  lean) - True for
-0000bd60: 2069 6e5f 7365 7276 6963 6520 6f72 2046   in_service or F
-0000bd70: 616c 7365 2066 6f72 206f 7574 206f 6620  alse for out of 
-0000bd80: 7365 7276 6963 650d 0a0d 0a20 2020 2020  service....     
-0000bd90: 2020 202a 2a6d 6178 5f70 5f6d 772a 2a20     **max_p_mw** 
-0000bda0: 286c 6973 7420 6f66 2066 6c6f 6174 732c  (list of floats,
-0000bdb0: 2064 6566 6175 6c74 204e 614e 2920 2d20   default NaN) - 
-0000bdc0: 4d61 7869 6d75 6d20 6163 7469 7665 2070  Maximum active p
-0000bdd0: 6f77 6572 2073 6765 6e20 2d20 6e65 6365  ower sgen - nece
-0000bde0: 7373 6172 7920 666f 7220 5c0d 0a20 2020  ssary for \..   
-0000bdf0: 2020 2020 2020 2020 2020 636f 6e74 726f            contro
-0000be00: 6c6c 6162 6c65 2073 6765 6e73 2069 6e20  llable sgens in 
-0000be10: 666f 7220 4f50 460d 0a0d 0a20 2020 2020  for OPF....     
-0000be20: 2020 202a 2a6d 696e 5f70 5f6d 772a 2a20     **min_p_mw** 
-0000be30: 286c 6973 7420 6f66 2066 6c6f 6174 732c  (list of floats,
-0000be40: 2064 6566 6175 6c74 204e 614e 2920 2d20   default NaN) - 
-0000be50: 4d69 6e69 6d75 6d20 6163 7469 7665 2070  Minimum active p
-0000be60: 6f77 6572 2073 6765 6e20 2d20 6e65 6365  ower sgen - nece
-0000be70: 7373 6172 7920 666f 7220 5c0d 0a20 2020  ssary for \..   
-0000be80: 2020 2020 2020 2020 2020 636f 6e74 726f            contro
-0000be90: 6c6c 6162 6c65 2073 6765 6e73 2069 6e20  llable sgens in 
-0000bea0: 666f 7220 4f50 460d 0a0d 0a20 2020 2020  for OPF....     
-0000beb0: 2020 202a 2a6d 6178 5f71 5f6d 7661 722a     **max_q_mvar*
-0000bec0: 2a20 286c 6973 7420 6f66 2066 6c6f 6174  * (list of float
-0000bed0: 732c 2064 6566 6175 6c74 204e 614e 2920  s, default NaN) 
-0000bee0: 2d20 4d61 7869 6d75 6d20 7265 6163 7469  - Maximum reacti
-0000bef0: 7665 2070 6f77 6572 2073 6765 6e20 2d20  ve power sgen - 
-0000bf00: 6e65 6365 7373 6172 7920 666f 7220 5c0d  necessary for \.
-0000bf10: 0a20 2020 2020 2020 2020 2020 2020 636f  .             co
-0000bf20: 6e74 726f 6c6c 6162 6c65 2073 6765 6e73  ntrollable sgens
-0000bf30: 2069 6e20 666f 7220 4f50 460d 0a0d 0a20   in for OPF.... 
-0000bf40: 2020 2020 2020 202a 2a6d 696e 5f71 5f6d         **min_q_m
-0000bf50: 7661 722a 2a20 286c 6973 7420 6f66 2066  var** (list of f
-0000bf60: 6c6f 6174 732c 2064 6566 6175 6c74 204e  loats, default N
-0000bf70: 614e 2920 2d20 4d69 6e69 6d75 6d20 7265  aN) - Minimum re
-0000bf80: 6163 7469 7665 2070 6f77 6572 2073 6765  active power sge
-0000bf90: 6e20 2d20 6e65 6365 7373 6172 7920 666f  n - necessary fo
-0000bfa0: 7220 5c0d 0a20 2020 2020 2020 2020 2020  r \..           
-0000bfb0: 2020 636f 6e74 726f 6c6c 6162 6c65 2073    controllable s
-0000bfc0: 6765 6e73 2069 6e20 4f50 460d 0a0d 0a20  gens in OPF.... 
-0000bfd0: 2020 2020 2020 202a 2a63 6f6e 7472 6f6c         **control
-0000bfe0: 6c61 626c 652a 2a20 286c 6973 7420 6f66  lable** (list of
-0000bff0: 2062 6f6f 6c65 616e 2c20 6465 6661 756c   boolean, defaul
-0000c000: 7420 4e61 4e29 202d 2053 7461 7465 732c  t NaN) - States,
-0000c010: 2077 6865 7468 6572 2061 2073 6765 6e20   whether a sgen 
-0000c020: 6973 2063 6f6e 7472 6f6c 6c61 626c 6520  is controllable 
-0000c030: 5c0d 0a20 2020 2020 2020 2020 2020 2020  \..             
-0000c040: 6f72 206e 6f74 2e20 4f6e 6c79 2072 6573  or not. Only res
-0000c050: 7065 6374 6564 2066 6f72 204f 5046 0d0a  pected for OPF..
-0000c060: 2020 2020 2020 2020 2020 2020 2044 6566               Def
-0000c070: 6175 6c74 7320 746f 2046 616c 7365 2069  aults to False i
-0000c080: 6620 2263 6f6e 7472 6f6c 6c61 626c 6522  f "controllable"
-0000c090: 2063 6f6c 756d 6e20 6578 6973 7473 2069   column exists i
-0000c0a0: 6e20 4461 7461 4672 616d 650d 0a0d 0a20  n DataFrame.... 
-0000c0b0: 2020 2020 2020 202a 2a6b 2a2a 2028 6c69         **k** (li
-0000c0c0: 7374 206f 6620 666c 6f61 7473 2c20 4e6f  st of floats, No
-0000c0d0: 6e65 2920 2d20 5261 7469 6f20 6f66 206e  ne) - Ratio of n
-0000c0e0: 6f6d 696e 616c 2063 7572 7265 6e74 2074  ominal current t
-0000c0f0: 6f20 7368 6f72 7420 6369 7263 7569 7420  o short circuit 
-0000c100: 6375 7272 656e 740d 0a0d 0a20 2020 2020  current....     
-0000c110: 2020 202a 2a72 782a 2a20 286c 6973 7420     **rx** (list 
-0000c120: 6f66 2066 6c6f 6174 732c 204e 614e 2920  of floats, NaN) 
-0000c130: 2d20 522f 5820 7261 7469 6f20 666f 7220  - R/X ratio for 
-0000c140: 7368 6f72 7420 6369 7263 7569 7420 696d  short circuit im
-0000c150: 7065 6461 6e63 652e 204f 6e6c 7920 7265  pedance. Only re
-0000c160: 6c65 7661 6e74 2069 6620 7479 7065 5c0d  levant if type\.
-0000c170: 0a20 2020 2020 2020 2020 2020 2069 7320  .            is 
-0000c180: 7370 6563 6966 6965 6420 6173 206d 6f74  specified as mot
-0000c190: 6f72 2073 6f20 7468 6174 2073 6765 6e20  or so that sgen 
-0000c1a0: 6973 2074 7265 6174 6564 2061 7320 6173  is treated as as
-0000c1b0: 796e 6368 726f 6e6f 7573 206d 6f74 6f72  ynchronous motor
-0000c1c0: 0d0a 0d0a 2020 2020 2020 2020 2a2a 6375  ....        **cu
-0000c1d0: 7272 656e 745f 736f 7572 6365 2a2a 2028  rrent_source** (
-0000c1e0: 6c69 7374 206f 6620 626f 6f6c 2c20 5472  list of bool, Tr
-0000c1f0: 7565 2920 2d20 4d6f 6465 6c20 7468 6973  ue) - Model this
-0000c200: 2073 6765 6e20 6173 2061 2063 7572 7265   sgen as a curre
-0000c210: 6e74 2073 6f75 7263 6520 6475 7269 6e67  nt source during
-0000c220: 2073 686f 7274 2d5c 0d0a 2020 2020 2020   short-\..      
-0000c230: 2020 2020 2020 6369 7263 7569 7420 6361        circuit ca
-0000c240: 6c63 756c 6174 696f 6e73 3b20 7573 6566  lculations; usef
-0000c250: 756c 2069 6e20 736f 6d65 2063 6173 6573  ul in some cases
-0000c260: 2c20 666f 7220 6578 616d 706c 6520 7468  , for example th
-0000c270: 6520 7369 6d75 6c61 7469 6f6e 206f 6620  e simulation of 
-0000c280: 6675 6c6c 2d5c 0d0a 2020 2020 2020 2020  full-\..        
-0000c290: 2020 2020 7369 7a65 2063 6f6e 7665 7274      size convert
-0000c2a0: 6572 7320 7065 7220 4945 4320 3630 3930  ers per IEC 6090
-0000c2b0: 392d 303a 3230 3136 2e0d 0a0d 0a20 2020  9-0:2016.....   
-0000c2c0: 204f 5554 5055 543a 0d0a 2020 2020 2020   OUTPUT:..      
-0000c2d0: 2020 2a2a 696e 6465 782a 2a20 2869 6e74    **index** (int
-0000c2e0: 2920 2d20 5468 6520 756e 6971 7565 2049  ) - The unique I
-0000c2f0: 4473 206f 6620 7468 6520 6372 6561 7465  Ds of the create
-0000c300: 6420 656c 656d 656e 7473 0d0a 0d0a 2020  d elements....  
-0000c310: 2020 4558 414d 504c 453a 0d0a 2020 2020    EXAMPLE:..    
-0000c320: 2020 2020 6372 6561 7465 5f73 6765 6e73      create_sgens
-0000c330: 286e 6574 2c20 6275 7365 733d 5b30 2c20  (net, buses=[0, 
-0000c340: 325d 2c20 705f 6d77 3d5b 3130 2e2c 2035  2], p_mw=[10., 5
-0000c350: 2e5d 2c20 715f 6d76 6172 3d5b 322e 2c20  .], q_mvar=[2., 
-0000c360: 302e 5d29 0d0a 0d0a 2020 2020 2222 220d  0.])....    """.
-0000c370: 0a20 2020 205f 6368 6563 6b5f 6d75 6c74  .    _check_mult
-0000c380: 6970 6c65 5f6e 6f64 655f 656c 656d 656e  iple_node_elemen
-0000c390: 7473 286e 6574 2c20 6275 7365 7329 0d0a  ts(net, buses)..
-0000c3a0: 0d0a 2020 2020 696e 6465 7820 3d20 5f67  ..    index = _g
-0000c3b0: 6574 5f6d 756c 7469 706c 655f 696e 6465  et_multiple_inde
-0000c3c0: 785f 7769 7468 5f63 6865 636b 286e 6574  x_with_check(net
-0000c3d0: 2c20 2273 6765 6e22 2c20 696e 6465 782c  , "sgen", index,
-0000c3e0: 206c 656e 2862 7573 6573 2929 0d0a 0d0a   len(buses))....
-0000c3f0: 2020 2020 656e 7472 6965 7320 3d20 7b22      entries = {"
-0000c400: 6275 7322 3a20 6275 7365 732c 2022 705f  bus": buses, "p_
-0000c410: 6d77 223a 2070 5f6d 772c 2022 715f 6d76  mw": p_mw, "q_mv
-0000c420: 6172 223a 2071 5f6d 7661 722c 2022 736e  ar": q_mvar, "sn
-0000c430: 5f6d 7661 223a 2073 6e5f 6d76 612c 2022  _mva": sn_mva, "
-0000c440: 7363 616c 696e 6722 3a20 7363 616c 696e  scaling": scalin
-0000c450: 672c 0d0a 2020 2020 2020 2020 2020 2020  g,..            
-0000c460: 2020 2022 696e 5f73 6572 7669 6365 223a     "in_service":
-0000c470: 2069 6e5f 7365 7276 6963 652c 2022 6e61   in_service, "na
-0000c480: 6d65 223a 206e 616d 652c 2022 7479 7065  me": name, "type
-0000c490: 223a 2074 7970 652c 0d0a 2020 2020 2020  ": type,..      
-0000c4a0: 2020 2020 2020 2020 2027 6375 7272 656e           'curren
-0000c4b0: 745f 736f 7572 6365 273a 2063 7572 7265  t_source': curre
-0000c4c0: 6e74 5f73 6f75 7263 657d 0d0a 0d0a 2020  nt_source}....  
-0000c4d0: 2020 5f61 6464 5f73 6572 6965 735f 746f    _add_series_to
-0000c4e0: 5f65 6e74 7269 6573 2865 6e74 7269 6573  _entries(entries
-0000c4f0: 2c20 696e 6465 782c 2022 6d69 6e5f 705f  , index, "min_p_
-0000c500: 6d77 222c 206d 696e 5f70 5f6d 7729 0d0a  mw", min_p_mw)..
-0000c510: 2020 2020 5f61 6464 5f73 6572 6965 735f      _add_series_
-0000c520: 746f 5f65 6e74 7269 6573 2865 6e74 7269  to_entries(entri
-0000c530: 6573 2c20 696e 6465 782c 2022 6d61 785f  es, index, "max_
-0000c540: 705f 6d77 222c 206d 6178 5f70 5f6d 7729  p_mw", max_p_mw)
-0000c550: 0d0a 2020 2020 5f61 6464 5f73 6572 6965  ..    _add_serie
-0000c560: 735f 746f 5f65 6e74 7269 6573 2865 6e74  s_to_entries(ent
-0000c570: 7269 6573 2c20 696e 6465 782c 2022 6d69  ries, index, "mi
-0000c580: 6e5f 715f 6d76 6172 222c 206d 696e 5f71  n_q_mvar", min_q
-0000c590: 5f6d 7661 7229 0d0a 2020 2020 5f61 6464  _mvar)..    _add
-0000c5a0: 5f73 6572 6965 735f 746f 5f65 6e74 7269  _series_to_entri
-0000c5b0: 6573 2865 6e74 7269 6573 2c20 696e 6465  es(entries, inde
-0000c5c0: 782c 2022 6d61 785f 715f 6d76 6172 222c  x, "max_q_mvar",
-0000c5d0: 206d 6178 5f71 5f6d 7661 7229 0d0a 2020   max_q_mvar)..  
-0000c5e0: 2020 5f61 6464 5f73 6572 6965 735f 746f    _add_series_to
-0000c5f0: 5f65 6e74 7269 6573 2865 6e74 7269 6573  _entries(entries
-0000c600: 2c20 696e 6465 782c 2022 6b22 2c20 6b29  , index, "k", k)
-0000c610: 0d0a 2020 2020 5f61 6464 5f73 6572 6965  ..    _add_serie
-0000c620: 735f 746f 5f65 6e74 7269 6573 2865 6e74  s_to_entries(ent
-0000c630: 7269 6573 2c20 696e 6465 782c 2022 7278  ries, index, "rx
-0000c640: 222c 2072 7829 0d0a 2020 2020 5f61 6464  ", rx)..    _add
-0000c650: 5f73 6572 6965 735f 746f 5f65 6e74 7269  _series_to_entri
-0000c660: 6573 2865 6e74 7269 6573 2c20 696e 6465  es(entries, inde
-0000c670: 782c 2022 636f 6e74 726f 6c6c 6162 6c65  x, "controllable
-0000c680: 222c 2063 6f6e 7472 6f6c 6c61 626c 652c  ", controllable,
-0000c690: 2064 7479 703d 626f 6f6c 5f2c 0d0a 2020   dtyp=bool_,..  
-0000c6a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c6b0: 2020 2020 2020 2020 2064 6566 6175 6c74           default
-0000c6c0: 5f76 616c 3d46 616c 7365 290d 0a0d 0a20  _val=False).... 
-0000c6d0: 2020 205f 7365 745f 6d75 6c74 6970 6c65     _set_multiple
-0000c6e0: 5f65 6e74 7269 6573 286e 6574 2c20 2273  _entries(net, "s
-0000c6f0: 6765 6e22 2c20 696e 6465 782c 202a 2a65  gen", index, **e
-0000c700: 6e74 7269 6573 2c20 2a2a 6b77 6172 6773  ntries, **kwargs
-0000c710: 290d 0a0d 0a20 2020 2072 6574 7572 6e20  )....    return 
-0000c720: 696e 6465 780d 0a0d 0a0d 0a23 203d 3d3d  index......# ===
-0000c730: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0000b3b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b3c0: 2020 2020 2020 2062 6f6f 6c28 696e 5f73         bool(in_s
+0000b3d0: 6572 7669 6365 292c 2074 7970 652c 2063  ervice), type, c
+0000b3e0: 7572 7265 6e74 5f73 6f75 7263 655d 2929  urrent_source]))
+0000b3f0: 0d0a 0d0a 2020 2020 5f73 6574 5f65 6e74  ....    _set_ent
+0000b400: 7269 6573 286e 6574 2c20 2273 6765 6e22  ries(net, "sgen"
+0000b410: 2c20 696e 6465 782c 2054 7275 652c 202a  , index, True, *
+0000b420: 2a65 6e74 7269 6573 290d 0a0d 0a20 2020  *entries)....   
+0000b430: 205f 6372 6561 7465 5f63 6f6c 756d 6e5f   _create_column_
+0000b440: 616e 645f 7365 745f 7661 6c75 6528 6e65  and_set_value(ne
+0000b450: 742c 2069 6e64 6578 2c20 6d69 6e5f 705f  t, index, min_p_
+0000b460: 6d77 2c20 226d 696e 5f70 5f6d 7722 2c20  mw, "min_p_mw", 
+0000b470: 2273 6765 6e22 290d 0a20 2020 205f 6372  "sgen")..    _cr
+0000b480: 6561 7465 5f63 6f6c 756d 6e5f 616e 645f  eate_column_and_
+0000b490: 7365 745f 7661 6c75 6528 6e65 742c 2069  set_value(net, i
+0000b4a0: 6e64 6578 2c20 6d61 785f 705f 6d77 2c20  ndex, max_p_mw, 
+0000b4b0: 226d 6178 5f70 5f6d 7722 2c20 2273 6765  "max_p_mw", "sge
+0000b4c0: 6e22 290d 0a20 2020 205f 6372 6561 7465  n")..    _create
+0000b4d0: 5f63 6f6c 756d 6e5f 616e 645f 7365 745f  _column_and_set_
+0000b4e0: 7661 6c75 6528 6e65 742c 2069 6e64 6578  value(net, index
+0000b4f0: 2c20 6d69 6e5f 715f 6d76 6172 2c20 226d  , min_q_mvar, "m
+0000b500: 696e 5f71 5f6d 7661 7222 2c20 2273 6765  in_q_mvar", "sge
+0000b510: 6e22 290d 0a20 2020 205f 6372 6561 7465  n")..    _create
+0000b520: 5f63 6f6c 756d 6e5f 616e 645f 7365 745f  _column_and_set_
+0000b530: 7661 6c75 6528 6e65 742c 2069 6e64 6578  value(net, index
+0000b540: 2c20 6d61 785f 715f 6d76 6172 2c20 226d  , max_q_mvar, "m
+0000b550: 6178 5f71 5f6d 7661 7222 2c20 2273 6765  ax_q_mvar", "sge
+0000b560: 6e22 290d 0a20 2020 205f 6372 6561 7465  n")..    _create
+0000b570: 5f63 6f6c 756d 6e5f 616e 645f 7365 745f  _column_and_set_
+0000b580: 7661 6c75 6528 6e65 742c 2069 6e64 6578  value(net, index
+0000b590: 2c20 6b2c 2022 6b22 2c20 2273 6765 6e22  , k, "k", "sgen"
+0000b5a0: 290d 0a20 2020 205f 6372 6561 7465 5f63  )..    _create_c
+0000b5b0: 6f6c 756d 6e5f 616e 645f 7365 745f 7661  olumn_and_set_va
+0000b5c0: 6c75 6528 6e65 742c 2069 6e64 6578 2c20  lue(net, index, 
+0000b5d0: 7278 2c20 2272 7822 2c20 2273 6765 6e22  rx, "rx", "sgen"
+0000b5e0: 290d 0a20 2020 205f 6372 6561 7465 5f63  )..    _create_c
+0000b5f0: 6f6c 756d 6e5f 616e 645f 7365 745f 7661  olumn_and_set_va
+0000b600: 6c75 6528 6e65 742c 2069 6e64 6578 2c20  lue(net, index, 
+0000b610: 636f 6e74 726f 6c6c 6162 6c65 2c20 2263  controllable, "c
+0000b620: 6f6e 7472 6f6c 6c61 626c 6522 2c20 2273  ontrollable", "s
+0000b630: 6765 6e22 2c20 6474 7970 3d62 6f6f 6c5f  gen", dtyp=bool_
+0000b640: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
+0000b650: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b660: 2020 2020 6465 6661 756c 745f 7661 6c3d      default_val=
+0000b670: 4661 6c73 652c 2064 6566 6175 6c74 5f66  False, default_f
+0000b680: 6f72 5f6e 616e 3d54 7275 6529 0d0a 0d0a  or_nan=True)....
+0000b690: 2020 2020 7265 7475 726e 2069 6e64 6578      return index
+0000b6a0: 0d0a 0d0a 0d0a 6465 6620 6372 6561 7465  ......def create
+0000b6b0: 5f73 6765 6e73 286e 6574 2c20 6275 7365  _sgens(net, buse
+0000b6c0: 732c 2070 5f6d 772c 2071 5f6d 7661 723d  s, p_mw, q_mvar=
+0000b6d0: 302c 2073 6e5f 6d76 613d 6e61 6e2c 206e  0, sn_mva=nan, n
+0000b6e0: 616d 653d 4e6f 6e65 2c20 696e 6465 783d  ame=None, index=
+0000b6f0: 4e6f 6e65 2c0d 0a20 2020 2020 2020 2020  None,..         
+0000b700: 2020 2020 2020 2020 7363 616c 696e 673d          scaling=
+0000b710: 312e 2c20 7479 7065 3d27 7779 6527 2c20  1., type='wye', 
+0000b720: 696e 5f73 6572 7669 6365 3d54 7275 652c  in_service=True,
+0000b730: 206d 6178 5f70 5f6d 773d 4e6f 6e65 2c20   max_p_mw=None, 
+0000b740: 6d69 6e5f 705f 6d77 3d4e 6f6e 652c 0d0a  min_p_mw=None,..
+0000b750: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b760: 206d 6178 5f71 5f6d 7661 723d 4e6f 6e65   max_q_mvar=None
+0000b770: 2c20 6d69 6e5f 715f 6d76 6172 3d4e 6f6e  , min_q_mvar=Non
+0000b780: 652c 2063 6f6e 7472 6f6c 6c61 626c 653d  e, controllable=
+0000b790: 4e6f 6e65 2c20 6b3d 4e6f 6e65 2c20 7278  None, k=None, rx
+0000b7a0: 3d4e 6f6e 652c 0d0a 2020 2020 2020 2020  =None,..        
+0000b7b0: 2020 2020 2020 2020 2063 7572 7265 6e74           current
+0000b7c0: 5f73 6f75 7263 653d 5472 7565 2c20 2a2a  _source=True, **
+0000b7d0: 6b77 6172 6773 293a 0d0a 2020 2020 2222  kwargs):..    ""
+0000b7e0: 220d 0a20 2020 2041 6464 7320 6120 6e75  "..    Adds a nu
+0000b7f0: 6d62 6572 206f 6620 7367 656e 7320 696e  mber of sgens in
+0000b800: 2074 6162 6c65 206e 6574 5b22 7367 656e   table net["sgen
+0000b810: 225d 2e0d 0a0d 0a20 2020 2053 7461 7469  "].....    Stati
+0000b820: 6320 6765 6e65 7261 746f 7273 2061 7265  c generators are
+0000b830: 206d 6f64 656c 6c65 6420 6173 2070 6f73   modelled as pos
+0000b840: 6974 6976 6520 616e 6420 636f 6e73 7461  itive and consta
+0000b850: 6e74 2050 5120 706f 7765 722e 2054 6869  nt PQ power. Thi
+0000b860: 7320 656c 656d 656e 7420 6973 2075 7365  s element is use
+0000b870: 6420 746f 206d 6f64 656c 0d0a 2020 2020  d to model..    
+0000b880: 6765 6e65 7261 746f 7273 2077 6974 6820  generators with 
+0000b890: 6120 636f 6e73 7461 6e74 2061 6374 6976  a constant activ
+0000b8a0: 6520 616e 6420 7265 6163 7469 7665 2070  e and reactive p
+0000b8b0: 6f77 6572 2066 6565 642d 696e 2e20 4966  ower feed-in. If
+0000b8c0: 2079 6f75 2077 616e 7420 746f 206d 6f64   you want to mod
+0000b8d0: 656c 2061 2076 6f6c 7461 6765 0d0a 2020  el a voltage..  
+0000b8e0: 2020 636f 6e74 726f 6c6c 6564 2067 656e    controlled gen
+0000b8f0: 6572 6174 6f72 2c20 7573 6520 7468 6520  erator, use the 
+0000b900: 6765 6e65 7261 746f 7220 656c 656d 656e  generator elemen
+0000b910: 7420 696e 7374 6561 642e 0d0a 0d0a 2020  t instead.....  
+0000b920: 2020 494e 5055 543a 0d0a 2020 2020 2020    INPUT:..      
+0000b930: 2020 2a2a 6e65 742a 2a20 2d20 5468 6520    **net** - The 
+0000b940: 6e65 7420 7769 7468 696e 2074 6869 7320  net within this 
+0000b950: 6c6f 6164 2073 686f 756c 6420 6265 2063  load should be c
+0000b960: 7265 6174 6564 0d0a 0d0a 2020 2020 2020  reated....      
+0000b970: 2020 2a2a 6275 7365 732a 2a20 286c 6973    **buses** (lis
+0000b980: 7420 6f66 2069 6e74 2920 2d20 4120 6c69  t of int) - A li
+0000b990: 7374 206f 6620 6275 7320 6964 7320 746f  st of bus ids to
+0000b9a0: 2077 6869 6368 2074 6865 206c 6f61 6473   which the loads
+0000b9b0: 2061 7265 2063 6f6e 6e65 6374 6564 0d0a   are connected..
+0000b9c0: 0d0a 2020 2020 4f50 5449 4f4e 414c 3a0d  ..    OPTIONAL:.
+0000b9d0: 0a0d 0a20 2020 2020 2020 202a 2a70 5f6d  ...        **p_m
+0000b9e0: 772a 2a20 286c 6973 7420 6f66 2066 6c6f  w** (list of flo
+0000b9f0: 6174 7329 202d 2054 6865 2061 6374 6976  ats) - The activ
+0000ba00: 6520 706f 7765 7220 6f66 2074 6865 2073  e power of the s
+0000ba10: 6765 6e73 0d0a 0d0a 2020 2020 2020 2020  gens....        
+0000ba20: 2020 2020 202d 2070 6f73 7469 7665 2076       - postive v
+0000ba30: 616c 7565 2020 202d 3e20 6765 6e65 7261  alue   -> genera
+0000ba40: 7469 6f6e 0d0a 2020 2020 2020 2020 2020  tion..          
+0000ba50: 2020 202d 206e 6567 6174 6976 6520 7661     - negative va
+0000ba60: 6c75 6520 202d 3e20 6c6f 6164 0d0a 0d0a  lue  -> load....
+0000ba70: 2020 2020 2020 2020 2a2a 715f 6d76 6172          **q_mvar
+0000ba80: 2a2a 2028 6c69 7374 206f 6620 666c 6f61  ** (list of floa
+0000ba90: 7473 2c20 6465 6661 756c 7420 3029 202d  ts, default 0) -
+0000baa0: 2054 6865 2072 6561 6374 6976 6520 706f   The reactive po
+0000bab0: 7765 7220 6f66 2074 6865 2073 6765 6e73  wer of the sgens
+0000bac0: 0d0a 0d0a 2020 2020 2020 2020 2a2a 736e  ....        **sn
+0000bad0: 5f6d 7661 2a2a 2028 6c69 7374 206f 6620  _mva** (list of 
+0000bae0: 666c 6f61 7473 2c20 6465 6661 756c 7420  floats, default 
+0000baf0: 4e6f 6e65 2920 2d20 4e6f 6d69 6e61 6c20  None) - Nominal 
+0000bb00: 706f 7765 7220 6f66 2074 6865 2073 6765  power of the sge
+0000bb10: 6e73 0d0a 0d0a 2020 2020 2020 2020 2a2a  ns....        **
+0000bb20: 6e61 6d65 2a2a 2028 6c69 7374 206f 6620  name** (list of 
+0000bb30: 7374 7269 6e67 732c 2064 6566 6175 6c74  strings, default
+0000bb40: 204e 6f6e 6529 202d 2054 6865 206e 616d   None) - The nam
+0000bb50: 6520 666f 7220 7468 6973 2073 6765 6e0d  e for this sgen.
+0000bb60: 0a0d 0a20 2020 2020 2020 202a 2a73 6361  ...        **sca
+0000bb70: 6c69 6e67 2a2a 2028 6c69 7374 206f 6620  ling** (list of 
+0000bb80: 666c 6f61 7473 2c20 6465 6661 756c 7420  floats, default 
+0000bb90: 312e 2920 2d20 416e 204f 5054 494f 4e41  1.) - An OPTIONA
+0000bba0: 4c20 7363 616c 696e 6720 6661 6374 6f72  L scaling factor
+0000bbb0: 2074 6f20 6265 2073 6574 2063 7573 746f   to be set custo
+0000bbc0: 6d6c 792e 0d0a 2020 2020 2020 2020 4d75  mly...        Mu
+0000bbd0: 6c74 6970 6c79 7320 7769 7468 2070 5f6d  ltiplys with p_m
+0000bbe0: 7720 616e 6420 715f 6d76 6172 2e0d 0a0d  w and q_mvar....
+0000bbf0: 0a20 2020 2020 2020 202a 2a74 7970 652a  .        **type*
+0000bc00: 2a20 2873 7472 696e 672c 204e 6f6e 6529  * (string, None)
+0000bc10: 202d 2020 7479 7065 2076 6172 6961 626c   -  type variabl
+0000bc20: 6520 746f 2063 6c61 7373 6966 7920 7468  e to classify th
+0000bc30: 6520 7367 656e 0d0a 0d0a 2020 2020 2020  e sgen....      
+0000bc40: 2020 2a2a 696e 6465 782a 2a20 286c 6973    **index** (lis
+0000bc50: 7420 6f66 2069 6e74 2c20 4e6f 6e65 2920  t of int, None) 
+0000bc60: 2d20 466f 7263 6520 6120 7370 6563 6966  - Force a specif
+0000bc70: 6965 6420 4944 2069 6620 6974 2069 7320  ied ID if it is 
+0000bc80: 6176 6169 6c61 626c 652e 2049 6620 4e6f  available. If No
+0000bc90: 6e65 2c20 7468 6520 696e 6465 785c 0d0a  ne, the index\..
+0000bca0: 2020 2020 2020 2020 2020 2020 2069 7320               is 
+0000bcb0: 7365 7420 746f 2061 2072 616e 6765 2062  set to a range b
+0000bcc0: 6574 7765 656e 206f 6e65 2068 6967 6865  etween one highe
+0000bcd0: 7220 7468 616e 2074 6865 2068 6967 6865  r than the highe
+0000bce0: 7374 2061 6c72 6561 6479 2065 7869 7374  st already exist
+0000bcf0: 696e 6720 696e 6465 7820 616e 6420 7468  ing index and th
+0000bd00: 6520 5c0d 0a20 2020 2020 2020 2020 2020  e \..           
+0000bd10: 2020 6c65 6e67 7468 206f 6620 7367 656e    length of sgen
+0000bd20: 7320 7468 6174 2073 6861 6c6c 2062 6520  s that shall be 
+0000bd30: 6372 6561 7465 642e 0d0a 0d0a 2020 2020  created.....    
+0000bd40: 2020 2020 2a2a 696e 5f73 6572 7669 6365      **in_service
+0000bd50: 2a2a 2028 6c69 7374 206f 6620 626f 6f6c  ** (list of bool
+0000bd60: 6561 6e29 202d 2054 7275 6520 666f 7220  ean) - True for 
+0000bd70: 696e 5f73 6572 7669 6365 206f 7220 4661  in_service or Fa
+0000bd80: 6c73 6520 666f 7220 6f75 7420 6f66 2073  lse for out of s
+0000bd90: 6572 7669 6365 0d0a 0d0a 2020 2020 2020  ervice....      
+0000bda0: 2020 2a2a 6d61 785f 705f 6d77 2a2a 2028    **max_p_mw** (
+0000bdb0: 6c69 7374 206f 6620 666c 6f61 7473 2c20  list of floats, 
+0000bdc0: 6465 6661 756c 7420 4e61 4e29 202d 204d  default NaN) - M
+0000bdd0: 6178 696d 756d 2061 6374 6976 6520 706f  aximum active po
+0000bde0: 7765 7220 7367 656e 202d 206e 6563 6573  wer sgen - neces
+0000bdf0: 7361 7279 2066 6f72 205c 0d0a 2020 2020  sary for \..    
+0000be00: 2020 2020 2020 2020 2063 6f6e 7472 6f6c           control
+0000be10: 6c61 626c 6520 7367 656e 7320 696e 2066  lable sgens in f
+0000be20: 6f72 204f 5046 0d0a 0d0a 2020 2020 2020  or OPF....      
+0000be30: 2020 2a2a 6d69 6e5f 705f 6d77 2a2a 2028    **min_p_mw** (
+0000be40: 6c69 7374 206f 6620 666c 6f61 7473 2c20  list of floats, 
+0000be50: 6465 6661 756c 7420 4e61 4e29 202d 204d  default NaN) - M
+0000be60: 696e 696d 756d 2061 6374 6976 6520 706f  inimum active po
+0000be70: 7765 7220 7367 656e 202d 206e 6563 6573  wer sgen - neces
+0000be80: 7361 7279 2066 6f72 205c 0d0a 2020 2020  sary for \..    
+0000be90: 2020 2020 2020 2020 2063 6f6e 7472 6f6c           control
+0000bea0: 6c61 626c 6520 7367 656e 7320 696e 2066  lable sgens in f
+0000beb0: 6f72 204f 5046 0d0a 0d0a 2020 2020 2020  or OPF....      
+0000bec0: 2020 2a2a 6d61 785f 715f 6d76 6172 2a2a    **max_q_mvar**
+0000bed0: 2028 6c69 7374 206f 6620 666c 6f61 7473   (list of floats
+0000bee0: 2c20 6465 6661 756c 7420 4e61 4e29 202d  , default NaN) -
+0000bef0: 204d 6178 696d 756d 2072 6561 6374 6976   Maximum reactiv
+0000bf00: 6520 706f 7765 7220 7367 656e 202d 206e  e power sgen - n
+0000bf10: 6563 6573 7361 7279 2066 6f72 205c 0d0a  ecessary for \..
+0000bf20: 2020 2020 2020 2020 2020 2020 2063 6f6e               con
+0000bf30: 7472 6f6c 6c61 626c 6520 7367 656e 7320  trollable sgens 
+0000bf40: 696e 2066 6f72 204f 5046 0d0a 0d0a 2020  in for OPF....  
+0000bf50: 2020 2020 2020 2a2a 6d69 6e5f 715f 6d76        **min_q_mv
+0000bf60: 6172 2a2a 2028 6c69 7374 206f 6620 666c  ar** (list of fl
+0000bf70: 6f61 7473 2c20 6465 6661 756c 7420 4e61  oats, default Na
+0000bf80: 4e29 202d 204d 696e 696d 756d 2072 6561  N) - Minimum rea
+0000bf90: 6374 6976 6520 706f 7765 7220 7367 656e  ctive power sgen
+0000bfa0: 202d 206e 6563 6573 7361 7279 2066 6f72   - necessary for
+0000bfb0: 205c 0d0a 2020 2020 2020 2020 2020 2020   \..            
+0000bfc0: 2063 6f6e 7472 6f6c 6c61 626c 6520 7367   controllable sg
+0000bfd0: 656e 7320 696e 204f 5046 0d0a 0d0a 2020  ens in OPF....  
+0000bfe0: 2020 2020 2020 2a2a 636f 6e74 726f 6c6c        **controll
+0000bff0: 6162 6c65 2a2a 2028 6c69 7374 206f 6620  able** (list of 
+0000c000: 626f 6f6c 6561 6e2c 2064 6566 6175 6c74  boolean, default
+0000c010: 204e 614e 2920 2d20 5374 6174 6573 2c20   NaN) - States, 
+0000c020: 7768 6574 6865 7220 6120 7367 656e 2069  whether a sgen i
+0000c030: 7320 636f 6e74 726f 6c6c 6162 6c65 205c  s controllable \
+0000c040: 0d0a 2020 2020 2020 2020 2020 2020 206f  ..             o
+0000c050: 7220 6e6f 742e 204f 6e6c 7920 7265 7370  r not. Only resp
+0000c060: 6563 7465 6420 666f 7220 4f50 460d 0a20  ected for OPF.. 
+0000c070: 2020 2020 2020 2020 2020 2020 4465 6661              Defa
+0000c080: 756c 7473 2074 6f20 4661 6c73 6520 6966  ults to False if
+0000c090: 2022 636f 6e74 726f 6c6c 6162 6c65 2220   "controllable" 
+0000c0a0: 636f 6c75 6d6e 2065 7869 7374 7320 696e  column exists in
+0000c0b0: 2044 6174 6146 7261 6d65 0d0a 0d0a 2020   DataFrame....  
+0000c0c0: 2020 2020 2020 2a2a 6b2a 2a20 286c 6973        **k** (lis
+0000c0d0: 7420 6f66 2066 6c6f 6174 732c 204e 6f6e  t of floats, Non
+0000c0e0: 6529 202d 2052 6174 696f 206f 6620 6e6f  e) - Ratio of no
+0000c0f0: 6d69 6e61 6c20 6375 7272 656e 7420 746f  minal current to
+0000c100: 2073 686f 7274 2063 6972 6375 6974 2063   short circuit c
+0000c110: 7572 7265 6e74 0d0a 0d0a 2020 2020 2020  urrent....      
+0000c120: 2020 2a2a 7278 2a2a 2028 6c69 7374 206f    **rx** (list o
+0000c130: 6620 666c 6f61 7473 2c20 4e61 4e29 202d  f floats, NaN) -
+0000c140: 2052 2f58 2072 6174 696f 2066 6f72 2073   R/X ratio for s
+0000c150: 686f 7274 2063 6972 6375 6974 2069 6d70  hort circuit imp
+0000c160: 6564 616e 6365 2e20 4f6e 6c79 2072 656c  edance. Only rel
+0000c170: 6576 616e 7420 6966 2074 7970 655c 0d0a  evant if type\..
+0000c180: 2020 2020 2020 2020 2020 2020 6973 2073              is s
+0000c190: 7065 6369 6669 6564 2061 7320 6d6f 746f  pecified as moto
+0000c1a0: 7220 736f 2074 6861 7420 7367 656e 2069  r so that sgen i
+0000c1b0: 7320 7472 6561 7465 6420 6173 2061 7379  s treated as asy
+0000c1c0: 6e63 6872 6f6e 6f75 7320 6d6f 746f 720d  nchronous motor.
+0000c1d0: 0a0d 0a20 2020 2020 2020 202a 2a63 7572  ...        **cur
+0000c1e0: 7265 6e74 5f73 6f75 7263 652a 2a20 286c  rent_source** (l
+0000c1f0: 6973 7420 6f66 2062 6f6f 6c2c 2054 7275  ist of bool, Tru
+0000c200: 6529 202d 204d 6f64 656c 2074 6869 7320  e) - Model this 
+0000c210: 7367 656e 2061 7320 6120 6375 7272 656e  sgen as a curren
+0000c220: 7420 736f 7572 6365 2064 7572 696e 6720  t source during 
+0000c230: 7368 6f72 742d 5c0d 0a20 2020 2020 2020  short-\..       
+0000c240: 2020 2020 2063 6972 6375 6974 2063 616c       circuit cal
+0000c250: 6375 6c61 7469 6f6e 733b 2075 7365 6675  culations; usefu
+0000c260: 6c20 696e 2073 6f6d 6520 6361 7365 732c  l in some cases,
+0000c270: 2066 6f72 2065 7861 6d70 6c65 2074 6865   for example the
+0000c280: 2073 696d 756c 6174 696f 6e20 6f66 2066   simulation of f
+0000c290: 756c 6c2d 5c0d 0a20 2020 2020 2020 2020  ull-\..         
+0000c2a0: 2020 2073 697a 6520 636f 6e76 6572 7465     size converte
+0000c2b0: 7273 2070 6572 2049 4543 2036 3039 3039  rs per IEC 60909
+0000c2c0: 2d30 3a32 3031 362e 0d0a 0d0a 2020 2020  -0:2016.....    
+0000c2d0: 4f55 5450 5554 3a0d 0a20 2020 2020 2020  OUTPUT:..       
+0000c2e0: 202a 2a69 6e64 6578 2a2a 2028 696e 7429   **index** (int)
+0000c2f0: 202d 2054 6865 2075 6e69 7175 6520 4944   - The unique ID
+0000c300: 7320 6f66 2074 6865 2063 7265 6174 6564  s of the created
+0000c310: 2065 6c65 6d65 6e74 730d 0a0d 0a20 2020   elements....   
+0000c320: 2045 5841 4d50 4c45 3a0d 0a20 2020 2020   EXAMPLE:..     
+0000c330: 2020 2063 7265 6174 655f 7367 656e 7328     create_sgens(
+0000c340: 6e65 742c 2062 7573 6573 3d5b 302c 2032  net, buses=[0, 2
+0000c350: 5d2c 2070 5f6d 773d 5b31 302e 2c20 352e  ], p_mw=[10., 5.
+0000c360: 5d2c 2071 5f6d 7661 723d 5b32 2e2c 2030  ], q_mvar=[2., 0
+0000c370: 2e5d 290d 0a0d 0a20 2020 2022 2222 0d0a  .])....    """..
+0000c380: 2020 2020 5f63 6865 636b 5f6d 756c 7469      _check_multi
+0000c390: 706c 655f 6e6f 6465 5f65 6c65 6d65 6e74  ple_node_element
+0000c3a0: 7328 6e65 742c 2062 7573 6573 290d 0a0d  s(net, buses)...
+0000c3b0: 0a20 2020 2069 6e64 6578 203d 205f 6765  .    index = _ge
+0000c3c0: 745f 6d75 6c74 6970 6c65 5f69 6e64 6578  t_multiple_index
+0000c3d0: 5f77 6974 685f 6368 6563 6b28 6e65 742c  _with_check(net,
+0000c3e0: 2022 7367 656e 222c 2069 6e64 6578 2c20   "sgen", index, 
+0000c3f0: 6c65 6e28 6275 7365 7329 290d 0a0d 0a20  len(buses)).... 
+0000c400: 2020 2065 6e74 7269 6573 203d 207b 2262     entries = {"b
+0000c410: 7573 223a 2062 7573 6573 2c20 2270 5f6d  us": buses, "p_m
+0000c420: 7722 3a20 705f 6d77 2c20 2271 5f6d 7661  w": p_mw, "q_mva
+0000c430: 7222 3a20 715f 6d76 6172 2c20 2273 6e5f  r": q_mvar, "sn_
+0000c440: 6d76 6122 3a20 736e 5f6d 7661 2c20 2273  mva": sn_mva, "s
+0000c450: 6361 6c69 6e67 223a 2073 6361 6c69 6e67  caling": scaling
+0000c460: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
+0000c470: 2020 2269 6e5f 7365 7276 6963 6522 3a20    "in_service": 
+0000c480: 696e 5f73 6572 7669 6365 2c20 226e 616d  in_service, "nam
+0000c490: 6522 3a20 6e61 6d65 2c20 2274 7970 6522  e": name, "type"
+0000c4a0: 3a20 7479 7065 2c0d 0a20 2020 2020 2020  : type,..       
+0000c4b0: 2020 2020 2020 2020 2763 7572 7265 6e74          'current
+0000c4c0: 5f73 6f75 7263 6527 3a20 6375 7272 656e  _source': curren
+0000c4d0: 745f 736f 7572 6365 7d0d 0a0d 0a20 2020  t_source}....   
+0000c4e0: 205f 6164 645f 7365 7269 6573 5f74 6f5f   _add_series_to_
+0000c4f0: 656e 7472 6965 7328 656e 7472 6965 732c  entries(entries,
+0000c500: 2069 6e64 6578 2c20 226d 696e 5f70 5f6d   index, "min_p_m
+0000c510: 7722 2c20 6d69 6e5f 705f 6d77 290d 0a20  w", min_p_mw).. 
+0000c520: 2020 205f 6164 645f 7365 7269 6573 5f74     _add_series_t
+0000c530: 6f5f 656e 7472 6965 7328 656e 7472 6965  o_entries(entrie
+0000c540: 732c 2069 6e64 6578 2c20 226d 6178 5f70  s, index, "max_p
+0000c550: 5f6d 7722 2c20 6d61 785f 705f 6d77 290d  _mw", max_p_mw).
+0000c560: 0a20 2020 205f 6164 645f 7365 7269 6573  .    _add_series
+0000c570: 5f74 6f5f 656e 7472 6965 7328 656e 7472  _to_entries(entr
+0000c580: 6965 732c 2069 6e64 6578 2c20 226d 696e  ies, index, "min
+0000c590: 5f71 5f6d 7661 7222 2c20 6d69 6e5f 715f  _q_mvar", min_q_
+0000c5a0: 6d76 6172 290d 0a20 2020 205f 6164 645f  mvar)..    _add_
+0000c5b0: 7365 7269 6573 5f74 6f5f 656e 7472 6965  series_to_entrie
+0000c5c0: 7328 656e 7472 6965 732c 2069 6e64 6578  s(entries, index
+0000c5d0: 2c20 226d 6178 5f71 5f6d 7661 7222 2c20  , "max_q_mvar", 
+0000c5e0: 6d61 785f 715f 6d76 6172 290d 0a20 2020  max_q_mvar)..   
+0000c5f0: 205f 6164 645f 7365 7269 6573 5f74 6f5f   _add_series_to_
+0000c600: 656e 7472 6965 7328 656e 7472 6965 732c  entries(entries,
+0000c610: 2069 6e64 6578 2c20 226b 222c 206b 290d   index, "k", k).
+0000c620: 0a20 2020 205f 6164 645f 7365 7269 6573  .    _add_series
+0000c630: 5f74 6f5f 656e 7472 6965 7328 656e 7472  _to_entries(entr
+0000c640: 6965 732c 2069 6e64 6578 2c20 2272 7822  ies, index, "rx"
+0000c650: 2c20 7278 290d 0a20 2020 205f 6164 645f  , rx)..    _add_
+0000c660: 7365 7269 6573 5f74 6f5f 656e 7472 6965  series_to_entrie
+0000c670: 7328 656e 7472 6965 732c 2069 6e64 6578  s(entries, index
+0000c680: 2c20 2263 6f6e 7472 6f6c 6c61 626c 6522  , "controllable"
+0000c690: 2c20 636f 6e74 726f 6c6c 6162 6c65 2c20  , controllable, 
+0000c6a0: 6474 7970 3d62 6f6f 6c5f 2c0d 0a20 2020  dtyp=bool_,..   
+0000c6b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c6c0: 2020 2020 2020 2020 6465 6661 756c 745f          default_
+0000c6d0: 7661 6c3d 4661 6c73 6529 0d0a 0d0a 2020  val=False)....  
+0000c6e0: 2020 5f73 6574 5f6d 756c 7469 706c 655f    _set_multiple_
+0000c6f0: 656e 7472 6965 7328 6e65 742c 2022 7367  entries(net, "sg
+0000c700: 656e 222c 2069 6e64 6578 2c20 2a2a 656e  en", index, **en
+0000c710: 7472 6965 732c 202a 2a6b 7761 7267 7329  tries, **kwargs)
+0000c720: 0d0a 0d0a 2020 2020 7265 7475 726e 2069  ....    return i
+0000c730: 6e64 6578 0d0a 0d0a 0d0a 2320 3d3d 3d3d  ndex......# ====
 0000c740: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
 0000c750: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
 0000c760: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0000c770: 3d3d 3d3d 3d3d 3d3d 3d3d 0d0a 2320 4372  ==========..# Cr
-0000c780: 6561 7465 2033 7068 2053 6765 6e0d 0a23  eate 3ph Sgen..#
-0000c790: 203d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d   ===============
+0000c770: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0000c780: 3d3d 3d3d 3d3d 3d3d 3d0d 0a23 2043 7265  =========..# Cre
+0000c790: 6174 6520 3370 6820 5367 656e 0d0a 2320  ate 3ph Sgen..# 
 0000c7a0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
 0000c7b0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
 0000c7c0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0000c7d0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 0d0a  ==============..
-0000c7e0: 0d0a 6465 6620 6372 6561 7465 5f61 7379  ..def create_asy
-0000c7f0: 6d6d 6574 7269 635f 7367 656e 286e 6574  mmetric_sgen(net
-0000c800: 2c20 6275 732c 2070 5f61 5f6d 773d 302c  , bus, p_a_mw=0,
-0000c810: 2070 5f62 5f6d 773d 302c 2070 5f63 5f6d   p_b_mw=0, p_c_m
-0000c820: 773d 302c 2071 5f61 5f6d 7661 723d 302c  w=0, q_a_mvar=0,
-0000c830: 2071 5f62 5f6d 7661 723d 302c 0d0a 2020   q_b_mvar=0,..  
-0000c840: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c850: 2020 2020 2020 2020 2071 5f63 5f6d 7661           q_c_mva
-0000c860: 723d 302c 2073 6e5f 6d76 613d 6e61 6e2c  r=0, sn_mva=nan,
-0000c870: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-0000c880: 2020 2020 2020 2020 2020 2020 206e 616d               nam
-0000c890: 653d 4e6f 6e65 2c20 696e 6465 783d 4e6f  e=None, index=No
-0000c8a0: 6e65 2c20 7363 616c 696e 673d 312e 2c20  ne, scaling=1., 
-0000c8b0: 7479 7065 3d27 7779 6527 2c20 696e 5f73  type='wye', in_s
-0000c8c0: 6572 7669 6365 3d54 7275 6529 3a0d 0a20  ervice=True):.. 
-0000c8d0: 2020 2022 2222 0d0a 0d0a 2020 2020 4164     """....    Ad
-0000c8e0: 6473 206f 6e65 2073 7461 7469 6320 6765  ds one static ge
-0000c8f0: 6e65 7261 746f 7220 696e 2074 6162 6c65  nerator in table
-0000c900: 206e 6574 5b22 6173 796d 6d65 7472 6963   net["asymmetric
-0000c910: 5f73 6765 6e22 5d2e 0d0a 0d0a 2020 2020  _sgen"].....    
-0000c920: 5374 6174 6963 2067 656e 6572 6174 6f72  Static generator
-0000c930: 7320 6172 6520 6d6f 6465 6c6c 6564 2061  s are modelled a
-0000c940: 7320 6e65 6761 7469 7665 2020 5051 206c  s negative  PQ l
-0000c950: 6f61 6473 2e20 5468 6973 2065 6c65 6d65  oads. This eleme
-0000c960: 6e74 2069 7320 7573 6564 2074 6f20 6d6f  nt is used to mo
-0000c970: 6465 6c20 6765 6e65 7261 746f 7273 0d0a  del generators..
-0000c980: 2020 2020 7769 7468 2061 2063 6f6e 7374      with a const
-0000c990: 616e 7420 6163 7469 7665 2061 6e64 2072  ant active and r
-0000c9a0: 6561 6374 6976 6520 706f 7765 7220 6665  eactive power fe
-0000c9b0: 6564 2d69 6e2e 2050 6f73 6974 6976 6520  ed-in. Positive 
-0000c9c0: 6163 7469 7665 2070 6f77 6572 206d 6561  active power mea
-0000c9d0: 6e73 2067 656e 6572 6174 696f 6e2e 0d0a  ns generation...
-0000c9e0: 0d0a 2020 2020 494e 5055 543a 0d0a 2020  ..    INPUT:..  
-0000c9f0: 2020 2020 2020 2a2a 6e65 742a 2a20 2d20        **net** - 
-0000ca00: 5468 6520 6e65 7420 7769 7468 696e 2074  The net within t
-0000ca10: 6869 7320 7374 6174 6963 2067 656e 6572  his static gener
-0000ca20: 6174 6f72 2073 686f 756c 6420 6265 2063  ator should be c
-0000ca30: 7265 6174 6564 0d0a 0d0a 2020 2020 2020  reated....      
-0000ca40: 2020 2a2a 6275 732a 2a20 2869 6e74 2920    **bus** (int) 
-0000ca50: 2d20 5468 6520 6275 7320 6964 2074 6f20  - The bus id to 
-0000ca60: 7768 6963 6820 7468 6520 7374 6174 6963  which the static
-0000ca70: 2067 656e 6572 6174 6f72 2069 7320 636f   generator is co
-0000ca80: 6e6e 6563 7465 640d 0a0d 0a20 2020 204f  nnected....    O
-0000ca90: 5054 494f 4e41 4c3a 0d0a 0d0a 2020 2020  PTIONAL:....    
-0000caa0: 2020 2020 2a2a 705f 615f 6d77 2a2a 2028      **p_a_mw** (
-0000cab0: 666c 6f61 742c 2064 6566 6175 6c74 2030  float, default 0
-0000cac0: 2920 2d20 5468 6520 6163 7469 7665 2070  ) - The active p
-0000cad0: 6f77 6572 206f 6620 7468 6520 7374 6174  ower of the stat
-0000cae0: 6963 2067 656e 6572 6174 6f72 203a 2050  ic generator : P
-0000caf0: 6861 7365 2041 0d0a 0d0a 2020 2020 2020  hase A....      
-0000cb00: 2020 2a2a 705f 625f 6d77 2a2a 2028 666c    **p_b_mw** (fl
-0000cb10: 6f61 742c 2064 6566 6175 6c74 2030 2920  oat, default 0) 
-0000cb20: 2d20 5468 6520 6163 7469 7665 2070 6f77  - The active pow
-0000cb30: 6572 206f 6620 7468 6520 7374 6174 6963  er of the static
-0000cb40: 2067 656e 6572 6174 6f72 203a 2050 6861   generator : Pha
-0000cb50: 7365 2042 0d0a 0d0a 2020 2020 2020 2020  se B....        
-0000cb60: 2a2a 705f 635f 6d77 2a2a 2028 666c 6f61  **p_c_mw** (floa
-0000cb70: 742c 2064 6566 6175 6c74 2030 2920 2d20  t, default 0) - 
-0000cb80: 5468 6520 6163 7469 7665 2070 6f77 6572  The active power
-0000cb90: 206f 6620 7468 6520 7374 6174 6963 2067   of the static g
-0000cba0: 656e 6572 6174 6f72 203a 2050 6861 7365  enerator : Phase
-0000cbb0: 2043 0d0a 0d0a 2020 2020 2020 2020 2a2a   C....        **
-0000cbc0: 715f 615f 6d76 6172 2a2a 2028 666c 6f61  q_a_mvar** (floa
-0000cbd0: 742c 2064 6566 6175 6c74 2030 2920 2d20  t, default 0) - 
-0000cbe0: 5468 6520 7265 6163 7469 7665 2070 6f77  The reactive pow
-0000cbf0: 6572 206f 6620 7468 6520 7367 656e 203a  er of the sgen :
-0000cc00: 2050 6861 7365 2041 0d0a 0d0a 2020 2020   Phase A....    
-0000cc10: 2020 2020 2a2a 715f 625f 6d76 6172 2a2a      **q_b_mvar**
-0000cc20: 2028 666c 6f61 742c 2064 6566 6175 6c74   (float, default
-0000cc30: 2030 2920 2d20 5468 6520 7265 6163 7469   0) - The reacti
-0000cc40: 7665 2070 6f77 6572 206f 6620 7468 6520  ve power of the 
-0000cc50: 7367 656e 203a 2050 6861 7365 2042 0d0a  sgen : Phase B..
-0000cc60: 0d0a 2020 2020 2020 2020 2a2a 715f 635f  ..        **q_c_
-0000cc70: 6d76 6172 2a2a 2028 666c 6f61 742c 2064  mvar** (float, d
-0000cc80: 6566 6175 6c74 2030 2920 2d20 5468 6520  efault 0) - The 
-0000cc90: 7265 6163 7469 7665 2070 6f77 6572 206f  reactive power o
-0000cca0: 6620 7468 6520 7367 656e 203a 2050 6861  f the sgen : Pha
-0000ccb0: 7365 2043 0d0a 0d0a 2020 2020 2020 2020  se C....        
-0000ccc0: 2a2a 736e 5f6d 7661 2a2a 2028 666c 6f61  **sn_mva** (floa
-0000ccd0: 742c 2064 6566 6175 6c74 204e 6f6e 6529  t, default None)
-0000cce0: 202d 204e 6f6d 696e 616c 2070 6f77 6572   - Nominal power
-0000ccf0: 206f 6620 7468 6520 7367 656e 0d0a 0d0a   of the sgen....
-0000cd00: 2020 2020 2020 2020 2a2a 6e61 6d65 2a2a          **name**
-0000cd10: 2028 7374 7269 6e67 2c20 6465 6661 756c   (string, defaul
-0000cd20: 7420 4e6f 6e65 2920 2d20 5468 6520 6e61  t None) - The na
-0000cd30: 6d65 2066 6f72 2074 6869 7320 7367 656e  me for this sgen
-0000cd40: 0d0a 0d0a 2020 2020 2020 2020 2a2a 696e  ....        **in
-0000cd50: 6465 782a 2a20 2869 6e74 2c20 4e6f 6e65  dex** (int, None
-0000cd60: 2920 2d20 466f 7263 6520 6120 7370 6563  ) - Force a spec
-0000cd70: 6966 6965 6420 4944 2069 6620 6974 2069  ified ID if it i
-0000cd80: 7320 6176 6169 6c61 626c 652e 2049 6620  s available. If 
-0000cd90: 4e6f 6e65 2c20 7468 6520 696e 6465 7820  None, the index 
-0000cda0: 6f6e 6520 5c0d 0a20 2020 2020 2020 2020  one \..         
-0000cdb0: 2020 2068 6967 6865 7220 7468 616e 2074     higher than t
-0000cdc0: 6865 2068 6967 6865 7374 2061 6c72 6561  he highest alrea
-0000cdd0: 6479 2065 7869 7374 696e 6720 696e 6465  dy existing inde
-0000cde0: 7820 6973 2073 656c 6563 7465 642e 0d0a  x is selected...
-0000cdf0: 0d0a 2020 2020 2020 2020 2a2a 7363 616c  ..        **scal
-0000ce00: 696e 672a 2a20 2866 6c6f 6174 2c20 312e  ing** (float, 1.
-0000ce10: 2920 2d20 416e 204f 5054 494f 4e41 4c20  ) - An OPTIONAL 
-0000ce20: 7363 616c 696e 6720 6661 6374 6f72 2074  scaling factor t
-0000ce30: 6f20 6265 2073 6574 2063 7573 746f 6d6c  o be set customl
-0000ce40: 792e 0d0a 2020 2020 2020 2020 4d75 6c74  y...        Mult
-0000ce50: 6970 6c79 7320 7769 7468 2070 5f6d 7720  iplys with p_mw 
-0000ce60: 616e 6420 715f 6d76 6172 206f 6620 616c  and q_mvar of al
-0000ce70: 6c20 7068 6173 6573 2e0d 0a0d 0a20 2020  l phases.....   
-0000ce80: 2020 2020 202a 2a74 7970 652a 2a20 2873       **type** (s
-0000ce90: 7472 696e 672c 2027 7779 6527 2920 2d20  tring, 'wye') - 
-0000cea0: 2054 6872 6565 2070 6861 7365 2043 6f6e   Three phase Con
-0000ceb0: 6e65 6374 696f 6e20 7479 7065 206f 6620  nection type of 
-0000cec0: 7468 6520 7374 6174 6963 2067 656e 6572  the static gener
-0000ced0: 6174 6f72 3a20 7779 652f 6465 6c74 610d  ator: wye/delta.
-0000cee0: 0a0d 0a20 2020 2020 2020 202a 2a69 6e5f  ...        **in_
-0000cef0: 7365 7276 6963 652a 2a20 2862 6f6f 6c65  service** (boole
-0000cf00: 616e 2920 2d20 5472 7565 2066 6f72 2069  an) - True for i
-0000cf10: 6e5f 7365 7276 6963 6520 6f72 2046 616c  n_service or Fal
-0000cf20: 7365 2066 6f72 206f 7574 206f 6620 7365  se for out of se
-0000cf30: 7276 6963 650d 0a0d 0a20 2020 204f 5554  rvice....    OUT
-0000cf40: 5055 543a 0d0a 2020 2020 2020 2020 2a2a  PUT:..        **
-0000cf50: 696e 6465 782a 2a20 2869 6e74 2920 2d20  index** (int) - 
-0000cf60: 5468 6520 756e 6971 7565 2049 4420 6f66  The unique ID of
-0000cf70: 2074 6865 2063 7265 6174 6564 2073 6765   the created sge
-0000cf80: 6e0d 0a0d 0a20 2020 2045 5841 4d50 4c45  n....    EXAMPLE
-0000cf90: 3a0d 0a20 2020 2020 2020 2063 7265 6174  :..        creat
-0000cfa0: 655f 6173 796d 6d65 7472 6963 5f73 6765  e_asymmetric_sge
-0000cfb0: 6e28 6e65 742c 2031 2c20 705f 625f 6d77  n(net, 1, p_b_mw
-0000cfc0: 3d30 2e31 3229 0d0a 0d0a 2020 2020 2222  =0.12)....    ""
-0000cfd0: 220d 0a20 2020 205f 6368 6563 6b5f 6e6f  "..    _check_no
-0000cfe0: 6465 5f65 6c65 6d65 6e74 286e 6574 2c20  de_element(net, 
-0000cff0: 6275 7329 0d0a 0d0a 2020 2020 696e 6465  bus)....    inde
-0000d000: 7820 3d20 5f67 6574 5f69 6e64 6578 5f77  x = _get_index_w
-0000d010: 6974 685f 6368 6563 6b28 6e65 742c 2022  ith_check(net, "
-0000d020: 6173 796d 6d65 7472 6963 5f73 6765 6e22  asymmetric_sgen"
-0000d030: 2c20 696e 6465 782c 0d0a 2020 2020 2020  , index,..      
-0000d040: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d050: 2020 2020 2020 2020 2020 2020 6e61 6d65              name
-0000d060: 3d22 3320 7068 6173 6520 6173 796d 6d65  ="3 phase asymme
-0000d070: 7472 6963 2073 7461 7469 6320 6765 6e65  tric static gene
-0000d080: 7261 746f 7222 290d 0a0d 0a20 2020 2065  rator")....    e
-0000d090: 6e74 7269 6573 203d 2064 6963 7428 7a69  ntries = dict(zi
-0000d0a0: 7028 5b22 6e61 6d65 222c 2022 6275 7322  p(["name", "bus"
-0000d0b0: 2c20 2270 5f61 5f6d 7722 2c20 2270 5f62  , "p_a_mw", "p_b
-0000d0c0: 5f6d 7722 2c20 2270 5f63 5f6d 7722 2c20  _mw", "p_c_mw", 
-0000d0d0: 2273 6361 6c69 6e67 222c 2022 715f 615f  "scaling", "q_a_
-0000d0e0: 6d76 6172 222c 0d0a 2020 2020 2020 2020  mvar",..        
-0000d0f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d100: 2271 5f62 5f6d 7661 7222 2c20 2271 5f63  "q_b_mvar", "q_c
-0000d110: 5f6d 7661 7222 2c20 2273 6e5f 6d76 6122  _mvar", "sn_mva"
-0000d120: 2c20 2269 6e5f 7365 7276 6963 6522 2c20  , "in_service", 
-0000d130: 2274 7970 6522 5d2c 0d0a 2020 2020 2020  "type"],..      
-0000d140: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d150: 205b 6e61 6d65 2c20 6275 732c 2070 5f61   [name, bus, p_a
-0000d160: 5f6d 772c 2070 5f62 5f6d 772c 2070 5f63  _mw, p_b_mw, p_c
-0000d170: 5f6d 772c 2073 6361 6c69 6e67 2c20 715f  _mw, scaling, q_
-0000d180: 615f 6d76 6172 2c20 715f 625f 6d76 6172  a_mvar, q_b_mvar
-0000d190: 2c20 715f 635f 6d76 6172 2c0d 0a20 2020  , q_c_mvar,..   
-0000d1a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d1b0: 2020 2020 2073 6e5f 6d76 612c 2062 6f6f       sn_mva, boo
-0000d1c0: 6c28 696e 5f73 6572 7669 6365 292c 2074  l(in_service), t
-0000d1d0: 7970 655d 2929 0d0a 0d0a 2020 2020 5f73  ype]))....    _s
-0000d1e0: 6574 5f65 6e74 7269 6573 286e 6574 2c20  et_entries(net, 
-0000d1f0: 2261 7379 6d6d 6574 7269 635f 7367 656e  "asymmetric_sgen
-0000d200: 222c 2069 6e64 6578 2c20 5472 7565 2c20  ", index, True, 
-0000d210: 2a2a 656e 7472 6965 7329 0d0a 0d0a 2020  **entries)....  
-0000d220: 2020 7265 7475 726e 2069 6e64 6578 0d0a    return index..
-0000d230: 0d0a 0d0a 6465 6620 6372 6561 7465 5f73  ....def create_s
-0000d240: 6765 6e5f 6672 6f6d 5f63 6f73 7068 6928  gen_from_cosphi(
-0000d250: 6e65 742c 2062 7573 2c20 736e 5f6d 7661  net, bus, sn_mva
-0000d260: 2c20 636f 735f 7068 692c 206d 6f64 652c  , cos_phi, mode,
-0000d270: 202a 2a6b 7761 7267 7329 3a0d 0a20 2020   **kwargs):..   
-0000d280: 2022 2222 0d0a 2020 2020 4372 6561 7465   """..    Create
-0000d290: 7320 616e 2073 6765 6e20 656c 656d 656e  s an sgen elemen
-0000d2a0: 7420 6672 6f6d 2072 6174 6564 2070 6f77  t from rated pow
-0000d2b0: 6572 2061 6e64 2070 6f77 6572 2066 6163  er and power fac
-0000d2c0: 746f 7220 636f 7328 7068 6929 2e0d 0a0d  tor cos(phi)....
-0000d2d0: 0a20 2020 2049 4e50 5554 3a0d 0a20 2020  .    INPUT:..   
-0000d2e0: 2020 2020 202a 2a6e 6574 2a2a 202d 2054       **net** - T
-0000d2f0: 6865 206e 6574 2077 6974 6869 6e20 7468  he net within th
-0000d300: 6973 2073 7461 7469 6320 6765 6e65 7261  is static genera
-0000d310: 746f 7220 7368 6f75 6c64 2062 6520 6372  tor should be cr
-0000d320: 6561 7465 640d 0a0d 0a20 2020 2020 2020  eated....       
-0000d330: 202a 2a62 7573 2a2a 2028 696e 7429 202d   **bus** (int) -
-0000d340: 2054 6865 2062 7573 2069 6420 746f 2077   The bus id to w
-0000d350: 6869 6368 2074 6865 2073 7461 7469 6320  hich the static 
-0000d360: 6765 6e65 7261 746f 7220 6973 2063 6f6e  generator is con
-0000d370: 6e65 6374 6564 0d0a 0d0a 2020 2020 2020  nected....      
-0000d380: 2020 2a2a 736e 5f6d 7661 2a2a 2028 666c    **sn_mva** (fl
-0000d390: 6f61 7429 202d 2072 6174 6564 2070 6f77  oat) - rated pow
-0000d3a0: 6572 206f 6620 7468 6520 6765 6e65 7261  er of the genera
-0000d3b0: 746f 720d 0a0d 0a20 2020 2020 2020 202a  tor....        *
-0000d3c0: 2a63 6f73 5f70 6869 2a2a 2028 666c 6f61  *cos_phi** (floa
-0000d3d0: 7429 202d 2070 6f77 6572 2066 6163 746f  t) - power facto
-0000d3e0: 7220 636f 735f 7068 690d 0a0d 0a20 2020  r cos_phi....   
-0000d3f0: 2020 2020 202a 2a6d 6f64 652a 2a20 2873       **mode** (s
-0000d400: 7472 2920 2d20 2275 6e64 6572 6578 6369  tr) - "underexci
-0000d410: 7465 6422 2028 5120 6162 736f 7270 7469  ted" (Q absorpti
-0000d420: 6f6e 2c20 6465 6372 6561 7365 7320 766f  on, decreases vo
-0000d430: 6c74 6167 6529 206f 7220 226f 7665 7265  ltage) or "overe
-0000d440: 7863 6974 6564 2220 2851 2069 6e6a 6563  xcited" (Q injec
-0000d450: 7469 6f6e 2c20 696e 6372 6561 7365 7320  tion, increases 
-0000d460: 766f 6c74 6167 6529 0d0a 0d0a 2020 2020  voltage)....    
-0000d470: 4f55 5450 5554 3a0d 0a20 2020 2020 2020  OUTPUT:..       
-0000d480: 202a 2a69 6e64 6578 2a2a 2028 696e 7429   **index** (int)
-0000d490: 202d 2054 6865 2075 6e69 7175 6520 4944   - The unique ID
-0000d4a0: 206f 6620 7468 6520 6372 6561 7465 6420   of the created 
-0000d4b0: 7367 656e 0d0a 0d0a 2020 2020 6765 6e2c  sgen....    gen,
-0000d4c0: 2073 6765 6e2c 2061 6e64 2065 7874 5f67   sgen, and ext_g
-0000d4d0: 7269 6420 6172 6520 6d6f 6465 6c6c 6564  rid are modelled
-0000d4e0: 2069 6e20 7468 6520 6765 6e65 7261 746f   in the generato
-0000d4f0: 7220 706f 696e 7420 6f66 2076 6965 772e  r point of view.
-0000d500: 2041 6374 6976 6520 706f 7765 720d 0a20   Active power.. 
-0000d510: 2020 2077 696c 6c20 7468 6572 6566 6f72     will therefor
-0000d520: 6520 6265 2070 6f73 7469 7665 2066 6f72  e be postive for
-0000d530: 2067 656e 6572 6174 696f 6e2c 2061 6e64   generation, and
-0000d540: 2072 6561 6374 6976 6520 706f 7765 7220   reactive power 
-0000d550: 7769 6c6c 2062 6520 6e65 6761 7469 7665  will be negative
-0000d560: 2066 6f72 0d0a 2020 2020 756e 6465 7265   for..    undere
-0000d570: 7863 6974 6564 2062 6568 6176 696f 7220  xcited behavior 
-0000d580: 2851 2061 6273 6f72 7074 696f 6e2c 2064  (Q absorption, d
-0000d590: 6563 7265 6173 6573 2076 6f6c 7461 6765  ecreases voltage
-0000d5a0: 2920 616e 640d 0a20 2020 2070 6f73 6974  ) and..    posit
-0000d5b0: 6976 6520 666f 7220 666f 7220 6f76 6572  ive for for over
-0000d5c0: 6578 6369 7465 6420 6265 6861 7669 6f72  excited behavior
-0000d5d0: 2028 5120 696e 6a65 6374 696f 6e2c 2069   (Q injection, i
-0000d5e0: 6e63 7265 6173 6573 2076 6f6c 7461 6765  ncreases voltage
-0000d5f0: 292e 0d0a 2020 2020 2222 220d 0a20 2020  )...    """..   
-0000d600: 2066 726f 6d20 7061 6e64 6170 6f77 6572   from pandapower
-0000d610: 2e74 6f6f 6c62 6f78 2069 6d70 6f72 7420  .toolbox import 
-0000d620: 7071 5f66 726f 6d5f 636f 7370 6869 0d0a  pq_from_cosphi..
-0000d630: 2020 2020 705f 6d77 2c20 715f 6d76 6172      p_mw, q_mvar
-0000d640: 203d 2070 715f 6672 6f6d 5f63 6f73 7068   = pq_from_cosph
-0000d650: 6928 736e 5f6d 7661 2c20 636f 735f 7068  i(sn_mva, cos_ph
-0000d660: 692c 2071 6d6f 6465 3d6d 6f64 652c 2070  i, qmode=mode, p
-0000d670: 6d6f 6465 3d22 6765 6e22 290d 0a20 2020  mode="gen")..   
-0000d680: 2072 6574 7572 6e20 6372 6561 7465 5f73   return create_s
-0000d690: 6765 6e28 6e65 742c 2062 7573 2c20 736e  gen(net, bus, sn
-0000d6a0: 5f6d 7661 3d73 6e5f 6d76 612c 2070 5f6d  _mva=sn_mva, p_m
-0000d6b0: 773d 705f 6d77 2c20 715f 6d76 6172 3d71  w=p_mw, q_mvar=q
-0000d6c0: 5f6d 7661 722c 202a 2a6b 7761 7267 7329  _mvar, **kwargs)
-0000d6d0: 0d0a 0d0a 0d0a 6465 6620 6372 6561 7465  ......def create
-0000d6e0: 5f73 746f 7261 6765 286e 6574 2c20 6275  _storage(net, bu
-0000d6f0: 732c 2070 5f6d 772c 206d 6178 5f65 5f6d  s, p_mw, max_e_m
-0000d700: 7768 2c20 715f 6d76 6172 3d30 2c20 736e  wh, q_mvar=0, sn
-0000d710: 5f6d 7661 3d6e 616e 2c20 736f 635f 7065  _mva=nan, soc_pe
-0000d720: 7263 656e 743d 6e61 6e2c 206d 696e 5f65  rcent=nan, min_e
-0000d730: 5f6d 7768 3d30 2e30 2c0d 0a20 2020 2020  _mwh=0.0,..     
-0000d740: 2020 2020 2020 2020 2020 2020 2020 6e61                na
-0000d750: 6d65 3d4e 6f6e 652c 2069 6e64 6578 3d4e  me=None, index=N
-0000d760: 6f6e 652c 2073 6361 6c69 6e67 3d31 2e2c  one, scaling=1.,
-0000d770: 2074 7970 653d 4e6f 6e65 2c20 696e 5f73   type=None, in_s
-0000d780: 6572 7669 6365 3d54 7275 652c 206d 6178  ervice=True, max
-0000d790: 5f70 5f6d 773d 6e61 6e2c 0d0a 2020 2020  _p_mw=nan,..    
-0000d7a0: 2020 2020 2020 2020 2020 2020 2020 206d                 m
-0000d7b0: 696e 5f70 5f6d 773d 6e61 6e2c 206d 6178  in_p_mw=nan, max
-0000d7c0: 5f71 5f6d 7661 723d 6e61 6e2c 206d 696e  _q_mvar=nan, min
-0000d7d0: 5f71 5f6d 7661 723d 6e61 6e2c 2063 6f6e  _q_mvar=nan, con
-0000d7e0: 7472 6f6c 6c61 626c 653d 6e61 6e29 3a0d  trollable=nan):.
-0000d7f0: 0a20 2020 2022 2222 0d0a 2020 2020 4164  .    """..    Ad
-0000d800: 6473 2061 2073 746f 7261 6765 2074 6f20  ds a storage to 
-0000d810: 7468 6520 6e65 7477 6f72 6b2e 0d0a 0d0a  the network.....
-0000d820: 2020 2020 496e 206f 7264 6572 2074 6f20      In order to 
-0000d830: 7369 6d75 6c61 7465 2061 2073 746f 7261  simulate a stora
-0000d840: 6765 2073 7973 7465 6d20 6974 2069 7320  ge system it is 
-0000d850: 706f 7373 6962 6c65 2074 6f20 7573 6520  possible to use 
-0000d860: 7367 656e 7320 6f72 206c 6f61 6473 2074  sgens or loads t
-0000d870: 6f20 6d6f 6465 6c20 7468 650d 0a20 2020  o model the..   
-0000d880: 2064 6973 6368 6172 6769 6e67 206f 7220   discharging or 
-0000d890: 6368 6172 6769 6e67 2073 7461 7465 2e20  charging state. 
-0000d8a0: 5468 6520 706f 7765 7220 6f66 2061 2073  The power of a s
-0000d8b0: 746f 7261 6765 2063 616e 2062 6520 706f  torage can be po
-0000d8c0: 7369 7469 7665 206f 7220 6e65 6761 7469  sitive or negati
-0000d8d0: 7665 2c20 736f 2074 6865 2075 7365 0d0a  ve, so the use..
-0000d8e0: 2020 2020 6f66 2065 6974 6865 7220 6120      of either a 
-0000d8f0: 7367 656e 206f 7220 6120 6c6f 6164 2069  sgen or a load i
-0000d900: 7320 2870 6572 2064 6566 696e 6974 696f  s (per definitio
-0000d910: 6e20 6f66 2074 6865 2065 6c65 6d65 6e74  n of the element
-0000d920: 7329 206e 6f74 2063 6f72 7265 6374 2e0d  s) not correct..
-0000d930: 0a20 2020 2054 6f20 6f76 6572 636f 6d65  .    To overcome
-0000d940: 2074 6869 7320 6973 7375 652c 2061 2073   this issue, a s
-0000d950: 746f 7261 6765 2065 6c65 6d65 6e74 2063  torage element c
-0000d960: 616e 2062 6520 6372 6561 7465 642e 0d0a  an be created...
-0000d970: 0d0a 2020 2020 4173 2070 616e 6461 706f  ..    As pandapo
-0000d980: 7765 7220 6973 206e 6f74 2061 2074 696d  wer is not a tim
-0000d990: 6520 6465 7065 6e64 656e 6420 7369 6d75  e dependend simu
-0000d9a0: 6c61 7469 6f6e 2074 6f6f 6c20 616e 6420  lation tool and 
-0000d9b0: 7468 6572 6520 6973 206e 6f20 7469 6d65  there is no time
-0000d9c0: 2064 6f6d 6169 6e20 7061 7261 6d65 7465   domain paramete
-0000d9d0: 7220 696e 0d0a 2020 2020 6465 6661 756c  r in..    defaul
-0000d9e0: 7420 706f 7765 7220 666c 6f77 2063 616c  t power flow cal
-0000d9f0: 6375 6c61 7469 6f6e 732c 2074 6865 2073  culations, the s
-0000da00: 7461 7465 206f 6620 6368 6172 6765 2028  tate of charge (
-0000da10: 534f 4329 2069 7320 6e6f 7420 7570 6461  SOC) is not upda
-0000da20: 7465 6420 6475 7269 6e67 2061 6e79 2070  ted during any p
-0000da30: 6f77 6572 2066 6c6f 770d 0a20 2020 2063  ower flow..    c
-0000da40: 616c 6375 6c61 7469 6f6e 2e0d 0a20 2020  alculation...   
-0000da50: 2054 6865 2069 6d70 6c65 6d65 6e74 6174   The implementat
-0000da60: 696f 6e20 6f66 2065 6e65 7267 7920 636f  ion of energy co
-0000da70: 6e74 656e 7420 7265 6c61 7465 6420 7061  ntent related pa
-0000da80: 7261 6d65 7465 7273 2069 6e20 7468 6520  rameters in the 
-0000da90: 7374 6f72 6167 6520 656c 656d 656e 7420  storage element 
-0000daa0: 616c 6c6f 7773 2074 6f20 6372 6561 7465  allows to create
-0000dab0: 0d0a 2020 2020 6375 7374 6f6d 697a 6564  ..    customized
-0000dac0: 2c20 7469 6d65 2064 6570 656e 6465 6e64  , time dependend
-0000dad0: 2073 696d 756c 6174 696f 6e73 2062 7920   simulations by 
-0000dae0: 7275 6e6e 696e 6720 7365 7665 7261 6c20  running several 
-0000daf0: 706f 7765 7220 666c 6f77 2063 616c 6375  power flow calcu
-0000db00: 6c61 7469 6f6e 7320 616e 6420 7570 6461  lations and upda
-0000db10: 7469 6e67 0d0a 2020 2020 7661 7269 6162  ting..    variab
-0000db20: 6c65 7320 6d61 6e75 616c 6c79 2e0d 0a0d  les manually....
-0000db30: 0a20 2020 2049 4e50 5554 3a0d 0a20 2020  .    INPUT:..   
-0000db40: 2020 2020 202a 2a6e 6574 2a2a 202d 2054       **net** - T
-0000db50: 6865 206e 6574 2077 6974 6869 6e20 7468  he net within th
-0000db60: 6973 2073 746f 7261 6765 2073 686f 756c  is storage shoul
-0000db70: 6420 6265 2063 7265 6174 6564 0d0a 0d0a  d be created....
-0000db80: 2020 2020 2020 2020 2a2a 6275 732a 2a20          **bus** 
-0000db90: 2869 6e74 2920 2d20 5468 6520 6275 7320  (int) - The bus 
-0000dba0: 6964 2074 6f20 7768 6963 6820 7468 6520  id to which the 
-0000dbb0: 7374 6f72 6167 6520 6973 2063 6f6e 6e65  storage is conne
-0000dbc0: 6374 6564 0d0a 0d0a 2020 2020 2020 2020  cted....        
-0000dbd0: 2a2a 705f 6d77 2a2a 2028 666c 6f61 7429  **p_mw** (float)
-0000dbe0: 202d 2054 6865 206d 6f6d 656e 7461 7279   - The momentary
-0000dbf0: 2061 6374 6976 6520 706f 7765 7220 6f66   active power of
-0000dc00: 2074 6865 2073 746f 7261 6765 205c 0d0a   the storage \..
-0000dc10: 2020 2020 2020 2020 2020 2020 2870 6f73              (pos
-0000dc20: 6974 6976 6520 666f 7220 6368 6172 6769  itive for chargi
-0000dc30: 6e67 2c20 6e65 6761 7469 7665 2066 6f72  ng, negative for
-0000dc40: 2064 6973 6368 6172 6769 6e67 290d 0a0d   discharging)...
-0000dc50: 0a20 2020 2020 2020 202a 2a6d 6178 5f65  .        **max_e
-0000dc60: 5f6d 7768 2a2a 2028 666c 6f61 7429 202d  _mwh** (float) -
-0000dc70: 2054 6865 206d 6178 696d 756d 2065 6e65   The maximum ene
-0000dc80: 7267 7920 636f 6e74 656e 7420 6f66 2074  rgy content of t
-0000dc90: 6865 2073 746f 7261 6765 205c 0d0a 2020  he storage \..  
-0000dca0: 2020 2020 2020 2020 2020 286d 6178 696d            (maxim
-0000dcb0: 756d 2063 6861 7267 6520 6c65 7665 6c29  um charge level)
-0000dcc0: 0d0a 0d0a 2020 2020 4f50 5449 4f4e 414c  ....    OPTIONAL
-0000dcd0: 3a0d 0a20 2020 2020 2020 202a 2a71 5f6d  :..        **q_m
-0000dce0: 7661 722a 2a20 2866 6c6f 6174 2c20 6465  var** (float, de
-0000dcf0: 6661 756c 7420 3029 202d 2054 6865 2072  fault 0) - The r
-0000dd00: 6561 6374 6976 6520 706f 7765 7220 6f66  eactive power of
-0000dd10: 2074 6865 2073 746f 7261 6765 0d0a 0d0a   the storage....
-0000dd20: 2020 2020 2020 2020 2a2a 736e 5f6d 7661          **sn_mva
-0000dd30: 2a2a 2028 666c 6f61 742c 2064 6566 6175  ** (float, defau
-0000dd40: 6c74 204e 6f6e 6529 202d 204e 6f6d 696e  lt None) - Nomin
-0000dd50: 616c 2070 6f77 6572 206f 6620 7468 6520  al power of the 
-0000dd60: 7374 6f72 6167 650d 0a0d 0a20 2020 2020  storage....     
-0000dd70: 2020 202a 2a73 6f63 5f70 6572 6365 6e74     **soc_percent
-0000dd80: 2a2a 2028 666c 6f61 742c 204e 614e 2920  ** (float, NaN) 
-0000dd90: 2d20 5468 6520 7374 6174 6520 6f66 2063  - The state of c
-0000dda0: 6861 7267 6520 6f66 2074 6865 2073 746f  harge of the sto
-0000ddb0: 7261 6765 0d0a 0d0a 2020 2020 2020 2020  rage....        
-0000ddc0: 2a2a 6d69 6e5f 655f 6d77 682a 2a20 2866  **min_e_mwh** (f
-0000ddd0: 6c6f 6174 2c20 3029 202d 2054 6865 206d  loat, 0) - The m
-0000dde0: 696e 696d 756d 2065 6e65 7267 7920 636f  inimum energy co
-0000ddf0: 6e74 656e 7420 6f66 2074 6865 2073 746f  ntent of the sto
-0000de00: 7261 6765 205c 0d0a 2020 2020 2020 2020  rage \..        
-0000de10: 2020 2020 286d 696e 696d 756d 2063 6861      (minimum cha
-0000de20: 7267 6520 6c65 7665 6c29 0d0a 0d0a 2020  rge level)....  
-0000de30: 2020 2020 2020 2a2a 6e61 6d65 2a2a 2028        **name** (
-0000de40: 7374 7269 6e67 2c20 6465 6661 756c 7420  string, default 
-0000de50: 4e6f 6e65 2920 2d20 5468 6520 6e61 6d65  None) - The name
-0000de60: 2066 6f72 2074 6869 7320 7374 6f72 6167   for this storag
-0000de70: 650d 0a0d 0a20 2020 2020 2020 202a 2a69  e....        **i
-0000de80: 6e64 6578 2a2a 2028 696e 742c 204e 6f6e  ndex** (int, Non
-0000de90: 6529 202d 2046 6f72 6365 2061 2073 7065  e) - Force a spe
-0000dea0: 6369 6669 6564 2049 4420 6966 2069 7420  cified ID if it 
-0000deb0: 6973 2061 7661 696c 6162 6c65 2e20 4966  is available. If
-0000dec0: 204e 6f6e 652c 2074 6865 2069 6e64 6578   None, the index
-0000ded0: 206f 6e65 205c 0d0a 2020 2020 2020 2020   one \..        
-0000dee0: 2020 2020 6869 6768 6572 2074 6861 6e20      higher than 
-0000def0: 7468 6520 6869 6768 6573 7420 616c 7265  the highest alre
-0000df00: 6164 7920 6578 6973 7469 6e67 2069 6e64  ady existing ind
-0000df10: 6578 2069 7320 7365 6c65 6374 6564 2e0d  ex is selected..
-0000df20: 0a0d 0a20 2020 2020 2020 202a 2a73 6361  ...        **sca
-0000df30: 6c69 6e67 2a2a 2028 666c 6f61 742c 2031  ling** (float, 1
-0000df40: 2e29 202d 2041 6e20 4f50 5449 4f4e 414c  .) - An OPTIONAL
-0000df50: 2073 6361 6c69 6e67 2066 6163 746f 7220   scaling factor 
-0000df60: 746f 2062 6520 7365 7420 6375 7374 6f6d  to be set custom
-0000df70: 6c79 2e0d 0a20 2020 2020 2020 204d 756c  ly...        Mul
-0000df80: 7469 706c 7973 2077 6974 6820 705f 6d77  tiplys with p_mw
-0000df90: 2061 6e64 2071 5f6d 7661 722e 0d0a 0d0a   and q_mvar.....
-0000dfa0: 2020 2020 2020 2020 2a2a 7479 7065 2a2a          **type**
-0000dfb0: 2028 7374 7269 6e67 2c20 4e6f 6e65 2920   (string, None) 
-0000dfc0: 2d20 2074 7970 6520 7661 7269 6162 6c65  -  type variable
-0000dfd0: 2074 6f20 636c 6173 7369 6679 2074 6865   to classify the
-0000dfe0: 2073 746f 7261 6765 0d0a 0d0a 2020 2020   storage....    
-0000dff0: 2020 2020 2a2a 696e 5f73 6572 7669 6365      **in_service
-0000e000: 2a2a 2028 626f 6f6c 6561 6e29 202d 2054  ** (boolean) - T
-0000e010: 7275 6520 666f 7220 696e 5f73 6572 7669  rue for in_servi
-0000e020: 6365 206f 7220 4661 6c73 6520 666f 7220  ce or False for 
-0000e030: 6f75 7420 6f66 2073 6572 7669 6365 0d0a  out of service..
-0000e040: 0d0a 2020 2020 2020 2020 2a2a 6d61 785f  ..        **max_
-0000e050: 705f 6d77 2a2a 2028 666c 6f61 742c 204e  p_mw** (float, N
-0000e060: 614e 2920 2d20 4d61 7869 6d75 6d20 6163  aN) - Maximum ac
-0000e070: 7469 7665 2070 6f77 6572 2069 6e6a 6563  tive power injec
-0000e080: 7469 6f6e 202d 206e 6563 6573 7361 7279  tion - necessary
-0000e090: 2066 6f72 2061 205c 0d0a 2020 2020 2020   for a \..      
-0000e0a0: 2020 2020 2020 636f 6e74 726f 6c6c 6162        controllab
-0000e0b0: 6c65 2073 746f 7261 6765 2069 6e20 4f50  le storage in OP
-0000e0c0: 460d 0a0d 0a20 2020 2020 2020 202a 2a6d  F....        **m
-0000e0d0: 696e 5f70 5f6d 772a 2a20 2866 6c6f 6174  in_p_mw** (float
-0000e0e0: 2c20 4e61 4e29 202d 204d 696e 696d 756d  , NaN) - Minimum
-0000e0f0: 2061 6374 6976 6520 706f 7765 7220 696e   active power in
-0000e100: 6a65 6374 696f 6e20 2d20 6e65 6365 7373  jection - necess
-0000e110: 6172 7920 666f 7220 6120 5c0d 0a20 2020  ary for a \..   
-0000e120: 2020 2020 2020 2020 2063 6f6e 7472 6f6c           control
-0000e130: 6c61 626c 6520 7374 6f72 6167 6520 696e  lable storage in
-0000e140: 204f 5046 0d0a 0d0a 2020 2020 2020 2020   OPF....        
-0000e150: 2a2a 6d61 785f 715f 6d76 6172 2a2a 2028  **max_q_mvar** (
-0000e160: 666c 6f61 742c 204e 614e 2920 2d20 4d61  float, NaN) - Ma
-0000e170: 7869 6d75 6d20 7265 6163 7469 7665 2070  ximum reactive p
-0000e180: 6f77 6572 2069 6e6a 6563 7469 6f6e 202d  ower injection -
-0000e190: 206e 6563 6573 7361 7279 2066 6f72 2061   necessary for a
-0000e1a0: 205c 0d0a 2020 2020 2020 2020 2020 2020   \..            
-0000e1b0: 636f 6e74 726f 6c6c 6162 6c65 2073 746f  controllable sto
-0000e1c0: 7261 6765 2069 6e20 4f50 460d 0a0d 0a20  rage in OPF.... 
-0000e1d0: 2020 2020 2020 202a 2a6d 696e 5f71 5f6d         **min_q_m
-0000e1e0: 7661 722a 2a20 2866 6c6f 6174 2c20 4e61  var** (float, Na
-0000e1f0: 4e29 202d 204d 696e 696d 756d 2072 6561  N) - Minimum rea
-0000e200: 6374 6976 6520 706f 7765 7220 696e 6a65  ctive power inje
-0000e210: 6374 696f 6e20 2d20 6e65 6365 7373 6172  ction - necessar
-0000e220: 7920 666f 7220 6120 5c0d 0a20 2020 2020  y for a \..     
-0000e230: 2020 2020 2020 2063 6f6e 7472 6f6c 6c61         controlla
-0000e240: 626c 6520 7374 6f72 6167 6520 696e 204f  ble storage in O
-0000e250: 5046 0d0a 0d0a 2020 2020 2020 2020 2a2a  PF....        **
-0000e260: 636f 6e74 726f 6c6c 6162 6c65 2a2a 2028  controllable** (
-0000e270: 626f 6f6c 2c20 4e61 4e29 202d 2057 6865  bool, NaN) - Whe
-0000e280: 7468 6572 2074 6869 7320 7374 6f72 6167  ther this storag
-0000e290: 6520 6973 2063 6f6e 7472 6f6c 6c61 626c  e is controllabl
-0000e2a0: 6520 6279 2074 6865 206f 7074 696d 616c  e by the optimal
-0000e2b0: 205c 0d0a 2020 2020 2020 2020 2020 2020   \..            
-0000e2c0: 706f 7765 7266 6c6f 773b 2064 6566 6175  powerflow; defau
-0000e2d0: 6c74 7320 746f 2046 616c 7365 2069 6620  lts to False if 
-0000e2e0: 2263 6f6e 7472 6f6c 6c61 626c 6522 2063  "controllable" c
-0000e2f0: 6f6c 756d 6e20 6578 6973 7473 2069 6e20  olumn exists in 
-0000e300: 4461 7461 4672 616d 650d 0a0d 0a20 2020  DataFrame....   
-0000e310: 204f 5554 5055 543a 0d0a 2020 2020 2020   OUTPUT:..      
-0000e320: 2020 2a2a 696e 6465 782a 2a20 2869 6e74    **index** (int
-0000e330: 2920 2d20 5468 6520 756e 6971 7565 2049  ) - The unique I
-0000e340: 4420 6f66 2074 6865 2063 7265 6174 6564  D of the created
-0000e350: 2073 746f 7261 6765 0d0a 0d0a 2020 2020   storage....    
-0000e360: 4558 414d 504c 453a 0d0a 2020 2020 2020  EXAMPLE:..      
-0000e370: 2020 6372 6561 7465 5f73 746f 7261 6765    create_storage
-0000e380: 286e 6574 2c20 312c 2070 5f6d 7720 3d20  (net, 1, p_mw = 
-0000e390: 2d33 302c 206d 6178 5f65 5f6d 7768 203d  -30, max_e_mwh =
-0000e3a0: 2036 302c 2073 6f63 5f70 6572 6365 6e74   60, soc_percent
-0000e3b0: 203d 2031 2e30 2c20 6d69 6e5f 655f 6d77   = 1.0, min_e_mw
-0000e3c0: 6820 3d20 3529 0d0a 0d0a 2020 2020 2222  h = 5)....    ""
-0000e3d0: 220d 0a20 2020 205f 6368 6563 6b5f 6e6f  "..    _check_no
-0000e3e0: 6465 5f65 6c65 6d65 6e74 286e 6574 2c20  de_element(net, 
-0000e3f0: 6275 7329 0d0a 0d0a 2020 2020 696e 6465  bus)....    inde
-0000e400: 7820 3d20 5f67 6574 5f69 6e64 6578 5f77  x = _get_index_w
-0000e410: 6974 685f 6368 6563 6b28 6e65 742c 2022  ith_check(net, "
-0000e420: 7374 6f72 6167 6522 2c20 696e 6465 7829  storage", index)
-0000e430: 0d0a 0d0a 2020 2020 656e 7472 6965 7320  ....    entries 
-0000e440: 3d20 6469 6374 287a 6970 285b 226e 616d  = dict(zip(["nam
-0000e450: 6522 2c20 2262 7573 222c 2022 705f 6d77  e", "bus", "p_mw
-0000e460: 222c 2022 715f 6d76 6172 222c 2022 736e  ", "q_mvar", "sn
-0000e470: 5f6d 7661 222c 2022 7363 616c 696e 6722  _mva", "scaling"
-0000e480: 2c20 2273 6f63 5f70 6572 6365 6e74 222c  , "soc_percent",
-0000e490: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-0000e4a0: 2020 2020 2020 2020 2020 226d 696e 5f65            "min_e
-0000e4b0: 5f6d 7768 222c 2022 6d61 785f 655f 6d77  _mwh", "max_e_mw
-0000e4c0: 6822 2c20 2269 6e5f 7365 7276 6963 6522  h", "in_service"
-0000e4d0: 2c20 2274 7970 6522 5d2c 0d0a 2020 2020  , "type"],..    
-0000e4e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000e4f0: 2020 205b 6e61 6d65 2c20 6275 732c 2070     [name, bus, p
-0000e500: 5f6d 772c 2071 5f6d 7661 722c 2073 6e5f  _mw, q_mvar, sn_
-0000e510: 6d76 612c 2073 6361 6c69 6e67 2c20 736f  mva, scaling, so
-0000e520: 635f 7065 7263 656e 742c 206d 696e 5f65  c_percent, min_e
-0000e530: 5f6d 7768 2c20 6d61 785f 655f 6d77 682c  _mwh, max_e_mwh,
-0000e540: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-0000e550: 2020 2020 2020 2020 2020 626f 6f6c 2869            bool(i
-0000e560: 6e5f 7365 7276 6963 6529 2c20 7479 7065  n_service), type
-0000e570: 5d29 290d 0a0d 0a20 2020 205f 7365 745f  ]))....    _set_
-0000e580: 656e 7472 6965 7328 6e65 742c 2022 7374  entries(net, "st
-0000e590: 6f72 6167 6522 2c20 696e 6465 782c 2054  orage", index, T
-0000e5a0: 7275 652c 202a 2a65 6e74 7269 6573 290d  rue, **entries).
-0000e5b0: 0a0d 0a20 2020 2023 2063 6865 636b 2066  ...    # check f
-0000e5c0: 6f72 204f 5046 2070 6172 616d 6574 6572  or OPF parameter
-0000e5d0: 7320 616e 6420 6164 6420 636f 6c75 6d6e  s and add column
-0000e5e0: 7320 746f 206e 6574 776f 726b 2074 6162  s to network tab
-0000e5f0: 6c65 0d0a 2020 2020 5f63 7265 6174 655f  le..    _create_
-0000e600: 636f 6c75 6d6e 5f61 6e64 5f73 6574 5f76  column_and_set_v
-0000e610: 616c 7565 286e 6574 2c20 696e 6465 782c  alue(net, index,
-0000e620: 206d 696e 5f70 5f6d 772c 2022 6d69 6e5f   min_p_mw, "min_
-0000e630: 705f 6d77 222c 2022 7374 6f72 6167 6522  p_mw", "storage"
-0000e640: 290d 0a20 2020 205f 6372 6561 7465 5f63  )..    _create_c
-0000e650: 6f6c 756d 6e5f 616e 645f 7365 745f 7661  olumn_and_set_va
-0000e660: 6c75 6528 6e65 742c 2069 6e64 6578 2c20  lue(net, index, 
-0000e670: 6d61 785f 705f 6d77 2c20 226d 6178 5f70  max_p_mw, "max_p
-0000e680: 5f6d 7722 2c20 2273 746f 7261 6765 2229  _mw", "storage")
-0000e690: 0d0a 2020 2020 5f63 7265 6174 655f 636f  ..    _create_co
-0000e6a0: 6c75 6d6e 5f61 6e64 5f73 6574 5f76 616c  lumn_and_set_val
-0000e6b0: 7565 286e 6574 2c20 696e 6465 782c 206d  ue(net, index, m
-0000e6c0: 696e 5f71 5f6d 7661 722c 2022 6d69 6e5f  in_q_mvar, "min_
-0000e6d0: 715f 6d76 6172 222c 2022 7374 6f72 6167  q_mvar", "storag
-0000e6e0: 6522 290d 0a20 2020 205f 6372 6561 7465  e")..    _create
-0000e6f0: 5f63 6f6c 756d 6e5f 616e 645f 7365 745f  _column_and_set_
-0000e700: 7661 6c75 6528 6e65 742c 2069 6e64 6578  value(net, index
-0000e710: 2c20 6d61 785f 715f 6d76 6172 2c20 226d  , max_q_mvar, "m
-0000e720: 6178 5f71 5f6d 7661 7222 2c20 2273 746f  ax_q_mvar", "sto
-0000e730: 7261 6765 2229 0d0a 2020 2020 5f63 7265  rage")..    _cre
-0000e740: 6174 655f 636f 6c75 6d6e 5f61 6e64 5f73  ate_column_and_s
-0000e750: 6574 5f76 616c 7565 286e 6574 2c20 696e  et_value(net, in
-0000e760: 6465 782c 2063 6f6e 7472 6f6c 6c61 626c  dex, controllabl
-0000e770: 652c 2022 636f 6e74 726f 6c6c 6162 6c65  e, "controllable
-0000e780: 222c 2022 7374 6f72 6167 6522 2c0d 0a20  ", "storage",.. 
-0000e790: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c7d0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0000c7e0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d0d 0a0d  =============...
+0000c7f0: 0a64 6566 2063 7265 6174 655f 6173 796d  .def create_asym
+0000c800: 6d65 7472 6963 5f73 6765 6e28 6e65 742c  metric_sgen(net,
+0000c810: 2062 7573 2c20 705f 615f 6d77 3d30 2c20   bus, p_a_mw=0, 
+0000c820: 705f 625f 6d77 3d30 2c20 705f 635f 6d77  p_b_mw=0, p_c_mw
+0000c830: 3d30 2c20 715f 615f 6d76 6172 3d30 2c20  =0, q_a_mvar=0, 
+0000c840: 715f 625f 6d76 6172 3d30 2c0d 0a20 2020  q_b_mvar=0,..   
+0000c850: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c860: 2020 2020 2020 2020 715f 635f 6d76 6172          q_c_mvar
+0000c870: 3d30 2c20 736e 5f6d 7661 3d6e 616e 2c0d  =0, sn_mva=nan,.
+0000c880: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000c890: 2020 2020 2020 2020 2020 2020 6e61 6d65              name
+0000c8a0: 3d4e 6f6e 652c 2069 6e64 6578 3d4e 6f6e  =None, index=Non
+0000c8b0: 652c 2073 6361 6c69 6e67 3d31 2e2c 2074  e, scaling=1., t
+0000c8c0: 7970 653d 2777 7965 272c 2069 6e5f 7365  ype='wye', in_se
+0000c8d0: 7276 6963 653d 5472 7565 293a 0d0a 2020  rvice=True):..  
+0000c8e0: 2020 2222 220d 0a0d 0a20 2020 2041 6464    """....    Add
+0000c8f0: 7320 6f6e 6520 7374 6174 6963 2067 656e  s one static gen
+0000c900: 6572 6174 6f72 2069 6e20 7461 626c 6520  erator in table 
+0000c910: 6e65 745b 2261 7379 6d6d 6574 7269 635f  net["asymmetric_
+0000c920: 7367 656e 225d 2e0d 0a0d 0a20 2020 2053  sgen"].....    S
+0000c930: 7461 7469 6320 6765 6e65 7261 746f 7273  tatic generators
+0000c940: 2061 7265 206d 6f64 656c 6c65 6420 6173   are modelled as
+0000c950: 206e 6567 6174 6976 6520 2050 5120 6c6f   negative  PQ lo
+0000c960: 6164 732e 2054 6869 7320 656c 656d 656e  ads. This elemen
+0000c970: 7420 6973 2075 7365 6420 746f 206d 6f64  t is used to mod
+0000c980: 656c 2067 656e 6572 6174 6f72 730d 0a20  el generators.. 
+0000c990: 2020 2077 6974 6820 6120 636f 6e73 7461     with a consta
+0000c9a0: 6e74 2061 6374 6976 6520 616e 6420 7265  nt active and re
+0000c9b0: 6163 7469 7665 2070 6f77 6572 2066 6565  active power fee
+0000c9c0: 642d 696e 2e20 506f 7369 7469 7665 2061  d-in. Positive a
+0000c9d0: 6374 6976 6520 706f 7765 7220 6d65 616e  ctive power mean
+0000c9e0: 7320 6765 6e65 7261 7469 6f6e 2e0d 0a0d  s generation....
+0000c9f0: 0a20 2020 2049 4e50 5554 3a0d 0a20 2020  .    INPUT:..   
+0000ca00: 2020 2020 202a 2a6e 6574 2a2a 202d 2054       **net** - T
+0000ca10: 6865 206e 6574 2077 6974 6869 6e20 7468  he net within th
+0000ca20: 6973 2073 7461 7469 6320 6765 6e65 7261  is static genera
+0000ca30: 746f 7220 7368 6f75 6c64 2062 6520 6372  tor should be cr
+0000ca40: 6561 7465 640d 0a0d 0a20 2020 2020 2020  eated....       
+0000ca50: 202a 2a62 7573 2a2a 2028 696e 7429 202d   **bus** (int) -
+0000ca60: 2054 6865 2062 7573 2069 6420 746f 2077   The bus id to w
+0000ca70: 6869 6368 2074 6865 2073 7461 7469 6320  hich the static 
+0000ca80: 6765 6e65 7261 746f 7220 6973 2063 6f6e  generator is con
+0000ca90: 6e65 6374 6564 0d0a 0d0a 2020 2020 4f50  nected....    OP
+0000caa0: 5449 4f4e 414c 3a0d 0a0d 0a20 2020 2020  TIONAL:....     
+0000cab0: 2020 202a 2a70 5f61 5f6d 772a 2a20 2866     **p_a_mw** (f
+0000cac0: 6c6f 6174 2c20 6465 6661 756c 7420 3029  loat, default 0)
+0000cad0: 202d 2054 6865 2061 6374 6976 6520 706f   - The active po
+0000cae0: 7765 7220 6f66 2074 6865 2073 7461 7469  wer of the stati
+0000caf0: 6320 6765 6e65 7261 746f 7220 3a20 5068  c generator : Ph
+0000cb00: 6173 6520 410d 0a0d 0a20 2020 2020 2020  ase A....       
+0000cb10: 202a 2a70 5f62 5f6d 772a 2a20 2866 6c6f   **p_b_mw** (flo
+0000cb20: 6174 2c20 6465 6661 756c 7420 3029 202d  at, default 0) -
+0000cb30: 2054 6865 2061 6374 6976 6520 706f 7765   The active powe
+0000cb40: 7220 6f66 2074 6865 2073 7461 7469 6320  r of the static 
+0000cb50: 6765 6e65 7261 746f 7220 3a20 5068 6173  generator : Phas
+0000cb60: 6520 420d 0a0d 0a20 2020 2020 2020 202a  e B....        *
+0000cb70: 2a70 5f63 5f6d 772a 2a20 2866 6c6f 6174  *p_c_mw** (float
+0000cb80: 2c20 6465 6661 756c 7420 3029 202d 2054  , default 0) - T
+0000cb90: 6865 2061 6374 6976 6520 706f 7765 7220  he active power 
+0000cba0: 6f66 2074 6865 2073 7461 7469 6320 6765  of the static ge
+0000cbb0: 6e65 7261 746f 7220 3a20 5068 6173 6520  nerator : Phase 
+0000cbc0: 430d 0a0d 0a20 2020 2020 2020 202a 2a71  C....        **q
+0000cbd0: 5f61 5f6d 7661 722a 2a20 2866 6c6f 6174  _a_mvar** (float
+0000cbe0: 2c20 6465 6661 756c 7420 3029 202d 2054  , default 0) - T
+0000cbf0: 6865 2072 6561 6374 6976 6520 706f 7765  he reactive powe
+0000cc00: 7220 6f66 2074 6865 2073 6765 6e20 3a20  r of the sgen : 
+0000cc10: 5068 6173 6520 410d 0a0d 0a20 2020 2020  Phase A....     
+0000cc20: 2020 202a 2a71 5f62 5f6d 7661 722a 2a20     **q_b_mvar** 
+0000cc30: 2866 6c6f 6174 2c20 6465 6661 756c 7420  (float, default 
+0000cc40: 3029 202d 2054 6865 2072 6561 6374 6976  0) - The reactiv
+0000cc50: 6520 706f 7765 7220 6f66 2074 6865 2073  e power of the s
+0000cc60: 6765 6e20 3a20 5068 6173 6520 420d 0a0d  gen : Phase B...
+0000cc70: 0a20 2020 2020 2020 202a 2a71 5f63 5f6d  .        **q_c_m
+0000cc80: 7661 722a 2a20 2866 6c6f 6174 2c20 6465  var** (float, de
+0000cc90: 6661 756c 7420 3029 202d 2054 6865 2072  fault 0) - The r
+0000cca0: 6561 6374 6976 6520 706f 7765 7220 6f66  eactive power of
+0000ccb0: 2074 6865 2073 6765 6e20 3a20 5068 6173   the sgen : Phas
+0000ccc0: 6520 430d 0a0d 0a20 2020 2020 2020 202a  e C....        *
+0000ccd0: 2a73 6e5f 6d76 612a 2a20 2866 6c6f 6174  *sn_mva** (float
+0000cce0: 2c20 6465 6661 756c 7420 4e6f 6e65 2920  , default None) 
+0000ccf0: 2d20 4e6f 6d69 6e61 6c20 706f 7765 7220  - Nominal power 
+0000cd00: 6f66 2074 6865 2073 6765 6e0d 0a0d 0a20  of the sgen.... 
+0000cd10: 2020 2020 2020 202a 2a6e 616d 652a 2a20         **name** 
+0000cd20: 2873 7472 696e 672c 2064 6566 6175 6c74  (string, default
+0000cd30: 204e 6f6e 6529 202d 2054 6865 206e 616d   None) - The nam
+0000cd40: 6520 666f 7220 7468 6973 2073 6765 6e0d  e for this sgen.
+0000cd50: 0a0d 0a20 2020 2020 2020 202a 2a69 6e64  ...        **ind
+0000cd60: 6578 2a2a 2028 696e 742c 204e 6f6e 6529  ex** (int, None)
+0000cd70: 202d 2046 6f72 6365 2061 2073 7065 6369   - Force a speci
+0000cd80: 6669 6564 2049 4420 6966 2069 7420 6973  fied ID if it is
+0000cd90: 2061 7661 696c 6162 6c65 2e20 4966 204e   available. If N
+0000cda0: 6f6e 652c 2074 6865 2069 6e64 6578 206f  one, the index o
+0000cdb0: 6e65 205c 0d0a 2020 2020 2020 2020 2020  ne \..          
+0000cdc0: 2020 6869 6768 6572 2074 6861 6e20 7468    higher than th
+0000cdd0: 6520 6869 6768 6573 7420 616c 7265 6164  e highest alread
+0000cde0: 7920 6578 6973 7469 6e67 2069 6e64 6578  y existing index
+0000cdf0: 2069 7320 7365 6c65 6374 6564 2e0d 0a0d   is selected....
+0000ce00: 0a20 2020 2020 2020 202a 2a73 6361 6c69  .        **scali
+0000ce10: 6e67 2a2a 2028 666c 6f61 742c 2031 2e29  ng** (float, 1.)
+0000ce20: 202d 2041 6e20 4f50 5449 4f4e 414c 2073   - An OPTIONAL s
+0000ce30: 6361 6c69 6e67 2066 6163 746f 7220 746f  caling factor to
+0000ce40: 2062 6520 7365 7420 6375 7374 6f6d 6c79   be set customly
+0000ce50: 2e0d 0a20 2020 2020 2020 204d 756c 7469  ...        Multi
+0000ce60: 706c 7973 2077 6974 6820 705f 6d77 2061  plys with p_mw a
+0000ce70: 6e64 2071 5f6d 7661 7220 6f66 2061 6c6c  nd q_mvar of all
+0000ce80: 2070 6861 7365 732e 0d0a 0d0a 2020 2020   phases.....    
+0000ce90: 2020 2020 2a2a 7479 7065 2a2a 2028 7374      **type** (st
+0000cea0: 7269 6e67 2c20 2777 7965 2729 202d 2020  ring, 'wye') -  
+0000ceb0: 5468 7265 6520 7068 6173 6520 436f 6e6e  Three phase Conn
+0000cec0: 6563 7469 6f6e 2074 7970 6520 6f66 2074  ection type of t
+0000ced0: 6865 2073 7461 7469 6320 6765 6e65 7261  he static genera
+0000cee0: 746f 723a 2077 7965 2f64 656c 7461 0d0a  tor: wye/delta..
+0000cef0: 0d0a 2020 2020 2020 2020 2a2a 696e 5f73  ..        **in_s
+0000cf00: 6572 7669 6365 2a2a 2028 626f 6f6c 6561  ervice** (boolea
+0000cf10: 6e29 202d 2054 7275 6520 666f 7220 696e  n) - True for in
+0000cf20: 5f73 6572 7669 6365 206f 7220 4661 6c73  _service or Fals
+0000cf30: 6520 666f 7220 6f75 7420 6f66 2073 6572  e for out of ser
+0000cf40: 7669 6365 0d0a 0d0a 2020 2020 4f55 5450  vice....    OUTP
+0000cf50: 5554 3a0d 0a20 2020 2020 2020 202a 2a69  UT:..        **i
+0000cf60: 6e64 6578 2a2a 2028 696e 7429 202d 2054  ndex** (int) - T
+0000cf70: 6865 2075 6e69 7175 6520 4944 206f 6620  he unique ID of 
+0000cf80: 7468 6520 6372 6561 7465 6420 7367 656e  the created sgen
+0000cf90: 0d0a 0d0a 2020 2020 4558 414d 504c 453a  ....    EXAMPLE:
+0000cfa0: 0d0a 2020 2020 2020 2020 6372 6561 7465  ..        create
+0000cfb0: 5f61 7379 6d6d 6574 7269 635f 7367 656e  _asymmetric_sgen
+0000cfc0: 286e 6574 2c20 312c 2070 5f62 5f6d 773d  (net, 1, p_b_mw=
+0000cfd0: 302e 3132 290d 0a0d 0a20 2020 2022 2222  0.12)....    """
+0000cfe0: 0d0a 2020 2020 5f63 6865 636b 5f6e 6f64  ..    _check_nod
+0000cff0: 655f 656c 656d 656e 7428 6e65 742c 2062  e_element(net, b
+0000d000: 7573 290d 0a0d 0a20 2020 2069 6e64 6578  us)....    index
+0000d010: 203d 205f 6765 745f 696e 6465 785f 7769   = _get_index_wi
+0000d020: 7468 5f63 6865 636b 286e 6574 2c20 2261  th_check(net, "a
+0000d030: 7379 6d6d 6574 7269 635f 7367 656e 222c  symmetric_sgen",
+0000d040: 2069 6e64 6578 2c0d 0a20 2020 2020 2020   index,..       
+0000d050: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000d060: 2020 2020 2020 2020 2020 206e 616d 653d             name=
+0000d070: 2233 2070 6861 7365 2061 7379 6d6d 6574  "3 phase asymmet
+0000d080: 7269 6320 7374 6174 6963 2067 656e 6572  ric static gener
+0000d090: 6174 6f72 2229 0d0a 0d0a 2020 2020 656e  ator")....    en
+0000d0a0: 7472 6965 7320 3d20 6469 6374 287a 6970  tries = dict(zip
+0000d0b0: 285b 226e 616d 6522 2c20 2262 7573 222c  (["name", "bus",
+0000d0c0: 2022 705f 615f 6d77 222c 2022 705f 625f   "p_a_mw", "p_b_
+0000d0d0: 6d77 222c 2022 705f 635f 6d77 222c 2022  mw", "p_c_mw", "
+0000d0e0: 7363 616c 696e 6722 2c20 2271 5f61 5f6d  scaling", "q_a_m
+0000d0f0: 7661 7222 2c0d 0a20 2020 2020 2020 2020  var",..         
+0000d100: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+0000d110: 715f 625f 6d76 6172 222c 2022 715f 635f  q_b_mvar", "q_c_
+0000d120: 6d76 6172 222c 2022 736e 5f6d 7661 222c  mvar", "sn_mva",
+0000d130: 2022 696e 5f73 6572 7669 6365 222c 2022   "in_service", "
+0000d140: 7479 7065 225d 2c0d 0a20 2020 2020 2020  type"],..       
+0000d150: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000d160: 5b6e 616d 652c 2062 7573 2c20 705f 615f  [name, bus, p_a_
+0000d170: 6d77 2c20 705f 625f 6d77 2c20 705f 635f  mw, p_b_mw, p_c_
+0000d180: 6d77 2c20 7363 616c 696e 672c 2071 5f61  mw, scaling, q_a
+0000d190: 5f6d 7661 722c 2071 5f62 5f6d 7661 722c  _mvar, q_b_mvar,
+0000d1a0: 2071 5f63 5f6d 7661 722c 0d0a 2020 2020   q_c_mvar,..    
+0000d1b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000d1c0: 2020 2020 736e 5f6d 7661 2c20 626f 6f6c      sn_mva, bool
+0000d1d0: 2869 6e5f 7365 7276 6963 6529 2c20 7479  (in_service), ty
+0000d1e0: 7065 5d29 290d 0a0d 0a20 2020 205f 7365  pe]))....    _se
+0000d1f0: 745f 656e 7472 6965 7328 6e65 742c 2022  t_entries(net, "
+0000d200: 6173 796d 6d65 7472 6963 5f73 6765 6e22  asymmetric_sgen"
+0000d210: 2c20 696e 6465 782c 2054 7275 652c 202a  , index, True, *
+0000d220: 2a65 6e74 7269 6573 290d 0a0d 0a20 2020  *entries)....   
+0000d230: 2072 6574 7572 6e20 696e 6465 780d 0a0d   return index...
+0000d240: 0a0d 0a64 6566 2063 7265 6174 655f 7367  ...def create_sg
+0000d250: 656e 5f66 726f 6d5f 636f 7370 6869 286e  en_from_cosphi(n
+0000d260: 6574 2c20 6275 732c 2073 6e5f 6d76 612c  et, bus, sn_mva,
+0000d270: 2063 6f73 5f70 6869 2c20 6d6f 6465 2c20   cos_phi, mode, 
+0000d280: 2a2a 6b77 6172 6773 293a 0d0a 2020 2020  **kwargs):..    
+0000d290: 2222 220d 0a20 2020 2043 7265 6174 6573  """..    Creates
+0000d2a0: 2061 6e20 7367 656e 2065 6c65 6d65 6e74   an sgen element
+0000d2b0: 2066 726f 6d20 7261 7465 6420 706f 7765   from rated powe
+0000d2c0: 7220 616e 6420 706f 7765 7220 6661 6374  r and power fact
+0000d2d0: 6f72 2063 6f73 2870 6869 292e 0d0a 0d0a  or cos(phi).....
+0000d2e0: 2020 2020 494e 5055 543a 0d0a 2020 2020      INPUT:..    
+0000d2f0: 2020 2020 2a2a 6e65 742a 2a20 2d20 5468      **net** - Th
+0000d300: 6520 6e65 7420 7769 7468 696e 2074 6869  e net within thi
+0000d310: 7320 7374 6174 6963 2067 656e 6572 6174  s static generat
+0000d320: 6f72 2073 686f 756c 6420 6265 2063 7265  or should be cre
+0000d330: 6174 6564 0d0a 0d0a 2020 2020 2020 2020  ated....        
+0000d340: 2a2a 6275 732a 2a20 2869 6e74 2920 2d20  **bus** (int) - 
+0000d350: 5468 6520 6275 7320 6964 2074 6f20 7768  The bus id to wh
+0000d360: 6963 6820 7468 6520 7374 6174 6963 2067  ich the static g
+0000d370: 656e 6572 6174 6f72 2069 7320 636f 6e6e  enerator is conn
+0000d380: 6563 7465 640d 0a0d 0a20 2020 2020 2020  ected....       
+0000d390: 202a 2a73 6e5f 6d76 612a 2a20 2866 6c6f   **sn_mva** (flo
+0000d3a0: 6174 2920 2d20 7261 7465 6420 706f 7765  at) - rated powe
+0000d3b0: 7220 6f66 2074 6865 2067 656e 6572 6174  r of the generat
+0000d3c0: 6f72 0d0a 0d0a 2020 2020 2020 2020 2a2a  or....        **
+0000d3d0: 636f 735f 7068 692a 2a20 2866 6c6f 6174  cos_phi** (float
+0000d3e0: 2920 2d20 706f 7765 7220 6661 6374 6f72  ) - power factor
+0000d3f0: 2063 6f73 5f70 6869 0d0a 0d0a 2020 2020   cos_phi....    
+0000d400: 2020 2020 2a2a 6d6f 6465 2a2a 2028 7374      **mode** (st
+0000d410: 7229 202d 2022 756e 6465 7265 7863 6974  r) - "underexcit
+0000d420: 6564 2220 2851 2061 6273 6f72 7074 696f  ed" (Q absorptio
+0000d430: 6e2c 2064 6563 7265 6173 6573 2076 6f6c  n, decreases vol
+0000d440: 7461 6765 2920 6f72 2022 6f76 6572 6578  tage) or "overex
+0000d450: 6369 7465 6422 2028 5120 696e 6a65 6374  cited" (Q inject
+0000d460: 696f 6e2c 2069 6e63 7265 6173 6573 2076  ion, increases v
+0000d470: 6f6c 7461 6765 290d 0a0d 0a20 2020 204f  oltage)....    O
+0000d480: 5554 5055 543a 0d0a 2020 2020 2020 2020  UTPUT:..        
+0000d490: 2a2a 696e 6465 782a 2a20 2869 6e74 2920  **index** (int) 
+0000d4a0: 2d20 5468 6520 756e 6971 7565 2049 4420  - The unique ID 
+0000d4b0: 6f66 2074 6865 2063 7265 6174 6564 2073  of the created s
+0000d4c0: 6765 6e0d 0a0d 0a20 2020 2067 656e 2c20  gen....    gen, 
+0000d4d0: 7367 656e 2c20 616e 6420 6578 745f 6772  sgen, and ext_gr
+0000d4e0: 6964 2061 7265 206d 6f64 656c 6c65 6420  id are modelled 
+0000d4f0: 696e 2074 6865 2067 656e 6572 6174 6f72  in the generator
+0000d500: 2070 6f69 6e74 206f 6620 7669 6577 2e20   point of view. 
+0000d510: 4163 7469 7665 2070 6f77 6572 0d0a 2020  Active power..  
+0000d520: 2020 7769 6c6c 2074 6865 7265 666f 7265    will therefore
+0000d530: 2062 6520 706f 7374 6976 6520 666f 7220   be postive for 
+0000d540: 6765 6e65 7261 7469 6f6e 2c20 616e 6420  generation, and 
+0000d550: 7265 6163 7469 7665 2070 6f77 6572 2077  reactive power w
+0000d560: 696c 6c20 6265 206e 6567 6174 6976 6520  ill be negative 
+0000d570: 666f 720d 0a20 2020 2075 6e64 6572 6578  for..    underex
+0000d580: 6369 7465 6420 6265 6861 7669 6f72 2028  cited behavior (
+0000d590: 5120 6162 736f 7270 7469 6f6e 2c20 6465  Q absorption, de
+0000d5a0: 6372 6561 7365 7320 766f 6c74 6167 6529  creases voltage)
+0000d5b0: 2061 6e64 0d0a 2020 2020 706f 7369 7469   and..    positi
+0000d5c0: 7665 2066 6f72 2066 6f72 206f 7665 7265  ve for for overe
+0000d5d0: 7863 6974 6564 2062 6568 6176 696f 7220  xcited behavior 
+0000d5e0: 2851 2069 6e6a 6563 7469 6f6e 2c20 696e  (Q injection, in
+0000d5f0: 6372 6561 7365 7320 766f 6c74 6167 6529  creases voltage)
+0000d600: 2e0d 0a20 2020 2022 2222 0d0a 2020 2020  ...    """..    
+0000d610: 6672 6f6d 2070 616e 6461 706f 7765 722e  from pandapower.
+0000d620: 746f 6f6c 626f 7820 696d 706f 7274 2070  toolbox import p
+0000d630: 715f 6672 6f6d 5f63 6f73 7068 690d 0a20  q_from_cosphi.. 
+0000d640: 2020 2070 5f6d 772c 2071 5f6d 7661 7220     p_mw, q_mvar 
+0000d650: 3d20 7071 5f66 726f 6d5f 636f 7370 6869  = pq_from_cosphi
+0000d660: 2873 6e5f 6d76 612c 2063 6f73 5f70 6869  (sn_mva, cos_phi
+0000d670: 2c20 716d 6f64 653d 6d6f 6465 2c20 706d  , qmode=mode, pm
+0000d680: 6f64 653d 2267 656e 2229 0d0a 2020 2020  ode="gen")..    
+0000d690: 7265 7475 726e 2063 7265 6174 655f 7367  return create_sg
+0000d6a0: 656e 286e 6574 2c20 6275 732c 2073 6e5f  en(net, bus, sn_
+0000d6b0: 6d76 613d 736e 5f6d 7661 2c20 705f 6d77  mva=sn_mva, p_mw
+0000d6c0: 3d70 5f6d 772c 2071 5f6d 7661 723d 715f  =p_mw, q_mvar=q_
+0000d6d0: 6d76 6172 2c20 2a2a 6b77 6172 6773 290d  mvar, **kwargs).
+0000d6e0: 0a0d 0a0d 0a64 6566 2063 7265 6174 655f  .....def create_
+0000d6f0: 7374 6f72 6167 6528 6e65 742c 2062 7573  storage(net, bus
+0000d700: 2c20 705f 6d77 2c20 6d61 785f 655f 6d77  , p_mw, max_e_mw
+0000d710: 682c 2071 5f6d 7661 723d 302c 2073 6e5f  h, q_mvar=0, sn_
+0000d720: 6d76 613d 6e61 6e2c 2073 6f63 5f70 6572  mva=nan, soc_per
+0000d730: 6365 6e74 3d6e 616e 2c20 6d69 6e5f 655f  cent=nan, min_e_
+0000d740: 6d77 683d 302e 302c 0d0a 2020 2020 2020  mwh=0.0,..      
+0000d750: 2020 2020 2020 2020 2020 2020 206e 616d               nam
+0000d760: 653d 4e6f 6e65 2c20 696e 6465 783d 4e6f  e=None, index=No
+0000d770: 6e65 2c20 7363 616c 696e 673d 312e 2c20  ne, scaling=1., 
+0000d780: 7479 7065 3d4e 6f6e 652c 2069 6e5f 7365  type=None, in_se
+0000d790: 7276 6963 653d 5472 7565 2c20 6d61 785f  rvice=True, max_
+0000d7a0: 705f 6d77 3d6e 616e 2c0d 0a20 2020 2020  p_mw=nan,..     
+0000d7b0: 2020 2020 2020 2020 2020 2020 2020 6d69                mi
+0000d7c0: 6e5f 705f 6d77 3d6e 616e 2c20 6d61 785f  n_p_mw=nan, max_
+0000d7d0: 715f 6d76 6172 3d6e 616e 2c20 6d69 6e5f  q_mvar=nan, min_
+0000d7e0: 715f 6d76 6172 3d6e 616e 2c20 636f 6e74  q_mvar=nan, cont
+0000d7f0: 726f 6c6c 6162 6c65 3d6e 616e 293a 0d0a  rollable=nan):..
+0000d800: 2020 2020 2222 220d 0a20 2020 2041 6464      """..    Add
+0000d810: 7320 6120 7374 6f72 6167 6520 746f 2074  s a storage to t
+0000d820: 6865 206e 6574 776f 726b 2e0d 0a0d 0a20  he network..... 
+0000d830: 2020 2049 6e20 6f72 6465 7220 746f 2073     In order to s
+0000d840: 696d 756c 6174 6520 6120 7374 6f72 6167  imulate a storag
+0000d850: 6520 7379 7374 656d 2069 7420 6973 2070  e system it is p
+0000d860: 6f73 7369 626c 6520 746f 2075 7365 2073  ossible to use s
+0000d870: 6765 6e73 206f 7220 6c6f 6164 7320 746f  gens or loads to
+0000d880: 206d 6f64 656c 2074 6865 0d0a 2020 2020   model the..    
+0000d890: 6469 7363 6861 7267 696e 6720 6f72 2063  discharging or c
+0000d8a0: 6861 7267 696e 6720 7374 6174 652e 2054  harging state. T
+0000d8b0: 6865 2070 6f77 6572 206f 6620 6120 7374  he power of a st
+0000d8c0: 6f72 6167 6520 6361 6e20 6265 2070 6f73  orage can be pos
+0000d8d0: 6974 6976 6520 6f72 206e 6567 6174 6976  itive or negativ
+0000d8e0: 652c 2073 6f20 7468 6520 7573 650d 0a20  e, so the use.. 
+0000d8f0: 2020 206f 6620 6569 7468 6572 2061 2073     of either a s
+0000d900: 6765 6e20 6f72 2061 206c 6f61 6420 6973  gen or a load is
+0000d910: 2028 7065 7220 6465 6669 6e69 7469 6f6e   (per definition
+0000d920: 206f 6620 7468 6520 656c 656d 656e 7473   of the elements
+0000d930: 2920 6e6f 7420 636f 7272 6563 742e 0d0a  ) not correct...
+0000d940: 2020 2020 546f 206f 7665 7263 6f6d 6520      To overcome 
+0000d950: 7468 6973 2069 7373 7565 2c20 6120 7374  this issue, a st
+0000d960: 6f72 6167 6520 656c 656d 656e 7420 6361  orage element ca
+0000d970: 6e20 6265 2063 7265 6174 6564 2e0d 0a0d  n be created....
+0000d980: 0a20 2020 2041 7320 7061 6e64 6170 6f77  .    As pandapow
+0000d990: 6572 2069 7320 6e6f 7420 6120 7469 6d65  er is not a time
+0000d9a0: 2064 6570 656e 6465 6e64 2073 696d 756c   dependend simul
+0000d9b0: 6174 696f 6e20 746f 6f6c 2061 6e64 2074  ation tool and t
+0000d9c0: 6865 7265 2069 7320 6e6f 2074 696d 6520  here is no time 
+0000d9d0: 646f 6d61 696e 2070 6172 616d 6574 6572  domain parameter
+0000d9e0: 2069 6e0d 0a20 2020 2064 6566 6175 6c74   in..    default
+0000d9f0: 2070 6f77 6572 2066 6c6f 7720 6361 6c63   power flow calc
+0000da00: 756c 6174 696f 6e73 2c20 7468 6520 7374  ulations, the st
+0000da10: 6174 6520 6f66 2063 6861 7267 6520 2853  ate of charge (S
+0000da20: 4f43 2920 6973 206e 6f74 2075 7064 6174  OC) is not updat
+0000da30: 6564 2064 7572 696e 6720 616e 7920 706f  ed during any po
+0000da40: 7765 7220 666c 6f77 0d0a 2020 2020 6361  wer flow..    ca
+0000da50: 6c63 756c 6174 696f 6e2e 0d0a 2020 2020  lculation...    
+0000da60: 5468 6520 696d 706c 656d 656e 7461 7469  The implementati
+0000da70: 6f6e 206f 6620 656e 6572 6779 2063 6f6e  on of energy con
+0000da80: 7465 6e74 2072 656c 6174 6564 2070 6172  tent related par
+0000da90: 616d 6574 6572 7320 696e 2074 6865 2073  ameters in the s
+0000daa0: 746f 7261 6765 2065 6c65 6d65 6e74 2061  torage element a
+0000dab0: 6c6c 6f77 7320 746f 2063 7265 6174 650d  llows to create.
+0000dac0: 0a20 2020 2063 7573 746f 6d69 7a65 642c  .    customized,
+0000dad0: 2074 696d 6520 6465 7065 6e64 656e 6420   time dependend 
+0000dae0: 7369 6d75 6c61 7469 6f6e 7320 6279 2072  simulations by r
+0000daf0: 756e 6e69 6e67 2073 6576 6572 616c 2070  unning several p
+0000db00: 6f77 6572 2066 6c6f 7720 6361 6c63 756c  ower flow calcul
+0000db10: 6174 696f 6e73 2061 6e64 2075 7064 6174  ations and updat
+0000db20: 696e 670d 0a20 2020 2076 6172 6961 626c  ing..    variabl
+0000db30: 6573 206d 616e 7561 6c6c 792e 0d0a 0d0a  es manually.....
+0000db40: 2020 2020 494e 5055 543a 0d0a 2020 2020      INPUT:..    
+0000db50: 2020 2020 2a2a 6e65 742a 2a20 2d20 5468      **net** - Th
+0000db60: 6520 6e65 7420 7769 7468 696e 2074 6869  e net within thi
+0000db70: 7320 7374 6f72 6167 6520 7368 6f75 6c64  s storage should
+0000db80: 2062 6520 6372 6561 7465 640d 0a0d 0a20   be created.... 
+0000db90: 2020 2020 2020 202a 2a62 7573 2a2a 2028         **bus** (
+0000dba0: 696e 7429 202d 2054 6865 2062 7573 2069  int) - The bus i
+0000dbb0: 6420 746f 2077 6869 6368 2074 6865 2073  d to which the s
+0000dbc0: 746f 7261 6765 2069 7320 636f 6e6e 6563  torage is connec
+0000dbd0: 7465 640d 0a0d 0a20 2020 2020 2020 202a  ted....        *
+0000dbe0: 2a70 5f6d 772a 2a20 2866 6c6f 6174 2920  *p_mw** (float) 
+0000dbf0: 2d20 5468 6520 6d6f 6d65 6e74 6172 7920  - The momentary 
+0000dc00: 6163 7469 7665 2070 6f77 6572 206f 6620  active power of 
+0000dc10: 7468 6520 7374 6f72 6167 6520 5c0d 0a20  the storage \.. 
+0000dc20: 2020 2020 2020 2020 2020 2028 706f 7369             (posi
+0000dc30: 7469 7665 2066 6f72 2063 6861 7267 696e  tive for chargin
+0000dc40: 672c 206e 6567 6174 6976 6520 666f 7220  g, negative for 
+0000dc50: 6469 7363 6861 7267 696e 6729 0d0a 0d0a  discharging)....
+0000dc60: 2020 2020 2020 2020 2a2a 6d61 785f 655f          **max_e_
+0000dc70: 6d77 682a 2a20 2866 6c6f 6174 2920 2d20  mwh** (float) - 
+0000dc80: 5468 6520 6d61 7869 6d75 6d20 656e 6572  The maximum ener
+0000dc90: 6779 2063 6f6e 7465 6e74 206f 6620 7468  gy content of th
+0000dca0: 6520 7374 6f72 6167 6520 5c0d 0a20 2020  e storage \..   
+0000dcb0: 2020 2020 2020 2020 2028 6d61 7869 6d75           (maximu
+0000dcc0: 6d20 6368 6172 6765 206c 6576 656c 290d  m charge level).
+0000dcd0: 0a0d 0a20 2020 204f 5054 494f 4e41 4c3a  ...    OPTIONAL:
+0000dce0: 0d0a 2020 2020 2020 2020 2a2a 715f 6d76  ..        **q_mv
+0000dcf0: 6172 2a2a 2028 666c 6f61 742c 2064 6566  ar** (float, def
+0000dd00: 6175 6c74 2030 2920 2d20 5468 6520 7265  ault 0) - The re
+0000dd10: 6163 7469 7665 2070 6f77 6572 206f 6620  active power of 
+0000dd20: 7468 6520 7374 6f72 6167 650d 0a0d 0a20  the storage.... 
+0000dd30: 2020 2020 2020 202a 2a73 6e5f 6d76 612a         **sn_mva*
+0000dd40: 2a20 2866 6c6f 6174 2c20 6465 6661 756c  * (float, defaul
+0000dd50: 7420 4e6f 6e65 2920 2d20 4e6f 6d69 6e61  t None) - Nomina
+0000dd60: 6c20 706f 7765 7220 6f66 2074 6865 2073  l power of the s
+0000dd70: 746f 7261 6765 0d0a 0d0a 2020 2020 2020  torage....      
+0000dd80: 2020 2a2a 736f 635f 7065 7263 656e 742a    **soc_percent*
+0000dd90: 2a20 2866 6c6f 6174 2c20 4e61 4e29 202d  * (float, NaN) -
+0000dda0: 2054 6865 2073 7461 7465 206f 6620 6368   The state of ch
+0000ddb0: 6172 6765 206f 6620 7468 6520 7374 6f72  arge of the stor
+0000ddc0: 6167 650d 0a0d 0a20 2020 2020 2020 202a  age....        *
+0000ddd0: 2a6d 696e 5f65 5f6d 7768 2a2a 2028 666c  *min_e_mwh** (fl
+0000dde0: 6f61 742c 2030 2920 2d20 5468 6520 6d69  oat, 0) - The mi
+0000ddf0: 6e69 6d75 6d20 656e 6572 6779 2063 6f6e  nimum energy con
+0000de00: 7465 6e74 206f 6620 7468 6520 7374 6f72  tent of the stor
+0000de10: 6167 6520 5c0d 0a20 2020 2020 2020 2020  age \..         
+0000de20: 2020 2028 6d69 6e69 6d75 6d20 6368 6172     (minimum char
+0000de30: 6765 206c 6576 656c 290d 0a0d 0a20 2020  ge level)....   
+0000de40: 2020 2020 202a 2a6e 616d 652a 2a20 2873       **name** (s
+0000de50: 7472 696e 672c 2064 6566 6175 6c74 204e  tring, default N
+0000de60: 6f6e 6529 202d 2054 6865 206e 616d 6520  one) - The name 
+0000de70: 666f 7220 7468 6973 2073 746f 7261 6765  for this storage
+0000de80: 0d0a 0d0a 2020 2020 2020 2020 2a2a 696e  ....        **in
+0000de90: 6465 782a 2a20 2869 6e74 2c20 4e6f 6e65  dex** (int, None
+0000dea0: 2920 2d20 466f 7263 6520 6120 7370 6563  ) - Force a spec
+0000deb0: 6966 6965 6420 4944 2069 6620 6974 2069  ified ID if it i
+0000dec0: 7320 6176 6169 6c61 626c 652e 2049 6620  s available. If 
+0000ded0: 4e6f 6e65 2c20 7468 6520 696e 6465 7820  None, the index 
+0000dee0: 6f6e 6520 5c0d 0a20 2020 2020 2020 2020  one \..         
+0000def0: 2020 2068 6967 6865 7220 7468 616e 2074     higher than t
+0000df00: 6865 2068 6967 6865 7374 2061 6c72 6561  he highest alrea
+0000df10: 6479 2065 7869 7374 696e 6720 696e 6465  dy existing inde
+0000df20: 7820 6973 2073 656c 6563 7465 642e 0d0a  x is selected...
+0000df30: 0d0a 2020 2020 2020 2020 2a2a 7363 616c  ..        **scal
+0000df40: 696e 672a 2a20 2866 6c6f 6174 2c20 312e  ing** (float, 1.
+0000df50: 2920 2d20 416e 204f 5054 494f 4e41 4c20  ) - An OPTIONAL 
+0000df60: 7363 616c 696e 6720 6661 6374 6f72 2074  scaling factor t
+0000df70: 6f20 6265 2073 6574 2063 7573 746f 6d6c  o be set customl
+0000df80: 792e 0d0a 2020 2020 2020 2020 4d75 6c74  y...        Mult
+0000df90: 6970 6c79 7320 7769 7468 2070 5f6d 7720  iplys with p_mw 
+0000dfa0: 616e 6420 715f 6d76 6172 2e0d 0a0d 0a20  and q_mvar..... 
+0000dfb0: 2020 2020 2020 202a 2a74 7970 652a 2a20         **type** 
+0000dfc0: 2873 7472 696e 672c 204e 6f6e 6529 202d  (string, None) -
+0000dfd0: 2020 7479 7065 2076 6172 6961 626c 6520    type variable 
+0000dfe0: 746f 2063 6c61 7373 6966 7920 7468 6520  to classify the 
+0000dff0: 7374 6f72 6167 650d 0a0d 0a20 2020 2020  storage....     
+0000e000: 2020 202a 2a69 6e5f 7365 7276 6963 652a     **in_service*
+0000e010: 2a20 2862 6f6f 6c65 616e 2920 2d20 5472  * (boolean) - Tr
+0000e020: 7565 2066 6f72 2069 6e5f 7365 7276 6963  ue for in_servic
+0000e030: 6520 6f72 2046 616c 7365 2066 6f72 206f  e or False for o
+0000e040: 7574 206f 6620 7365 7276 6963 650d 0a0d  ut of service...
+0000e050: 0a20 2020 2020 2020 202a 2a6d 6178 5f70  .        **max_p
+0000e060: 5f6d 772a 2a20 2866 6c6f 6174 2c20 4e61  _mw** (float, Na
+0000e070: 4e29 202d 204d 6178 696d 756d 2061 6374  N) - Maximum act
+0000e080: 6976 6520 706f 7765 7220 696e 6a65 6374  ive power inject
+0000e090: 696f 6e20 2d20 6e65 6365 7373 6172 7920  ion - necessary 
+0000e0a0: 666f 7220 6120 5c0d 0a20 2020 2020 2020  for a \..       
+0000e0b0: 2020 2020 2063 6f6e 7472 6f6c 6c61 626c       controllabl
+0000e0c0: 6520 7374 6f72 6167 6520 696e 204f 5046  e storage in OPF
+0000e0d0: 0d0a 0d0a 2020 2020 2020 2020 2a2a 6d69  ....        **mi
+0000e0e0: 6e5f 705f 6d77 2a2a 2028 666c 6f61 742c  n_p_mw** (float,
+0000e0f0: 204e 614e 2920 2d20 4d69 6e69 6d75 6d20   NaN) - Minimum 
+0000e100: 6163 7469 7665 2070 6f77 6572 2069 6e6a  active power inj
+0000e110: 6563 7469 6f6e 202d 206e 6563 6573 7361  ection - necessa
+0000e120: 7279 2066 6f72 2061 205c 0d0a 2020 2020  ry for a \..    
+0000e130: 2020 2020 2020 2020 636f 6e74 726f 6c6c          controll
+0000e140: 6162 6c65 2073 746f 7261 6765 2069 6e20  able storage in 
+0000e150: 4f50 460d 0a0d 0a20 2020 2020 2020 202a  OPF....        *
+0000e160: 2a6d 6178 5f71 5f6d 7661 722a 2a20 2866  *max_q_mvar** (f
+0000e170: 6c6f 6174 2c20 4e61 4e29 202d 204d 6178  loat, NaN) - Max
+0000e180: 696d 756d 2072 6561 6374 6976 6520 706f  imum reactive po
+0000e190: 7765 7220 696e 6a65 6374 696f 6e20 2d20  wer injection - 
+0000e1a0: 6e65 6365 7373 6172 7920 666f 7220 6120  necessary for a 
+0000e1b0: 5c0d 0a20 2020 2020 2020 2020 2020 2063  \..            c
+0000e1c0: 6f6e 7472 6f6c 6c61 626c 6520 7374 6f72  ontrollable stor
+0000e1d0: 6167 6520 696e 204f 5046 0d0a 0d0a 2020  age in OPF....  
+0000e1e0: 2020 2020 2020 2a2a 6d69 6e5f 715f 6d76        **min_q_mv
+0000e1f0: 6172 2a2a 2028 666c 6f61 742c 204e 614e  ar** (float, NaN
+0000e200: 2920 2d20 4d69 6e69 6d75 6d20 7265 6163  ) - Minimum reac
+0000e210: 7469 7665 2070 6f77 6572 2069 6e6a 6563  tive power injec
+0000e220: 7469 6f6e 202d 206e 6563 6573 7361 7279  tion - necessary
+0000e230: 2066 6f72 2061 205c 0d0a 2020 2020 2020   for a \..      
+0000e240: 2020 2020 2020 636f 6e74 726f 6c6c 6162        controllab
+0000e250: 6c65 2073 746f 7261 6765 2069 6e20 4f50  le storage in OP
+0000e260: 460d 0a0d 0a20 2020 2020 2020 202a 2a63  F....        **c
+0000e270: 6f6e 7472 6f6c 6c61 626c 652a 2a20 2862  ontrollable** (b
+0000e280: 6f6f 6c2c 204e 614e 2920 2d20 5768 6574  ool, NaN) - Whet
+0000e290: 6865 7220 7468 6973 2073 746f 7261 6765  her this storage
+0000e2a0: 2069 7320 636f 6e74 726f 6c6c 6162 6c65   is controllable
+0000e2b0: 2062 7920 7468 6520 6f70 7469 6d61 6c20   by the optimal 
+0000e2c0: 5c0d 0a20 2020 2020 2020 2020 2020 2070  \..            p
+0000e2d0: 6f77 6572 666c 6f77 3b20 6465 6661 756c  owerflow; defaul
+0000e2e0: 7473 2074 6f20 4661 6c73 6520 6966 2022  ts to False if "
+0000e2f0: 636f 6e74 726f 6c6c 6162 6c65 2220 636f  controllable" co
+0000e300: 6c75 6d6e 2065 7869 7374 7320 696e 2044  lumn exists in D
+0000e310: 6174 6146 7261 6d65 0d0a 0d0a 2020 2020  ataFrame....    
+0000e320: 4f55 5450 5554 3a0d 0a20 2020 2020 2020  OUTPUT:..       
+0000e330: 202a 2a69 6e64 6578 2a2a 2028 696e 7429   **index** (int)
+0000e340: 202d 2054 6865 2075 6e69 7175 6520 4944   - The unique ID
+0000e350: 206f 6620 7468 6520 6372 6561 7465 6420   of the created 
+0000e360: 7374 6f72 6167 650d 0a0d 0a20 2020 2045  storage....    E
+0000e370: 5841 4d50 4c45 3a0d 0a20 2020 2020 2020  XAMPLE:..       
+0000e380: 2063 7265 6174 655f 7374 6f72 6167 6528   create_storage(
+0000e390: 6e65 742c 2031 2c20 705f 6d77 203d 202d  net, 1, p_mw = -
+0000e3a0: 3330 2c20 6d61 785f 655f 6d77 6820 3d20  30, max_e_mwh = 
+0000e3b0: 3630 2c20 736f 635f 7065 7263 656e 7420  60, soc_percent 
+0000e3c0: 3d20 312e 302c 206d 696e 5f65 5f6d 7768  = 1.0, min_e_mwh
+0000e3d0: 203d 2035 290d 0a0d 0a20 2020 2022 2222   = 5)....    """
+0000e3e0: 0d0a 2020 2020 5f63 6865 636b 5f6e 6f64  ..    _check_nod
+0000e3f0: 655f 656c 656d 656e 7428 6e65 742c 2062  e_element(net, b
+0000e400: 7573 290d 0a0d 0a20 2020 2069 6e64 6578  us)....    index
+0000e410: 203d 205f 6765 745f 696e 6465 785f 7769   = _get_index_wi
+0000e420: 7468 5f63 6865 636b 286e 6574 2c20 2273  th_check(net, "s
+0000e430: 746f 7261 6765 222c 2069 6e64 6578 290d  torage", index).
+0000e440: 0a0d 0a20 2020 2065 6e74 7269 6573 203d  ...    entries =
+0000e450: 2064 6963 7428 7a69 7028 5b22 6e61 6d65   dict(zip(["name
+0000e460: 222c 2022 6275 7322 2c20 2270 5f6d 7722  ", "bus", "p_mw"
+0000e470: 2c20 2271 5f6d 7661 7222 2c20 2273 6e5f  , "q_mvar", "sn_
+0000e480: 6d76 6122 2c20 2273 6361 6c69 6e67 222c  mva", "scaling",
+0000e490: 2022 736f 635f 7065 7263 656e 7422 2c0d   "soc_percent",.
+0000e4a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000e4b0: 2020 2020 2020 2020 2022 6d69 6e5f 655f           "min_e_
+0000e4c0: 6d77 6822 2c20 226d 6178 5f65 5f6d 7768  mwh", "max_e_mwh
+0000e4d0: 222c 2022 696e 5f73 6572 7669 6365 222c  ", "in_service",
+0000e4e0: 2022 7479 7065 225d 2c0d 0a20 2020 2020   "type"],..     
+0000e4f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000e500: 2020 5b6e 616d 652c 2062 7573 2c20 705f    [name, bus, p_
+0000e510: 6d77 2c20 715f 6d76 6172 2c20 736e 5f6d  mw, q_mvar, sn_m
+0000e520: 7661 2c20 7363 616c 696e 672c 2073 6f63  va, scaling, soc
+0000e530: 5f70 6572 6365 6e74 2c20 6d69 6e5f 655f  _percent, min_e_
+0000e540: 6d77 682c 206d 6178 5f65 5f6d 7768 2c0d  mwh, max_e_mwh,.
+0000e550: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000e560: 2020 2020 2020 2020 2062 6f6f 6c28 696e           bool(in
+0000e570: 5f73 6572 7669 6365 292c 2074 7970 655d  _service), type]
+0000e580: 2929 0d0a 0d0a 2020 2020 5f73 6574 5f65  ))....    _set_e
+0000e590: 6e74 7269 6573 286e 6574 2c20 2273 746f  ntries(net, "sto
+0000e5a0: 7261 6765 222c 2069 6e64 6578 2c20 5472  rage", index, Tr
+0000e5b0: 7565 2c20 2a2a 656e 7472 6965 7329 0d0a  ue, **entries)..
+0000e5c0: 0d0a 2020 2020 2320 6368 6563 6b20 666f  ..    # check fo
+0000e5d0: 7220 4f50 4620 7061 7261 6d65 7465 7273  r OPF parameters
+0000e5e0: 2061 6e64 2061 6464 2063 6f6c 756d 6e73   and add columns
+0000e5f0: 2074 6f20 6e65 7477 6f72 6b20 7461 626c   to network tabl
+0000e600: 650d 0a20 2020 205f 6372 6561 7465 5f63  e..    _create_c
+0000e610: 6f6c 756d 6e5f 616e 645f 7365 745f 7661  olumn_and_set_va
+0000e620: 6c75 6528 6e65 742c 2069 6e64 6578 2c20  lue(net, index, 
+0000e630: 6d69 6e5f 705f 6d77 2c20 226d 696e 5f70  min_p_mw, "min_p
+0000e640: 5f6d 7722 2c20 2273 746f 7261 6765 2229  _mw", "storage")
+0000e650: 0d0a 2020 2020 5f63 7265 6174 655f 636f  ..    _create_co
+0000e660: 6c75 6d6e 5f61 6e64 5f73 6574 5f76 616c  lumn_and_set_val
+0000e670: 7565 286e 6574 2c20 696e 6465 782c 206d  ue(net, index, m
+0000e680: 6178 5f70 5f6d 772c 2022 6d61 785f 705f  ax_p_mw, "max_p_
+0000e690: 6d77 222c 2022 7374 6f72 6167 6522 290d  mw", "storage").
+0000e6a0: 0a20 2020 205f 6372 6561 7465 5f63 6f6c  .    _create_col
+0000e6b0: 756d 6e5f 616e 645f 7365 745f 7661 6c75  umn_and_set_valu
+0000e6c0: 6528 6e65 742c 2069 6e64 6578 2c20 6d69  e(net, index, mi
+0000e6d0: 6e5f 715f 6d76 6172 2c20 226d 696e 5f71  n_q_mvar, "min_q
+0000e6e0: 5f6d 7661 7222 2c20 2273 746f 7261 6765  _mvar", "storage
+0000e6f0: 2229 0d0a 2020 2020 5f63 7265 6174 655f  ")..    _create_
+0000e700: 636f 6c75 6d6e 5f61 6e64 5f73 6574 5f76  column_and_set_v
+0000e710: 616c 7565 286e 6574 2c20 696e 6465 782c  alue(net, index,
+0000e720: 206d 6178 5f71 5f6d 7661 722c 2022 6d61   max_q_mvar, "ma
+0000e730: 785f 715f 6d76 6172 222c 2022 7374 6f72  x_q_mvar", "stor
+0000e740: 6167 6522 290d 0a20 2020 205f 6372 6561  age")..    _crea
+0000e750: 7465 5f63 6f6c 756d 6e5f 616e 645f 7365  te_column_and_se
+0000e760: 745f 7661 6c75 6528 6e65 742c 2069 6e64  t_value(net, ind
+0000e770: 6578 2c20 636f 6e74 726f 6c6c 6162 6c65  ex, controllable
+0000e780: 2c20 2263 6f6e 7472 6f6c 6c61 626c 6522  , "controllable"
+0000e790: 2c20 2273 746f 7261 6765 222c 0d0a 2020  , "storage",..  
 0000e7a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000e7b0: 6474 7970 3d62 6f6f 6c5f 2c20 6465 6661  dtyp=bool_, defa
-0000e7c0: 756c 745f 7661 6c3d 4661 6c73 652c 2064  ult_val=False, d
-0000e7d0: 6566 6175 6c74 5f66 6f72 5f6e 616e 3d54  efault_for_nan=T
-0000e7e0: 7275 6529 0d0a 0d0a 2020 2020 7265 7475  rue)....    retu
-0000e7f0: 726e 2069 6e64 6578 0d0a 0d0a 0d0a 6465  rn index......de
-0000e800: 6620 6372 6561 7465 5f67 656e 286e 6574  f create_gen(net
-0000e810: 2c20 6275 732c 2070 5f6d 772c 2076 6d5f  , bus, p_mw, vm_
-0000e820: 7075 3d31 2e2c 2073 6e5f 6d76 613d 6e61  pu=1., sn_mva=na
-0000e830: 6e2c 206e 616d 653d 4e6f 6e65 2c20 696e  n, name=None, in
-0000e840: 6465 783d 4e6f 6e65 2c20 6d61 785f 715f  dex=None, max_q_
-0000e850: 6d76 6172 3d6e 616e 2c0d 0a20 2020 2020  mvar=nan,..     
-0000e860: 2020 2020 2020 2020 2020 6d69 6e5f 715f            min_q_
-0000e870: 6d76 6172 3d6e 616e 2c20 6d69 6e5f 705f  mvar=nan, min_p_
-0000e880: 6d77 3d6e 616e 2c20 6d61 785f 705f 6d77  mw=nan, max_p_mw
-0000e890: 3d6e 616e 2c20 6d69 6e5f 766d 5f70 753d  =nan, min_vm_pu=
-0000e8a0: 6e61 6e2c 206d 6178 5f76 6d5f 7075 3d6e  nan, max_vm_pu=n
-0000e8b0: 616e 2c0d 0a20 2020 2020 2020 2020 2020  an,..           
-0000e8c0: 2020 2020 7363 616c 696e 673d 312e 2c20      scaling=1., 
-0000e8d0: 7479 7065 3d4e 6f6e 652c 2073 6c61 636b  type=None, slack
-0000e8e0: 3d46 616c 7365 2c20 636f 6e74 726f 6c6c  =False, controll
-0000e8f0: 6162 6c65 3d6e 616e 2c20 766e 5f6b 763d  able=nan, vn_kv=
-0000e900: 6e61 6e2c 0d0a 2020 2020 2020 2020 2020  nan,..          
-0000e910: 2020 2020 2078 6473 735f 7075 3d6e 616e       xdss_pu=nan
-0000e920: 2c20 7264 7373 5f6f 686d 3d6e 616e 2c20  , rdss_ohm=nan, 
-0000e930: 636f 735f 7068 693d 6e61 6e2c 2070 675f  cos_phi=nan, pg_
-0000e940: 7065 7263 656e 743d 6e61 6e2c 2070 6f77  percent=nan, pow
-0000e950: 6572 5f73 7461 7469 6f6e 5f74 7261 666f  er_station_trafo
-0000e960: 3d4e 6f6e 652c 0d0a 2020 2020 2020 2020  =None,..        
-0000e970: 2020 2020 2020 2069 6e5f 7365 7276 6963         in_servic
-0000e980: 653d 5472 7565 2c20 736c 6163 6b5f 7765  e=True, slack_we
-0000e990: 6967 6874 3d30 2e30 293a 0d0a 2020 2020  ight=0.0):..    
-0000e9a0: 2222 220d 0a20 2020 2041 6464 7320 6120  """..    Adds a 
-0000e9b0: 6765 6e65 7261 746f 7220 746f 2074 6865  generator to the
-0000e9c0: 206e 6574 776f 726b 2e0d 0a0d 0a20 2020   network.....   
-0000e9d0: 2047 656e 6572 6174 6f72 7320 6172 6520   Generators are 
-0000e9e0: 616c 7761 7973 206d 6f64 656c 6c65 6420  always modelled 
-0000e9f0: 6173 2076 6f6c 7461 6765 2063 6f6e 7472  as voltage contr
-0000ea00: 6f6c 6c65 6420 5056 206e 6f64 6573 2c20  olled PV nodes, 
-0000ea10: 7768 6963 6820 6973 2077 6879 2074 6865  which is why the
-0000ea20: 2069 6e70 7574 2070 6172 616d 6574 6572   input parameter
-0000ea30: 0d0a 2020 2020 6973 2061 6374 6976 6520  ..    is active 
-0000ea40: 706f 7765 7220 616e 6420 6120 766f 6c74  power and a volt
-0000ea50: 6167 6520 7365 7420 706f 696e 742e 2049  age set point. I
-0000ea60: 6620 796f 7520 7761 6e74 2074 6f20 6d6f  f you want to mo
-0000ea70: 6465 6c20 6120 6765 6e65 7261 746f 7220  del a generator 
-0000ea80: 6173 2050 5120 6c6f 6164 2077 6974 6820  as PQ load with 
-0000ea90: 6669 7865 640d 0a20 2020 2072 6561 6374  fixed..    react
-0000eaa0: 6976 6520 706f 7765 7220 616e 6420 7661  ive power and va
-0000eab0: 7269 6162 6c65 2076 6f6c 7461 6765 2c20  riable voltage, 
-0000eac0: 706c 6561 7365 2075 7365 2061 2073 7461  please use a sta
-0000ead0: 7469 6320 6765 6e65 7261 746f 7220 696e  tic generator in
-0000eae0: 7374 6561 642e 0d0a 0d0a 2020 2020 494e  stead.....    IN
-0000eaf0: 5055 543a 0d0a 2020 2020 2020 2020 2a2a  PUT:..        **
-0000eb00: 6e65 742a 2a20 2d20 5468 6520 6e65 7420  net** - The net 
-0000eb10: 7769 7468 696e 2074 6869 7320 6765 6e65  within this gene
-0000eb20: 7261 746f 7220 7368 6f75 6c64 2062 6520  rator should be 
-0000eb30: 6372 6561 7465 640d 0a0d 0a20 2020 2020  created....     
-0000eb40: 2020 202a 2a62 7573 2a2a 2028 696e 7429     **bus** (int)
-0000eb50: 202d 2054 6865 2062 7573 2069 6420 746f   - The bus id to
-0000eb60: 2077 6869 6368 2074 6865 2067 656e 6572   which the gener
-0000eb70: 6174 6f72 2069 7320 636f 6e6e 6563 7465  ator is connecte
-0000eb80: 640d 0a0d 0a20 2020 204f 5054 494f 4e41  d....    OPTIONA
-0000eb90: 4c3a 0d0a 2020 2020 2020 2020 2a2a 705f  L:..        **p_
-0000eba0: 6d77 2a2a 2028 666c 6f61 742c 2064 6566  mw** (float, def
-0000ebb0: 6175 6c74 2030 2920 2d20 5468 6520 6163  ault 0) - The ac
-0000ebc0: 7469 7665 2070 6f77 6572 206f 6620 7468  tive power of th
-0000ebd0: 6520 6765 6e65 7261 746f 7220 2870 6f73  e generator (pos
-0000ebe0: 6974 6976 6520 666f 7220 6765 6e65 7261  itive for genera
-0000ebf0: 7469 6f6e 2129 0d0a 0d0a 2020 2020 2020  tion!)....      
-0000ec00: 2020 2a2a 766d 5f70 752a 2a20 2866 6c6f    **vm_pu** (flo
-0000ec10: 6174 2c20 6465 6661 756c 7420 3029 202d  at, default 0) -
-0000ec20: 2054 6865 2076 6f6c 7461 6765 2073 6574   The voltage set
-0000ec30: 2070 6f69 6e74 206f 6620 7468 6520 6765   point of the ge
-0000ec40: 6e65 7261 746f 722e 0d0a 0d0a 2020 2020  nerator.....    
-0000ec50: 2020 2020 2a2a 736e 5f6d 7661 2a2a 2028      **sn_mva** (
-0000ec60: 666c 6f61 742c 204e 6f6e 6529 202d 204e  float, None) - N
-0000ec70: 6f6d 696e 616c 2070 6f77 6572 206f 6620  ominal power of 
-0000ec80: 7468 6520 6765 6e65 7261 746f 720d 0a0d  the generator...
-0000ec90: 0a20 2020 2020 2020 202a 2a6e 616d 652a  .        **name*
-0000eca0: 2a20 2873 7472 696e 672c 204e 6f6e 6529  * (string, None)
-0000ecb0: 202d 2054 6865 206e 616d 6520 666f 7220   - The name for 
-0000ecc0: 7468 6973 2067 656e 6572 6174 6f72 0d0a  this generator..
-0000ecd0: 0d0a 2020 2020 2020 2020 2a2a 696e 6465  ..        **inde
-0000ece0: 782a 2a20 2869 6e74 2c20 4e6f 6e65 2920  x** (int, None) 
-0000ecf0: 2d20 466f 7263 6520 6120 7370 6563 6966  - Force a specif
-0000ed00: 6965 6420 4944 2069 6620 6974 2069 7320  ied ID if it is 
-0000ed10: 6176 6169 6c61 626c 652e 2049 6620 4e6f  available. If No
-0000ed20: 6e65 2c20 7468 6520 696e 6465 7820 6f6e  ne, the index on
-0000ed30: 6520 5c0d 0a20 2020 2020 2020 2020 2020  e \..           
-0000ed40: 2068 6967 6865 7220 7468 616e 2074 6865   higher than the
-0000ed50: 2068 6967 6865 7374 2061 6c72 6561 6479   highest already
-0000ed60: 2065 7869 7374 696e 6720 696e 6465 7820   existing index 
-0000ed70: 6973 2073 656c 6563 7465 642e 0d0a 0d0a  is selected.....
-0000ed80: 2020 2020 2020 2020 2a2a 7363 616c 696e          **scalin
-0000ed90: 672a 2a20 2866 6c6f 6174 2c20 312e 3029  g** (float, 1.0)
-0000eda0: 202d 2073 6361 6c69 6e67 2066 6163 746f   - scaling facto
-0000edb0: 7220 7768 6963 6820 666f 7220 7468 6520  r which for the 
-0000edc0: 6163 7469 7665 2070 6f77 6572 206f 6620  active power of 
-0000edd0: 7468 6520 6765 6e65 7261 746f 720d 0a0d  the generator...
-0000ede0: 0a20 2020 2020 2020 202a 2a74 7970 652a  .        **type*
-0000edf0: 2a20 2873 7472 696e 672c 204e 6f6e 6529  * (string, None)
-0000ee00: 202d 2074 7970 6520 7661 7269 6162 6c65   - type variable
-0000ee10: 2074 6f20 636c 6173 7369 6679 2067 656e   to classify gen
-0000ee20: 6572 6174 6f72 730d 0a0d 0a20 2020 2020  erators....     
-0000ee30: 2020 202a 2a63 6f6e 7472 6f6c 6c61 626c     **controllabl
-0000ee40: 652a 2a20 2862 6f6f 6c2c 204e 614e 2920  e** (bool, NaN) 
-0000ee50: 2d20 5472 7565 3a20 705f 6d77 2c20 715f  - True: p_mw, q_
-0000ee60: 6d76 6172 2061 6e64 2076 6d5f 7075 206c  mvar and vm_pu l
-0000ee70: 696d 6974 7320 6172 6520 656e 666f 7263  imits are enforc
-0000ee80: 6564 2066 6f72 2074 6869 7320 5c0d 0a20  ed for this \.. 
-0000ee90: 2020 2020 2020 2020 2020 2020 2020 2067                 g
-0000eea0: 656e 6572 6174 6f72 2069 6e20 4f50 460d  enerator in OPF.
-0000eeb0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000eec0: 2046 616c 7365 3a20 705f 6d77 2061 6e64   False: p_mw and
-0000eed0: 2076 6d5f 7075 2073 6574 706f 696e 7473   vm_pu setpoints
-0000eee0: 2061 7265 2065 6e66 6f72 6365 6420 616e   are enforced an
-0000eef0: 6420 2a6c 696d 6974 7320 6172 6520 6967  d *limits are ig
-0000ef00: 6e6f 7265 642a 2e0d 0a20 2020 2020 2020  nored*...       
-0000ef10: 2020 2020 2020 2020 2064 6566 6175 6c74           default
-0000ef20: 7320 746f 2054 7275 6520 6966 2022 636f  s to True if "co
-0000ef30: 6e74 726f 6c6c 6162 6c65 2220 636f 6c75  ntrollable" colu
-0000ef40: 6d6e 2065 7869 7374 7320 696e 2044 6174  mn exists in Dat
-0000ef50: 6146 7261 6d65 0d0a 0d0a 2020 2020 2020  aFrame....      
-0000ef60: 2020 2a2a 736c 6163 6b5f 7765 6967 6874    **slack_weight
-0000ef70: 2a2a 2028 666c 6f61 742c 2064 6566 6175  ** (float, defau
-0000ef80: 6c74 2030 2e30 2920 2d20 436f 6e74 7269  lt 0.0) - Contri
-0000ef90: 6275 7469 6f6e 2066 6163 746f 7220 666f  bution factor fo
-0000efa0: 7220 6469 7374 7269 6275 7465 6420 736c  r distributed sl
-0000efb0: 6163 6b20 706f 7765 720d 0a20 2020 2020  ack power..     
-0000efc0: 2020 2066 6c6f 7720 6361 6c63 756c 6174     flow calculat
-0000efd0: 696f 6e20 2861 6374 6976 6520 706f 7765  ion (active powe
-0000efe0: 7220 6261 6c61 6e63 696e 6729 0d0a 0d0a  r balancing)....
-0000eff0: 2020 2020 2020 2020 706f 7765 7266 6c6f          powerflo
-0000f000: 770d 0a0d 0a20 2020 2020 2020 202a 2a76  w....        **v
-0000f010: 6e5f 6b76 2a2a 2028 666c 6f61 742c 204e  n_kv** (float, N
-0000f020: 614e 2920 2d20 5261 7465 6420 766f 6c74  aN) - Rated volt
-0000f030: 6167 6520 6f66 2074 6865 2067 656e 6572  age of the gener
-0000f040: 6174 6f72 2066 6f72 2073 686f 7274 2d63  ator for short-c
-0000f050: 6972 6375 6974 2063 616c 6375 6c61 7469  ircuit calculati
-0000f060: 6f6e 0d0a 0d0a 2020 2020 2020 2020 2a2a  on....        **
-0000f070: 7864 7373 5f70 752a 2a20 2866 6c6f 6174  xdss_pu** (float
-0000f080: 2c20 4e61 4e29 202d 2053 7562 7472 616e  , NaN) - Subtran
-0000f090: 7369 656e 7420 6765 6e65 7261 746f 7220  sient generator 
-0000f0a0: 7265 6163 7461 6e63 6520 666f 7220 7368  reactance for sh
-0000f0b0: 6f72 742d 6369 7263 7569 7420 6361 6c63  ort-circuit calc
-0000f0c0: 756c 6174 696f 6e0d 0a0d 0a20 2020 2020  ulation....     
-0000f0d0: 2020 202a 2a72 6473 735f 6f68 6d2a 2a20     **rdss_ohm** 
-0000f0e0: 2866 6c6f 6174 2c20 4e61 4e29 202d 2053  (float, NaN) - S
-0000f0f0: 7562 7472 616e 7369 656e 7420 6765 6e65  ubtransient gene
-0000f100: 7261 746f 7220 7265 7369 7374 616e 6365  rator resistance
-0000f110: 2066 6f72 2073 686f 7274 2d63 6972 6375   for short-circu
-0000f120: 6974 2063 616c 6375 6c61 7469 6f6e 0d0a  it calculation..
-0000f130: 0d0a 2020 2020 2020 2020 2a2a 636f 735f  ..        **cos_
-0000f140: 7068 692a 2a20 2866 6c6f 6174 2c20 4e61  phi** (float, Na
-0000f150: 4e29 202d 2052 6174 6564 2063 6f73 696e  N) - Rated cosin
-0000f160: 6520 7068 6920 6f66 2074 6865 2067 656e  e phi of the gen
-0000f170: 6572 6174 6f72 2066 6f72 2073 686f 7274  erator for short
-0000f180: 2d63 6972 6375 6974 2063 616c 6375 6c61  -circuit calcula
-0000f190: 7469 6f6e 0d0a 0d0a 2020 2020 2020 2020  tion....        
-0000f1a0: 2a2a 7067 5f70 6572 6365 6e74 2a2a 2028  **pg_percent** (
-0000f1b0: 666c 6f61 742c 204e 614e 2920 2d20 5261  float, NaN) - Ra
-0000f1c0: 7465 6420 7067 2028 766f 6c74 6167 6520  ted pg (voltage 
-0000f1d0: 636f 6e74 726f 6c20 7261 6e67 6529 206f  control range) o
-0000f1e0: 6620 7468 6520 6765 6e65 7261 746f 7220  f the generator 
-0000f1f0: 666f 720d 0a20 2020 2020 2020 2073 686f  for..        sho
-0000f200: 7274 2d63 6972 6375 6974 2063 616c 6375  rt-circuit calcu
-0000f210: 6c61 7469 6f6e 0d0a 0d0a 2020 2020 2020  lation....      
-0000f220: 2020 2a2a 706f 7765 725f 7374 6174 696f    **power_statio
-0000f230: 6e5f 7472 6166 6f2a 2a20 2869 6e74 2c20  n_trafo** (int, 
-0000f240: 4e6f 6e65 2920 2d20 496e 6465 7820 6f66  None) - Index of
-0000f250: 2074 6865 2070 6f77 6572 2073 7461 7469   the power stati
-0000f260: 6f6e 2074 7261 6e73 666f 726d 6572 2066  on transformer f
-0000f270: 6f72 0d0a 2020 2020 2020 2020 7368 6f72  or..        shor
-0000f280: 742d 6369 7263 7569 7420 6361 6c63 756c  t-circuit calcul
-0000f290: 6174 696f 6e0d 0a0d 0a20 2020 2020 2020  ation....       
-0000f2a0: 202a 2a69 6e5f 7365 7276 6963 652a 2a20   **in_service** 
-0000f2b0: 2862 6f6f 6c2c 2054 7275 6529 202d 2054  (bool, True) - T
-0000f2c0: 7275 6520 666f 7220 696e 5f73 6572 7669  rue for in_servi
-0000f2d0: 6365 206f 7220 4661 6c73 6520 666f 7220  ce or False for 
-0000f2e0: 6f75 7420 6f66 2073 6572 7669 6365 0d0a  out of service..
-0000f2f0: 0d0a 2020 2020 2020 2020 2a2a 6d61 785f  ..        **max_
-0000f300: 705f 6d77 2a2a 2028 666c 6f61 742c 2064  p_mw** (float, d
-0000f310: 6566 6175 6c74 204e 614e 2920 2d20 4d61  efault NaN) - Ma
-0000f320: 7869 6d75 6d20 6163 7469 7665 2070 6f77  ximum active pow
-0000f330: 6572 2069 6e6a 6563 7469 6f6e 202d 206e  er injection - n
-0000f340: 6563 6573 7361 7279 2066 6f72 204f 5046  ecessary for OPF
-0000f350: 0d0a 0d0a 2020 2020 2020 2020 2a2a 6d69  ....        **mi
-0000f360: 6e5f 705f 6d77 2a2a 2028 666c 6f61 742c  n_p_mw** (float,
-0000f370: 2064 6566 6175 6c74 204e 614e 2920 2d20   default NaN) - 
-0000f380: 4d69 6e69 6d75 6d20 6163 7469 7665 2070  Minimum active p
-0000f390: 6f77 6572 2069 6e6a 6563 7469 6f6e 202d  ower injection -
-0000f3a0: 206e 6563 6573 7361 7279 2066 6f72 204f   necessary for O
-0000f3b0: 5046 0d0a 0d0a 2020 2020 2020 2020 2a2a  PF....        **
-0000f3c0: 6d61 785f 715f 6d76 6172 2a2a 2028 666c  max_q_mvar** (fl
-0000f3d0: 6f61 742c 2064 6566 6175 6c74 204e 614e  oat, default NaN
-0000f3e0: 2920 2d20 4d61 7869 6d75 6d20 7265 6163  ) - Maximum reac
-0000f3f0: 7469 7665 2070 6f77 6572 2069 6e6a 6563  tive power injec
-0000f400: 7469 6f6e 202d 206e 6563 6573 7361 7279  tion - necessary
-0000f410: 2066 6f72 204f 5046 0d0a 0d0a 2020 2020   for OPF....    
-0000f420: 2020 2020 2a2a 6d69 6e5f 715f 6d76 6172      **min_q_mvar
-0000f430: 2a2a 2028 666c 6f61 742c 2064 6566 6175  ** (float, defau
-0000f440: 6c74 204e 614e 2920 2d20 4d69 6e69 6d75  lt NaN) - Minimu
-0000f450: 6d20 7265 6163 7469 7665 2070 6f77 6572  m reactive power
-0000f460: 2069 6e6a 6563 7469 6f6e 202d 206e 6563   injection - nec
-0000f470: 6573 7361 7279 2066 6f72 204f 5046 0d0a  essary for OPF..
-0000f480: 0d0a 2020 2020 2020 2020 2a2a 6d69 6e5f  ..        **min_
-0000f490: 766d 5f70 752a 2a20 2866 6c6f 6174 2c20  vm_pu** (float, 
-0000f4a0: 6465 6661 756c 7420 4e61 4e29 202d 204d  default NaN) - M
-0000f4b0: 696e 696d 756d 2076 6f6c 7461 6765 206d  inimum voltage m
-0000f4c0: 6167 6e69 7475 6465 2e20 4966 206e 6f74  agnitude. If not
-0000f4d0: 2073 6574 2074 6865 2062 7573 2076 6f6c   set the bus vol
-0000f4e0: 7461 6765 205c 0d0a 2020 2020 2020 2020  tage \..        
-0000f4f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000e7b0: 2020 2020 2020 2020 2020 2020 2020 2064                 d
+0000e7c0: 7479 703d 626f 6f6c 5f2c 2064 6566 6175  typ=bool_, defau
+0000e7d0: 6c74 5f76 616c 3d46 616c 7365 2c20 6465  lt_val=False, de
+0000e7e0: 6661 756c 745f 666f 725f 6e61 6e3d 5472  fault_for_nan=Tr
+0000e7f0: 7565 290d 0a0d 0a20 2020 2072 6574 7572  ue)....    retur
+0000e800: 6e20 696e 6465 780d 0a0d 0a0d 0a64 6566  n index......def
+0000e810: 2063 7265 6174 655f 6765 6e28 6e65 742c   create_gen(net,
+0000e820: 2062 7573 2c20 705f 6d77 2c20 766d 5f70   bus, p_mw, vm_p
+0000e830: 753d 312e 2c20 736e 5f6d 7661 3d6e 616e  u=1., sn_mva=nan
+0000e840: 2c20 6e61 6d65 3d4e 6f6e 652c 2069 6e64  , name=None, ind
+0000e850: 6578 3d4e 6f6e 652c 206d 6178 5f71 5f6d  ex=None, max_q_m
+0000e860: 7661 723d 6e61 6e2c 0d0a 2020 2020 2020  var=nan,..      
+0000e870: 2020 2020 2020 2020 206d 696e 5f71 5f6d           min_q_m
+0000e880: 7661 723d 6e61 6e2c 206d 696e 5f70 5f6d  var=nan, min_p_m
+0000e890: 773d 6e61 6e2c 206d 6178 5f70 5f6d 773d  w=nan, max_p_mw=
+0000e8a0: 6e61 6e2c 206d 696e 5f76 6d5f 7075 3d6e  nan, min_vm_pu=n
+0000e8b0: 616e 2c20 6d61 785f 766d 5f70 753d 6e61  an, max_vm_pu=na
+0000e8c0: 6e2c 0d0a 2020 2020 2020 2020 2020 2020  n,..            
+0000e8d0: 2020 2073 6361 6c69 6e67 3d31 2e2c 2074     scaling=1., t
+0000e8e0: 7970 653d 4e6f 6e65 2c20 736c 6163 6b3d  ype=None, slack=
+0000e8f0: 4661 6c73 652c 2063 6f6e 7472 6f6c 6c61  False, controlla
+0000e900: 626c 653d 6e61 6e2c 2076 6e5f 6b76 3d6e  ble=nan, vn_kv=n
+0000e910: 616e 2c0d 0a20 2020 2020 2020 2020 2020  an,..           
+0000e920: 2020 2020 7864 7373 5f70 753d 6e61 6e2c      xdss_pu=nan,
+0000e930: 2072 6473 735f 6f68 6d3d 6e61 6e2c 2063   rdss_ohm=nan, c
+0000e940: 6f73 5f70 6869 3d6e 616e 2c20 7067 5f70  os_phi=nan, pg_p
+0000e950: 6572 6365 6e74 3d6e 616e 2c20 706f 7765  ercent=nan, powe
+0000e960: 725f 7374 6174 696f 6e5f 7472 6166 6f3d  r_station_trafo=
+0000e970: 4e6f 6e65 2c0d 0a20 2020 2020 2020 2020  None,..         
+0000e980: 2020 2020 2020 696e 5f73 6572 7669 6365        in_service
+0000e990: 3d54 7275 652c 2073 6c61 636b 5f77 6569  =True, slack_wei
+0000e9a0: 6768 743d 302e 3029 3a0d 0a20 2020 2022  ght=0.0):..    "
+0000e9b0: 2222 0d0a 2020 2020 4164 6473 2061 2067  ""..    Adds a g
+0000e9c0: 656e 6572 6174 6f72 2074 6f20 7468 6520  enerator to the 
+0000e9d0: 6e65 7477 6f72 6b2e 0d0a 0d0a 2020 2020  network.....    
+0000e9e0: 4765 6e65 7261 746f 7273 2061 7265 2061  Generators are a
+0000e9f0: 6c77 6179 7320 6d6f 6465 6c6c 6564 2061  lways modelled a
+0000ea00: 7320 766f 6c74 6167 6520 636f 6e74 726f  s voltage contro
+0000ea10: 6c6c 6564 2050 5620 6e6f 6465 732c 2077  lled PV nodes, w
+0000ea20: 6869 6368 2069 7320 7768 7920 7468 6520  hich is why the 
+0000ea30: 696e 7075 7420 7061 7261 6d65 7465 720d  input parameter.
+0000ea40: 0a20 2020 2069 7320 6163 7469 7665 2070  .    is active p
+0000ea50: 6f77 6572 2061 6e64 2061 2076 6f6c 7461  ower and a volta
+0000ea60: 6765 2073 6574 2070 6f69 6e74 2e20 4966  ge set point. If
+0000ea70: 2079 6f75 2077 616e 7420 746f 206d 6f64   you want to mod
+0000ea80: 656c 2061 2067 656e 6572 6174 6f72 2061  el a generator a
+0000ea90: 7320 5051 206c 6f61 6420 7769 7468 2066  s PQ load with f
+0000eaa0: 6978 6564 0d0a 2020 2020 7265 6163 7469  ixed..    reacti
+0000eab0: 7665 2070 6f77 6572 2061 6e64 2076 6172  ve power and var
+0000eac0: 6961 626c 6520 766f 6c74 6167 652c 2070  iable voltage, p
+0000ead0: 6c65 6173 6520 7573 6520 6120 7374 6174  lease use a stat
+0000eae0: 6963 2067 656e 6572 6174 6f72 2069 6e73  ic generator ins
+0000eaf0: 7465 6164 2e0d 0a0d 0a20 2020 2049 4e50  tead.....    INP
+0000eb00: 5554 3a0d 0a20 2020 2020 2020 202a 2a6e  UT:..        **n
+0000eb10: 6574 2a2a 202d 2054 6865 206e 6574 2077  et** - The net w
+0000eb20: 6974 6869 6e20 7468 6973 2067 656e 6572  ithin this gener
+0000eb30: 6174 6f72 2073 686f 756c 6420 6265 2063  ator should be c
+0000eb40: 7265 6174 6564 0d0a 0d0a 2020 2020 2020  reated....      
+0000eb50: 2020 2a2a 6275 732a 2a20 2869 6e74 2920    **bus** (int) 
+0000eb60: 2d20 5468 6520 6275 7320 6964 2074 6f20  - The bus id to 
+0000eb70: 7768 6963 6820 7468 6520 6765 6e65 7261  which the genera
+0000eb80: 746f 7220 6973 2063 6f6e 6e65 6374 6564  tor is connected
+0000eb90: 0d0a 0d0a 2020 2020 4f50 5449 4f4e 414c  ....    OPTIONAL
+0000eba0: 3a0d 0a20 2020 2020 2020 202a 2a70 5f6d  :..        **p_m
+0000ebb0: 772a 2a20 2866 6c6f 6174 2c20 6465 6661  w** (float, defa
+0000ebc0: 756c 7420 3029 202d 2054 6865 2061 6374  ult 0) - The act
+0000ebd0: 6976 6520 706f 7765 7220 6f66 2074 6865  ive power of the
+0000ebe0: 2067 656e 6572 6174 6f72 2028 706f 7369   generator (posi
+0000ebf0: 7469 7665 2066 6f72 2067 656e 6572 6174  tive for generat
+0000ec00: 696f 6e21 290d 0a0d 0a20 2020 2020 2020  ion!)....       
+0000ec10: 202a 2a76 6d5f 7075 2a2a 2028 666c 6f61   **vm_pu** (floa
+0000ec20: 742c 2064 6566 6175 6c74 2030 2920 2d20  t, default 0) - 
+0000ec30: 5468 6520 766f 6c74 6167 6520 7365 7420  The voltage set 
+0000ec40: 706f 696e 7420 6f66 2074 6865 2067 656e  point of the gen
+0000ec50: 6572 6174 6f72 2e0d 0a0d 0a20 2020 2020  erator.....     
+0000ec60: 2020 202a 2a73 6e5f 6d76 612a 2a20 2866     **sn_mva** (f
+0000ec70: 6c6f 6174 2c20 4e6f 6e65 2920 2d20 4e6f  loat, None) - No
+0000ec80: 6d69 6e61 6c20 706f 7765 7220 6f66 2074  minal power of t
+0000ec90: 6865 2067 656e 6572 6174 6f72 0d0a 0d0a  he generator....
+0000eca0: 2020 2020 2020 2020 2a2a 6e61 6d65 2a2a          **name**
+0000ecb0: 2028 7374 7269 6e67 2c20 4e6f 6e65 2920   (string, None) 
+0000ecc0: 2d20 5468 6520 6e61 6d65 2066 6f72 2074  - The name for t
+0000ecd0: 6869 7320 6765 6e65 7261 746f 720d 0a0d  his generator...
+0000ece0: 0a20 2020 2020 2020 202a 2a69 6e64 6578  .        **index
+0000ecf0: 2a2a 2028 696e 742c 204e 6f6e 6529 202d  ** (int, None) -
+0000ed00: 2046 6f72 6365 2061 2073 7065 6369 6669   Force a specifi
+0000ed10: 6564 2049 4420 6966 2069 7420 6973 2061  ed ID if it is a
+0000ed20: 7661 696c 6162 6c65 2e20 4966 204e 6f6e  vailable. If Non
+0000ed30: 652c 2074 6865 2069 6e64 6578 206f 6e65  e, the index one
+0000ed40: 205c 0d0a 2020 2020 2020 2020 2020 2020   \..            
+0000ed50: 6869 6768 6572 2074 6861 6e20 7468 6520  higher than the 
+0000ed60: 6869 6768 6573 7420 616c 7265 6164 7920  highest already 
+0000ed70: 6578 6973 7469 6e67 2069 6e64 6578 2069  existing index i
+0000ed80: 7320 7365 6c65 6374 6564 2e0d 0a0d 0a20  s selected..... 
+0000ed90: 2020 2020 2020 202a 2a73 6361 6c69 6e67         **scaling
+0000eda0: 2a2a 2028 666c 6f61 742c 2031 2e30 2920  ** (float, 1.0) 
+0000edb0: 2d20 7363 616c 696e 6720 6661 6374 6f72  - scaling factor
+0000edc0: 2077 6869 6368 2066 6f72 2074 6865 2061   which for the a
+0000edd0: 6374 6976 6520 706f 7765 7220 6f66 2074  ctive power of t
+0000ede0: 6865 2067 656e 6572 6174 6f72 0d0a 0d0a  he generator....
+0000edf0: 2020 2020 2020 2020 2a2a 7479 7065 2a2a          **type**
+0000ee00: 2028 7374 7269 6e67 2c20 4e6f 6e65 2920   (string, None) 
+0000ee10: 2d20 7479 7065 2076 6172 6961 626c 6520  - type variable 
+0000ee20: 746f 2063 6c61 7373 6966 7920 6765 6e65  to classify gene
+0000ee30: 7261 746f 7273 0d0a 0d0a 2020 2020 2020  rators....      
+0000ee40: 2020 2a2a 636f 6e74 726f 6c6c 6162 6c65    **controllable
+0000ee50: 2a2a 2028 626f 6f6c 2c20 4e61 4e29 202d  ** (bool, NaN) -
+0000ee60: 2054 7275 653a 2070 5f6d 772c 2071 5f6d   True: p_mw, q_m
+0000ee70: 7661 7220 616e 6420 766d 5f70 7520 6c69  var and vm_pu li
+0000ee80: 6d69 7473 2061 7265 2065 6e66 6f72 6365  mits are enforce
+0000ee90: 6420 666f 7220 7468 6973 205c 0d0a 2020  d for this \..  
+0000eea0: 2020 2020 2020 2020 2020 2020 2020 6765                ge
+0000eeb0: 6e65 7261 746f 7220 696e 204f 5046 0d0a  nerator in OPF..
+0000eec0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000eed0: 4661 6c73 653a 2070 5f6d 7720 616e 6420  False: p_mw and 
+0000eee0: 766d 5f70 7520 7365 7470 6f69 6e74 7320  vm_pu setpoints 
+0000eef0: 6172 6520 656e 666f 7263 6564 2061 6e64  are enforced and
+0000ef00: 202a 6c69 6d69 7473 2061 7265 2069 676e   *limits are ign
+0000ef10: 6f72 6564 2a2e 0d0a 2020 2020 2020 2020  ored*...        
+0000ef20: 2020 2020 2020 2020 6465 6661 756c 7473          defaults
+0000ef30: 2074 6f20 5472 7565 2069 6620 2263 6f6e   to True if "con
+0000ef40: 7472 6f6c 6c61 626c 6522 2063 6f6c 756d  trollable" colum
+0000ef50: 6e20 6578 6973 7473 2069 6e20 4461 7461  n exists in Data
+0000ef60: 4672 616d 650d 0a0d 0a20 2020 2020 2020  Frame....       
+0000ef70: 202a 2a73 6c61 636b 5f77 6569 6768 742a   **slack_weight*
+0000ef80: 2a20 2866 6c6f 6174 2c20 6465 6661 756c  * (float, defaul
+0000ef90: 7420 302e 3029 202d 2043 6f6e 7472 6962  t 0.0) - Contrib
+0000efa0: 7574 696f 6e20 6661 6374 6f72 2066 6f72  ution factor for
+0000efb0: 2064 6973 7472 6962 7574 6564 2073 6c61   distributed sla
+0000efc0: 636b 2070 6f77 6572 0d0a 2020 2020 2020  ck power..      
+0000efd0: 2020 666c 6f77 2063 616c 6375 6c61 7469    flow calculati
+0000efe0: 6f6e 2028 6163 7469 7665 2070 6f77 6572  on (active power
+0000eff0: 2062 616c 616e 6369 6e67 290d 0a0d 0a20   balancing).... 
+0000f000: 2020 2020 2020 2070 6f77 6572 666c 6f77         powerflow
+0000f010: 0d0a 0d0a 2020 2020 2020 2020 2a2a 766e  ....        **vn
+0000f020: 5f6b 762a 2a20 2866 6c6f 6174 2c20 4e61  _kv** (float, Na
+0000f030: 4e29 202d 2052 6174 6564 2076 6f6c 7461  N) - Rated volta
+0000f040: 6765 206f 6620 7468 6520 6765 6e65 7261  ge of the genera
+0000f050: 746f 7220 666f 7220 7368 6f72 742d 6369  tor for short-ci
+0000f060: 7263 7569 7420 6361 6c63 756c 6174 696f  rcuit calculatio
+0000f070: 6e0d 0a0d 0a20 2020 2020 2020 202a 2a78  n....        **x
+0000f080: 6473 735f 7075 2a2a 2028 666c 6f61 742c  dss_pu** (float,
+0000f090: 204e 614e 2920 2d20 5375 6274 7261 6e73   NaN) - Subtrans
+0000f0a0: 6965 6e74 2067 656e 6572 6174 6f72 2072  ient generator r
+0000f0b0: 6561 6374 616e 6365 2066 6f72 2073 686f  eactance for sho
+0000f0c0: 7274 2d63 6972 6375 6974 2063 616c 6375  rt-circuit calcu
+0000f0d0: 6c61 7469 6f6e 0d0a 0d0a 2020 2020 2020  lation....      
+0000f0e0: 2020 2a2a 7264 7373 5f6f 686d 2a2a 2028    **rdss_ohm** (
+0000f0f0: 666c 6f61 742c 204e 614e 2920 2d20 5375  float, NaN) - Su
+0000f100: 6274 7261 6e73 6965 6e74 2067 656e 6572  btransient gener
+0000f110: 6174 6f72 2072 6573 6973 7461 6e63 6520  ator resistance 
+0000f120: 666f 7220 7368 6f72 742d 6369 7263 7569  for short-circui
+0000f130: 7420 6361 6c63 756c 6174 696f 6e0d 0a0d  t calculation...
+0000f140: 0a20 2020 2020 2020 202a 2a63 6f73 5f70  .        **cos_p
+0000f150: 6869 2a2a 2028 666c 6f61 742c 204e 614e  hi** (float, NaN
+0000f160: 2920 2d20 5261 7465 6420 636f 7369 6e65  ) - Rated cosine
+0000f170: 2070 6869 206f 6620 7468 6520 6765 6e65   phi of the gene
+0000f180: 7261 746f 7220 666f 7220 7368 6f72 742d  rator for short-
+0000f190: 6369 7263 7569 7420 6361 6c63 756c 6174  circuit calculat
+0000f1a0: 696f 6e0d 0a0d 0a20 2020 2020 2020 202a  ion....        *
+0000f1b0: 2a70 675f 7065 7263 656e 742a 2a20 2866  *pg_percent** (f
+0000f1c0: 6c6f 6174 2c20 4e61 4e29 202d 2052 6174  loat, NaN) - Rat
+0000f1d0: 6564 2070 6720 2876 6f6c 7461 6765 2063  ed pg (voltage c
+0000f1e0: 6f6e 7472 6f6c 2072 616e 6765 2920 6f66  ontrol range) of
+0000f1f0: 2074 6865 2067 656e 6572 6174 6f72 2066   the generator f
+0000f200: 6f72 0d0a 2020 2020 2020 2020 7368 6f72  or..        shor
+0000f210: 742d 6369 7263 7569 7420 6361 6c63 756c  t-circuit calcul
+0000f220: 6174 696f 6e0d 0a0d 0a20 2020 2020 2020  ation....       
+0000f230: 202a 2a70 6f77 6572 5f73 7461 7469 6f6e   **power_station
+0000f240: 5f74 7261 666f 2a2a 2028 696e 742c 204e  _trafo** (int, N
+0000f250: 6f6e 6529 202d 2049 6e64 6578 206f 6620  one) - Index of 
+0000f260: 7468 6520 706f 7765 7220 7374 6174 696f  the power statio
+0000f270: 6e20 7472 616e 7366 6f72 6d65 7220 666f  n transformer fo
+0000f280: 720d 0a20 2020 2020 2020 2073 686f 7274  r..        short
+0000f290: 2d63 6972 6375 6974 2063 616c 6375 6c61  -circuit calcula
+0000f2a0: 7469 6f6e 0d0a 0d0a 2020 2020 2020 2020  tion....        
+0000f2b0: 2a2a 696e 5f73 6572 7669 6365 2a2a 2028  **in_service** (
+0000f2c0: 626f 6f6c 2c20 5472 7565 2920 2d20 5472  bool, True) - Tr
+0000f2d0: 7565 2066 6f72 2069 6e5f 7365 7276 6963  ue for in_servic
+0000f2e0: 6520 6f72 2046 616c 7365 2066 6f72 206f  e or False for o
+0000f2f0: 7574 206f 6620 7365 7276 6963 650d 0a0d  ut of service...
+0000f300: 0a20 2020 2020 2020 202a 2a6d 6178 5f70  .        **max_p
+0000f310: 5f6d 772a 2a20 2866 6c6f 6174 2c20 6465  _mw** (float, de
+0000f320: 6661 756c 7420 4e61 4e29 202d 204d 6178  fault NaN) - Max
+0000f330: 696d 756d 2061 6374 6976 6520 706f 7765  imum active powe
+0000f340: 7220 696e 6a65 6374 696f 6e20 2d20 6e65  r injection - ne
+0000f350: 6365 7373 6172 7920 666f 7220 4f50 460d  cessary for OPF.
+0000f360: 0a0d 0a20 2020 2020 2020 202a 2a6d 696e  ...        **min
+0000f370: 5f70 5f6d 772a 2a20 2866 6c6f 6174 2c20  _p_mw** (float, 
+0000f380: 6465 6661 756c 7420 4e61 4e29 202d 204d  default NaN) - M
+0000f390: 696e 696d 756d 2061 6374 6976 6520 706f  inimum active po
+0000f3a0: 7765 7220 696e 6a65 6374 696f 6e20 2d20  wer injection - 
+0000f3b0: 6e65 6365 7373 6172 7920 666f 7220 4f50  necessary for OP
+0000f3c0: 460d 0a0d 0a20 2020 2020 2020 202a 2a6d  F....        **m
+0000f3d0: 6178 5f71 5f6d 7661 722a 2a20 2866 6c6f  ax_q_mvar** (flo
+0000f3e0: 6174 2c20 6465 6661 756c 7420 4e61 4e29  at, default NaN)
+0000f3f0: 202d 204d 6178 696d 756d 2072 6561 6374   - Maximum react
+0000f400: 6976 6520 706f 7765 7220 696e 6a65 6374  ive power inject
+0000f410: 696f 6e20 2d20 6e65 6365 7373 6172 7920  ion - necessary 
+0000f420: 666f 7220 4f50 460d 0a0d 0a20 2020 2020  for OPF....     
+0000f430: 2020 202a 2a6d 696e 5f71 5f6d 7661 722a     **min_q_mvar*
+0000f440: 2a20 2866 6c6f 6174 2c20 6465 6661 756c  * (float, defaul
+0000f450: 7420 4e61 4e29 202d 204d 696e 696d 756d  t NaN) - Minimum
+0000f460: 2072 6561 6374 6976 6520 706f 7765 7220   reactive power 
+0000f470: 696e 6a65 6374 696f 6e20 2d20 6e65 6365  injection - nece
+0000f480: 7373 6172 7920 666f 7220 4f50 460d 0a0d  ssary for OPF...
+0000f490: 0a20 2020 2020 2020 202a 2a6d 696e 5f76  .        **min_v
+0000f4a0: 6d5f 7075 2a2a 2028 666c 6f61 742c 2064  m_pu** (float, d
+0000f4b0: 6566 6175 6c74 204e 614e 2920 2d20 4d69  efault NaN) - Mi
+0000f4c0: 6e69 6d75 6d20 766f 6c74 6167 6520 6d61  nimum voltage ma
+0000f4d0: 676e 6974 7564 652e 2049 6620 6e6f 7420  gnitude. If not 
+0000f4e0: 7365 7420 7468 6520 6275 7320 766f 6c74  set the bus volt
+0000f4f0: 6167 6520 5c0d 0a20 2020 2020 2020 2020  age \..         
 0000f500: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f510: 2020 2020 206c 696d 6974 2069 7320 7461       limit is ta
-0000f520: 6b65 6e2e 0d0a 2020 2020 2020 2020 2020  ken...          
-0000f530: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f510: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f520: 2020 2020 6c69 6d69 7420 6973 2074 616b      limit is tak
+0000f530: 656e 2e0d 0a20 2020 2020 2020 2020 2020  en...           
 0000f540: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f550: 202d 206e 6563 6573 7361 7279 2066 6f72   - necessary for
-0000f560: 204f 5046 2e0d 0a0d 0a20 2020 2020 2020   OPF.....       
-0000f570: 202a 2a6d 6178 5f76 6d5f 7075 2a2a 2028   **max_vm_pu** (
-0000f580: 666c 6f61 742c 2064 6566 6175 6c74 204e  float, default N
-0000f590: 614e 2920 2d20 4d61 7869 6d75 6d20 766f  aN) - Maximum vo
-0000f5a0: 6c74 6167 6520 6d61 676e 6974 7564 652e  ltage magnitude.
-0000f5b0: 2049 6620 6e6f 7420 7365 7420 7468 6520   If not set the 
-0000f5c0: 6275 7320 766f 6c74 6167 655c 0d0a 2020  bus voltage\..  
-0000f5d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f550: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f560: 2d20 6e65 6365 7373 6172 7920 666f 7220  - necessary for 
+0000f570: 4f50 462e 0d0a 0d0a 2020 2020 2020 2020  OPF.....        
+0000f580: 2a2a 6d61 785f 766d 5f70 752a 2a20 2866  **max_vm_pu** (f
+0000f590: 6c6f 6174 2c20 6465 6661 756c 7420 4e61  loat, default Na
+0000f5a0: 4e29 202d 204d 6178 696d 756d 2076 6f6c  N) - Maximum vol
+0000f5b0: 7461 6765 206d 6167 6e69 7475 6465 2e20  tage magnitude. 
+0000f5c0: 4966 206e 6f74 2073 6574 2074 6865 2062  If not set the b
+0000f5d0: 7573 2076 6f6c 7461 6765 5c0d 0a20 2020  us voltage\..   
 0000f5e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f5f0: 2020 2020 2020 2020 2020 2020 6c69 6d69              limi
-0000f600: 7420 6973 2074 616b 656e 2e0d 0a20 2020  t is taken...   
-0000f610: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f5f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f600: 2020 2020 2020 2020 2020 206c 696d 6974             limit
+0000f610: 2069 7320 7461 6b65 6e2e 0d0a 2020 2020   is taken...    
 0000f620: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f630: 2020 2020 2020 2020 202d 206e 6563 6573           - neces
-0000f640: 7361 7279 2066 6f72 204f 5046 0d0a 0d0a  sary for OPF....
-0000f650: 2020 2020 4f55 5450 5554 3a0d 0a20 2020      OUTPUT:..   
-0000f660: 2020 2020 202a 2a69 6e64 6578 2a2a 2028       **index** (
-0000f670: 696e 7429 202d 2054 6865 2075 6e69 7175  int) - The uniqu
-0000f680: 6520 4944 206f 6620 7468 6520 6372 6561  e ID of the crea
-0000f690: 7465 6420 6765 6e65 7261 746f 720d 0a0d  ted generator...
-0000f6a0: 0a20 2020 2045 5841 4d50 4c45 3a0d 0a20  .    EXAMPLE:.. 
-0000f6b0: 2020 2020 2020 2063 7265 6174 655f 6765         create_ge
-0000f6c0: 6e28 6e65 742c 2031 2c20 705f 6d77 203d  n(net, 1, p_mw =
-0000f6d0: 2031 3230 2c20 766d 5f70 7520 3d20 312e   120, vm_pu = 1.
-0000f6e0: 3032 290d 0a0d 0a20 2020 2022 2222 0d0a  02)....    """..
-0000f6f0: 2020 2020 5f63 6865 636b 5f6e 6f64 655f      _check_node_
-0000f700: 656c 656d 656e 7428 6e65 742c 2062 7573  element(net, bus
-0000f710: 290d 0a0d 0a20 2020 2069 6e64 6578 203d  )....    index =
-0000f720: 205f 6765 745f 696e 6465 785f 7769 7468   _get_index_with
-0000f730: 5f63 6865 636b 286e 6574 2c20 2267 656e  _check(net, "gen
-0000f740: 222c 2069 6e64 6578 2c20 6e61 6d65 3d22  ", index, name="
-0000f750: 6765 6e65 7261 746f 7222 290d 0a0d 0a20  generator").... 
-0000f760: 2020 2063 6f6c 756d 6e73 203d 205b 226e     columns = ["n
-0000f770: 616d 6522 2c20 2262 7573 222c 2022 705f  ame", "bus", "p_
-0000f780: 6d77 222c 2022 766d 5f70 7522 2c20 2273  mw", "vm_pu", "s
-0000f790: 6e5f 6d76 6122 2c20 2274 7970 6522 2c20  n_mva", "type", 
-0000f7a0: 2273 6c61 636b 222c 2022 696e 5f73 6572  "slack", "in_ser
-0000f7b0: 7669 6365 222c 0d0a 2020 2020 2020 2020  vice",..        
-0000f7c0: 2020 2020 2020 2022 7363 616c 696e 6722         "scaling"
-0000f7d0: 2c20 2273 6c61 636b 5f77 6569 6768 7422  , "slack_weight"
-0000f7e0: 5d0d 0a20 2020 2076 6172 6961 626c 6573  ]..    variables
-0000f7f0: 203d 205b 6e61 6d65 2c20 6275 732c 2070   = [name, bus, p
-0000f800: 5f6d 772c 2076 6d5f 7075 2c20 736e 5f6d  _mw, vm_pu, sn_m
-0000f810: 7661 2c20 7479 7065 2c20 736c 6163 6b2c  va, type, slack,
-0000f820: 2062 6f6f 6c28 696e 5f73 6572 7669 6365   bool(in_service
-0000f830: 292c 2073 6361 6c69 6e67 2c0d 0a20 2020  ), scaling,..   
-0000f840: 2020 2020 2020 2020 2020 2020 2020 736c                sl
-0000f850: 6163 6b5f 7765 6967 6874 5d0d 0a0d 0a20  ack_weight].... 
-0000f860: 2020 205f 7365 745f 656e 7472 6965 7328     _set_entries(
-0000f870: 6e65 742c 2022 6765 6e22 2c20 696e 6465  net, "gen", inde
-0000f880: 782c 2054 7275 652c 202a 2a64 6963 7428  x, True, **dict(
-0000f890: 7a69 7028 636f 6c75 6d6e 732c 2076 6172  zip(columns, var
-0000f8a0: 6961 626c 6573 2929 290d 0a0d 0a20 2020  iables)))....   
-0000f8b0: 2023 204f 5046 206c 696d 6974 730d 0a20   # OPF limits.. 
-0000f8c0: 2020 2069 6620 6e6f 7420 6973 6e61 6e28     if not isnan(
-0000f8d0: 636f 6e74 726f 6c6c 6162 6c65 293a 0d0a  controllable):..
-0000f8e0: 2020 2020 2020 2020 6966 2022 636f 6e74          if "cont
-0000f8f0: 726f 6c6c 6162 6c65 2220 6e6f 7420 696e  rollable" not in
-0000f900: 206e 6574 2e67 656e 2e63 6f6c 756d 6e73   net.gen.columns
-0000f910: 3a0d 0a20 2020 2020 2020 2020 2020 206e  :..            n
-0000f920: 6574 2e67 656e 2e6c 6f63 5b3a 2c20 2263  et.gen.loc[:, "c
-0000f930: 6f6e 7472 6f6c 6c61 626c 6522 5d20 3d20  ontrollable"] = 
-0000f940: 7064 2e53 6572 6965 7328 6474 7970 653d  pd.Series(dtype=
-0000f950: 626f 6f6c 2c20 6461 7461 3d54 7275 6529  bool, data=True)
-0000f960: 0d0a 2020 2020 2020 2020 6e65 742e 6765  ..        net.ge
-0000f970: 6e2e 6174 5b69 6e64 6578 2c20 2263 6f6e  n.at[index, "con
-0000f980: 7472 6f6c 6c61 626c 6522 5d20 3d20 626f  trollable"] = bo
-0000f990: 6f6c 2863 6f6e 7472 6f6c 6c61 626c 6529  ol(controllable)
-0000f9a0: 0d0a 2020 2020 656c 6966 2022 636f 6e74  ..    elif "cont
-0000f9b0: 726f 6c6c 6162 6c65 2220 696e 206e 6574  rollable" in net
-0000f9c0: 2e67 656e 2e63 6f6c 756d 6e73 3a0d 0a20  .gen.columns:.. 
-0000f9d0: 2020 2020 2020 206e 6574 2e67 656e 2e61         net.gen.a
-0000f9e0: 745b 696e 6465 782c 2022 636f 6e74 726f  t[index, "contro
-0000f9f0: 6c6c 6162 6c65 225d 203d 2054 7275 650d  llable"] = True.
-0000fa00: 0a20 2020 2023 2050 206c 696d 6974 7320  .    # P limits 
-0000fa10: 666f 7220 4f50 4620 6966 2063 6f6e 7472  for OPF if contr
-0000fa20: 6f6c 6c61 626c 6520 3d3d 2054 7275 650d  ollable == True.
-0000fa30: 0a20 2020 205f 6372 6561 7465 5f63 6f6c  .    _create_col
-0000fa40: 756d 6e5f 616e 645f 7365 745f 7661 6c75  umn_and_set_valu
-0000fa50: 6528 6e65 742c 2069 6e64 6578 2c20 6d69  e(net, index, mi
-0000fa60: 6e5f 705f 6d77 2c20 226d 696e 5f70 5f6d  n_p_mw, "min_p_m
-0000fa70: 7722 2c20 2267 656e 2229 0d0a 2020 2020  w", "gen")..    
-0000fa80: 5f63 7265 6174 655f 636f 6c75 6d6e 5f61  _create_column_a
-0000fa90: 6e64 5f73 6574 5f76 616c 7565 286e 6574  nd_set_value(net
-0000faa0: 2c20 696e 6465 782c 206d 6178 5f70 5f6d  , index, max_p_m
-0000fab0: 772c 2022 6d61 785f 705f 6d77 222c 2022  w, "max_p_mw", "
-0000fac0: 6765 6e22 290d 0a20 2020 2023 2051 206c  gen")..    # Q l
-0000fad0: 696d 6974 7320 666f 7220 4f50 4620 6966  imits for OPF if
-0000fae0: 2063 6f6e 7472 6f6c 6c61 626c 6520 3d3d   controllable ==
-0000faf0: 2054 7275 650d 0a20 2020 205f 6372 6561   True..    _crea
-0000fb00: 7465 5f63 6f6c 756d 6e5f 616e 645f 7365  te_column_and_se
-0000fb10: 745f 7661 6c75 6528 6e65 742c 2069 6e64  t_value(net, ind
-0000fb20: 6578 2c20 6d69 6e5f 715f 6d76 6172 2c20  ex, min_q_mvar, 
-0000fb30: 226d 696e 5f71 5f6d 7661 7222 2c20 2267  "min_q_mvar", "g
-0000fb40: 656e 2229 0d0a 2020 2020 5f63 7265 6174  en")..    _creat
-0000fb50: 655f 636f 6c75 6d6e 5f61 6e64 5f73 6574  e_column_and_set
-0000fb60: 5f76 616c 7565 286e 6574 2c20 696e 6465  _value(net, inde
-0000fb70: 782c 206d 6178 5f71 5f6d 7661 722c 2022  x, max_q_mvar, "
-0000fb80: 6d61 785f 715f 6d76 6172 222c 2022 6765  max_q_mvar", "ge
-0000fb90: 6e22 290d 0a20 2020 2023 2056 206c 696d  n")..    # V lim
-0000fba0: 6974 7320 666f 7220 4f50 4620 6966 2063  its for OPF if c
-0000fbb0: 6f6e 7472 6f6c 6c61 626c 6520 3d3d 2054  ontrollable == T
-0000fbc0: 7275 650d 0a20 2020 205f 6372 6561 7465  rue..    _create
-0000fbd0: 5f63 6f6c 756d 6e5f 616e 645f 7365 745f  _column_and_set_
-0000fbe0: 7661 6c75 6528 6e65 742c 2069 6e64 6578  value(net, index
-0000fbf0: 2c20 6d61 785f 766d 5f70 752c 2022 6d61  , max_vm_pu, "ma
-0000fc00: 785f 766d 5f70 7522 2c20 2267 656e 222c  x_vm_pu", "gen",
-0000fc10: 2064 6566 6175 6c74 5f76 616c 3d32 2e29   default_val=2.)
-0000fc20: 0d0a 2020 2020 5f63 7265 6174 655f 636f  ..    _create_co
-0000fc30: 6c75 6d6e 5f61 6e64 5f73 6574 5f76 616c  lumn_and_set_val
-0000fc40: 7565 286e 6574 2c20 696e 6465 782c 206d  ue(net, index, m
-0000fc50: 696e 5f76 6d5f 7075 2c20 226d 696e 5f76  in_vm_pu, "min_v
-0000fc60: 6d5f 7075 222c 2022 6765 6e22 2c20 6465  m_pu", "gen", de
-0000fc70: 6661 756c 745f 7661 6c3d 302e 290d 0a0d  fault_val=0.)...
-0000fc80: 0a20 2020 2023 2053 686f 7274 2063 6972  .    # Short cir
-0000fc90: 6375 6974 2063 616c 6375 6c61 7469 6f6e  cuit calculation
-0000fca0: 2076 6172 6961 626c 6573 0d0a 2020 2020   variables..    
-0000fcb0: 5f63 7265 6174 655f 636f 6c75 6d6e 5f61  _create_column_a
-0000fcc0: 6e64 5f73 6574 5f76 616c 7565 286e 6574  nd_set_value(net
-0000fcd0: 2c20 696e 6465 782c 2076 6e5f 6b76 2c20  , index, vn_kv, 
-0000fce0: 2276 6e5f 6b76 222c 2022 6765 6e22 290d  "vn_kv", "gen").
-0000fcf0: 0a20 2020 205f 6372 6561 7465 5f63 6f6c  .    _create_col
-0000fd00: 756d 6e5f 616e 645f 7365 745f 7661 6c75  umn_and_set_valu
-0000fd10: 6528 6e65 742c 2069 6e64 6578 2c20 636f  e(net, index, co
-0000fd20: 735f 7068 692c 2022 636f 735f 7068 6922  s_phi, "cos_phi"
-0000fd30: 2c20 2267 656e 2229 0d0a 2020 2020 5f63  , "gen")..    _c
-0000fd40: 7265 6174 655f 636f 6c75 6d6e 5f61 6e64  reate_column_and
-0000fd50: 5f73 6574 5f76 616c 7565 286e 6574 2c20  _set_value(net, 
-0000fd60: 696e 6465 782c 2078 6473 735f 7075 2c20  index, xdss_pu, 
-0000fd70: 2278 6473 735f 7075 222c 2022 6765 6e22  "xdss_pu", "gen"
-0000fd80: 290d 0a20 2020 205f 6372 6561 7465 5f63  )..    _create_c
-0000fd90: 6f6c 756d 6e5f 616e 645f 7365 745f 7661  olumn_and_set_va
-0000fda0: 6c75 6528 6e65 742c 2069 6e64 6578 2c20  lue(net, index, 
-0000fdb0: 7264 7373 5f6f 686d 2c20 2272 6473 735f  rdss_ohm, "rdss_
-0000fdc0: 6f68 6d22 2c20 2267 656e 2229 0d0a 2020  ohm", "gen")..  
-0000fdd0: 2020 5f63 7265 6174 655f 636f 6c75 6d6e    _create_column
-0000fde0: 5f61 6e64 5f73 6574 5f76 616c 7565 286e  _and_set_value(n
-0000fdf0: 6574 2c20 696e 6465 782c 2070 675f 7065  et, index, pg_pe
-0000fe00: 7263 656e 742c 2022 7067 5f70 6572 6365  rcent, "pg_perce
-0000fe10: 6e74 222c 2022 6765 6e22 290d 0a20 2020  nt", "gen")..   
-0000fe20: 205f 6372 6561 7465 5f63 6f6c 756d 6e5f   _create_column_
-0000fe30: 616e 645f 7365 745f 7661 6c75 6528 6e65  and_set_value(ne
-0000fe40: 742c 2069 6e64 6578 2c20 706f 7765 725f  t, index, power_
-0000fe50: 7374 6174 696f 6e5f 7472 6166 6f2c 0d0a  station_trafo,..
-0000fe60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f630: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f640: 2020 2020 2020 2020 2d20 6e65 6365 7373          - necess
+0000f650: 6172 7920 666f 7220 4f50 460d 0a0d 0a20  ary for OPF.... 
+0000f660: 2020 204f 5554 5055 543a 0d0a 2020 2020     OUTPUT:..    
+0000f670: 2020 2020 2a2a 696e 6465 782a 2a20 2869      **index** (i
+0000f680: 6e74 2920 2d20 5468 6520 756e 6971 7565  nt) - The unique
+0000f690: 2049 4420 6f66 2074 6865 2063 7265 6174   ID of the creat
+0000f6a0: 6564 2067 656e 6572 6174 6f72 0d0a 0d0a  ed generator....
+0000f6b0: 2020 2020 4558 414d 504c 453a 0d0a 2020      EXAMPLE:..  
+0000f6c0: 2020 2020 2020 6372 6561 7465 5f67 656e        create_gen
+0000f6d0: 286e 6574 2c20 312c 2070 5f6d 7720 3d20  (net, 1, p_mw = 
+0000f6e0: 3132 302c 2076 6d5f 7075 203d 2031 2e30  120, vm_pu = 1.0
+0000f6f0: 3229 0d0a 0d0a 2020 2020 2222 220d 0a20  2)....    """.. 
+0000f700: 2020 205f 6368 6563 6b5f 6e6f 6465 5f65     _check_node_e
+0000f710: 6c65 6d65 6e74 286e 6574 2c20 6275 7329  lement(net, bus)
+0000f720: 0d0a 0d0a 2020 2020 696e 6465 7820 3d20  ....    index = 
+0000f730: 5f67 6574 5f69 6e64 6578 5f77 6974 685f  _get_index_with_
+0000f740: 6368 6563 6b28 6e65 742c 2022 6765 6e22  check(net, "gen"
+0000f750: 2c20 696e 6465 782c 206e 616d 653d 2267  , index, name="g
+0000f760: 656e 6572 6174 6f72 2229 0d0a 0d0a 2020  enerator")....  
+0000f770: 2020 636f 6c75 6d6e 7320 3d20 5b22 6e61    columns = ["na
+0000f780: 6d65 222c 2022 6275 7322 2c20 2270 5f6d  me", "bus", "p_m
+0000f790: 7722 2c20 2276 6d5f 7075 222c 2022 736e  w", "vm_pu", "sn
+0000f7a0: 5f6d 7661 222c 2022 7479 7065 222c 2022  _mva", "type", "
+0000f7b0: 736c 6163 6b22 2c20 2269 6e5f 7365 7276  slack", "in_serv
+0000f7c0: 6963 6522 2c0d 0a20 2020 2020 2020 2020  ice",..         
+0000f7d0: 2020 2020 2020 2273 6361 6c69 6e67 222c        "scaling",
+0000f7e0: 2022 736c 6163 6b5f 7765 6967 6874 225d   "slack_weight"]
+0000f7f0: 0d0a 2020 2020 7661 7269 6162 6c65 7320  ..    variables 
+0000f800: 3d20 5b6e 616d 652c 2062 7573 2c20 705f  = [name, bus, p_
+0000f810: 6d77 2c20 766d 5f70 752c 2073 6e5f 6d76  mw, vm_pu, sn_mv
+0000f820: 612c 2074 7970 652c 2073 6c61 636b 2c20  a, type, slack, 
+0000f830: 626f 6f6c 2869 6e5f 7365 7276 6963 6529  bool(in_service)
+0000f840: 2c20 7363 616c 696e 672c 0d0a 2020 2020  , scaling,..    
+0000f850: 2020 2020 2020 2020 2020 2020 2073 6c61               sla
+0000f860: 636b 5f77 6569 6768 745d 0d0a 0d0a 2020  ck_weight]....  
+0000f870: 2020 5f73 6574 5f65 6e74 7269 6573 286e    _set_entries(n
+0000f880: 6574 2c20 2267 656e 222c 2069 6e64 6578  et, "gen", index
+0000f890: 2c20 5472 7565 2c20 2a2a 6469 6374 287a  , True, **dict(z
+0000f8a0: 6970 2863 6f6c 756d 6e73 2c20 7661 7269  ip(columns, vari
+0000f8b0: 6162 6c65 7329 2929 0d0a 0d0a 2020 2020  ables)))....    
+0000f8c0: 2320 4f50 4620 6c69 6d69 7473 0d0a 2020  # OPF limits..  
+0000f8d0: 2020 6966 206e 6f74 2069 736e 616e 2863    if not isnan(c
+0000f8e0: 6f6e 7472 6f6c 6c61 626c 6529 3a0d 0a20  ontrollable):.. 
+0000f8f0: 2020 2020 2020 2069 6620 2263 6f6e 7472         if "contr
+0000f900: 6f6c 6c61 626c 6522 206e 6f74 2069 6e20  ollable" not in 
+0000f910: 6e65 742e 6765 6e2e 636f 6c75 6d6e 733a  net.gen.columns:
+0000f920: 0d0a 2020 2020 2020 2020 2020 2020 6e65  ..            ne
+0000f930: 742e 6765 6e2e 6c6f 635b 3a2c 2022 636f  t.gen.loc[:, "co
+0000f940: 6e74 726f 6c6c 6162 6c65 225d 203d 2070  ntrollable"] = p
+0000f950: 642e 5365 7269 6573 2864 7479 7065 3d62  d.Series(dtype=b
+0000f960: 6f6f 6c2c 2064 6174 613d 5472 7565 290d  ool, data=True).
+0000f970: 0a20 2020 2020 2020 206e 6574 2e67 656e  .        net.gen
+0000f980: 2e61 745b 696e 6465 782c 2022 636f 6e74  .at[index, "cont
+0000f990: 726f 6c6c 6162 6c65 225d 203d 2062 6f6f  rollable"] = boo
+0000f9a0: 6c28 636f 6e74 726f 6c6c 6162 6c65 290d  l(controllable).
+0000f9b0: 0a20 2020 2065 6c69 6620 2263 6f6e 7472  .    elif "contr
+0000f9c0: 6f6c 6c61 626c 6522 2069 6e20 6e65 742e  ollable" in net.
+0000f9d0: 6765 6e2e 636f 6c75 6d6e 733a 0d0a 2020  gen.columns:..  
+0000f9e0: 2020 2020 2020 6e65 742e 6765 6e2e 6174        net.gen.at
+0000f9f0: 5b69 6e64 6578 2c20 2263 6f6e 7472 6f6c  [index, "control
+0000fa00: 6c61 626c 6522 5d20 3d20 5472 7565 0d0a  lable"] = True..
+0000fa10: 2020 2020 2320 5020 6c69 6d69 7473 2066      # P limits f
+0000fa20: 6f72 204f 5046 2069 6620 636f 6e74 726f  or OPF if contro
+0000fa30: 6c6c 6162 6c65 203d 3d20 5472 7565 0d0a  llable == True..
+0000fa40: 2020 2020 5f63 7265 6174 655f 636f 6c75      _create_colu
+0000fa50: 6d6e 5f61 6e64 5f73 6574 5f76 616c 7565  mn_and_set_value
+0000fa60: 286e 6574 2c20 696e 6465 782c 206d 696e  (net, index, min
+0000fa70: 5f70 5f6d 772c 2022 6d69 6e5f 705f 6d77  _p_mw, "min_p_mw
+0000fa80: 222c 2022 6765 6e22 290d 0a20 2020 205f  ", "gen")..    _
+0000fa90: 6372 6561 7465 5f63 6f6c 756d 6e5f 616e  create_column_an
+0000faa0: 645f 7365 745f 7661 6c75 6528 6e65 742c  d_set_value(net,
+0000fab0: 2069 6e64 6578 2c20 6d61 785f 705f 6d77   index, max_p_mw
+0000fac0: 2c20 226d 6178 5f70 5f6d 7722 2c20 2267  , "max_p_mw", "g
+0000fad0: 656e 2229 0d0a 2020 2020 2320 5120 6c69  en")..    # Q li
+0000fae0: 6d69 7473 2066 6f72 204f 5046 2069 6620  mits for OPF if 
+0000faf0: 636f 6e74 726f 6c6c 6162 6c65 203d 3d20  controllable == 
+0000fb00: 5472 7565 0d0a 2020 2020 5f63 7265 6174  True..    _creat
+0000fb10: 655f 636f 6c75 6d6e 5f61 6e64 5f73 6574  e_column_and_set
+0000fb20: 5f76 616c 7565 286e 6574 2c20 696e 6465  _value(net, inde
+0000fb30: 782c 206d 696e 5f71 5f6d 7661 722c 2022  x, min_q_mvar, "
+0000fb40: 6d69 6e5f 715f 6d76 6172 222c 2022 6765  min_q_mvar", "ge
+0000fb50: 6e22 290d 0a20 2020 205f 6372 6561 7465  n")..    _create
+0000fb60: 5f63 6f6c 756d 6e5f 616e 645f 7365 745f  _column_and_set_
+0000fb70: 7661 6c75 6528 6e65 742c 2069 6e64 6578  value(net, index
+0000fb80: 2c20 6d61 785f 715f 6d76 6172 2c20 226d  , max_q_mvar, "m
+0000fb90: 6178 5f71 5f6d 7661 7222 2c20 2267 656e  ax_q_mvar", "gen
+0000fba0: 2229 0d0a 2020 2020 2320 5620 6c69 6d69  ")..    # V limi
+0000fbb0: 7473 2066 6f72 204f 5046 2069 6620 636f  ts for OPF if co
+0000fbc0: 6e74 726f 6c6c 6162 6c65 203d 3d20 5472  ntrollable == Tr
+0000fbd0: 7565 0d0a 2020 2020 5f63 7265 6174 655f  ue..    _create_
+0000fbe0: 636f 6c75 6d6e 5f61 6e64 5f73 6574 5f76  column_and_set_v
+0000fbf0: 616c 7565 286e 6574 2c20 696e 6465 782c  alue(net, index,
+0000fc00: 206d 6178 5f76 6d5f 7075 2c20 226d 6178   max_vm_pu, "max
+0000fc10: 5f76 6d5f 7075 222c 2022 6765 6e22 2c20  _vm_pu", "gen", 
+0000fc20: 6465 6661 756c 745f 7661 6c3d 322e 290d  default_val=2.).
+0000fc30: 0a20 2020 205f 6372 6561 7465 5f63 6f6c  .    _create_col
+0000fc40: 756d 6e5f 616e 645f 7365 745f 7661 6c75  umn_and_set_valu
+0000fc50: 6528 6e65 742c 2069 6e64 6578 2c20 6d69  e(net, index, mi
+0000fc60: 6e5f 766d 5f70 752c 2022 6d69 6e5f 766d  n_vm_pu, "min_vm
+0000fc70: 5f70 7522 2c20 2267 656e 222c 2064 6566  _pu", "gen", def
+0000fc80: 6175 6c74 5f76 616c 3d30 2e29 0d0a 0d0a  ault_val=0.)....
+0000fc90: 2020 2020 2320 5368 6f72 7420 6369 7263      # Short circ
+0000fca0: 7569 7420 6361 6c63 756c 6174 696f 6e20  uit calculation 
+0000fcb0: 7661 7269 6162 6c65 730d 0a20 2020 205f  variables..    _
+0000fcc0: 6372 6561 7465 5f63 6f6c 756d 6e5f 616e  create_column_an
+0000fcd0: 645f 7365 745f 7661 6c75 6528 6e65 742c  d_set_value(net,
+0000fce0: 2069 6e64 6578 2c20 766e 5f6b 762c 2022   index, vn_kv, "
+0000fcf0: 766e 5f6b 7622 2c20 2267 656e 2229 0d0a  vn_kv", "gen")..
+0000fd00: 2020 2020 5f63 7265 6174 655f 636f 6c75      _create_colu
+0000fd10: 6d6e 5f61 6e64 5f73 6574 5f76 616c 7565  mn_and_set_value
+0000fd20: 286e 6574 2c20 696e 6465 782c 2063 6f73  (net, index, cos
+0000fd30: 5f70 6869 2c20 2263 6f73 5f70 6869 222c  _phi, "cos_phi",
+0000fd40: 2022 6765 6e22 290d 0a20 2020 205f 6372   "gen")..    _cr
+0000fd50: 6561 7465 5f63 6f6c 756d 6e5f 616e 645f  eate_column_and_
+0000fd60: 7365 745f 7661 6c75 6528 6e65 742c 2069  set_value(net, i
+0000fd70: 6e64 6578 2c20 7864 7373 5f70 752c 2022  ndex, xdss_pu, "
+0000fd80: 7864 7373 5f70 7522 2c20 2267 656e 2229  xdss_pu", "gen")
+0000fd90: 0d0a 2020 2020 5f63 7265 6174 655f 636f  ..    _create_co
+0000fda0: 6c75 6d6e 5f61 6e64 5f73 6574 5f76 616c  lumn_and_set_val
+0000fdb0: 7565 286e 6574 2c20 696e 6465 782c 2072  ue(net, index, r
+0000fdc0: 6473 735f 6f68 6d2c 2022 7264 7373 5f6f  dss_ohm, "rdss_o
+0000fdd0: 686d 222c 2022 6765 6e22 290d 0a20 2020  hm", "gen")..   
+0000fde0: 205f 6372 6561 7465 5f63 6f6c 756d 6e5f   _create_column_
+0000fdf0: 616e 645f 7365 745f 7661 6c75 6528 6e65  and_set_value(ne
+0000fe00: 742c 2069 6e64 6578 2c20 7067 5f70 6572  t, index, pg_per
+0000fe10: 6365 6e74 2c20 2270 675f 7065 7263 656e  cent, "pg_percen
+0000fe20: 7422 2c20 2267 656e 2229 0d0a 2020 2020  t", "gen")..    
+0000fe30: 5f63 7265 6174 655f 636f 6c75 6d6e 5f61  _create_column_a
+0000fe40: 6e64 5f73 6574 5f76 616c 7565 286e 6574  nd_set_value(net
+0000fe50: 2c20 696e 6465 782c 2070 6f77 6572 5f73  , index, power_s
+0000fe60: 7461 7469 6f6e 5f74 7261 666f 2c0d 0a20  tation_trafo,.. 
 0000fe70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000fe80: 2022 706f 7765 725f 7374 6174 696f 6e5f   "power_station_
-0000fe90: 7472 6166 6f22 2c20 2267 656e 2229 0d0a  trafo", "gen")..
-0000fea0: 0d0a 2020 2020 7265 7475 726e 2069 6e64  ..    return ind
-0000feb0: 6578 0d0a 0d0a 0d0a 6465 6620 6372 6561  ex......def crea
-0000fec0: 7465 5f67 656e 7328 6e65 742c 2062 7573  te_gens(net, bus
-0000fed0: 6573 2c20 705f 6d77 2c20 766d 5f70 753d  es, p_mw, vm_pu=
-0000fee0: 312e 2c20 736e 5f6d 7661 3d6e 616e 2c20  1., sn_mva=nan, 
-0000fef0: 6e61 6d65 3d4e 6f6e 652c 2069 6e64 6578  name=None, index
-0000ff00: 3d4e 6f6e 652c 206d 6178 5f71 5f6d 7661  =None, max_q_mva
-0000ff10: 723d 4e6f 6e65 2c0d 0a20 2020 2020 2020  r=None,..       
-0000ff20: 2020 2020 2020 2020 206d 696e 5f71 5f6d           min_q_m
-0000ff30: 7661 723d 4e6f 6e65 2c20 6d69 6e5f 705f  var=None, min_p_
-0000ff40: 6d77 3d4e 6f6e 652c 206d 6178 5f70 5f6d  mw=None, max_p_m
-0000ff50: 773d 4e6f 6e65 2c20 6d69 6e5f 766d 5f70  w=None, min_vm_p
-0000ff60: 753d 4e6f 6e65 2c20 6d61 785f 766d 5f70  u=None, max_vm_p
-0000ff70: 753d 4e6f 6e65 2c0d 0a20 2020 2020 2020  u=None,..       
-0000ff80: 2020 2020 2020 2020 2073 6361 6c69 6e67           scaling
-0000ff90: 3d31 2e2c 2074 7970 653d 4e6f 6e65 2c20  =1., type=None, 
-0000ffa0: 736c 6163 6b3d 4661 6c73 652c 2063 6f6e  slack=False, con
-0000ffb0: 7472 6f6c 6c61 626c 653d 4e6f 6e65 2c20  trollable=None, 
-0000ffc0: 766e 5f6b 763d 4e6f 6e65 2c0d 0a20 2020  vn_kv=None,..   
-0000ffd0: 2020 2020 2020 2020 2020 2020 2078 6473               xds
-0000ffe0: 735f 7075 3d4e 6f6e 652c 2072 6473 735f  s_pu=None, rdss_
-0000fff0: 6f68 6d3d 4e6f 6e65 2c20 636f 735f 7068  ohm=None, cos_ph
-00010000: 693d 4e6f 6e65 2c20 7067 5f70 6572 6365  i=None, pg_perce
-00010010: 6e74 3d4e 6f6e 652c 2070 6f77 6572 5f73  nt=None, power_s
-00010020: 7461 7469 6f6e 5f74 7261 666f 3d4e 6f6e  tation_trafo=Non
-00010030: 652c 0d0a 2020 2020 2020 2020 2020 2020  e,..            
-00010040: 2020 2020 696e 5f73 6572 7669 6365 3d54      in_service=T
-00010050: 7275 652c 2073 6c61 636b 5f77 6569 6768  rue, slack_weigh
-00010060: 743d 302e 302c 202a 2a6b 7761 7267 7329  t=0.0, **kwargs)
-00010070: 3a0d 0a20 2020 2022 2222 0d0a 2020 2020  :..    """..    
-00010080: 4164 6473 2067 656e 6572 6174 6f72 7320  Adds generators 
-00010090: 746f 2074 6865 2073 7065 6369 6669 6564  to the specified
-000100a0: 2062 7573 6573 206e 6574 776f 726b 2e0d   buses network..
-000100b0: 0a0d 0a20 2020 2047 656e 6572 6174 6f72  ...    Generator
-000100c0: 7320 6172 6520 616c 7761 7973 206d 6f64  s are always mod
-000100d0: 656c 6c65 6420 6173 2076 6f6c 7461 6765  elled as voltage
-000100e0: 2063 6f6e 7472 6f6c 6c65 6420 5056 206e   controlled PV n
-000100f0: 6f64 6573 2c20 7768 6963 6820 6973 2077  odes, which is w
-00010100: 6879 2074 6865 2069 6e70 7574 2070 6172  hy the input par
-00010110: 616d 6574 6572 0d0a 2020 2020 6973 2061  ameter..    is a
-00010120: 6374 6976 6520 706f 7765 7220 616e 6420  ctive power and 
-00010130: 6120 766f 6c74 6167 6520 7365 7420 706f  a voltage set po
-00010140: 696e 742e 2049 6620 796f 7520 7761 6e74  int. If you want
-00010150: 2074 6f20 6d6f 6465 6c20 6120 6765 6e65   to model a gene
-00010160: 7261 746f 7220 6173 2050 5120 6c6f 6164  rator as PQ load
-00010170: 2077 6974 6820 6669 7865 640d 0a20 2020   with fixed..   
-00010180: 2072 6561 6374 6976 6520 706f 7765 7220   reactive power 
-00010190: 616e 6420 7661 7269 6162 6c65 2076 6f6c  and variable vol
-000101a0: 7461 6765 2c20 706c 6561 7365 2075 7365  tage, please use
-000101b0: 2061 2073 7461 7469 6320 6765 6e65 7261   a static genera
-000101c0: 746f 7220 696e 7374 6561 642e 0d0a 0d0a  tor instead.....
-000101d0: 2020 2020 494e 5055 543a 0d0a 2020 2020      INPUT:..    
-000101e0: 2020 2020 2a2a 6e65 742a 2a20 2d20 5468      **net** - Th
-000101f0: 6520 6e65 7420 7769 7468 696e 2074 6869  e net within thi
-00010200: 7320 6765 6e65 7261 746f 7220 7368 6f75  s generator shou
-00010210: 6c64 2062 6520 6372 6561 7465 640d 0a0d  ld be created...
-00010220: 0a20 2020 2020 2020 202a 2a62 7573 6573  .        **buses
-00010230: 2a2a 2028 6c69 7374 206f 6620 696e 7429  ** (list of int)
-00010240: 202d 2054 6865 2062 7573 2069 6473 2074   - The bus ids t
-00010250: 6f20 7768 6963 6820 7468 6520 6765 6e65  o which the gene
-00010260: 7261 746f 7273 2061 7265 2063 6f6e 6e65  rators are conne
-00010270: 6374 6564 0d0a 0d0a 2020 2020 4f50 5449  cted....    OPTI
-00010280: 4f4e 414c 3a0d 0a20 2020 2020 2020 202a  ONAL:..        *
-00010290: 2a70 5f6d 772a 2a20 286c 6973 7420 6f66  *p_mw** (list of
-000102a0: 2066 6c6f 6174 2c20 6465 6661 756c 7420   float, default 
-000102b0: 3029 202d 2054 6865 2061 6374 6976 6520  0) - The active 
-000102c0: 706f 7765 7220 6f66 2074 6865 2067 656e  power of the gen
-000102d0: 6572 6174 6f72 2028 706f 7369 7469 7665  erator (positive
-000102e0: 2066 6f72 205c 0d0a 2020 2020 2020 2020   for \..        
-000102f0: 2020 2020 6765 6e65 7261 7469 6f6e 2129      generation!)
-00010300: 0d0a 0d0a 2020 2020 2020 2020 2a2a 766d  ....        **vm
-00010310: 5f70 752a 2a20 286c 6973 7420 6f66 2066  _pu** (list of f
-00010320: 6c6f 6174 2c20 6465 6661 756c 7420 3029  loat, default 0)
-00010330: 202d 2054 6865 2076 6f6c 7461 6765 2073   - The voltage s
-00010340: 6574 2070 6f69 6e74 206f 6620 7468 6520  et point of the 
-00010350: 6765 6e65 7261 746f 722e 0d0a 0d0a 2020  generator.....  
-00010360: 2020 2020 2020 2a2a 736e 5f6d 7661 2a2a        **sn_mva**
-00010370: 2028 6c69 7374 206f 6620 666c 6f61 742c   (list of float,
-00010380: 204e 6f6e 6529 202d 204e 6f6d 696e 616c   None) - Nominal
-00010390: 2070 6f77 6572 206f 6620 7468 6520 6765   power of the ge
-000103a0: 6e65 7261 746f 720d 0a0d 0a20 2020 2020  nerator....     
-000103b0: 2020 202a 2a6e 616d 652a 2a20 286c 6973     **name** (lis
-000103c0: 7420 6f66 2073 7472 696e 672c 204e 6f6e  t of string, Non
-000103d0: 6529 202d 2054 6865 206e 616d 6520 666f  e) - The name fo
-000103e0: 7220 7468 6973 2067 656e 6572 6174 6f72  r this generator
-000103f0: 0d0a 0d0a 2020 2020 2020 2020 2a2a 696e  ....        **in
-00010400: 6465 782a 2a20 286c 6973 7420 6f66 2069  dex** (list of i
-00010410: 6e74 2c20 4e6f 6e65 2920 2d20 466f 7263  nt, None) - Forc
-00010420: 6520 6120 7370 6563 6966 6965 6420 4944  e a specified ID
-00010430: 2069 6620 6974 2069 7320 6176 6169 6c61   if it is availa
-00010440: 626c 652e 2049 6620 4e6f 6e65 2c20 7468  ble. If None, th
-00010450: 6520 696e 6465 785c 0d0a 2020 2020 2020  e index\..      
-00010460: 2020 2020 2020 6f6e 6520 6869 6768 6572        one higher
-00010470: 2074 6861 6e20 7468 6520 6869 6768 6573   than the highes
-00010480: 7420 616c 7265 6164 7920 6578 6973 7469  t already existi
-00010490: 6e67 2069 6e64 6578 2069 7320 7365 6c65  ng index is sele
-000104a0: 6374 6564 2e0d 0a0d 0a20 2020 2020 2020  cted.....       
-000104b0: 202a 2a73 6361 6c69 6e67 2a2a 2028 6c69   **scaling** (li
-000104c0: 7374 206f 6620 666c 6f61 742c 2031 2e30  st of float, 1.0
-000104d0: 2920 2d20 7363 616c 696e 6720 6661 6374  ) - scaling fact
-000104e0: 6f72 2077 6869 6368 2066 6f72 2074 6865  or which for the
-000104f0: 2061 6374 6976 6520 706f 7765 7220 6f66   active power of
-00010500: 2074 6865 5c0d 0a20 2020 2020 2020 2020   the\..         
-00010510: 2020 2067 656e 6572 6174 6f72 0d0a 0d0a     generator....
-00010520: 2020 2020 2020 2020 2a2a 7479 7065 2a2a          **type**
-00010530: 2028 6c69 7374 206f 6620 7374 7269 6e67   (list of string
-00010540: 2c20 4e6f 6e65 2920 2d20 7479 7065 2076  , None) - type v
-00010550: 6172 6961 626c 6520 746f 2063 6c61 7373  ariable to class
-00010560: 6966 7920 6765 6e65 7261 746f 7273 0d0a  ify generators..
-00010570: 0d0a 2020 2020 2020 2020 2a2a 636f 6e74  ..        **cont
-00010580: 726f 6c6c 6162 6c65 2a2a 2028 626f 6f6c  rollable** (bool
-00010590: 2c20 4e61 4e29 202d 2054 7275 653a 2070  , NaN) - True: p
-000105a0: 5f6d 772c 2071 5f6d 7661 7220 616e 6420  _mw, q_mvar and 
-000105b0: 766d 5f70 7520 6c69 6d69 7473 2061 7265  vm_pu limits are
-000105c0: 2065 6e66 6f72 6365 6420 666f 7220 7468   enforced for th
-000105d0: 6973 205c 0d0a 2020 2020 2020 2020 2020  is \..          
-000105e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000105f0: 2020 2020 2020 2020 2020 2020 2067 656e               gen
-00010600: 6572 6174 6f72 2069 6e20 4f50 460d 0a20  erator in OPF.. 
-00010610: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000fe80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000fe90: 2270 6f77 6572 5f73 7461 7469 6f6e 5f74  "power_station_t
+0000fea0: 7261 666f 222c 2022 6765 6e22 290d 0a0d  rafo", "gen")...
+0000feb0: 0a20 2020 2072 6574 7572 6e20 696e 6465  .    return inde
+0000fec0: 780d 0a0d 0a0d 0a64 6566 2063 7265 6174  x......def creat
+0000fed0: 655f 6765 6e73 286e 6574 2c20 6275 7365  e_gens(net, buse
+0000fee0: 732c 2070 5f6d 772c 2076 6d5f 7075 3d31  s, p_mw, vm_pu=1
+0000fef0: 2e2c 2073 6e5f 6d76 613d 6e61 6e2c 206e  ., sn_mva=nan, n
+0000ff00: 616d 653d 4e6f 6e65 2c20 696e 6465 783d  ame=None, index=
+0000ff10: 4e6f 6e65 2c20 6d61 785f 715f 6d76 6172  None, max_q_mvar
+0000ff20: 3d4e 6f6e 652c 0d0a 2020 2020 2020 2020  =None,..        
+0000ff30: 2020 2020 2020 2020 6d69 6e5f 715f 6d76          min_q_mv
+0000ff40: 6172 3d4e 6f6e 652c 206d 696e 5f70 5f6d  ar=None, min_p_m
+0000ff50: 773d 4e6f 6e65 2c20 6d61 785f 705f 6d77  w=None, max_p_mw
+0000ff60: 3d4e 6f6e 652c 206d 696e 5f76 6d5f 7075  =None, min_vm_pu
+0000ff70: 3d4e 6f6e 652c 206d 6178 5f76 6d5f 7075  =None, max_vm_pu
+0000ff80: 3d4e 6f6e 652c 0d0a 2020 2020 2020 2020  =None,..        
+0000ff90: 2020 2020 2020 2020 7363 616c 696e 673d          scaling=
+0000ffa0: 312e 2c20 7479 7065 3d4e 6f6e 652c 2073  1., type=None, s
+0000ffb0: 6c61 636b 3d46 616c 7365 2c20 636f 6e74  lack=False, cont
+0000ffc0: 726f 6c6c 6162 6c65 3d4e 6f6e 652c 2076  rollable=None, v
+0000ffd0: 6e5f 6b76 3d4e 6f6e 652c 0d0a 2020 2020  n_kv=None,..    
+0000ffe0: 2020 2020 2020 2020 2020 2020 7864 7373              xdss
+0000fff0: 5f70 753d 4e6f 6e65 2c20 7264 7373 5f6f  _pu=None, rdss_o
+00010000: 686d 3d4e 6f6e 652c 2063 6f73 5f70 6869  hm=None, cos_phi
+00010010: 3d4e 6f6e 652c 2070 675f 7065 7263 656e  =None, pg_percen
+00010020: 743d 4e6f 6e65 2c20 706f 7765 725f 7374  t=None, power_st
+00010030: 6174 696f 6e5f 7472 6166 6f3d 4e6f 6e65  ation_trafo=None
+00010040: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
+00010050: 2020 2069 6e5f 7365 7276 6963 653d 5472     in_service=Tr
+00010060: 7565 2c20 736c 6163 6b5f 7765 6967 6874  ue, slack_weight
+00010070: 3d30 2e30 2c20 2a2a 6b77 6172 6773 293a  =0.0, **kwargs):
+00010080: 0d0a 2020 2020 2222 220d 0a20 2020 2041  ..    """..    A
+00010090: 6464 7320 6765 6e65 7261 746f 7273 2074  dds generators t
+000100a0: 6f20 7468 6520 7370 6563 6966 6965 6420  o the specified 
+000100b0: 6275 7365 7320 6e65 7477 6f72 6b2e 0d0a  buses network...
+000100c0: 0d0a 2020 2020 4765 6e65 7261 746f 7273  ..    Generators
+000100d0: 2061 7265 2061 6c77 6179 7320 6d6f 6465   are always mode
+000100e0: 6c6c 6564 2061 7320 766f 6c74 6167 6520  lled as voltage 
+000100f0: 636f 6e74 726f 6c6c 6564 2050 5620 6e6f  controlled PV no
+00010100: 6465 732c 2077 6869 6368 2069 7320 7768  des, which is wh
+00010110: 7920 7468 6520 696e 7075 7420 7061 7261  y the input para
+00010120: 6d65 7465 720d 0a20 2020 2069 7320 6163  meter..    is ac
+00010130: 7469 7665 2070 6f77 6572 2061 6e64 2061  tive power and a
+00010140: 2076 6f6c 7461 6765 2073 6574 2070 6f69   voltage set poi
+00010150: 6e74 2e20 4966 2079 6f75 2077 616e 7420  nt. If you want 
+00010160: 746f 206d 6f64 656c 2061 2067 656e 6572  to model a gener
+00010170: 6174 6f72 2061 7320 5051 206c 6f61 6420  ator as PQ load 
+00010180: 7769 7468 2066 6978 6564 0d0a 2020 2020  with fixed..    
+00010190: 7265 6163 7469 7665 2070 6f77 6572 2061  reactive power a
+000101a0: 6e64 2076 6172 6961 626c 6520 766f 6c74  nd variable volt
+000101b0: 6167 652c 2070 6c65 6173 6520 7573 6520  age, please use 
+000101c0: 6120 7374 6174 6963 2067 656e 6572 6174  a static generat
+000101d0: 6f72 2069 6e73 7465 6164 2e0d 0a0d 0a20  or instead..... 
+000101e0: 2020 2049 4e50 5554 3a0d 0a20 2020 2020     INPUT:..     
+000101f0: 2020 202a 2a6e 6574 2a2a 202d 2054 6865     **net** - The
+00010200: 206e 6574 2077 6974 6869 6e20 7468 6973   net within this
+00010210: 2067 656e 6572 6174 6f72 2073 686f 756c   generator shoul
+00010220: 6420 6265 2063 7265 6174 6564 0d0a 0d0a  d be created....
+00010230: 2020 2020 2020 2020 2a2a 6275 7365 732a          **buses*
+00010240: 2a20 286c 6973 7420 6f66 2069 6e74 2920  * (list of int) 
+00010250: 2d20 5468 6520 6275 7320 6964 7320 746f  - The bus ids to
+00010260: 2077 6869 6368 2074 6865 2067 656e 6572   which the gener
+00010270: 6174 6f72 7320 6172 6520 636f 6e6e 6563  ators are connec
+00010280: 7465 640d 0a0d 0a20 2020 204f 5054 494f  ted....    OPTIO
+00010290: 4e41 4c3a 0d0a 2020 2020 2020 2020 2a2a  NAL:..        **
+000102a0: 705f 6d77 2a2a 2028 6c69 7374 206f 6620  p_mw** (list of 
+000102b0: 666c 6f61 742c 2064 6566 6175 6c74 2030  float, default 0
+000102c0: 2920 2d20 5468 6520 6163 7469 7665 2070  ) - The active p
+000102d0: 6f77 6572 206f 6620 7468 6520 6765 6e65  ower of the gene
+000102e0: 7261 746f 7220 2870 6f73 6974 6976 6520  rator (positive 
+000102f0: 666f 7220 5c0d 0a20 2020 2020 2020 2020  for \..         
+00010300: 2020 2067 656e 6572 6174 696f 6e21 290d     generation!).
+00010310: 0a0d 0a20 2020 2020 2020 202a 2a76 6d5f  ...        **vm_
+00010320: 7075 2a2a 2028 6c69 7374 206f 6620 666c  pu** (list of fl
+00010330: 6f61 742c 2064 6566 6175 6c74 2030 2920  oat, default 0) 
+00010340: 2d20 5468 6520 766f 6c74 6167 6520 7365  - The voltage se
+00010350: 7420 706f 696e 7420 6f66 2074 6865 2067  t point of the g
+00010360: 656e 6572 6174 6f72 2e0d 0a0d 0a20 2020  enerator.....   
+00010370: 2020 2020 202a 2a73 6e5f 6d76 612a 2a20       **sn_mva** 
+00010380: 286c 6973 7420 6f66 2066 6c6f 6174 2c20  (list of float, 
+00010390: 4e6f 6e65 2920 2d20 4e6f 6d69 6e61 6c20  None) - Nominal 
+000103a0: 706f 7765 7220 6f66 2074 6865 2067 656e  power of the gen
+000103b0: 6572 6174 6f72 0d0a 0d0a 2020 2020 2020  erator....      
+000103c0: 2020 2a2a 6e61 6d65 2a2a 2028 6c69 7374    **name** (list
+000103d0: 206f 6620 7374 7269 6e67 2c20 4e6f 6e65   of string, None
+000103e0: 2920 2d20 5468 6520 6e61 6d65 2066 6f72  ) - The name for
+000103f0: 2074 6869 7320 6765 6e65 7261 746f 720d   this generator.
+00010400: 0a0d 0a20 2020 2020 2020 202a 2a69 6e64  ...        **ind
+00010410: 6578 2a2a 2028 6c69 7374 206f 6620 696e  ex** (list of in
+00010420: 742c 204e 6f6e 6529 202d 2046 6f72 6365  t, None) - Force
+00010430: 2061 2073 7065 6369 6669 6564 2049 4420   a specified ID 
+00010440: 6966 2069 7420 6973 2061 7661 696c 6162  if it is availab
+00010450: 6c65 2e20 4966 204e 6f6e 652c 2074 6865  le. If None, the
+00010460: 2069 6e64 6578 5c0d 0a20 2020 2020 2020   index\..       
+00010470: 2020 2020 206f 6e65 2068 6967 6865 7220       one higher 
+00010480: 7468 616e 2074 6865 2068 6967 6865 7374  than the highest
+00010490: 2061 6c72 6561 6479 2065 7869 7374 696e   already existin
+000104a0: 6720 696e 6465 7820 6973 2073 656c 6563  g index is selec
+000104b0: 7465 642e 0d0a 0d0a 2020 2020 2020 2020  ted.....        
+000104c0: 2a2a 7363 616c 696e 672a 2a20 286c 6973  **scaling** (lis
+000104d0: 7420 6f66 2066 6c6f 6174 2c20 312e 3029  t of float, 1.0)
+000104e0: 202d 2073 6361 6c69 6e67 2066 6163 746f   - scaling facto
+000104f0: 7220 7768 6963 6820 666f 7220 7468 6520  r which for the 
+00010500: 6163 7469 7665 2070 6f77 6572 206f 6620  active power of 
+00010510: 7468 655c 0d0a 2020 2020 2020 2020 2020  the\..          
+00010520: 2020 6765 6e65 7261 746f 720d 0a0d 0a20    generator.... 
+00010530: 2020 2020 2020 202a 2a74 7970 652a 2a20         **type** 
+00010540: 286c 6973 7420 6f66 2073 7472 696e 672c  (list of string,
+00010550: 204e 6f6e 6529 202d 2074 7970 6520 7661   None) - type va
+00010560: 7269 6162 6c65 2074 6f20 636c 6173 7369  riable to classi
+00010570: 6679 2067 656e 6572 6174 6f72 730d 0a0d  fy generators...
+00010580: 0a20 2020 2020 2020 202a 2a63 6f6e 7472  .        **contr
+00010590: 6f6c 6c61 626c 652a 2a20 2862 6f6f 6c2c  ollable** (bool,
+000105a0: 204e 614e 2920 2d20 5472 7565 3a20 705f   NaN) - True: p_
+000105b0: 6d77 2c20 715f 6d76 6172 2061 6e64 2076  mw, q_mvar and v
+000105c0: 6d5f 7075 206c 696d 6974 7320 6172 6520  m_pu limits are 
+000105d0: 656e 666f 7263 6564 2066 6f72 2074 6869  enforced for thi
+000105e0: 7320 5c0d 0a20 2020 2020 2020 2020 2020  s \..           
+000105f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010600: 2020 2020 2020 2020 2020 2020 6765 6e65              gene
+00010610: 7261 746f 7220 696e 204f 5046 0d0a 2020  rator in OPF..  
 00010620: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010630: 2020 2020 2020 4661 6c73 653a 2070 5f6d        False: p_m
-00010640: 7720 616e 6420 766d 5f70 7520 7365 7470  w and vm_pu setp
-00010650: 6f69 6e74 7320 6172 6520 656e 666f 7263  oints are enforc
-00010660: 6564 2061 6e64 205c 0d0a 2020 2020 2020  ed and \..      
-00010670: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010630: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010640: 2020 2020 2046 616c 7365 3a20 705f 6d77       False: p_mw
+00010650: 2061 6e64 2076 6d5f 7075 2073 6574 706f   and vm_pu setpo
+00010660: 696e 7473 2061 7265 2065 6e66 6f72 6365  ints are enforce
+00010670: 6420 616e 6420 5c0d 0a20 2020 2020 2020  d and \..       
 00010680: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010690: 202a 6c69 6d69 7473 2061 7265 2069 676e   *limits are ign
-000106a0: 6f72 6564 2a2e 0d0a 2020 2020 2020 2020  ored*...        
-000106b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000106c0: 2020 2020 2020 2020 2020 2020 2020 2064                 d
-000106d0: 6566 6175 6c74 7320 746f 2054 7275 6520  efaults to True 
-000106e0: 6966 2022 636f 6e74 726f 6c6c 6162 6c65  if "controllable
-000106f0: 2220 636f 6c75 6d6e 2065 7869 7374 7320  " column exists 
-00010700: 696e 2044 6174 6146 7261 6d65 0d0a 2020  in DataFrame..  
-00010710: 2020 2020 2020 706f 7765 7266 6c6f 770d        powerflow.
-00010720: 0a0d 0a20 2020 2020 2020 202a 2a76 6e5f  ...        **vn_
-00010730: 6b76 2a2a 2028 6c69 7374 206f 6620 666c  kv** (list of fl
-00010740: 6f61 742c 204e 614e 2920 2d20 5261 7465  oat, NaN) - Rate
-00010750: 6420 766f 6c74 6167 6520 6f66 2074 6865  d voltage of the
-00010760: 2067 656e 6572 6174 6f72 2066 6f72 2073   generator for s
-00010770: 686f 7274 2d63 6972 6375 6974 205c 0d0a  hort-circuit \..
-00010780: 2020 2020 2020 2020 2020 2020 6361 6c63              calc
-00010790: 756c 6174 696f 6e0d 0a0d 0a20 2020 2020  ulation....     
-000107a0: 2020 202a 2a78 6473 735f 7075 2a2a 2028     **xdss_pu** (
-000107b0: 6c69 7374 206f 6620 666c 6f61 742c 204e  list of float, N
-000107c0: 614e 2920 2d20 5375 6274 7261 6e73 6965  aN) - Subtransie
-000107d0: 6e74 2067 656e 6572 6174 6f72 2072 6561  nt generator rea
-000107e0: 6374 616e 6365 2066 6f72 2073 686f 7274  ctance for short
-000107f0: 2d63 6972 6375 6974 205c 0d0a 2020 2020  -circuit \..    
-00010800: 2020 2020 2020 2020 6361 6c63 756c 6174          calculat
-00010810: 696f 6e0d 0a0d 0a20 2020 2020 2020 202a  ion....        *
-00010820: 2a72 6473 735f 6f68 6d2a 2a20 286c 6973  *rdss_ohm** (lis
-00010830: 7420 6f66 2066 6c6f 6174 2c20 4e61 4e29  t of float, NaN)
-00010840: 202d 2053 7562 7472 616e 7369 656e 7420   - Subtransient 
-00010850: 6765 6e65 7261 746f 7220 7265 7369 7374  generator resist
-00010860: 616e 6365 2066 6f72 2073 686f 7274 2d63  ance for short-c
-00010870: 6972 6375 6974 205c 0d0a 2020 2020 2020  ircuit \..      
-00010880: 2020 2020 2020 6361 6c63 756c 6174 696f        calculatio
-00010890: 6e0d 0a0d 0a20 2020 2020 2020 202a 2a63  n....        **c
-000108a0: 6f73 5f70 6869 2a2a 2028 6c69 7374 206f  os_phi** (list o
-000108b0: 6620 666c 6f61 742c 204e 614e 2920 2d20  f float, NaN) - 
-000108c0: 5261 7465 6420 636f 7369 6e65 2070 6869  Rated cosine phi
-000108d0: 206f 6620 7468 6520 6765 6e65 7261 746f   of the generato
-000108e0: 7220 666f 7220 7368 6f72 742d 6369 7263  r for short-circ
-000108f0: 7569 7420 5c0d 0a20 2020 2020 2020 2020  uit \..         
-00010900: 2020 2063 616c 6375 6c61 7469 6f6e 0d0a     calculation..
-00010910: 0d0a 2020 2020 2020 2020 2a2a 7067 5f70  ..        **pg_p
-00010920: 6572 6365 6e74 2a2a 2028 666c 6f61 742c  ercent** (float,
-00010930: 204e 614e 2920 2d20 5261 7465 6420 7067   NaN) - Rated pg
-00010940: 2028 766f 6c74 6167 6520 636f 6e74 726f   (voltage contro
-00010950: 6c20 7261 6e67 6529 206f 6620 7468 6520  l range) of the 
-00010960: 6765 6e65 7261 746f 7220 666f 7220 5c0d  generator for \.
-00010970: 0a20 2020 2020 2020 2020 2020 2073 686f  .            sho
-00010980: 7274 2d63 6972 6375 6974 2063 616c 6375  rt-circuit calcu
-00010990: 6c61 7469 6f6e 0d0a 0d0a 2020 2020 2020  lation....      
-000109a0: 2020 2a2a 706f 7765 725f 7374 6174 696f    **power_statio
-000109b0: 6e5f 7472 6166 6f2a 2a20 2869 6e74 2c20  n_trafo** (int, 
-000109c0: 4e6f 6e65 2920 2d20 496e 6465 7820 6f66  None) - Index of
-000109d0: 2074 6865 2070 6f77 6572 2073 7461 7469   the power stati
-000109e0: 6f6e 2074 7261 6e73 666f 726d 6572 2066  on transformer f
-000109f0: 6f72 2073 686f 7274 2d63 6972 6375 6974  or short-circuit
-00010a00: 2063 616c 6375 6c61 7469 6f6e 0d0a 0d0a   calculation....
-00010a10: 2020 2020 2020 2020 2a2a 696e 5f73 6572          **in_ser
-00010a20: 7669 6365 2a2a 2028 626f 6f6c 2c20 5472  vice** (bool, Tr
-00010a30: 7565 2920 2d20 5472 7565 2066 6f72 2069  ue) - True for i
-00010a40: 6e5f 7365 7276 6963 6520 6f72 2046 616c  n_service or Fal
-00010a50: 7365 2066 6f72 206f 7574 206f 6620 7365  se for out of se
-00010a60: 7276 6963 650d 0a0d 0a20 2020 2020 2020  rvice....       
-00010a70: 202a 2a73 6c61 636b 5f77 6569 6768 742a   **slack_weight*
-00010a80: 2a20 2866 6c6f 6174 2c20 6465 6661 756c  * (float, defaul
-00010a90: 7420 302e 3029 202d 2043 6f6e 7472 6962  t 0.0) - Contrib
-00010aa0: 7574 696f 6e20 6661 6374 6f72 2066 6f72  ution factor for
-00010ab0: 2064 6973 7472 6962 7574 6564 2073 6c61   distributed sla
-00010ac0: 636b 2070 6f77 6572 2066 6c6f 7720 6361  ck power flow ca
-00010ad0: 6c63 756c 6174 696f 6e20 2861 6374 6976  lculation (activ
-00010ae0: 6520 706f 7765 7220 6261 6c61 6e63 696e  e power balancin
-00010af0: 6729 0d0a 0d0a 2020 2020 2020 2020 2a2a  g)....        **
-00010b00: 6d61 785f 705f 6d77 2a2a 2028 6c69 7374  max_p_mw** (list
-00010b10: 206f 6620 666c 6f61 742c 2064 6566 6175   of float, defau
-00010b20: 6c74 204e 614e 2920 2d20 4d61 7869 6d75  lt NaN) - Maximu
-00010b30: 6d20 6163 7469 7665 2070 6f77 6572 2069  m active power i
-00010b40: 6e6a 6563 7469 6f6e 202d 206e 6563 6573  njection - neces
-00010b50: 7361 7279 2066 6f72 5c0d 0a20 2020 2020  sary for\..     
-00010b60: 2020 2020 2020 204f 5046 0d0a 0d0a 2020         OPF....  
-00010b70: 2020 2020 2020 2a2a 6d69 6e5f 705f 6d77        **min_p_mw
-00010b80: 2a2a 2028 6c69 7374 206f 6620 666c 6f61  ** (list of floa
-00010b90: 742c 2064 6566 6175 6c74 204e 614e 2920  t, default NaN) 
-00010ba0: 2d20 4d69 6e69 6d75 6d20 6163 7469 7665  - Minimum active
-00010bb0: 2070 6f77 6572 2069 6e6a 6563 7469 6f6e   power injection
-00010bc0: 202d 206e 6563 6573 7361 7279 2066 6f72   - necessary for
-00010bd0: 205c 0d0a 2020 2020 2020 2020 2020 2020   \..            
-00010be0: 4f50 460d 0a0d 0a20 2020 2020 2020 202a  OPF....        *
-00010bf0: 2a6d 6178 5f71 5f6d 7661 722a 2a20 286c  *max_q_mvar** (l
-00010c00: 6973 7420 6f66 2066 6c6f 6174 2c20 6465  ist of float, de
-00010c10: 6661 756c 7420 4e61 4e29 202d 204d 6178  fault NaN) - Max
-00010c20: 696d 756d 2072 6561 6374 6976 6520 706f  imum reactive po
-00010c30: 7765 7220 696e 6a65 6374 696f 6e20 2d20  wer injection - 
-00010c40: 6e65 6365 7373 6172 795c 0d0a 2020 2020  necessary\..    
-00010c50: 2020 2020 2020 2020 666f 7220 4f50 460d          for OPF.
-00010c60: 0a0d 0a20 2020 2020 2020 202a 2a6d 696e  ...        **min
-00010c70: 5f71 5f6d 7661 722a 2a20 286c 6973 7420  _q_mvar** (list 
-00010c80: 6f66 2066 6c6f 6174 2c20 6465 6661 756c  of float, defaul
-00010c90: 7420 4e61 4e29 202d 204d 696e 696d 756d  t NaN) - Minimum
-00010ca0: 2072 6561 6374 6976 6520 706f 7765 7220   reactive power 
-00010cb0: 696e 6a65 6374 696f 6e20 2d20 6e65 6365  injection - nece
-00010cc0: 7373 6172 7920 5c0d 0a20 2020 2020 2020  ssary \..       
-00010cd0: 2020 2020 2066 6f72 204f 5046 0d0a 0d0a       for OPF....
-00010ce0: 2020 2020 2020 2020 2a2a 6d69 6e5f 766d          **min_vm
-00010cf0: 5f70 752a 2a20 286c 6973 7420 6f66 2066  _pu** (list of f
-00010d00: 6c6f 6174 2c20 6465 6661 756c 7420 4e61  loat, default Na
-00010d10: 4e29 202d 204d 696e 696d 756d 2076 6f6c  N) - Minimum vol
-00010d20: 7461 6765 206d 6167 6e69 7475 6465 2e20  tage magnitude. 
-00010d30: 4966 206e 6f74 2073 6574 2074 6865 205c  If not set the \
-00010d40: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00010d50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010690: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000106a0: 2a6c 696d 6974 7320 6172 6520 6967 6e6f  *limits are igno
+000106b0: 7265 642a 2e0d 0a20 2020 2020 2020 2020  red*...         
+000106c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000106d0: 2020 2020 2020 2020 2020 2020 2020 6465                de
+000106e0: 6661 756c 7473 2074 6f20 5472 7565 2069  faults to True i
+000106f0: 6620 2263 6f6e 7472 6f6c 6c61 626c 6522  f "controllable"
+00010700: 2063 6f6c 756d 6e20 6578 6973 7473 2069   column exists i
+00010710: 6e20 4461 7461 4672 616d 650d 0a20 2020  n DataFrame..   
+00010720: 2020 2020 2070 6f77 6572 666c 6f77 0d0a       powerflow..
+00010730: 0d0a 2020 2020 2020 2020 2a2a 766e 5f6b  ..        **vn_k
+00010740: 762a 2a20 286c 6973 7420 6f66 2066 6c6f  v** (list of flo
+00010750: 6174 2c20 4e61 4e29 202d 2052 6174 6564  at, NaN) - Rated
+00010760: 2076 6f6c 7461 6765 206f 6620 7468 6520   voltage of the 
+00010770: 6765 6e65 7261 746f 7220 666f 7220 7368  generator for sh
+00010780: 6f72 742d 6369 7263 7569 7420 5c0d 0a20  ort-circuit \.. 
+00010790: 2020 2020 2020 2020 2020 2063 616c 6375             calcu
+000107a0: 6c61 7469 6f6e 0d0a 0d0a 2020 2020 2020  lation....      
+000107b0: 2020 2a2a 7864 7373 5f70 752a 2a20 286c    **xdss_pu** (l
+000107c0: 6973 7420 6f66 2066 6c6f 6174 2c20 4e61  ist of float, Na
+000107d0: 4e29 202d 2053 7562 7472 616e 7369 656e  N) - Subtransien
+000107e0: 7420 6765 6e65 7261 746f 7220 7265 6163  t generator reac
+000107f0: 7461 6e63 6520 666f 7220 7368 6f72 742d  tance for short-
+00010800: 6369 7263 7569 7420 5c0d 0a20 2020 2020  circuit \..     
+00010810: 2020 2020 2020 2063 616c 6375 6c61 7469         calculati
+00010820: 6f6e 0d0a 0d0a 2020 2020 2020 2020 2a2a  on....        **
+00010830: 7264 7373 5f6f 686d 2a2a 2028 6c69 7374  rdss_ohm** (list
+00010840: 206f 6620 666c 6f61 742c 204e 614e 2920   of float, NaN) 
+00010850: 2d20 5375 6274 7261 6e73 6965 6e74 2067  - Subtransient g
+00010860: 656e 6572 6174 6f72 2072 6573 6973 7461  enerator resista
+00010870: 6e63 6520 666f 7220 7368 6f72 742d 6369  nce for short-ci
+00010880: 7263 7569 7420 5c0d 0a20 2020 2020 2020  rcuit \..       
+00010890: 2020 2020 2063 616c 6375 6c61 7469 6f6e       calculation
+000108a0: 0d0a 0d0a 2020 2020 2020 2020 2a2a 636f  ....        **co
+000108b0: 735f 7068 692a 2a20 286c 6973 7420 6f66  s_phi** (list of
+000108c0: 2066 6c6f 6174 2c20 4e61 4e29 202d 2052   float, NaN) - R
+000108d0: 6174 6564 2063 6f73 696e 6520 7068 6920  ated cosine phi 
+000108e0: 6f66 2074 6865 2067 656e 6572 6174 6f72  of the generator
+000108f0: 2066 6f72 2073 686f 7274 2d63 6972 6375   for short-circu
+00010900: 6974 205c 0d0a 2020 2020 2020 2020 2020  it \..          
+00010910: 2020 6361 6c63 756c 6174 696f 6e0d 0a0d    calculation...
+00010920: 0a20 2020 2020 2020 202a 2a70 675f 7065  .        **pg_pe
+00010930: 7263 656e 742a 2a20 2866 6c6f 6174 2c20  rcent** (float, 
+00010940: 4e61 4e29 202d 2052 6174 6564 2070 6720  NaN) - Rated pg 
+00010950: 2876 6f6c 7461 6765 2063 6f6e 7472 6f6c  (voltage control
+00010960: 2072 616e 6765 2920 6f66 2074 6865 2067   range) of the g
+00010970: 656e 6572 6174 6f72 2066 6f72 205c 0d0a  enerator for \..
+00010980: 2020 2020 2020 2020 2020 2020 7368 6f72              shor
+00010990: 742d 6369 7263 7569 7420 6361 6c63 756c  t-circuit calcul
+000109a0: 6174 696f 6e0d 0a0d 0a20 2020 2020 2020  ation....       
+000109b0: 202a 2a70 6f77 6572 5f73 7461 7469 6f6e   **power_station
+000109c0: 5f74 7261 666f 2a2a 2028 696e 742c 204e  _trafo** (int, N
+000109d0: 6f6e 6529 202d 2049 6e64 6578 206f 6620  one) - Index of 
+000109e0: 7468 6520 706f 7765 7220 7374 6174 696f  the power statio
+000109f0: 6e20 7472 616e 7366 6f72 6d65 7220 666f  n transformer fo
+00010a00: 7220 7368 6f72 742d 6369 7263 7569 7420  r short-circuit 
+00010a10: 6361 6c63 756c 6174 696f 6e0d 0a0d 0a20  calculation.... 
+00010a20: 2020 2020 2020 202a 2a69 6e5f 7365 7276         **in_serv
+00010a30: 6963 652a 2a20 2862 6f6f 6c2c 2054 7275  ice** (bool, Tru
+00010a40: 6529 202d 2054 7275 6520 666f 7220 696e  e) - True for in
+00010a50: 5f73 6572 7669 6365 206f 7220 4661 6c73  _service or Fals
+00010a60: 6520 666f 7220 6f75 7420 6f66 2073 6572  e for out of ser
+00010a70: 7669 6365 0d0a 0d0a 2020 2020 2020 2020  vice....        
+00010a80: 2a2a 736c 6163 6b5f 7765 6967 6874 2a2a  **slack_weight**
+00010a90: 2028 666c 6f61 742c 2064 6566 6175 6c74   (float, default
+00010aa0: 2030 2e30 2920 2d20 436f 6e74 7269 6275   0.0) - Contribu
+00010ab0: 7469 6f6e 2066 6163 746f 7220 666f 7220  tion factor for 
+00010ac0: 6469 7374 7269 6275 7465 6420 736c 6163  distributed slac
+00010ad0: 6b20 706f 7765 7220 666c 6f77 2063 616c  k power flow cal
+00010ae0: 6375 6c61 7469 6f6e 2028 6163 7469 7665  culation (active
+00010af0: 2070 6f77 6572 2062 616c 616e 6369 6e67   power balancing
+00010b00: 290d 0a0d 0a20 2020 2020 2020 202a 2a6d  )....        **m
+00010b10: 6178 5f70 5f6d 772a 2a20 286c 6973 7420  ax_p_mw** (list 
+00010b20: 6f66 2066 6c6f 6174 2c20 6465 6661 756c  of float, defaul
+00010b30: 7420 4e61 4e29 202d 204d 6178 696d 756d  t NaN) - Maximum
+00010b40: 2061 6374 6976 6520 706f 7765 7220 696e   active power in
+00010b50: 6a65 6374 696f 6e20 2d20 6e65 6365 7373  jection - necess
+00010b60: 6172 7920 666f 725c 0d0a 2020 2020 2020  ary for\..      
+00010b70: 2020 2020 2020 4f50 460d 0a0d 0a20 2020        OPF....   
+00010b80: 2020 2020 202a 2a6d 696e 5f70 5f6d 772a       **min_p_mw*
+00010b90: 2a20 286c 6973 7420 6f66 2066 6c6f 6174  * (list of float
+00010ba0: 2c20 6465 6661 756c 7420 4e61 4e29 202d  , default NaN) -
+00010bb0: 204d 696e 696d 756d 2061 6374 6976 6520   Minimum active 
+00010bc0: 706f 7765 7220 696e 6a65 6374 696f 6e20  power injection 
+00010bd0: 2d20 6e65 6365 7373 6172 7920 666f 7220  - necessary for 
+00010be0: 5c0d 0a20 2020 2020 2020 2020 2020 204f  \..            O
+00010bf0: 5046 0d0a 0d0a 2020 2020 2020 2020 2a2a  PF....        **
+00010c00: 6d61 785f 715f 6d76 6172 2a2a 2028 6c69  max_q_mvar** (li
+00010c10: 7374 206f 6620 666c 6f61 742c 2064 6566  st of float, def
+00010c20: 6175 6c74 204e 614e 2920 2d20 4d61 7869  ault NaN) - Maxi
+00010c30: 6d75 6d20 7265 6163 7469 7665 2070 6f77  mum reactive pow
+00010c40: 6572 2069 6e6a 6563 7469 6f6e 202d 206e  er injection - n
+00010c50: 6563 6573 7361 7279 5c0d 0a20 2020 2020  ecessary\..     
+00010c60: 2020 2020 2020 2066 6f72 204f 5046 0d0a         for OPF..
+00010c70: 0d0a 2020 2020 2020 2020 2a2a 6d69 6e5f  ..        **min_
+00010c80: 715f 6d76 6172 2a2a 2028 6c69 7374 206f  q_mvar** (list o
+00010c90: 6620 666c 6f61 742c 2064 6566 6175 6c74  f float, default
+00010ca0: 204e 614e 2920 2d20 4d69 6e69 6d75 6d20   NaN) - Minimum 
+00010cb0: 7265 6163 7469 7665 2070 6f77 6572 2069  reactive power i
+00010cc0: 6e6a 6563 7469 6f6e 202d 206e 6563 6573  njection - neces
+00010cd0: 7361 7279 205c 0d0a 2020 2020 2020 2020  sary \..        
+00010ce0: 2020 2020 666f 7220 4f50 460d 0a0d 0a20      for OPF.... 
+00010cf0: 2020 2020 2020 202a 2a6d 696e 5f76 6d5f         **min_vm_
+00010d00: 7075 2a2a 2028 6c69 7374 206f 6620 666c  pu** (list of fl
+00010d10: 6f61 742c 2064 6566 6175 6c74 204e 614e  oat, default NaN
+00010d20: 2920 2d20 4d69 6e69 6d75 6d20 766f 6c74  ) - Minimum volt
+00010d30: 6167 6520 6d61 676e 6974 7564 652e 2049  age magnitude. I
+00010d40: 6620 6e6f 7420 7365 7420 7468 6520 5c0d  f not set the \.
+00010d50: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
 00010d60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010d70: 2020 2020 2020 2062 7573 2076 6f6c 7461         bus volta
-00010d80: 6765 206c 696d 6974 2069 7320 7461 6b65  ge limit is take
-00010d90: 6e2e 0d0a 2020 2020 2020 2020 2020 2020  n...            
-00010da0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010d70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010d80: 2020 2020 2020 6275 7320 766f 6c74 6167        bus voltag
+00010d90: 6520 6c69 6d69 7420 6973 2074 616b 656e  e limit is taken
+00010da0: 2e0d 0a20 2020 2020 2020 2020 2020 2020  ...             
 00010db0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010dc0: 2020 2020 2020 202d 206e 6563 6573 7361         - necessa
-00010dd0: 7279 2066 6f72 204f 5046 2e0d 0a0d 0a20  ry for OPF..... 
-00010de0: 2020 2020 2020 202a 2a6d 6178 5f76 6d5f         **max_vm_
-00010df0: 7075 2a2a 2028 6c69 7374 206f 6620 666c  pu** (list of fl
-00010e00: 6f61 742c 2064 6566 6175 6c74 204e 614e  oat, default NaN
-00010e10: 2920 2d20 4d61 7869 6d75 6d20 766f 6c74  ) - Maximum volt
-00010e20: 6167 6520 6d61 676e 6974 7564 652e 2049  age magnitude. I
-00010e30: 6620 6e6f 7420 7365 7420 7468 6520 6275  f not set the bu
-00010e40: 735c 0d0a 2020 2020 2020 2020 2020 2020  s\..            
-00010e50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010dc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010dd0: 2020 2020 2020 2d20 6e65 6365 7373 6172        - necessar
+00010de0: 7920 666f 7220 4f50 462e 0d0a 0d0a 2020  y for OPF.....  
+00010df0: 2020 2020 2020 2a2a 6d61 785f 766d 5f70        **max_vm_p
+00010e00: 752a 2a20 286c 6973 7420 6f66 2066 6c6f  u** (list of flo
+00010e10: 6174 2c20 6465 6661 756c 7420 4e61 4e29  at, default NaN)
+00010e20: 202d 204d 6178 696d 756d 2076 6f6c 7461   - Maximum volta
+00010e30: 6765 206d 6167 6e69 7475 6465 2e20 4966  ge magnitude. If
+00010e40: 206e 6f74 2073 6574 2074 6865 2062 7573   not set the bus
+00010e50: 5c0d 0a20 2020 2020 2020 2020 2020 2020  \..             
 00010e60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010e70: 2020 2020 2020 2020 2020 766f 6c74 6167            voltag
-00010e80: 6520 6c69 6d69 7420 6973 2074 616b 656e  e limit is taken
-00010e90: 2e0d 0a20 2020 2020 2020 2020 2020 2020  ...             
-00010ea0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010e70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010e80: 2020 2020 2020 2020 2076 6f6c 7461 6765           voltage
+00010e90: 206c 696d 6974 2069 7320 7461 6b65 6e2e   limit is taken.
+00010ea0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
 00010eb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010ec0: 2020 2020 2020 202d 206e 6563 6573 7361         - necessa
-00010ed0: 7279 2066 6f72 204f 5046 0d0a 0d0a 2020  ry for OPF....  
-00010ee0: 2020 4f55 5450 5554 3a0d 0a20 2020 2020    OUTPUT:..     
-00010ef0: 2020 202a 2a69 6e64 6578 2a2a 2028 696e     **index** (in
-00010f00: 7429 202d 2054 6865 2075 6e69 7175 6520  t) - The unique 
-00010f10: 4944 206f 6620 7468 6520 6372 6561 7465  ID of the create
-00010f20: 6420 6765 6e65 7261 746f 720d 0a0d 0a20  d generator.... 
-00010f30: 2020 2045 5841 4d50 4c45 3a0d 0a20 2020     EXAMPLE:..   
-00010f40: 2020 2020 2063 7265 6174 655f 6765 6e28       create_gen(
-00010f50: 6e65 742c 2031 2c20 705f 6d77 203d 2031  net, 1, p_mw = 1
-00010f60: 3230 2c20 766d 5f70 7520 3d20 312e 3032  20, vm_pu = 1.02
-00010f70: 290d 0a0d 0a20 2020 2022 2222 0d0a 2020  )....    """..  
-00010f80: 2020 5f63 6865 636b 5f6d 756c 7469 706c    _check_multipl
-00010f90: 655f 6e6f 6465 5f65 6c65 6d65 6e74 7328  e_node_elements(
-00010fa0: 6e65 742c 2062 7573 6573 290d 0a0d 0a20  net, buses).... 
-00010fb0: 2020 2069 6e64 6578 203d 205f 6765 745f     index = _get_
-00010fc0: 6d75 6c74 6970 6c65 5f69 6e64 6578 5f77  multiple_index_w
-00010fd0: 6974 685f 6368 6563 6b28 6e65 742c 2022  ith_check(net, "
-00010fe0: 6765 6e22 2c20 696e 6465 782c 206c 656e  gen", index, len
-00010ff0: 2862 7573 6573 2929 0d0a 0d0a 2020 2020  (buses))....    
-00011000: 656e 7472 6965 7320 3d20 7b22 6275 7322  entries = {"bus"
-00011010: 3a20 6275 7365 732c 2022 705f 6d77 223a  : buses, "p_mw":
-00011020: 2070 5f6d 772c 2022 766d 5f70 7522 3a20   p_mw, "vm_pu": 
-00011030: 766d 5f70 752c 2022 736e 5f6d 7661 223a  vm_pu, "sn_mva":
-00011040: 2073 6e5f 6d76 612c 2022 7363 616c 696e   sn_mva, "scalin
-00011050: 6722 3a20 7363 616c 696e 672c 0d0a 2020  g": scaling,..  
-00011060: 2020 2020 2020 2020 2020 2020 2022 696e               "in
-00011070: 5f73 6572 7669 6365 223a 2069 6e5f 7365  _service": in_se
-00011080: 7276 6963 652c 2022 736c 6163 6b5f 7765  rvice, "slack_we
-00011090: 6967 6874 223a 2073 6c61 636b 5f77 6569  ight": slack_wei
-000110a0: 6768 742c 2022 6e61 6d65 223a 206e 616d  ght, "name": nam
-000110b0: 652c 2022 7479 7065 223a 2074 7970 652c  e, "type": type,
-000110c0: 2022 736c 6163 6b22 3a20 736c 6163 6b7d   "slack": slack}
-000110d0: 0d0a 0d0a 2020 2020 5f61 6464 5f73 6572  ....    _add_ser
-000110e0: 6965 735f 746f 5f65 6e74 7269 6573 2865  ies_to_entries(e
-000110f0: 6e74 7269 6573 2c20 696e 6465 782c 2022  ntries, index, "
-00011100: 6d69 6e5f 705f 6d77 222c 206d 696e 5f70  min_p_mw", min_p
-00011110: 5f6d 7729 0d0a 2020 2020 5f61 6464 5f73  _mw)..    _add_s
-00011120: 6572 6965 735f 746f 5f65 6e74 7269 6573  eries_to_entries
-00011130: 2865 6e74 7269 6573 2c20 696e 6465 782c  (entries, index,
-00011140: 2022 6d61 785f 705f 6d77 222c 206d 6178   "max_p_mw", max
-00011150: 5f70 5f6d 7729 0d0a 2020 2020 5f61 6464  _p_mw)..    _add
-00011160: 5f73 6572 6965 735f 746f 5f65 6e74 7269  _series_to_entri
-00011170: 6573 2865 6e74 7269 6573 2c20 696e 6465  es(entries, inde
-00011180: 782c 2022 6d69 6e5f 715f 6d76 6172 222c  x, "min_q_mvar",
-00011190: 206d 696e 5f71 5f6d 7661 7229 0d0a 2020   min_q_mvar)..  
-000111a0: 2020 5f61 6464 5f73 6572 6965 735f 746f    _add_series_to
-000111b0: 5f65 6e74 7269 6573 2865 6e74 7269 6573  _entries(entries
-000111c0: 2c20 696e 6465 782c 2022 6d61 785f 715f  , index, "max_q_
-000111d0: 6d76 6172 222c 206d 6178 5f71 5f6d 7661  mvar", max_q_mva
-000111e0: 7229 0d0a 2020 2020 5f61 6464 5f73 6572  r)..    _add_ser
-000111f0: 6965 735f 746f 5f65 6e74 7269 6573 2865  ies_to_entries(e
-00011200: 6e74 7269 6573 2c20 696e 6465 782c 2022  ntries, index, "
-00011210: 6d69 6e5f 766d 5f70 7522 2c20 6d69 6e5f  min_vm_pu", min_
-00011220: 766d 5f70 7529 0d0a 2020 2020 5f61 6464  vm_pu)..    _add
-00011230: 5f73 6572 6965 735f 746f 5f65 6e74 7269  _series_to_entri
-00011240: 6573 2865 6e74 7269 6573 2c20 696e 6465  es(entries, inde
-00011250: 782c 2022 6d61 785f 766d 5f70 7522 2c20  x, "max_vm_pu", 
-00011260: 6d61 785f 766d 5f70 7529 0d0a 2020 2020  max_vm_pu)..    
-00011270: 5f61 6464 5f73 6572 6965 735f 746f 5f65  _add_series_to_e
-00011280: 6e74 7269 6573 2865 6e74 7269 6573 2c20  ntries(entries, 
-00011290: 696e 6465 782c 2022 766e 5f6b 7622 2c20  index, "vn_kv", 
-000112a0: 766e 5f6b 7629 0d0a 2020 2020 5f61 6464  vn_kv)..    _add
-000112b0: 5f73 6572 6965 735f 746f 5f65 6e74 7269  _series_to_entri
-000112c0: 6573 2865 6e74 7269 6573 2c20 696e 6465  es(entries, inde
-000112d0: 782c 2022 636f 735f 7068 6922 2c20 636f  x, "cos_phi", co
-000112e0: 735f 7068 6929 0d0a 2020 2020 5f61 6464  s_phi)..    _add
-000112f0: 5f73 6572 6965 735f 746f 5f65 6e74 7269  _series_to_entri
-00011300: 6573 2865 6e74 7269 6573 2c20 696e 6465  es(entries, inde
-00011310: 782c 2022 7864 7373 5f70 7522 2c20 7864  x, "xdss_pu", xd
-00011320: 7373 5f70 7529 0d0a 2020 2020 5f61 6464  ss_pu)..    _add
-00011330: 5f73 6572 6965 735f 746f 5f65 6e74 7269  _series_to_entri
-00011340: 6573 2865 6e74 7269 6573 2c20 696e 6465  es(entries, inde
-00011350: 782c 2022 7264 7373 5f6f 686d 222c 2072  x, "rdss_ohm", r
-00011360: 6473 735f 6f68 6d29 0d0a 2020 2020 5f61  dss_ohm)..    _a
-00011370: 6464 5f73 6572 6965 735f 746f 5f65 6e74  dd_series_to_ent
-00011380: 7269 6573 2865 6e74 7269 6573 2c20 696e  ries(entries, in
-00011390: 6465 782c 2022 7067 5f70 6572 6365 6e74  dex, "pg_percent
-000113a0: 222c 2070 675f 7065 7263 656e 7429 0d0a  ", pg_percent)..
-000113b0: 2020 2020 5f61 6464 5f73 6572 6965 735f      _add_series_
-000113c0: 746f 5f65 6e74 7269 6573 2865 6e74 7269  to_entries(entri
-000113d0: 6573 2c20 696e 6465 782c 2022 706f 7765  es, index, "powe
-000113e0: 725f 7374 6174 696f 6e5f 7472 6166 6f22  r_station_trafo"
-000113f0: 2c20 706f 7765 725f 7374 6174 696f 6e5f  , power_station_
-00011400: 7472 6166 6f29 0d0a 2020 2020 5f61 6464  trafo)..    _add
-00011410: 5f73 6572 6965 735f 746f 5f65 6e74 7269  _series_to_entri
-00011420: 6573 2865 6e74 7269 6573 2c20 696e 6465  es(entries, inde
-00011430: 782c 2022 636f 6e74 726f 6c6c 6162 6c65  x, "controllable
-00011440: 222c 2063 6f6e 7472 6f6c 6c61 626c 652c  ", controllable,
-00011450: 2064 7479 703d 626f 6f6c 5f2c 0d0a 2020   dtyp=bool_,..  
-00011460: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011470: 2020 2020 2020 2020 2064 6566 6175 6c74           default
-00011480: 5f76 616c 3d46 616c 7365 290d 0a0d 0a20  _val=False).... 
-00011490: 2020 205f 7365 745f 6d75 6c74 6970 6c65     _set_multiple
-000114a0: 5f65 6e74 7269 6573 286e 6574 2c20 2267  _entries(net, "g
-000114b0: 656e 222c 2069 6e64 6578 2c20 2a2a 656e  en", index, **en
-000114c0: 7472 6965 732c 202a 2a6b 7761 7267 7329  tries, **kwargs)
-000114d0: 0d0a 0d0a 2020 2020 7265 7475 726e 2069  ....    return i
-000114e0: 6e64 6578 0d0a 0d0a 0d0a 6465 6620 6372  ndex......def cr
-000114f0: 6561 7465 5f6d 6f74 6f72 286e 6574 2c20  eate_motor(net, 
-00011500: 6275 732c 2070 6e5f 6d65 6368 5f6d 772c  bus, pn_mech_mw,
-00011510: 2063 6f73 5f70 6869 2c20 6566 6669 6369   cos_phi, effici
-00011520: 656e 6379 5f70 6572 6365 6e74 3d31 3030  ency_percent=100
-00011530: 2e2c 206c 6f61 6469 6e67 5f70 6572 6365  ., loading_perce
-00011540: 6e74 3d31 3030 2e2c 0d0a 2020 2020 2020  nt=100.,..      
-00011550: 2020 2020 2020 2020 2020 206e 616d 653d             name=
-00011560: 4e6f 6e65 2c20 6c72 635f 7075 3d6e 616e  None, lrc_pu=nan
-00011570: 2c20 7363 616c 696e 673d 312e 302c 2076  , scaling=1.0, v
-00011580: 6e5f 6b76 3d6e 616e 2c20 7278 3d6e 616e  n_kv=nan, rx=nan
-00011590: 2c20 696e 6465 783d 4e6f 6e65 2c20 696e  , index=None, in
-000115a0: 5f73 6572 7669 6365 3d54 7275 652c 0d0a  _service=True,..
-000115b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000115c0: 2063 6f73 5f70 6869 5f6e 3d6e 616e 2c20   cos_phi_n=nan, 
-000115d0: 6566 6669 6369 656e 6379 5f6e 5f70 6572  efficiency_n_per
-000115e0: 6365 6e74 3d6e 616e 293a 0d0a 2020 2020  cent=nan):..    
-000115f0: 2222 220d 0a20 2020 2041 6464 7320 6120  """..    Adds a 
-00011600: 6d6f 746f 7220 746f 2074 6865 206e 6574  motor to the net
-00011610: 776f 726b 2e0d 0a0d 0a0d 0a20 2020 2049  work.......    I
-00011620: 4e50 5554 3a0d 0a20 2020 2020 2020 202a  NPUT:..        *
-00011630: 2a6e 6574 2a2a 202d 2054 6865 206e 6574  *net** - The net
-00011640: 2077 6974 6869 6e20 7468 6973 206d 6f74   within this mot
-00011650: 6f72 2073 686f 756c 6420 6265 2063 7265  or should be cre
-00011660: 6174 6564 0d0a 0d0a 2020 2020 2020 2020  ated....        
-00011670: 2a2a 6275 732a 2a20 2869 6e74 2920 2d20  **bus** (int) - 
-00011680: 5468 6520 6275 7320 6964 2074 6f20 7768  The bus id to wh
-00011690: 6963 6820 7468 6520 6d6f 746f 7220 6973  ich the motor is
-000116a0: 2063 6f6e 6e65 6374 6564 0d0a 0d0a 2020   connected....  
-000116b0: 2020 2020 2020 2a2a 706e 5f6d 6563 685f        **pn_mech_
-000116c0: 6d77 2a2a 2028 666c 6f61 7429 202d 204d  mw** (float) - M
-000116d0: 6563 6861 6e69 6361 6c20 7261 7465 6420  echanical rated 
-000116e0: 706f 7765 7220 6f66 2074 6865 206d 6f74  power of the mot
-000116f0: 6f72 0d0a 0d0a 2020 2020 2020 2020 2a2a  or....        **
-00011700: 636f 735f 7068 692a 2a20 2866 6c6f 6174  cos_phi** (float
-00011710: 2c20 6e61 6e29 202d 2063 6f73 696e 6520  , nan) - cosine 
-00011720: 7068 6920 6174 2063 7572 7265 6e74 206f  phi at current o
-00011730: 7065 7261 7469 6e67 2070 6f69 6e74 0d0a  perating point..
-00011740: 0d0a 2020 2020 4f50 5449 4f4e 414c 3a0d  ..    OPTIONAL:.
-00011750: 0a0d 0a20 2020 2020 2020 202a 2a6e 616d  ...        **nam
-00011760: 652a 2a20 2873 7472 696e 672c 204e 6f6e  e** (string, Non
-00011770: 6529 202d 2054 6865 206e 616d 6520 666f  e) - The name fo
-00011780: 7220 7468 6973 206d 6f74 6f72 0d0a 0d0a  r this motor....
-00011790: 2020 2020 2020 2020 2a2a 6566 6669 6369          **effici
-000117a0: 656e 6379 5f70 6572 6365 6e74 2a2a 2028  ency_percent** (
-000117b0: 666c 6f61 742c 2031 3030 2920 2d20 4566  float, 100) - Ef
-000117c0: 6669 6369 656e 6379 2069 6e20 7065 7263  ficiency in perc
-000117d0: 656e 7420 6174 2063 7572 7265 6e74 206f  ent at current o
-000117e0: 7065 7261 7469 6e67 2070 6f69 6e74 0d0a  perating point..
-000117f0: 0d0a 2020 2020 2020 2020 2a2a 6c6f 6164  ..        **load
-00011800: 696e 675f 7065 7263 656e 742a 2a20 2866  ing_percent** (f
-00011810: 6c6f 6174 2c20 3130 3029 202d 2054 6865  loat, 100) - The
-00011820: 206d 6563 6861 6e69 6361 6c20 6c6f 6164   mechanical load
-00011830: 696e 6720 696e 2070 6572 6365 6e74 6167  ing in percentag
-00011840: 6520 6f66 2074 6865 2072 6174 6564 205c  e of the rated \
-00011850: 0d0a 2020 2020 2020 2020 2020 2020 6d65  ..            me
-00011860: 6368 616e 6963 616c 2070 6f77 6572 0d0a  chanical power..
-00011870: 0d0a 2020 2020 2020 2020 2a2a 7363 616c  ..        **scal
-00011880: 696e 672a 2a20 2866 6c6f 6174 2c20 312e  ing** (float, 1.
-00011890: 3029 202d 2073 6361 6c69 6e67 2066 6163  0) - scaling fac
-000118a0: 746f 7220 7768 6963 6820 666f 7220 7468  tor which for th
-000118b0: 6520 6163 7469 7665 2070 6f77 6572 206f  e active power o
-000118c0: 6620 7468 6520 6d6f 746f 720d 0a0d 0a20  f the motor.... 
-000118d0: 2020 2020 2020 202a 2a63 6f73 5f70 6869         **cos_phi
-000118e0: 5f6e 2a2a 2028 666c 6f61 742c 206e 616e  _n** (float, nan
-000118f0: 2920 2d20 636f 7369 6e65 2070 6869 2061  ) - cosine phi a
-00011900: 7420 7261 7465 6420 706f 7765 7220 6f66  t rated power of
-00011910: 2074 6865 206d 6f74 6f72 2066 6f72 2073   the motor for s
-00011920: 686f 7274 2d63 6972 6375 6974 205c 0d0a  hort-circuit \..
-00011930: 2020 2020 2020 2020 2020 2020 6361 6c63              calc
-00011940: 756c 6174 696f 6e0d 0a0d 0a20 2020 2020  ulation....     
-00011950: 2020 202a 2a65 6666 6963 6965 6e63 795f     **efficiency_
-00011960: 6e5f 7065 7263 656e 742a 2a20 2866 6c6f  n_percent** (flo
-00011970: 6174 2c20 3130 3029 202d 2045 6666 6963  at, 100) - Effic
-00011980: 6965 6e63 7920 696e 2070 6572 6365 6e74  iency in percent
-00011990: 2061 7420 7261 7465 6420 706f 7765 7220   at rated power 
-000119a0: 666f 7220 5c0d 0a20 2020 2020 2020 2020  for \..         
-000119b0: 2020 2073 686f 7274 2d63 6972 6375 6974     short-circuit
-000119c0: 2063 616c 6375 6c61 7469 6f6e 0d0a 0d0a   calculation....
-000119d0: 2020 2020 2020 2020 2a2a 6c72 635f 7075          **lrc_pu
-000119e0: 2a2a 2028 666c 6f61 742c 206e 616e 2920  ** (float, nan) 
-000119f0: 2d20 6c6f 636b 6564 2072 6f74 6f72 2063  - locked rotor c
-00011a00: 7572 7265 6e74 2069 6e20 7265 6c61 7469  urrent in relati
-00011a10: 6f6e 2074 6f20 7468 6520 7261 7465 6420  on to the rated 
-00011a20: 6d6f 746f 7220 6375 7272 656e 740d 0a0d  motor current...
-00011a30: 0a20 2020 2020 2020 202a 2a72 782a 2a20  .        **rx** 
-00011a40: 2866 6c6f 6174 2c20 6e61 6e29 202d 2052  (float, nan) - R
-00011a50: 2f58 2072 6174 696f 206f 6620 7468 6520  /X ratio of the 
-00011a60: 6d6f 746f 7220 666f 7220 7368 6f72 742d  motor for short-
-00011a70: 6369 7263 7569 7420 6361 6c63 756c 6174  circuit calculat
-00011a80: 696f 6e2e 0d0a 0d0a 2020 2020 2020 2020  ion.....        
-00011a90: 2a2a 766e 5f6b 762a 2a20 2866 6c6f 6174  **vn_kv** (float
-00011aa0: 2c20 4e61 4e29 202d 2052 6174 6564 2076  , NaN) - Rated v
-00011ab0: 6f6c 7461 6765 206f 6620 7468 6520 6d6f  oltage of the mo
-00011ac0: 746f 7220 666f 7220 7368 6f72 742d 6369  tor for short-ci
-00011ad0: 7263 7569 7420 6361 6c63 756c 6174 696f  rcuit calculatio
-00011ae0: 6e0d 0a0d 0a20 2020 2020 2020 202a 2a69  n....        **i
-00011af0: 6e5f 7365 7276 6963 652a 2a20 2862 6f6f  n_service** (boo
-00011b00: 6c2c 2054 7275 6529 202d 2054 7275 6520  l, True) - True 
-00011b10: 666f 7220 696e 5f73 6572 7669 6365 206f  for in_service o
-00011b20: 7220 4661 6c73 6520 666f 7220 6f75 7420  r False for out 
-00011b30: 6f66 2073 6572 7669 6365 0d0a 0d0a 2020  of service....  
-00011b40: 2020 2020 2020 2a2a 696e 6465 782a 2a20        **index** 
-00011b50: 2869 6e74 2c20 4e6f 6e65 2920 2d20 466f  (int, None) - Fo
-00011b60: 7263 6520 6120 7370 6563 6966 6965 6420  rce a specified 
-00011b70: 4944 2069 6620 6974 2069 7320 6176 6169  ID if it is avai
-00011b80: 6c61 626c 652e 2049 6620 4e6f 6e65 2c20  lable. If None, 
-00011b90: 7468 6520 696e 6465 7820 6f6e 6520 5c0d  the index one \.
-00011ba0: 0a20 2020 2020 2020 2020 2020 2068 6967  .            hig
-00011bb0: 6865 7220 7468 616e 2074 6865 2068 6967  her than the hig
-00011bc0: 6865 7374 2061 6c72 6561 6479 2065 7869  hest already exi
-00011bd0: 7374 696e 6720 696e 6465 7820 6973 2073  sting index is s
-00011be0: 656c 6563 7465 642e 0d0a 0d0a 2020 2020  elected.....    
-00011bf0: 4f55 5450 5554 3a0d 0a20 2020 2020 2020  OUTPUT:..       
-00011c00: 202a 2a69 6e64 6578 2a2a 2028 696e 7429   **index** (int)
-00011c10: 202d 2054 6865 2075 6e69 7175 6520 4944   - The unique ID
-00011c20: 206f 6620 7468 6520 6372 6561 7465 6420   of the created 
-00011c30: 6d6f 746f 720d 0a0d 0a20 2020 2045 5841  motor....    EXA
-00011c40: 4d50 4c45 3a0d 0a20 2020 2020 2020 2063  MPLE:..        c
-00011c50: 7265 6174 655f 6d6f 746f 7228 6e65 742c  reate_motor(net,
-00011c60: 2031 2c20 706e 5f6d 6563 685f 6d77 203d   1, pn_mech_mw =
-00011c70: 2030 2e31 3230 2c20 636f 735f 7068 3d30   0.120, cos_ph=0
-00011c80: 2e39 2c20 766e 5f6b 763d 302e 362c 2065  .9, vn_kv=0.6, e
-00011c90: 6666 6963 6965 6e63 795f 7065 7263 656e  fficiency_percen
-00011ca0: 743d 3930 2c20 5c0d 0a20 2020 2020 2020  t=90, \..       
-00011cb0: 2020 2020 2020 2020 2020 2020 2020 6c6f                lo
-00011cc0: 6164 696e 675f 7065 7263 656e 743d 3430  ading_percent=40
-00011cd0: 2c20 6c72 635f 7075 3d36 2e30 290d 0a0d  , lrc_pu=6.0)...
-00011ce0: 0a20 2020 2022 2222 0d0a 2020 2020 5f63  .    """..    _c
-00011cf0: 6865 636b 5f6e 6f64 655f 656c 656d 656e  heck_node_elemen
-00011d00: 7428 6e65 742c 2062 7573 290d 0a0d 0a20  t(net, bus).... 
-00011d10: 2020 2069 6e64 6578 203d 205f 6765 745f     index = _get_
-00011d20: 696e 6465 785f 7769 7468 5f63 6865 636b  index_with_check
-00011d30: 286e 6574 2c20 226d 6f74 6f72 222c 2069  (net, "motor", i
-00011d40: 6e64 6578 290d 0a0d 0a20 2020 2063 6f6c  ndex)....    col
-00011d50: 756d 6e73 203d 205b 226e 616d 6522 2c20  umns = ["name", 
-00011d60: 2262 7573 222c 2022 706e 5f6d 6563 685f  "bus", "pn_mech_
-00011d70: 6d77 222c 2022 636f 735f 7068 6922 2c20  mw", "cos_phi", 
-00011d80: 2263 6f73 5f70 6869 5f6e 222c 2022 766e  "cos_phi_n", "vn
-00011d90: 5f6b 7622 2c20 2272 7822 2c0d 0a20 2020  _kv", "rx",..   
-00011da0: 2020 2020 2020 2020 2020 2020 2265 6666              "eff
-00011db0: 6963 6965 6e63 795f 6e5f 7065 7263 656e  iciency_n_percen
-00011dc0: 7422 2c20 2265 6666 6963 6965 6e63 795f  t", "efficiency_
-00011dd0: 7065 7263 656e 7422 2c20 226c 6f61 6469  percent", "loadi
-00011de0: 6e67 5f70 6572 6365 6e74 222c 0d0a 2020  ng_percent",..  
-00011df0: 2020 2020 2020 2020 2020 2020 2022 6c72               "lr
-00011e00: 635f 7075 222c 2022 7363 616c 696e 6722  c_pu", "scaling"
-00011e10: 2c20 2269 6e5f 7365 7276 6963 6522 5d0d  , "in_service"].
-00011e20: 0a20 2020 2076 6172 6961 626c 6573 203d  .    variables =
-00011e30: 205b 6e61 6d65 2c20 6275 732c 2070 6e5f   [name, bus, pn_
-00011e40: 6d65 6368 5f6d 772c 2063 6f73 5f70 6869  mech_mw, cos_phi
-00011e50: 2c20 636f 735f 7068 695f 6e2c 2076 6e5f  , cos_phi_n, vn_
-00011e60: 6b76 2c20 7278 2c20 6566 6669 6369 656e  kv, rx, efficien
-00011e70: 6379 5f6e 5f70 6572 6365 6e74 2c0d 0a20  cy_n_percent,.. 
-00011e80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011e90: 6566 6669 6369 656e 6379 5f70 6572 6365  efficiency_perce
-00011ea0: 6e74 2c20 6c6f 6164 696e 675f 7065 7263  nt, loading_perc
-00011eb0: 656e 742c 206c 7263 5f70 752c 2073 6361  ent, lrc_pu, sca
-00011ec0: 6c69 6e67 2c20 626f 6f6c 2869 6e5f 7365  ling, bool(in_se
-00011ed0: 7276 6963 6529 5d0d 0a20 2020 205f 7365  rvice)]..    _se
-00011ee0: 745f 656e 7472 6965 7328 6e65 742c 2022  t_entries(net, "
-00011ef0: 6d6f 746f 7222 2c20 696e 6465 782c 202a  motor", index, *
-00011f00: 2a64 6963 7428 7a69 7028 636f 6c75 6d6e  *dict(zip(column
-00011f10: 732c 2076 6172 6961 626c 6573 2929 290d  s, variables))).
-00011f20: 0a0d 0a20 2020 2072 6574 7572 6e20 696e  ...    return in
-00011f30: 6465 780d 0a0d 0a0d 0a64 6566 2063 7265  dex......def cre
-00011f40: 6174 655f 6578 745f 6772 6964 286e 6574  ate_ext_grid(net
-00011f50: 2c20 6275 732c 2076 6d5f 7075 3d31 2e30  , bus, vm_pu=1.0
-00011f60: 2c20 7661 5f64 6567 7265 653d 302e 2c20  , va_degree=0., 
-00011f70: 6e61 6d65 3d4e 6f6e 652c 2069 6e5f 7365  name=None, in_se
-00011f80: 7276 6963 653d 5472 7565 2c0d 0a20 2020  rvice=True,..   
-00011f90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011fa0: 2073 5f73 635f 6d61 785f 6d76 613d 6e61   s_sc_max_mva=na
-00011fb0: 6e2c 2073 5f73 635f 6d69 6e5f 6d76 613d  n, s_sc_min_mva=
-00011fc0: 6e61 6e2c 2072 785f 6d61 783d 6e61 6e2c  nan, rx_max=nan,
-00011fd0: 2072 785f 6d69 6e3d 6e61 6e2c 0d0a 2020   rx_min=nan,..  
-00011fe0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011ff0: 2020 6d61 785f 705f 6d77 3d6e 616e 2c20    max_p_mw=nan, 
-00012000: 6d69 6e5f 705f 6d77 3d6e 616e 2c20 6d61  min_p_mw=nan, ma
-00012010: 785f 715f 6d76 6172 3d6e 616e 2c20 6d69  x_q_mvar=nan, mi
-00012020: 6e5f 715f 6d76 6172 3d6e 616e 2c0d 0a20  n_q_mvar=nan,.. 
-00012030: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012040: 2020 2069 6e64 6578 3d4e 6f6e 652c 2072     index=None, r
-00012050: 3078 305f 6d61 783d 6e61 6e2c 2078 3078  0x0_max=nan, x0x
-00012060: 5f6d 6178 3d6e 616e 2c20 636f 6e74 726f  _max=nan, contro
-00012070: 6c6c 6162 6c65 3d6e 616e 2c0d 0a20 2020  llable=nan,..   
-00012080: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012090: 2073 6c61 636b 5f77 6569 6768 743d 312e   slack_weight=1.
-000120a0: 302c 202a 2a6b 7761 7267 7329 3a0d 0a20  0, **kwargs):.. 
-000120b0: 2020 2022 2222 0d0a 2020 2020 4372 6561     """..    Crea
-000120c0: 7465 7320 616e 2065 7874 6572 6e61 6c20  tes an external 
-000120d0: 6772 6964 2063 6f6e 6e65 6374 696f 6e2e  grid connection.
-000120e0: 0d0a 0d0a 2020 2020 4578 7465 726e 616c  ....    External
-000120f0: 2067 7269 6473 2072 6570 7265 7365 6e74   grids represent
-00012100: 2074 6865 2068 6967 6865 7220 6c65 7665   the higher leve
-00012110: 6c20 706f 7765 7220 6772 6964 2063 6f6e  l power grid con
-00012120: 6e65 6374 696f 6e20 616e 6420 6172 6520  nection and are 
-00012130: 6d6f 6465 6c6c 6564 2061 7320 7468 6520  modelled as the 
-00012140: 736c 6163 6b0d 0a20 2020 2062 7573 2069  slack..    bus i
-00012150: 6e20 7468 6520 706f 7765 7220 666c 6f77  n the power flow
-00012160: 2063 616c 6375 6c61 7469 6f6e 2e0d 0a0d   calculation....
-00012170: 0a20 2020 2049 4e50 5554 3a0d 0a20 2020  .    INPUT:..   
-00012180: 2020 2020 202a 2a6e 6574 2a2a 202d 2070       **net** - p
-00012190: 616e 6461 706f 7765 7220 6e65 7477 6f72  andapower networ
-000121a0: 6b0d 0a0d 0a20 2020 2020 2020 202a 2a62  k....        **b
-000121b0: 7573 2a2a 2028 696e 7429 202d 2062 7573  us** (int) - bus
-000121c0: 2077 6865 7265 2074 6865 2073 6c61 636b   where the slack
-000121d0: 2069 7320 636f 6e6e 6563 7465 640d 0a0d   is connected...
-000121e0: 0a20 2020 204f 5054 494f 4e41 4c3a 0d0a  .    OPTIONAL:..
-000121f0: 2020 2020 2020 2020 2a2a 766d 5f70 752a          **vm_pu*
-00012200: 2a20 2866 6c6f 6174 2c20 6465 6661 756c  * (float, defaul
-00012210: 7420 312e 3029 202d 2076 6f6c 7461 6765  t 1.0) - voltage
-00012220: 2061 7420 7468 6520 736c 6163 6b20 6e6f   at the slack no
-00012230: 6465 2069 6e20 7065 7220 756e 6974 0d0a  de in per unit..
-00012240: 0d0a 2020 2020 2020 2020 2a2a 7661 5f64  ..        **va_d
-00012250: 6567 7265 652a 2a20 2866 6c6f 6174 2c20  egree** (float, 
-00012260: 6465 6661 756c 7420 302e 2920 2d20 766f  default 0.) - vo
-00012270: 6c74 6167 6520 616e 676c 6520 6174 2074  ltage angle at t
-00012280: 6865 2073 6c61 636b 206e 6f64 6520 696e  he slack node in
-00012290: 2064 6567 7265 6573 2a0d 0a0d 0a20 2020   degrees*....   
-000122a0: 2020 2020 202a 2a6e 616d 652a 2a20 2873       **name** (s
-000122b0: 7472 696e 672c 2064 6566 6175 6c74 204e  tring, default N
-000122c0: 6f6e 6529 202d 206e 616d 6520 6f66 206f  one) - name of o
-000122d0: 6620 7468 6520 6578 7465 726e 616c 2067  f the external g
-000122e0: 7269 640d 0a0d 0a20 2020 2020 2020 202a  rid....        *
-000122f0: 2a69 6e5f 7365 7276 6963 652a 2a20 2862  *in_service** (b
-00012300: 6f6f 6c65 616e 2920 2d20 5472 7565 2066  oolean) - True f
-00012310: 6f72 2069 6e5f 7365 7276 6963 6520 6f72  or in_service or
-00012320: 2046 616c 7365 2066 6f72 206f 7574 206f   False for out o
-00012330: 6620 7365 7276 6963 650d 0a0d 0a20 2020  f service....   
-00012340: 2020 2020 202a 2a73 5f73 635f 6d61 785f       **s_sc_max_
-00012350: 6d76 612a 2a20 2866 6c6f 6174 2c20 4e61  mva** (float, Na
-00012360: 4e29 202d 206d 6178 696d 616c 2073 686f  N) - maximal sho
-00012370: 7274 2063 6972 6375 6974 2061 7070 6172  rt circuit appar
-00012380: 656e 7420 706f 7765 7220 746f 2063 616c  ent power to cal
-00012390: 6375 6c61 7465 2069 6e74 6572 6e61 6c20  culate internal 
-000123a0: 5c0d 0a20 2020 2020 2020 2020 2020 2069  \..            i
-000123b0: 6d70 6564 616e 6365 206f 6620 6578 745f  mpedance of ext_
-000123c0: 6772 6964 2066 6f72 2073 686f 7274 2063  grid for short c
-000123d0: 6972 6375 6974 2063 616c 6375 6c61 7469  ircuit calculati
-000123e0: 6f6e 730d 0a0d 0a20 2020 2020 2020 202a  ons....        *
-000123f0: 2a73 5f73 635f 6d69 6e5f 6d76 612a 2a20  *s_sc_min_mva** 
-00012400: 2866 6c6f 6174 2c20 4e61 4e29 202d 206d  (float, NaN) - m
-00012410: 696e 696d 616c 2073 686f 7274 2063 6972  inimal short cir
-00012420: 6375 6974 2061 7070 6172 656e 7420 706f  cuit apparent po
-00012430: 7765 7220 746f 2063 616c 6375 6c61 7465  wer to calculate
-00012440: 2069 6e74 6572 6e61 6c20 5c0d 0a20 2020   internal \..   
-00012450: 2020 2020 2020 2020 2069 6d70 6564 616e           impedan
-00012460: 6365 206f 6620 6578 745f 6772 6964 2066  ce of ext_grid f
-00012470: 6f72 2073 686f 7274 2063 6972 6375 6974  or short circuit
-00012480: 2063 616c 6375 6c61 7469 6f6e 730d 0a0d   calculations...
-00012490: 0a20 2020 2020 2020 202a 2a72 785f 6d61  .        **rx_ma
-000124a0: 782a 2a20 2866 6c6f 6174 2c20 4e61 4e29  x** (float, NaN)
-000124b0: 202d 206d 6178 696d 616c 2052 2f58 2d72   - maximal R/X-r
-000124c0: 6174 696f 2074 6f20 6361 6c63 756c 6174  atio to calculat
-000124d0: 6520 696e 7465 726e 616c 2069 6d70 6564  e internal imped
-000124e0: 616e 6365 206f 6620 6578 745f 6772 6964  ance of ext_grid
-000124f0: 205c 0d0a 2020 2020 2020 2020 2020 2020   \..            
-00012500: 666f 7220 7368 6f72 7420 6369 7263 7569  for short circui
-00012510: 7420 6361 6c63 756c 6174 696f 6e73 0d0a  t calculations..
-00012520: 0d0a 2020 2020 2020 2020 2a2a 7278 5f6d  ..        **rx_m
-00012530: 696e 2a2a 2028 666c 6f61 742c 204e 614e  in** (float, NaN
-00012540: 2920 2d20 6d69 6e69 6d61 6c20 522f 582d  ) - minimal R/X-
-00012550: 7261 7469 6f20 746f 2063 616c 6375 6c61  ratio to calcula
-00012560: 7465 2069 6e74 6572 6e61 6c20 696d 7065  te internal impe
-00012570: 6461 6e63 6520 6f66 2065 7874 5f67 7269  dance of ext_gri
-00012580: 6420 5c0d 0a20 2020 2020 2020 2020 2020  d \..           
-00012590: 2066 6f72 2073 686f 7274 2063 6972 6375   for short circu
-000125a0: 6974 2063 616c 6375 6c61 7469 6f6e 730d  it calculations.
-000125b0: 0a0d 0a20 2020 2020 2020 202a 2a6d 6178  ...        **max
-000125c0: 5f70 5f6d 772a 2a20 2866 6c6f 6174 2c20  _p_mw** (float, 
-000125d0: 4e61 4e29 202d 204d 6178 696d 756d 2061  NaN) - Maximum a
-000125e0: 6374 6976 6520 706f 7765 7220 696e 6a65  ctive power inje
-000125f0: 6374 696f 6e2e 204f 6e6c 7920 7265 7370  ction. Only resp
-00012600: 6563 7465 6420 666f 7220 4f50 460d 0a0d  ected for OPF...
-00012610: 0a20 2020 2020 2020 202a 2a6d 696e 5f70  .        **min_p
-00012620: 5f6d 772a 2a20 2866 6c6f 6174 2c20 4e61  _mw** (float, Na
-00012630: 4e29 202d 204d 696e 696d 756d 2061 6374  N) - Minimum act
-00012640: 6976 6520 706f 7765 7220 696e 6a65 6374  ive power inject
-00012650: 696f 6e2e 204f 6e6c 7920 7265 7370 6563  ion. Only respec
-00012660: 7465 6420 666f 7220 4f50 460d 0a0d 0a20  ted for OPF.... 
-00012670: 2020 2020 2020 202a 2a6d 6178 5f71 5f6d         **max_q_m
-00012680: 7661 722a 2a20 2866 6c6f 6174 2c20 4e61  var** (float, Na
-00012690: 4e29 202d 204d 6178 696d 756d 2072 6561  N) - Maximum rea
-000126a0: 6374 6976 6520 706f 7765 7220 696e 6a65  ctive power inje
-000126b0: 6374 696f 6e2e 204f 6e6c 7920 7265 7370  ction. Only resp
-000126c0: 6563 7465 6420 666f 7220 4f50 460d 0a0d  ected for OPF...
-000126d0: 0a20 2020 2020 2020 202a 2a6d 696e 5f71  .        **min_q
-000126e0: 5f6d 7661 722a 2a20 2866 6c6f 6174 2c20  _mvar** (float, 
-000126f0: 4e61 4e29 202d 204d 696e 696d 756d 2072  NaN) - Minimum r
-00012700: 6561 6374 6976 6520 706f 7765 7220 696e  eactive power in
-00012710: 6a65 6374 696f 6e2e 204f 6e6c 7920 7265  jection. Only re
-00012720: 7370 6563 7465 6420 666f 7220 4f50 460d  spected for OPF.
-00012730: 0a0d 0a20 2020 2020 2020 202a 2a72 3078  ...        **r0x
-00012740: 305f 6d61 782a 2a20 2866 6c6f 6174 2c20  0_max** (float, 
-00012750: 4e61 4e29 202d 206d 6178 696d 616c 2052  NaN) - maximal R
-00012760: 2f58 2d72 6174 696f 2074 6f20 6361 6c63  /X-ratio to calc
-00012770: 756c 6174 6520 5a65 726f 2073 6571 7565  ulate Zero seque
-00012780: 6e63 650d 0a20 2020 2020 2020 2069 6e74  nce..        int
-00012790: 6572 6e61 6c20 696d 7065 6461 6e63 6520  ernal impedance 
-000127a0: 6f66 2065 7874 5f67 7269 640d 0a0d 0a20  of ext_grid.... 
-000127b0: 2020 2020 2020 202a 2a78 3078 5f6d 6178         **x0x_max
-000127c0: 2a2a 2028 666c 6f61 742c 204e 614e 2920  ** (float, NaN) 
-000127d0: 2d20 6d61 7869 6d61 6c20 5830 2f58 2d72  - maximal X0/X-r
-000127e0: 6174 696f 2074 6f20 6361 6c63 756c 6174  atio to calculat
-000127f0: 6520 5a65 726f 2073 6571 7565 6e63 650d  e Zero sequence.
-00012800: 0a20 2020 2020 2020 2069 6e74 6572 6e61  .        interna
-00012810: 6c20 696d 7065 6461 6e63 6520 6f66 2065  l impedance of e
-00012820: 7874 5f67 7269 640d 0a0d 0a20 2020 2020  xt_grid....     
-00012830: 2020 202a 2a73 6c61 636b 5f77 6569 6768     **slack_weigh
-00012840: 742a 2a20 2866 6c6f 6174 2c20 6465 6661  t** (float, defa
-00012850: 756c 7420 312e 3029 202d 2043 6f6e 7472  ult 1.0) - Contr
-00012860: 6962 7574 696f 6e20 6661 6374 6f72 2066  ibution factor f
-00012870: 6f72 2064 6973 7472 6962 7574 6564 2073  or distributed s
-00012880: 6c61 636b 2070 6f77 6572 2066 6c6f 7720  lack power flow 
-00012890: 6361 6c63 756c 6174 696f 6e20 2861 6374  calculation (act
-000128a0: 6976 6520 706f 7765 7220 6261 6c61 6e63  ive power balanc
-000128b0: 696e 6729 0d0a 0d0a 2020 2020 2020 2020  ing)....        
-000128c0: 2a2a 206f 6e6c 7920 636f 6e73 6964 6572  ** only consider
-000128d0: 6564 2069 6e20 6c6f 6164 666c 6f77 2069  ed in loadflow i
-000128e0: 6620 6361 6c63 756c 6174 655f 766f 6c74  f calculate_volt
-000128f0: 6167 655f 616e 676c 6573 203d 2054 7275  age_angles = Tru
-00012900: 650d 0a0d 0a20 2020 2020 2020 202a 2a63  e....        **c
-00012910: 6f6e 7472 6f6c 6c61 626c 652a 2a20 2862  ontrollable** (b
-00012920: 6f6f 6c2c 204e 614e 2920 2d20 5472 7565  ool, NaN) - True
-00012930: 3a20 705f 6d77 2c20 715f 6d76 6172 2061  : p_mw, q_mvar a
-00012940: 6e64 2076 6d5f 7075 206c 696d 6974 7320  nd vm_pu limits 
-00012950: 6172 6520 656e 666f 7263 6564 2066 6f72  are enforced for
-00012960: 2074 6865 205c 0d0a 2020 2020 2020 2020   the \..        
-00012970: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010ec0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010ed0: 2020 2020 2020 2d20 6e65 6365 7373 6172        - necessar
+00010ee0: 7920 666f 7220 4f50 460d 0a0d 0a20 2020  y for OPF....   
+00010ef0: 204f 5554 5055 543a 0d0a 2020 2020 2020   OUTPUT:..      
+00010f00: 2020 2a2a 696e 6465 782a 2a20 2869 6e74    **index** (int
+00010f10: 2920 2d20 5468 6520 756e 6971 7565 2049  ) - The unique I
+00010f20: 4420 6f66 2074 6865 2063 7265 6174 6564  D of the created
+00010f30: 2067 656e 6572 6174 6f72 0d0a 0d0a 2020   generator....  
+00010f40: 2020 4558 414d 504c 453a 0d0a 2020 2020    EXAMPLE:..    
+00010f50: 2020 2020 6372 6561 7465 5f67 656e 286e      create_gen(n
+00010f60: 6574 2c20 312c 2070 5f6d 7720 3d20 3132  et, 1, p_mw = 12
+00010f70: 302c 2076 6d5f 7075 203d 2031 2e30 3229  0, vm_pu = 1.02)
+00010f80: 0d0a 0d0a 2020 2020 2222 220d 0a20 2020  ....    """..   
+00010f90: 205f 6368 6563 6b5f 6d75 6c74 6970 6c65   _check_multiple
+00010fa0: 5f6e 6f64 655f 656c 656d 656e 7473 286e  _node_elements(n
+00010fb0: 6574 2c20 6275 7365 7329 0d0a 0d0a 2020  et, buses)....  
+00010fc0: 2020 696e 6465 7820 3d20 5f67 6574 5f6d    index = _get_m
+00010fd0: 756c 7469 706c 655f 696e 6465 785f 7769  ultiple_index_wi
+00010fe0: 7468 5f63 6865 636b 286e 6574 2c20 2267  th_check(net, "g
+00010ff0: 656e 222c 2069 6e64 6578 2c20 6c65 6e28  en", index, len(
+00011000: 6275 7365 7329 290d 0a0d 0a20 2020 2065  buses))....    e
+00011010: 6e74 7269 6573 203d 207b 2262 7573 223a  ntries = {"bus":
+00011020: 2062 7573 6573 2c20 2270 5f6d 7722 3a20   buses, "p_mw": 
+00011030: 705f 6d77 2c20 2276 6d5f 7075 223a 2076  p_mw, "vm_pu": v
+00011040: 6d5f 7075 2c20 2273 6e5f 6d76 6122 3a20  m_pu, "sn_mva": 
+00011050: 736e 5f6d 7661 2c20 2273 6361 6c69 6e67  sn_mva, "scaling
+00011060: 223a 2073 6361 6c69 6e67 2c0d 0a20 2020  ": scaling,..   
+00011070: 2020 2020 2020 2020 2020 2020 2269 6e5f              "in_
+00011080: 7365 7276 6963 6522 3a20 696e 5f73 6572  service": in_ser
+00011090: 7669 6365 2c20 2273 6c61 636b 5f77 6569  vice, "slack_wei
+000110a0: 6768 7422 3a20 736c 6163 6b5f 7765 6967  ght": slack_weig
+000110b0: 6874 2c20 226e 616d 6522 3a20 6e61 6d65  ht, "name": name
+000110c0: 2c20 2274 7970 6522 3a20 7479 7065 2c20  , "type": type, 
+000110d0: 2273 6c61 636b 223a 2073 6c61 636b 7d0d  "slack": slack}.
+000110e0: 0a0d 0a20 2020 205f 6164 645f 7365 7269  ...    _add_seri
+000110f0: 6573 5f74 6f5f 656e 7472 6965 7328 656e  es_to_entries(en
+00011100: 7472 6965 732c 2069 6e64 6578 2c20 226d  tries, index, "m
+00011110: 696e 5f70 5f6d 7722 2c20 6d69 6e5f 705f  in_p_mw", min_p_
+00011120: 6d77 290d 0a20 2020 205f 6164 645f 7365  mw)..    _add_se
+00011130: 7269 6573 5f74 6f5f 656e 7472 6965 7328  ries_to_entries(
+00011140: 656e 7472 6965 732c 2069 6e64 6578 2c20  entries, index, 
+00011150: 226d 6178 5f70 5f6d 7722 2c20 6d61 785f  "max_p_mw", max_
+00011160: 705f 6d77 290d 0a20 2020 205f 6164 645f  p_mw)..    _add_
+00011170: 7365 7269 6573 5f74 6f5f 656e 7472 6965  series_to_entrie
+00011180: 7328 656e 7472 6965 732c 2069 6e64 6578  s(entries, index
+00011190: 2c20 226d 696e 5f71 5f6d 7661 7222 2c20  , "min_q_mvar", 
+000111a0: 6d69 6e5f 715f 6d76 6172 290d 0a20 2020  min_q_mvar)..   
+000111b0: 205f 6164 645f 7365 7269 6573 5f74 6f5f   _add_series_to_
+000111c0: 656e 7472 6965 7328 656e 7472 6965 732c  entries(entries,
+000111d0: 2069 6e64 6578 2c20 226d 6178 5f71 5f6d   index, "max_q_m
+000111e0: 7661 7222 2c20 6d61 785f 715f 6d76 6172  var", max_q_mvar
+000111f0: 290d 0a20 2020 205f 6164 645f 7365 7269  )..    _add_seri
+00011200: 6573 5f74 6f5f 656e 7472 6965 7328 656e  es_to_entries(en
+00011210: 7472 6965 732c 2069 6e64 6578 2c20 226d  tries, index, "m
+00011220: 696e 5f76 6d5f 7075 222c 206d 696e 5f76  in_vm_pu", min_v
+00011230: 6d5f 7075 290d 0a20 2020 205f 6164 645f  m_pu)..    _add_
+00011240: 7365 7269 6573 5f74 6f5f 656e 7472 6965  series_to_entrie
+00011250: 7328 656e 7472 6965 732c 2069 6e64 6578  s(entries, index
+00011260: 2c20 226d 6178 5f76 6d5f 7075 222c 206d  , "max_vm_pu", m
+00011270: 6178 5f76 6d5f 7075 290d 0a20 2020 205f  ax_vm_pu)..    _
+00011280: 6164 645f 7365 7269 6573 5f74 6f5f 656e  add_series_to_en
+00011290: 7472 6965 7328 656e 7472 6965 732c 2069  tries(entries, i
+000112a0: 6e64 6578 2c20 2276 6e5f 6b76 222c 2076  ndex, "vn_kv", v
+000112b0: 6e5f 6b76 290d 0a20 2020 205f 6164 645f  n_kv)..    _add_
+000112c0: 7365 7269 6573 5f74 6f5f 656e 7472 6965  series_to_entrie
+000112d0: 7328 656e 7472 6965 732c 2069 6e64 6578  s(entries, index
+000112e0: 2c20 2263 6f73 5f70 6869 222c 2063 6f73  , "cos_phi", cos
+000112f0: 5f70 6869 290d 0a20 2020 205f 6164 645f  _phi)..    _add_
+00011300: 7365 7269 6573 5f74 6f5f 656e 7472 6965  series_to_entrie
+00011310: 7328 656e 7472 6965 732c 2069 6e64 6578  s(entries, index
+00011320: 2c20 2278 6473 735f 7075 222c 2078 6473  , "xdss_pu", xds
+00011330: 735f 7075 290d 0a20 2020 205f 6164 645f  s_pu)..    _add_
+00011340: 7365 7269 6573 5f74 6f5f 656e 7472 6965  series_to_entrie
+00011350: 7328 656e 7472 6965 732c 2069 6e64 6578  s(entries, index
+00011360: 2c20 2272 6473 735f 6f68 6d22 2c20 7264  , "rdss_ohm", rd
+00011370: 7373 5f6f 686d 290d 0a20 2020 205f 6164  ss_ohm)..    _ad
+00011380: 645f 7365 7269 6573 5f74 6f5f 656e 7472  d_series_to_entr
+00011390: 6965 7328 656e 7472 6965 732c 2069 6e64  ies(entries, ind
+000113a0: 6578 2c20 2270 675f 7065 7263 656e 7422  ex, "pg_percent"
+000113b0: 2c20 7067 5f70 6572 6365 6e74 290d 0a20  , pg_percent).. 
+000113c0: 2020 205f 6164 645f 7365 7269 6573 5f74     _add_series_t
+000113d0: 6f5f 656e 7472 6965 7328 656e 7472 6965  o_entries(entrie
+000113e0: 732c 2069 6e64 6578 2c20 2270 6f77 6572  s, index, "power
+000113f0: 5f73 7461 7469 6f6e 5f74 7261 666f 222c  _station_trafo",
+00011400: 2070 6f77 6572 5f73 7461 7469 6f6e 5f74   power_station_t
+00011410: 7261 666f 290d 0a20 2020 205f 6164 645f  rafo)..    _add_
+00011420: 7365 7269 6573 5f74 6f5f 656e 7472 6965  series_to_entrie
+00011430: 7328 656e 7472 6965 732c 2069 6e64 6578  s(entries, index
+00011440: 2c20 2263 6f6e 7472 6f6c 6c61 626c 6522  , "controllable"
+00011450: 2c20 636f 6e74 726f 6c6c 6162 6c65 2c20  , controllable, 
+00011460: 6474 7970 3d62 6f6f 6c5f 2c0d 0a20 2020  dtyp=bool_,..   
+00011470: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00011480: 2020 2020 2020 2020 6465 6661 756c 745f          default_
+00011490: 7661 6c3d 4661 6c73 6529 0d0a 0d0a 2020  val=False)....  
+000114a0: 2020 5f73 6574 5f6d 756c 7469 706c 655f    _set_multiple_
+000114b0: 656e 7472 6965 7328 6e65 742c 2022 6765  entries(net, "ge
+000114c0: 6e22 2c20 696e 6465 782c 202a 2a65 6e74  n", index, **ent
+000114d0: 7269 6573 2c20 2a2a 6b77 6172 6773 290d  ries, **kwargs).
+000114e0: 0a0d 0a20 2020 2072 6574 7572 6e20 696e  ...    return in
+000114f0: 6465 780d 0a0d 0a0d 0a64 6566 2063 7265  dex......def cre
+00011500: 6174 655f 6d6f 746f 7228 6e65 742c 2062  ate_motor(net, b
+00011510: 7573 2c20 706e 5f6d 6563 685f 6d77 2c20  us, pn_mech_mw, 
+00011520: 636f 735f 7068 692c 2065 6666 6963 6965  cos_phi, efficie
+00011530: 6e63 795f 7065 7263 656e 743d 3130 302e  ncy_percent=100.
+00011540: 2c20 6c6f 6164 696e 675f 7065 7263 656e  , loading_percen
+00011550: 743d 3130 302e 2c0d 0a20 2020 2020 2020  t=100.,..       
+00011560: 2020 2020 2020 2020 2020 6e61 6d65 3d4e            name=N
+00011570: 6f6e 652c 206c 7263 5f70 753d 6e61 6e2c  one, lrc_pu=nan,
+00011580: 2073 6361 6c69 6e67 3d31 2e30 2c20 766e   scaling=1.0, vn
+00011590: 5f6b 763d 6e61 6e2c 2072 783d 6e61 6e2c  _kv=nan, rx=nan,
+000115a0: 2069 6e64 6578 3d4e 6f6e 652c 2069 6e5f   index=None, in_
+000115b0: 7365 7276 6963 653d 5472 7565 2c0d 0a20  service=True,.. 
+000115c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000115d0: 636f 735f 7068 695f 6e3d 6e61 6e2c 2065  cos_phi_n=nan, e
+000115e0: 6666 6963 6965 6e63 795f 6e5f 7065 7263  fficiency_n_perc
+000115f0: 656e 743d 6e61 6e29 3a0d 0a20 2020 2022  ent=nan):..    "
+00011600: 2222 0d0a 2020 2020 4164 6473 2061 206d  ""..    Adds a m
+00011610: 6f74 6f72 2074 6f20 7468 6520 6e65 7477  otor to the netw
+00011620: 6f72 6b2e 0d0a 0d0a 0d0a 2020 2020 494e  ork.......    IN
+00011630: 5055 543a 0d0a 2020 2020 2020 2020 2a2a  PUT:..        **
+00011640: 6e65 742a 2a20 2d20 5468 6520 6e65 7420  net** - The net 
+00011650: 7769 7468 696e 2074 6869 7320 6d6f 746f  within this moto
+00011660: 7220 7368 6f75 6c64 2062 6520 6372 6561  r should be crea
+00011670: 7465 640d 0a0d 0a20 2020 2020 2020 202a  ted....        *
+00011680: 2a62 7573 2a2a 2028 696e 7429 202d 2054  *bus** (int) - T
+00011690: 6865 2062 7573 2069 6420 746f 2077 6869  he bus id to whi
+000116a0: 6368 2074 6865 206d 6f74 6f72 2069 7320  ch the motor is 
+000116b0: 636f 6e6e 6563 7465 640d 0a0d 0a20 2020  connected....   
+000116c0: 2020 2020 202a 2a70 6e5f 6d65 6368 5f6d       **pn_mech_m
+000116d0: 772a 2a20 2866 6c6f 6174 2920 2d20 4d65  w** (float) - Me
+000116e0: 6368 616e 6963 616c 2072 6174 6564 2070  chanical rated p
+000116f0: 6f77 6572 206f 6620 7468 6520 6d6f 746f  ower of the moto
+00011700: 720d 0a0d 0a20 2020 2020 2020 202a 2a63  r....        **c
+00011710: 6f73 5f70 6869 2a2a 2028 666c 6f61 742c  os_phi** (float,
+00011720: 206e 616e 2920 2d20 636f 7369 6e65 2070   nan) - cosine p
+00011730: 6869 2061 7420 6375 7272 656e 7420 6f70  hi at current op
+00011740: 6572 6174 696e 6720 706f 696e 740d 0a0d  erating point...
+00011750: 0a20 2020 204f 5054 494f 4e41 4c3a 0d0a  .    OPTIONAL:..
+00011760: 0d0a 2020 2020 2020 2020 2a2a 6e61 6d65  ..        **name
+00011770: 2a2a 2028 7374 7269 6e67 2c20 4e6f 6e65  ** (string, None
+00011780: 2920 2d20 5468 6520 6e61 6d65 2066 6f72  ) - The name for
+00011790: 2074 6869 7320 6d6f 746f 720d 0a0d 0a20   this motor.... 
+000117a0: 2020 2020 2020 202a 2a65 6666 6963 6965         **efficie
+000117b0: 6e63 795f 7065 7263 656e 742a 2a20 2866  ncy_percent** (f
+000117c0: 6c6f 6174 2c20 3130 3029 202d 2045 6666  loat, 100) - Eff
+000117d0: 6963 6965 6e63 7920 696e 2070 6572 6365  iciency in perce
+000117e0: 6e74 2061 7420 6375 7272 656e 7420 6f70  nt at current op
+000117f0: 6572 6174 696e 6720 706f 696e 740d 0a0d  erating point...
+00011800: 0a20 2020 2020 2020 202a 2a6c 6f61 6469  .        **loadi
+00011810: 6e67 5f70 6572 6365 6e74 2a2a 2028 666c  ng_percent** (fl
+00011820: 6f61 742c 2031 3030 2920 2d20 5468 6520  oat, 100) - The 
+00011830: 6d65 6368 616e 6963 616c 206c 6f61 6469  mechanical loadi
+00011840: 6e67 2069 6e20 7065 7263 656e 7461 6765  ng in percentage
+00011850: 206f 6620 7468 6520 7261 7465 6420 5c0d   of the rated \.
+00011860: 0a20 2020 2020 2020 2020 2020 206d 6563  .            mec
+00011870: 6861 6e69 6361 6c20 706f 7765 720d 0a0d  hanical power...
+00011880: 0a20 2020 2020 2020 202a 2a73 6361 6c69  .        **scali
+00011890: 6e67 2a2a 2028 666c 6f61 742c 2031 2e30  ng** (float, 1.0
+000118a0: 2920 2d20 7363 616c 696e 6720 6661 6374  ) - scaling fact
+000118b0: 6f72 2077 6869 6368 2066 6f72 2074 6865  or which for the
+000118c0: 2061 6374 6976 6520 706f 7765 7220 6f66   active power of
+000118d0: 2074 6865 206d 6f74 6f72 0d0a 0d0a 2020   the motor....  
+000118e0: 2020 2020 2020 2a2a 636f 735f 7068 695f        **cos_phi_
+000118f0: 6e2a 2a20 2866 6c6f 6174 2c20 6e61 6e29  n** (float, nan)
+00011900: 202d 2063 6f73 696e 6520 7068 6920 6174   - cosine phi at
+00011910: 2072 6174 6564 2070 6f77 6572 206f 6620   rated power of 
+00011920: 7468 6520 6d6f 746f 7220 666f 7220 7368  the motor for sh
+00011930: 6f72 742d 6369 7263 7569 7420 5c0d 0a20  ort-circuit \.. 
+00011940: 2020 2020 2020 2020 2020 2063 616c 6375             calcu
+00011950: 6c61 7469 6f6e 0d0a 0d0a 2020 2020 2020  lation....      
+00011960: 2020 2a2a 6566 6669 6369 656e 6379 5f6e    **efficiency_n
+00011970: 5f70 6572 6365 6e74 2a2a 2028 666c 6f61  _percent** (floa
+00011980: 742c 2031 3030 2920 2d20 4566 6669 6369  t, 100) - Effici
+00011990: 656e 6379 2069 6e20 7065 7263 656e 7420  ency in percent 
+000119a0: 6174 2072 6174 6564 2070 6f77 6572 2066  at rated power f
+000119b0: 6f72 205c 0d0a 2020 2020 2020 2020 2020  or \..          
+000119c0: 2020 7368 6f72 742d 6369 7263 7569 7420    short-circuit 
+000119d0: 6361 6c63 756c 6174 696f 6e0d 0a0d 0a20  calculation.... 
+000119e0: 2020 2020 2020 202a 2a6c 7263 5f70 752a         **lrc_pu*
+000119f0: 2a20 2866 6c6f 6174 2c20 6e61 6e29 202d  * (float, nan) -
+00011a00: 206c 6f63 6b65 6420 726f 746f 7220 6375   locked rotor cu
+00011a10: 7272 656e 7420 696e 2072 656c 6174 696f  rrent in relatio
+00011a20: 6e20 746f 2074 6865 2072 6174 6564 206d  n to the rated m
+00011a30: 6f74 6f72 2063 7572 7265 6e74 0d0a 0d0a  otor current....
+00011a40: 2020 2020 2020 2020 2a2a 7278 2a2a 2028          **rx** (
+00011a50: 666c 6f61 742c 206e 616e 2920 2d20 522f  float, nan) - R/
+00011a60: 5820 7261 7469 6f20 6f66 2074 6865 206d  X ratio of the m
+00011a70: 6f74 6f72 2066 6f72 2073 686f 7274 2d63  otor for short-c
+00011a80: 6972 6375 6974 2063 616c 6375 6c61 7469  ircuit calculati
+00011a90: 6f6e 2e0d 0a0d 0a20 2020 2020 2020 202a  on.....        *
+00011aa0: 2a76 6e5f 6b76 2a2a 2028 666c 6f61 742c  *vn_kv** (float,
+00011ab0: 204e 614e 2920 2d20 5261 7465 6420 766f   NaN) - Rated vo
+00011ac0: 6c74 6167 6520 6f66 2074 6865 206d 6f74  ltage of the mot
+00011ad0: 6f72 2066 6f72 2073 686f 7274 2d63 6972  or for short-cir
+00011ae0: 6375 6974 2063 616c 6375 6c61 7469 6f6e  cuit calculation
+00011af0: 0d0a 0d0a 2020 2020 2020 2020 2a2a 696e  ....        **in
+00011b00: 5f73 6572 7669 6365 2a2a 2028 626f 6f6c  _service** (bool
+00011b10: 2c20 5472 7565 2920 2d20 5472 7565 2066  , True) - True f
+00011b20: 6f72 2069 6e5f 7365 7276 6963 6520 6f72  or in_service or
+00011b30: 2046 616c 7365 2066 6f72 206f 7574 206f   False for out o
+00011b40: 6620 7365 7276 6963 650d 0a0d 0a20 2020  f service....   
+00011b50: 2020 2020 202a 2a69 6e64 6578 2a2a 2028       **index** (
+00011b60: 696e 742c 204e 6f6e 6529 202d 2046 6f72  int, None) - For
+00011b70: 6365 2061 2073 7065 6369 6669 6564 2049  ce a specified I
+00011b80: 4420 6966 2069 7420 6973 2061 7661 696c  D if it is avail
+00011b90: 6162 6c65 2e20 4966 204e 6f6e 652c 2074  able. If None, t
+00011ba0: 6865 2069 6e64 6578 206f 6e65 205c 0d0a  he index one \..
+00011bb0: 2020 2020 2020 2020 2020 2020 6869 6768              high
+00011bc0: 6572 2074 6861 6e20 7468 6520 6869 6768  er than the high
+00011bd0: 6573 7420 616c 7265 6164 7920 6578 6973  est already exis
+00011be0: 7469 6e67 2069 6e64 6578 2069 7320 7365  ting index is se
+00011bf0: 6c65 6374 6564 2e0d 0a0d 0a20 2020 204f  lected.....    O
+00011c00: 5554 5055 543a 0d0a 2020 2020 2020 2020  UTPUT:..        
+00011c10: 2a2a 696e 6465 782a 2a20 2869 6e74 2920  **index** (int) 
+00011c20: 2d20 5468 6520 756e 6971 7565 2049 4420  - The unique ID 
+00011c30: 6f66 2074 6865 2063 7265 6174 6564 206d  of the created m
+00011c40: 6f74 6f72 0d0a 0d0a 2020 2020 4558 414d  otor....    EXAM
+00011c50: 504c 453a 0d0a 2020 2020 2020 2020 6372  PLE:..        cr
+00011c60: 6561 7465 5f6d 6f74 6f72 286e 6574 2c20  eate_motor(net, 
+00011c70: 312c 2070 6e5f 6d65 6368 5f6d 7720 3d20  1, pn_mech_mw = 
+00011c80: 302e 3132 302c 2063 6f73 5f70 683d 302e  0.120, cos_ph=0.
+00011c90: 392c 2076 6e5f 6b76 3d30 2e36 2c20 6566  9, vn_kv=0.6, ef
+00011ca0: 6669 6369 656e 6379 5f70 6572 6365 6e74  ficiency_percent
+00011cb0: 3d39 302c 205c 0d0a 2020 2020 2020 2020  =90, \..        
+00011cc0: 2020 2020 2020 2020 2020 2020 206c 6f61               loa
+00011cd0: 6469 6e67 5f70 6572 6365 6e74 3d34 302c  ding_percent=40,
+00011ce0: 206c 7263 5f70 753d 362e 3029 0d0a 0d0a   lrc_pu=6.0)....
+00011cf0: 2020 2020 2222 220d 0a20 2020 205f 6368      """..    _ch
+00011d00: 6563 6b5f 6e6f 6465 5f65 6c65 6d65 6e74  eck_node_element
+00011d10: 286e 6574 2c20 6275 7329 0d0a 0d0a 2020  (net, bus)....  
+00011d20: 2020 696e 6465 7820 3d20 5f67 6574 5f69    index = _get_i
+00011d30: 6e64 6578 5f77 6974 685f 6368 6563 6b28  ndex_with_check(
+00011d40: 6e65 742c 2022 6d6f 746f 7222 2c20 696e  net, "motor", in
+00011d50: 6465 7829 0d0a 0d0a 2020 2020 636f 6c75  dex)....    colu
+00011d60: 6d6e 7320 3d20 5b22 6e61 6d65 222c 2022  mns = ["name", "
+00011d70: 6275 7322 2c20 2270 6e5f 6d65 6368 5f6d  bus", "pn_mech_m
+00011d80: 7722 2c20 2263 6f73 5f70 6869 222c 2022  w", "cos_phi", "
+00011d90: 636f 735f 7068 695f 6e22 2c20 2276 6e5f  cos_phi_n", "vn_
+00011da0: 6b76 222c 2022 7278 222c 0d0a 2020 2020  kv", "rx",..    
+00011db0: 2020 2020 2020 2020 2020 2022 6566 6669             "effi
+00011dc0: 6369 656e 6379 5f6e 5f70 6572 6365 6e74  ciency_n_percent
+00011dd0: 222c 2022 6566 6669 6369 656e 6379 5f70  ", "efficiency_p
+00011de0: 6572 6365 6e74 222c 2022 6c6f 6164 696e  ercent", "loadin
+00011df0: 675f 7065 7263 656e 7422 2c0d 0a20 2020  g_percent",..   
+00011e00: 2020 2020 2020 2020 2020 2020 226c 7263              "lrc
+00011e10: 5f70 7522 2c20 2273 6361 6c69 6e67 222c  _pu", "scaling",
+00011e20: 2022 696e 5f73 6572 7669 6365 225d 0d0a   "in_service"]..
+00011e30: 2020 2020 7661 7269 6162 6c65 7320 3d20      variables = 
+00011e40: 5b6e 616d 652c 2062 7573 2c20 706e 5f6d  [name, bus, pn_m
+00011e50: 6563 685f 6d77 2c20 636f 735f 7068 692c  ech_mw, cos_phi,
+00011e60: 2063 6f73 5f70 6869 5f6e 2c20 766e 5f6b   cos_phi_n, vn_k
+00011e70: 762c 2072 782c 2065 6666 6963 6965 6e63  v, rx, efficienc
+00011e80: 795f 6e5f 7065 7263 656e 742c 0d0a 2020  y_n_percent,..  
+00011e90: 2020 2020 2020 2020 2020 2020 2020 2065                 e
+00011ea0: 6666 6963 6965 6e63 795f 7065 7263 656e  fficiency_percen
+00011eb0: 742c 206c 6f61 6469 6e67 5f70 6572 6365  t, loading_perce
+00011ec0: 6e74 2c20 6c72 635f 7075 2c20 7363 616c  nt, lrc_pu, scal
+00011ed0: 696e 672c 2062 6f6f 6c28 696e 5f73 6572  ing, bool(in_ser
+00011ee0: 7669 6365 295d 0d0a 2020 2020 5f73 6574  vice)]..    _set
+00011ef0: 5f65 6e74 7269 6573 286e 6574 2c20 226d  _entries(net, "m
+00011f00: 6f74 6f72 222c 2069 6e64 6578 2c20 2a2a  otor", index, **
+00011f10: 6469 6374 287a 6970 2863 6f6c 756d 6e73  dict(zip(columns
+00011f20: 2c20 7661 7269 6162 6c65 7329 2929 0d0a  , variables)))..
+00011f30: 0d0a 2020 2020 7265 7475 726e 2069 6e64  ..    return ind
+00011f40: 6578 0d0a 0d0a 0d0a 6465 6620 6372 6561  ex......def crea
+00011f50: 7465 5f65 7874 5f67 7269 6428 6e65 742c  te_ext_grid(net,
+00011f60: 2062 7573 2c20 766d 5f70 753d 312e 302c   bus, vm_pu=1.0,
+00011f70: 2076 615f 6465 6772 6565 3d30 2e2c 206e   va_degree=0., n
+00011f80: 616d 653d 4e6f 6e65 2c20 696e 5f73 6572  ame=None, in_ser
+00011f90: 7669 6365 3d54 7275 652c 0d0a 2020 2020  vice=True,..    
+00011fa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00011fb0: 735f 7363 5f6d 6178 5f6d 7661 3d6e 616e  s_sc_max_mva=nan
+00011fc0: 2c20 735f 7363 5f6d 696e 5f6d 7661 3d6e  , s_sc_min_mva=n
+00011fd0: 616e 2c20 7278 5f6d 6178 3d6e 616e 2c20  an, rx_max=nan, 
+00011fe0: 7278 5f6d 696e 3d6e 616e 2c0d 0a20 2020  rx_min=nan,..   
+00011ff0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012000: 206d 6178 5f70 5f6d 773d 6e61 6e2c 206d   max_p_mw=nan, m
+00012010: 696e 5f70 5f6d 773d 6e61 6e2c 206d 6178  in_p_mw=nan, max
+00012020: 5f71 5f6d 7661 723d 6e61 6e2c 206d 696e  _q_mvar=nan, min
+00012030: 5f71 5f6d 7661 723d 6e61 6e2c 0d0a 2020  _q_mvar=nan,..  
+00012040: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012050: 2020 696e 6465 783d 4e6f 6e65 2c20 7230    index=None, r0
+00012060: 7830 5f6d 6178 3d6e 616e 2c20 7830 785f  x0_max=nan, x0x_
+00012070: 6d61 783d 6e61 6e2c 2063 6f6e 7472 6f6c  max=nan, control
+00012080: 6c61 626c 653d 6e61 6e2c 0d0a 2020 2020  lable=nan,..    
+00012090: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000120a0: 736c 6163 6b5f 7765 6967 6874 3d31 2e30  slack_weight=1.0
+000120b0: 2c20 2a2a 6b77 6172 6773 293a 0d0a 2020  , **kwargs):..  
+000120c0: 2020 2222 220d 0a20 2020 2043 7265 6174    """..    Creat
+000120d0: 6573 2061 6e20 6578 7465 726e 616c 2067  es an external g
+000120e0: 7269 6420 636f 6e6e 6563 7469 6f6e 2e0d  rid connection..
+000120f0: 0a0d 0a20 2020 2045 7874 6572 6e61 6c20  ...    External 
+00012100: 6772 6964 7320 7265 7072 6573 656e 7420  grids represent 
+00012110: 7468 6520 6869 6768 6572 206c 6576 656c  the higher level
+00012120: 2070 6f77 6572 2067 7269 6420 636f 6e6e   power grid conn
+00012130: 6563 7469 6f6e 2061 6e64 2061 7265 206d  ection and are m
+00012140: 6f64 656c 6c65 6420 6173 2074 6865 2073  odelled as the s
+00012150: 6c61 636b 0d0a 2020 2020 6275 7320 696e  lack..    bus in
+00012160: 2074 6865 2070 6f77 6572 2066 6c6f 7720   the power flow 
+00012170: 6361 6c63 756c 6174 696f 6e2e 0d0a 0d0a  calculation.....
+00012180: 2020 2020 494e 5055 543a 0d0a 2020 2020      INPUT:..    
+00012190: 2020 2020 2a2a 6e65 742a 2a20 2d20 7061      **net** - pa
+000121a0: 6e64 6170 6f77 6572 206e 6574 776f 726b  ndapower network
+000121b0: 0d0a 0d0a 2020 2020 2020 2020 2a2a 6275  ....        **bu
+000121c0: 732a 2a20 2869 6e74 2920 2d20 6275 7320  s** (int) - bus 
+000121d0: 7768 6572 6520 7468 6520 736c 6163 6b20  where the slack 
+000121e0: 6973 2063 6f6e 6e65 6374 6564 0d0a 0d0a  is connected....
+000121f0: 2020 2020 4f50 5449 4f4e 414c 3a0d 0a20      OPTIONAL:.. 
+00012200: 2020 2020 2020 202a 2a76 6d5f 7075 2a2a         **vm_pu**
+00012210: 2028 666c 6f61 742c 2064 6566 6175 6c74   (float, default
+00012220: 2031 2e30 2920 2d20 766f 6c74 6167 6520   1.0) - voltage 
+00012230: 6174 2074 6865 2073 6c61 636b 206e 6f64  at the slack nod
+00012240: 6520 696e 2070 6572 2075 6e69 740d 0a0d  e in per unit...
+00012250: 0a20 2020 2020 2020 202a 2a76 615f 6465  .        **va_de
+00012260: 6772 6565 2a2a 2028 666c 6f61 742c 2064  gree** (float, d
+00012270: 6566 6175 6c74 2030 2e29 202d 2076 6f6c  efault 0.) - vol
+00012280: 7461 6765 2061 6e67 6c65 2061 7420 7468  tage angle at th
+00012290: 6520 736c 6163 6b20 6e6f 6465 2069 6e20  e slack node in 
+000122a0: 6465 6772 6565 732a 0d0a 0d0a 2020 2020  degrees*....    
+000122b0: 2020 2020 2a2a 6e61 6d65 2a2a 2028 7374      **name** (st
+000122c0: 7269 6e67 2c20 6465 6661 756c 7420 4e6f  ring, default No
+000122d0: 6e65 2920 2d20 6e61 6d65 206f 6620 6f66  ne) - name of of
+000122e0: 2074 6865 2065 7874 6572 6e61 6c20 6772   the external gr
+000122f0: 6964 0d0a 0d0a 2020 2020 2020 2020 2a2a  id....        **
+00012300: 696e 5f73 6572 7669 6365 2a2a 2028 626f  in_service** (bo
+00012310: 6f6c 6561 6e29 202d 2054 7275 6520 666f  olean) - True fo
+00012320: 7220 696e 5f73 6572 7669 6365 206f 7220  r in_service or 
+00012330: 4661 6c73 6520 666f 7220 6f75 7420 6f66  False for out of
+00012340: 2073 6572 7669 6365 0d0a 0d0a 2020 2020   service....    
+00012350: 2020 2020 2a2a 735f 7363 5f6d 6178 5f6d      **s_sc_max_m
+00012360: 7661 2a2a 2028 666c 6f61 742c 204e 614e  va** (float, NaN
+00012370: 2920 2d20 6d61 7869 6d61 6c20 7368 6f72  ) - maximal shor
+00012380: 7420 6369 7263 7569 7420 6170 7061 7265  t circuit appare
+00012390: 6e74 2070 6f77 6572 2074 6f20 6361 6c63  nt power to calc
+000123a0: 756c 6174 6520 696e 7465 726e 616c 205c  ulate internal \
+000123b0: 0d0a 2020 2020 2020 2020 2020 2020 696d  ..            im
+000123c0: 7065 6461 6e63 6520 6f66 2065 7874 5f67  pedance of ext_g
+000123d0: 7269 6420 666f 7220 7368 6f72 7420 6369  rid for short ci
+000123e0: 7263 7569 7420 6361 6c63 756c 6174 696f  rcuit calculatio
+000123f0: 6e73 0d0a 0d0a 2020 2020 2020 2020 2a2a  ns....        **
+00012400: 735f 7363 5f6d 696e 5f6d 7661 2a2a 2028  s_sc_min_mva** (
+00012410: 666c 6f61 742c 204e 614e 2920 2d20 6d69  float, NaN) - mi
+00012420: 6e69 6d61 6c20 7368 6f72 7420 6369 7263  nimal short circ
+00012430: 7569 7420 6170 7061 7265 6e74 2070 6f77  uit apparent pow
+00012440: 6572 2074 6f20 6361 6c63 756c 6174 6520  er to calculate 
+00012450: 696e 7465 726e 616c 205c 0d0a 2020 2020  internal \..    
+00012460: 2020 2020 2020 2020 696d 7065 6461 6e63          impedanc
+00012470: 6520 6f66 2065 7874 5f67 7269 6420 666f  e of ext_grid fo
+00012480: 7220 7368 6f72 7420 6369 7263 7569 7420  r short circuit 
+00012490: 6361 6c63 756c 6174 696f 6e73 0d0a 0d0a  calculations....
+000124a0: 2020 2020 2020 2020 2a2a 7278 5f6d 6178          **rx_max
+000124b0: 2a2a 2028 666c 6f61 742c 204e 614e 2920  ** (float, NaN) 
+000124c0: 2d20 6d61 7869 6d61 6c20 522f 582d 7261  - maximal R/X-ra
+000124d0: 7469 6f20 746f 2063 616c 6375 6c61 7465  tio to calculate
+000124e0: 2069 6e74 6572 6e61 6c20 696d 7065 6461   internal impeda
+000124f0: 6e63 6520 6f66 2065 7874 5f67 7269 6420  nce of ext_grid 
+00012500: 5c0d 0a20 2020 2020 2020 2020 2020 2066  \..            f
+00012510: 6f72 2073 686f 7274 2063 6972 6375 6974  or short circuit
+00012520: 2063 616c 6375 6c61 7469 6f6e 730d 0a0d   calculations...
+00012530: 0a20 2020 2020 2020 202a 2a72 785f 6d69  .        **rx_mi
+00012540: 6e2a 2a20 2866 6c6f 6174 2c20 4e61 4e29  n** (float, NaN)
+00012550: 202d 206d 696e 696d 616c 2052 2f58 2d72   - minimal R/X-r
+00012560: 6174 696f 2074 6f20 6361 6c63 756c 6174  atio to calculat
+00012570: 6520 696e 7465 726e 616c 2069 6d70 6564  e internal imped
+00012580: 616e 6365 206f 6620 6578 745f 6772 6964  ance of ext_grid
+00012590: 205c 0d0a 2020 2020 2020 2020 2020 2020   \..            
+000125a0: 666f 7220 7368 6f72 7420 6369 7263 7569  for short circui
+000125b0: 7420 6361 6c63 756c 6174 696f 6e73 0d0a  t calculations..
+000125c0: 0d0a 2020 2020 2020 2020 2a2a 6d61 785f  ..        **max_
+000125d0: 705f 6d77 2a2a 2028 666c 6f61 742c 204e  p_mw** (float, N
+000125e0: 614e 2920 2d20 4d61 7869 6d75 6d20 6163  aN) - Maximum ac
+000125f0: 7469 7665 2070 6f77 6572 2069 6e6a 6563  tive power injec
+00012600: 7469 6f6e 2e20 4f6e 6c79 2072 6573 7065  tion. Only respe
+00012610: 6374 6564 2066 6f72 204f 5046 0d0a 0d0a  cted for OPF....
+00012620: 2020 2020 2020 2020 2a2a 6d69 6e5f 705f          **min_p_
+00012630: 6d77 2a2a 2028 666c 6f61 742c 204e 614e  mw** (float, NaN
+00012640: 2920 2d20 4d69 6e69 6d75 6d20 6163 7469  ) - Minimum acti
+00012650: 7665 2070 6f77 6572 2069 6e6a 6563 7469  ve power injecti
+00012660: 6f6e 2e20 4f6e 6c79 2072 6573 7065 6374  on. Only respect
+00012670: 6564 2066 6f72 204f 5046 0d0a 0d0a 2020  ed for OPF....  
+00012680: 2020 2020 2020 2a2a 6d61 785f 715f 6d76        **max_q_mv
+00012690: 6172 2a2a 2028 666c 6f61 742c 204e 614e  ar** (float, NaN
+000126a0: 2920 2d20 4d61 7869 6d75 6d20 7265 6163  ) - Maximum reac
+000126b0: 7469 7665 2070 6f77 6572 2069 6e6a 6563  tive power injec
+000126c0: 7469 6f6e 2e20 4f6e 6c79 2072 6573 7065  tion. Only respe
+000126d0: 6374 6564 2066 6f72 204f 5046 0d0a 0d0a  cted for OPF....
+000126e0: 2020 2020 2020 2020 2a2a 6d69 6e5f 715f          **min_q_
+000126f0: 6d76 6172 2a2a 2028 666c 6f61 742c 204e  mvar** (float, N
+00012700: 614e 2920 2d20 4d69 6e69 6d75 6d20 7265  aN) - Minimum re
+00012710: 6163 7469 7665 2070 6f77 6572 2069 6e6a  active power inj
+00012720: 6563 7469 6f6e 2e20 4f6e 6c79 2072 6573  ection. Only res
+00012730: 7065 6374 6564 2066 6f72 204f 5046 0d0a  pected for OPF..
+00012740: 0d0a 2020 2020 2020 2020 2a2a 7230 7830  ..        **r0x0
+00012750: 5f6d 6178 2a2a 2028 666c 6f61 742c 204e  _max** (float, N
+00012760: 614e 2920 2d20 6d61 7869 6d61 6c20 522f  aN) - maximal R/
+00012770: 582d 7261 7469 6f20 746f 2063 616c 6375  X-ratio to calcu
+00012780: 6c61 7465 205a 6572 6f20 7365 7175 656e  late Zero sequen
+00012790: 6365 0d0a 2020 2020 2020 2020 696e 7465  ce..        inte
+000127a0: 726e 616c 2069 6d70 6564 616e 6365 206f  rnal impedance o
+000127b0: 6620 6578 745f 6772 6964 0d0a 0d0a 2020  f ext_grid....  
+000127c0: 2020 2020 2020 2a2a 7830 785f 6d61 782a        **x0x_max*
+000127d0: 2a20 2866 6c6f 6174 2c20 4e61 4e29 202d  * (float, NaN) -
+000127e0: 206d 6178 696d 616c 2058 302f 582d 7261   maximal X0/X-ra
+000127f0: 7469 6f20 746f 2063 616c 6375 6c61 7465  tio to calculate
+00012800: 205a 6572 6f20 7365 7175 656e 6365 0d0a   Zero sequence..
+00012810: 2020 2020 2020 2020 696e 7465 726e 616c          internal
+00012820: 2069 6d70 6564 616e 6365 206f 6620 6578   impedance of ex
+00012830: 745f 6772 6964 0d0a 0d0a 2020 2020 2020  t_grid....      
+00012840: 2020 2a2a 736c 6163 6b5f 7765 6967 6874    **slack_weight
+00012850: 2a2a 2028 666c 6f61 742c 2064 6566 6175  ** (float, defau
+00012860: 6c74 2031 2e30 2920 2d20 436f 6e74 7269  lt 1.0) - Contri
+00012870: 6275 7469 6f6e 2066 6163 746f 7220 666f  bution factor fo
+00012880: 7220 6469 7374 7269 6275 7465 6420 736c  r distributed sl
+00012890: 6163 6b20 706f 7765 7220 666c 6f77 2063  ack power flow c
+000128a0: 616c 6375 6c61 7469 6f6e 2028 6163 7469  alculation (acti
+000128b0: 7665 2070 6f77 6572 2062 616c 616e 6369  ve power balanci
+000128c0: 6e67 290d 0a0d 0a20 2020 2020 2020 202a  ng)....        *
+000128d0: 2a20 6f6e 6c79 2063 6f6e 7369 6465 7265  * only considere
+000128e0: 6420 696e 206c 6f61 6466 6c6f 7720 6966  d in loadflow if
+000128f0: 2063 616c 6375 6c61 7465 5f76 6f6c 7461   calculate_volta
+00012900: 6765 5f61 6e67 6c65 7320 3d20 5472 7565  ge_angles = True
+00012910: 0d0a 0d0a 2020 2020 2020 2020 2a2a 636f  ....        **co
+00012920: 6e74 726f 6c6c 6162 6c65 2a2a 2028 626f  ntrollable** (bo
+00012930: 6f6c 2c20 4e61 4e29 202d 2054 7275 653a  ol, NaN) - True:
+00012940: 2070 5f6d 772c 2071 5f6d 7661 7220 616e   p_mw, q_mvar an
+00012950: 6420 766d 5f70 7520 6c69 6d69 7473 2061  d vm_pu limits a
+00012960: 7265 2065 6e66 6f72 6365 6420 666f 7220  re enforced for 
+00012970: 7468 6520 5c0d 0a20 2020 2020 2020 2020  the \..         
 00012980: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012990: 2020 2020 2065 7874 5f67 7269 6420 696e       ext_grid in
-000129a0: 204f 5046 2e20 5468 6520 766f 6c74 6167   OPF. The voltag
-000129b0: 6520 6c69 6d69 7473 2073 6574 2069 6e20  e limits set in 
-000129c0: 7468 6520 5c0d 0a20 2020 2020 2020 2020  the \..         
-000129d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012990: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000129a0: 2020 2020 6578 745f 6772 6964 2069 6e20      ext_grid in 
+000129b0: 4f50 462e 2054 6865 2076 6f6c 7461 6765  OPF. The voltage
+000129c0: 206c 696d 6974 7320 7365 7420 696e 2074   limits set in t
+000129d0: 6865 205c 0d0a 2020 2020 2020 2020 2020  he \..          
 000129e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000129f0: 2020 2020 6578 745f 6772 6964 2062 7573      ext_grid bus
-00012a00: 2061 7265 2065 6e66 6f72 6365 642e 0d0a   are enforced...
-00012a10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000129f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012a00: 2020 2065 7874 5f67 7269 6420 6275 7320     ext_grid bus 
+00012a10: 6172 6520 656e 666f 7263 6564 2e0d 0a20  are enforced... 
 00012a20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012a30: 2020 2020 2020 2046 616c 7365 3a20 705f         False: p_
-00012a40: 6d77 2061 6e64 2076 6d5f 7075 2073 6574  mw and vm_pu set
-00012a50: 706f 696e 7473 2061 7265 2065 6e66 6f72  points are enfor
-00012a60: 6365 6420 616e 6420 2a6c 696d 6974 7320  ced and *limits 
-00012a70: 6172 655c 0d0a 2020 2020 2020 2020 2020  are\..          
-00012a80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012a30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012a40: 2020 2020 2020 4661 6c73 653a 2070 5f6d        False: p_m
+00012a50: 7720 616e 6420 766d 5f70 7520 7365 7470  w and vm_pu setp
+00012a60: 6f69 6e74 7320 6172 6520 656e 666f 7263  oints are enforc
+00012a70: 6564 2061 6e64 202a 6c69 6d69 7473 2061  ed and *limits a
+00012a80: 7265 5c0d 0a20 2020 2020 2020 2020 2020  re\..           
 00012a90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012aa0: 2020 2020 6967 6e6f 7265 642a 2e20 5468      ignored*. Th
-00012ab0: 6520 766d 5f70 7520 7365 7470 6f69 6e74  e vm_pu setpoint
-00012ac0: 2069 7320 656e 666f 7263 6564 2061 6e64   is enforced and
-00012ad0: 206c 696d 6974 7320 5c0d 0a20 2020 2020   limits \..     
-00012ae0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012aa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012ab0: 2020 2069 676e 6f72 6564 2a2e 2054 6865     ignored*. The
+00012ac0: 2076 6d5f 7075 2073 6574 706f 696e 7420   vm_pu setpoint 
+00012ad0: 6973 2065 6e66 6f72 6365 6420 616e 6420  is enforced and 
+00012ae0: 6c69 6d69 7473 205c 0d0a 2020 2020 2020  limits \..      
 00012af0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012b00: 2020 2020 2020 2020 206f 6620 7468 6520           of the 
-00012b10: 6275 7320 7461 626c 6520 6172 6520 6967  bus table are ig
-00012b20: 6e6f 7265 642e 0d0a 2020 2020 2020 2020  nored...        
-00012b30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012b40: 2020 2020 2020 2020 2020 2020 2020 2064                 d
-00012b50: 6566 6175 6c74 7320 746f 2046 616c 7365  efaults to False
-00012b60: 2069 6620 2263 6f6e 7472 6f6c 6c61 626c   if "controllabl
-00012b70: 6522 2063 6f6c 756d 6e20 6578 6973 7473  e" column exists
-00012b80: 2069 6e5c 0d0a 2020 2020 2020 2020 2020   in\..          
-00012b90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012ba0: 2020 2020 2020 2020 2020 2020 2044 6174               Dat
-00012bb0: 6146 7261 6d65 0d0a 0d0a 2020 2020 4558  aFrame....    EX
-00012bc0: 414d 504c 453a 0d0a 2020 2020 2020 2020  AMPLE:..        
-00012bd0: 6372 6561 7465 5f65 7874 5f67 7269 6428  create_ext_grid(
-00012be0: 6e65 742c 2031 2c20 766f 6c74 6167 6520  net, 1, voltage 
-00012bf0: 3d20 312e 3033 290d 0a0d 0a20 2020 2020  = 1.03)....     
-00012c00: 2020 2046 6f72 2074 6872 6565 2070 6861     For three pha
-00012c10: 7365 206c 6f61 6420 666c 6f77 0d0a 0d0a  se load flow....
-00012c20: 2020 2020 2020 2020 6372 6561 7465 5f65          create_e
-00012c30: 7874 5f67 7269 6428 6e65 742c 2031 2c20  xt_grid(net, 1, 
-00012c40: 766f 6c74 6167 653d 312e 3033 2c20 735f  voltage=1.03, s_
-00012c50: 7363 5f6d 6178 5f6d 7661 3d31 3030 302c  sc_max_mva=1000,
-00012c60: 2072 785f 6d61 783d 302e 312c 2072 3078   rx_max=0.1, r0x
-00012c70: 305f 6d61 783d 302e 312c 5c0d 0a20 2020  0_max=0.1,\..   
-00012c80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012c90: 2020 2020 7830 785f 6d61 783d 312e 3029      x0x_max=1.0)
-00012ca0: 0d0a 2020 2020 2222 220d 0a20 2020 205f  ..    """..    _
-00012cb0: 6368 6563 6b5f 6e6f 6465 5f65 6c65 6d65  check_node_eleme
-00012cc0: 6e74 286e 6574 2c20 6275 7329 0d0a 0d0a  nt(net, bus)....
-00012cd0: 2020 2020 696e 6465 7820 3d20 5f67 6574      index = _get
-00012ce0: 5f69 6e64 6578 5f77 6974 685f 6368 6563  _index_with_chec
-00012cf0: 6b28 6e65 742c 2022 6578 745f 6772 6964  k(net, "ext_grid
-00012d00: 222c 2069 6e64 6578 2c20 6e61 6d65 3d22  ", index, name="
-00012d10: 6578 7465 726e 616c 2067 7269 6422 290d  external grid").
-00012d20: 0a0d 0a20 2020 2065 6e74 7269 6573 203d  ...    entries =
-00012d30: 2064 6963 7428 7a69 7028 5b22 6275 7322   dict(zip(["bus"
-00012d40: 2c20 226e 616d 6522 2c20 2276 6d5f 7075  , "name", "vm_pu
-00012d50: 222c 2022 7661 5f64 6567 7265 6522 2c20  ", "va_degree", 
-00012d60: 2269 6e5f 7365 7276 6963 6522 2c20 2273  "in_service", "s
-00012d70: 6c61 636b 5f77 6569 6768 7422 5d2c 0d0a  lack_weight"],..
-00012d80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012d90: 2020 2020 2020 205b 6275 732c 206e 616d         [bus, nam
-00012da0: 652c 2076 6d5f 7075 2c20 7661 5f64 6567  e, vm_pu, va_deg
-00012db0: 7265 652c 2062 6f6f 6c28 696e 5f73 6572  ree, bool(in_ser
-00012dc0: 7669 6365 292c 2073 6c61 636b 5f77 6569  vice), slack_wei
-00012dd0: 6768 745d 2929 0d0a 2020 2020 5f73 6574  ght]))..    _set
-00012de0: 5f65 6e74 7269 6573 286e 6574 2c20 2265  _entries(net, "e
-00012df0: 7874 5f67 7269 6422 2c20 696e 6465 782c  xt_grid", index,
-00012e00: 202a 2a65 6e74 7269 6573 2c20 2a2a 6b77   **entries, **kw
-00012e10: 6172 6773 290d 0a0d 0a20 2020 2023 204f  args)....    # O
-00012e20: 5046 206c 696d 6974 730d 0a20 2020 205f  PF limits..    _
-00012e30: 6372 6561 7465 5f63 6f6c 756d 6e5f 616e  create_column_an
-00012e40: 645f 7365 745f 7661 6c75 6528 6e65 742c  d_set_value(net,
-00012e50: 2069 6e64 6578 2c20 735f 7363 5f6d 6178   index, s_sc_max
-00012e60: 5f6d 7661 2c20 2273 5f73 635f 6d61 785f  _mva, "s_sc_max_
-00012e70: 6d76 6122 2c20 2265 7874 5f67 7269 6422  mva", "ext_grid"
-00012e80: 290d 0a20 2020 205f 6372 6561 7465 5f63  )..    _create_c
-00012e90: 6f6c 756d 6e5f 616e 645f 7365 745f 7661  olumn_and_set_va
-00012ea0: 6c75 6528 6e65 742c 2069 6e64 6578 2c20  lue(net, index, 
-00012eb0: 735f 7363 5f6d 696e 5f6d 7661 2c20 2273  s_sc_min_mva, "s
-00012ec0: 5f73 635f 6d69 6e5f 6d76 6122 2c20 2265  _sc_min_mva", "e
-00012ed0: 7874 5f67 7269 6422 290d 0a20 2020 205f  xt_grid")..    _
-00012ee0: 6372 6561 7465 5f63 6f6c 756d 6e5f 616e  create_column_an
-00012ef0: 645f 7365 745f 7661 6c75 6528 6e65 742c  d_set_value(net,
-00012f00: 2069 6e64 6578 2c20 7278 5f6d 696e 2c20   index, rx_min, 
-00012f10: 2272 785f 6d69 6e22 2c20 2265 7874 5f67  "rx_min", "ext_g
-00012f20: 7269 6422 290d 0a20 2020 205f 6372 6561  rid")..    _crea
-00012f30: 7465 5f63 6f6c 756d 6e5f 616e 645f 7365  te_column_and_se
-00012f40: 745f 7661 6c75 6528 6e65 742c 2069 6e64  t_value(net, ind
-00012f50: 6578 2c20 7278 5f6d 6178 2c20 2272 785f  ex, rx_max, "rx_
-00012f60: 6d61 7822 2c20 2265 7874 5f67 7269 6422  max", "ext_grid"
-00012f70: 290d 0a20 2020 205f 6372 6561 7465 5f63  )..    _create_c
-00012f80: 6f6c 756d 6e5f 616e 645f 7365 745f 7661  olumn_and_set_va
-00012f90: 6c75 6528 6e65 742c 2069 6e64 6578 2c20  lue(net, index, 
-00012fa0: 6d69 6e5f 705f 6d77 2c20 226d 696e 5f70  min_p_mw, "min_p
-00012fb0: 5f6d 7722 2c20 2265 7874 5f67 7269 6422  _mw", "ext_grid"
-00012fc0: 290d 0a20 2020 205f 6372 6561 7465 5f63  )..    _create_c
-00012fd0: 6f6c 756d 6e5f 616e 645f 7365 745f 7661  olumn_and_set_va
-00012fe0: 6c75 6528 6e65 742c 2069 6e64 6578 2c20  lue(net, index, 
-00012ff0: 6d61 785f 705f 6d77 2c20 226d 6178 5f70  max_p_mw, "max_p
-00013000: 5f6d 7722 2c20 2265 7874 5f67 7269 6422  _mw", "ext_grid"
-00013010: 290d 0a20 2020 205f 6372 6561 7465 5f63  )..    _create_c
-00013020: 6f6c 756d 6e5f 616e 645f 7365 745f 7661  olumn_and_set_va
-00013030: 6c75 6528 6e65 742c 2069 6e64 6578 2c20  lue(net, index, 
-00013040: 6d69 6e5f 715f 6d76 6172 2c20 226d 696e  min_q_mvar, "min
-00013050: 5f71 5f6d 7661 7222 2c20 2265 7874 5f67  _q_mvar", "ext_g
-00013060: 7269 6422 290d 0a20 2020 205f 6372 6561  rid")..    _crea
-00013070: 7465 5f63 6f6c 756d 6e5f 616e 645f 7365  te_column_and_se
-00013080: 745f 7661 6c75 6528 6e65 742c 2069 6e64  t_value(net, ind
-00013090: 6578 2c20 6d61 785f 715f 6d76 6172 2c20  ex, max_q_mvar, 
-000130a0: 226d 6178 5f71 5f6d 7661 7222 2c20 2265  "max_q_mvar", "e
-000130b0: 7874 5f67 7269 6422 290d 0a20 2020 205f  xt_grid")..    _
-000130c0: 6372 6561 7465 5f63 6f6c 756d 6e5f 616e  create_column_an
-000130d0: 645f 7365 745f 7661 6c75 6528 6e65 742c  d_set_value(net,
-000130e0: 2069 6e64 6578 2c20 7830 785f 6d61 782c   index, x0x_max,
-000130f0: 2022 7830 785f 6d61 7822 2c20 2265 7874   "x0x_max", "ext
-00013100: 5f67 7269 6422 290d 0a20 2020 205f 6372  _grid")..    _cr
-00013110: 6561 7465 5f63 6f6c 756d 6e5f 616e 645f  eate_column_and_
-00013120: 7365 745f 7661 6c75 6528 6e65 742c 2069  set_value(net, i
-00013130: 6e64 6578 2c20 7230 7830 5f6d 6178 2c20  ndex, r0x0_max, 
-00013140: 2272 3078 305f 6d61 7822 2c20 2265 7874  "r0x0_max", "ext
-00013150: 5f67 7269 6422 290d 0a20 2020 205f 6372  _grid")..    _cr
-00013160: 6561 7465 5f63 6f6c 756d 6e5f 616e 645f  eate_column_and_
-00013170: 7365 745f 7661 6c75 6528 6e65 742c 2069  set_value(net, i
-00013180: 6e64 6578 2c20 636f 6e74 726f 6c6c 6162  ndex, controllab
-00013190: 6c65 2c20 2263 6f6e 7472 6f6c 6c61 626c  le, "controllabl
-000131a0: 6522 2c20 2265 7874 5f67 7269 6422 2c0d  e", "ext_grid",.
-000131b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00012b00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012b10: 2020 2020 2020 2020 6f66 2074 6865 2062          of the b
+00012b20: 7573 2074 6162 6c65 2061 7265 2069 676e  us table are ign
+00012b30: 6f72 6564 2e0d 0a20 2020 2020 2020 2020  ored...         
+00012b40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012b50: 2020 2020 2020 2020 2020 2020 2020 6465                de
+00012b60: 6661 756c 7473 2074 6f20 4661 6c73 6520  faults to False 
+00012b70: 6966 2022 636f 6e74 726f 6c6c 6162 6c65  if "controllable
+00012b80: 2220 636f 6c75 6d6e 2065 7869 7374 7320  " column exists 
+00012b90: 696e 5c0d 0a20 2020 2020 2020 2020 2020  in\..           
+00012ba0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012bb0: 2020 2020 2020 2020 2020 2020 4461 7461              Data
+00012bc0: 4672 616d 650d 0a0d 0a20 2020 2045 5841  Frame....    EXA
+00012bd0: 4d50 4c45 3a0d 0a20 2020 2020 2020 2063  MPLE:..        c
+00012be0: 7265 6174 655f 6578 745f 6772 6964 286e  reate_ext_grid(n
+00012bf0: 6574 2c20 312c 2076 6f6c 7461 6765 203d  et, 1, voltage =
+00012c00: 2031 2e30 3329 0d0a 0d0a 2020 2020 2020   1.03)....      
+00012c10: 2020 466f 7220 7468 7265 6520 7068 6173    For three phas
+00012c20: 6520 6c6f 6164 2066 6c6f 770d 0a0d 0a20  e load flow.... 
+00012c30: 2020 2020 2020 2063 7265 6174 655f 6578         create_ex
+00012c40: 745f 6772 6964 286e 6574 2c20 312c 2076  t_grid(net, 1, v
+00012c50: 6f6c 7461 6765 3d31 2e30 332c 2073 5f73  oltage=1.03, s_s
+00012c60: 635f 6d61 785f 6d76 613d 3130 3030 2c20  c_max_mva=1000, 
+00012c70: 7278 5f6d 6178 3d30 2e31 2c20 7230 7830  rx_max=0.1, r0x0
+00012c80: 5f6d 6178 3d30 2e31 2c5c 0d0a 2020 2020  _max=0.1,\..    
+00012c90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012ca0: 2020 2078 3078 5f6d 6178 3d31 2e30 290d     x0x_max=1.0).
+00012cb0: 0a20 2020 2022 2222 0d0a 2020 2020 5f63  .    """..    _c
+00012cc0: 6865 636b 5f6e 6f64 655f 656c 656d 656e  heck_node_elemen
+00012cd0: 7428 6e65 742c 2062 7573 290d 0a0d 0a20  t(net, bus).... 
+00012ce0: 2020 2069 6e64 6578 203d 205f 6765 745f     index = _get_
+00012cf0: 696e 6465 785f 7769 7468 5f63 6865 636b  index_with_check
+00012d00: 286e 6574 2c20 2265 7874 5f67 7269 6422  (net, "ext_grid"
+00012d10: 2c20 696e 6465 782c 206e 616d 653d 2265  , index, name="e
+00012d20: 7874 6572 6e61 6c20 6772 6964 2229 0d0a  xternal grid")..
+00012d30: 0d0a 2020 2020 656e 7472 6965 7320 3d20  ..    entries = 
+00012d40: 6469 6374 287a 6970 285b 2262 7573 222c  dict(zip(["bus",
+00012d50: 2022 6e61 6d65 222c 2022 766d 5f70 7522   "name", "vm_pu"
+00012d60: 2c20 2276 615f 6465 6772 6565 222c 2022  , "va_degree", "
+00012d70: 696e 5f73 6572 7669 6365 222c 2022 736c  in_service", "sl
+00012d80: 6163 6b5f 7765 6967 6874 225d 2c0d 0a20  ack_weight"],.. 
+00012d90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012da0: 2020 2020 2020 5b62 7573 2c20 6e61 6d65        [bus, name
+00012db0: 2c20 766d 5f70 752c 2076 615f 6465 6772  , vm_pu, va_degr
+00012dc0: 6565 2c20 626f 6f6c 2869 6e5f 7365 7276  ee, bool(in_serv
+00012dd0: 6963 6529 2c20 736c 6163 6b5f 7765 6967  ice), slack_weig
+00012de0: 6874 5d29 290d 0a20 2020 205f 7365 745f  ht]))..    _set_
+00012df0: 656e 7472 6965 7328 6e65 742c 2022 6578  entries(net, "ex
+00012e00: 745f 6772 6964 222c 2069 6e64 6578 2c20  t_grid", index, 
+00012e10: 2a2a 656e 7472 6965 732c 202a 2a6b 7761  **entries, **kwa
+00012e20: 7267 7329 0d0a 0d0a 2020 2020 2320 4f50  rgs)....    # OP
+00012e30: 4620 6c69 6d69 7473 0d0a 2020 2020 5f63  F limits..    _c
+00012e40: 7265 6174 655f 636f 6c75 6d6e 5f61 6e64  reate_column_and
+00012e50: 5f73 6574 5f76 616c 7565 286e 6574 2c20  _set_value(net, 
+00012e60: 696e 6465 782c 2073 5f73 635f 6d61 785f  index, s_sc_max_
+00012e70: 6d76 612c 2022 735f 7363 5f6d 6178 5f6d  mva, "s_sc_max_m
+00012e80: 7661 222c 2022 6578 745f 6772 6964 2229  va", "ext_grid")
+00012e90: 0d0a 2020 2020 5f63 7265 6174 655f 636f  ..    _create_co
+00012ea0: 6c75 6d6e 5f61 6e64 5f73 6574 5f76 616c  lumn_and_set_val
+00012eb0: 7565 286e 6574 2c20 696e 6465 782c 2073  ue(net, index, s
+00012ec0: 5f73 635f 6d69 6e5f 6d76 612c 2022 735f  _sc_min_mva, "s_
+00012ed0: 7363 5f6d 696e 5f6d 7661 222c 2022 6578  sc_min_mva", "ex
+00012ee0: 745f 6772 6964 2229 0d0a 2020 2020 5f63  t_grid")..    _c
+00012ef0: 7265 6174 655f 636f 6c75 6d6e 5f61 6e64  reate_column_and
+00012f00: 5f73 6574 5f76 616c 7565 286e 6574 2c20  _set_value(net, 
+00012f10: 696e 6465 782c 2072 785f 6d69 6e2c 2022  index, rx_min, "
+00012f20: 7278 5f6d 696e 222c 2022 6578 745f 6772  rx_min", "ext_gr
+00012f30: 6964 2229 0d0a 2020 2020 5f63 7265 6174  id")..    _creat
+00012f40: 655f 636f 6c75 6d6e 5f61 6e64 5f73 6574  e_column_and_set
+00012f50: 5f76 616c 7565 286e 6574 2c20 696e 6465  _value(net, inde
+00012f60: 782c 2072 785f 6d61 782c 2022 7278 5f6d  x, rx_max, "rx_m
+00012f70: 6178 222c 2022 6578 745f 6772 6964 2229  ax", "ext_grid")
+00012f80: 0d0a 2020 2020 5f63 7265 6174 655f 636f  ..    _create_co
+00012f90: 6c75 6d6e 5f61 6e64 5f73 6574 5f76 616c  lumn_and_set_val
+00012fa0: 7565 286e 6574 2c20 696e 6465 782c 206d  ue(net, index, m
+00012fb0: 696e 5f70 5f6d 772c 2022 6d69 6e5f 705f  in_p_mw, "min_p_
+00012fc0: 6d77 222c 2022 6578 745f 6772 6964 2229  mw", "ext_grid")
+00012fd0: 0d0a 2020 2020 5f63 7265 6174 655f 636f  ..    _create_co
+00012fe0: 6c75 6d6e 5f61 6e64 5f73 6574 5f76 616c  lumn_and_set_val
+00012ff0: 7565 286e 6574 2c20 696e 6465 782c 206d  ue(net, index, m
+00013000: 6178 5f70 5f6d 772c 2022 6d61 785f 705f  ax_p_mw, "max_p_
+00013010: 6d77 222c 2022 6578 745f 6772 6964 2229  mw", "ext_grid")
+00013020: 0d0a 2020 2020 5f63 7265 6174 655f 636f  ..    _create_co
+00013030: 6c75 6d6e 5f61 6e64 5f73 6574 5f76 616c  lumn_and_set_val
+00013040: 7565 286e 6574 2c20 696e 6465 782c 206d  ue(net, index, m
+00013050: 696e 5f71 5f6d 7661 722c 2022 6d69 6e5f  in_q_mvar, "min_
+00013060: 715f 6d76 6172 222c 2022 6578 745f 6772  q_mvar", "ext_gr
+00013070: 6964 2229 0d0a 2020 2020 5f63 7265 6174  id")..    _creat
+00013080: 655f 636f 6c75 6d6e 5f61 6e64 5f73 6574  e_column_and_set
+00013090: 5f76 616c 7565 286e 6574 2c20 696e 6465  _value(net, inde
+000130a0: 782c 206d 6178 5f71 5f6d 7661 722c 2022  x, max_q_mvar, "
+000130b0: 6d61 785f 715f 6d76 6172 222c 2022 6578  max_q_mvar", "ex
+000130c0: 745f 6772 6964 2229 0d0a 2020 2020 5f63  t_grid")..    _c
+000130d0: 7265 6174 655f 636f 6c75 6d6e 5f61 6e64  reate_column_and
+000130e0: 5f73 6574 5f76 616c 7565 286e 6574 2c20  _set_value(net, 
+000130f0: 696e 6465 782c 2078 3078 5f6d 6178 2c20  index, x0x_max, 
+00013100: 2278 3078 5f6d 6178 222c 2022 6578 745f  "x0x_max", "ext_
+00013110: 6772 6964 2229 0d0a 2020 2020 5f63 7265  grid")..    _cre
+00013120: 6174 655f 636f 6c75 6d6e 5f61 6e64 5f73  ate_column_and_s
+00013130: 6574 5f76 616c 7565 286e 6574 2c20 696e  et_value(net, in
+00013140: 6465 782c 2072 3078 305f 6d61 782c 2022  dex, r0x0_max, "
+00013150: 7230 7830 5f6d 6178 222c 2022 6578 745f  r0x0_max", "ext_
+00013160: 6772 6964 2229 0d0a 2020 2020 5f63 7265  grid")..    _cre
+00013170: 6174 655f 636f 6c75 6d6e 5f61 6e64 5f73  ate_column_and_s
+00013180: 6574 5f76 616c 7565 286e 6574 2c20 696e  et_value(net, in
+00013190: 6465 782c 2063 6f6e 7472 6f6c 6c61 626c  dex, controllabl
+000131a0: 652c 2022 636f 6e74 726f 6c6c 6162 6c65  e, "controllable
+000131b0: 222c 2022 6578 745f 6772 6964 222c 0d0a  ", "ext_grid",..
 000131c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000131d0: 2020 6474 7970 3d62 6f6f 6c5f 2c20 6465    dtyp=bool_, de
-000131e0: 6661 756c 745f 7661 6c3d 4661 6c73 652c  fault_val=False,
-000131f0: 2064 6566 6175 6c74 5f66 6f72 5f6e 616e   default_for_nan
-00013200: 3d54 7275 6529 0d0a 0d0a 2020 2020 7265  =True)....    re
-00013210: 7475 726e 2069 6e64 6578 0d0a 0d0a 0d0a  turn index......
-00013220: 6465 6620 6372 6561 7465 5f6c 696e 6528  def create_line(
-00013230: 6e65 742c 2066 726f 6d5f 6275 732c 2074  net, from_bus, t
-00013240: 6f5f 6275 732c 206c 656e 6774 685f 6b6d  o_bus, length_km
-00013250: 2c20 7374 645f 7479 7065 2c20 6e61 6d65  , std_type, name
-00013260: 3d4e 6f6e 652c 2069 6e64 6578 3d4e 6f6e  =None, index=Non
-00013270: 652c 2067 656f 6461 7461 3d4e 6f6e 652c  e, geodata=None,
-00013280: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00013290: 2020 6466 3d31 2e2c 2070 6172 616c 6c65    df=1., paralle
-000132a0: 6c3d 312c 2069 6e5f 7365 7276 6963 653d  l=1, in_service=
-000132b0: 5472 7565 2c20 6d61 785f 6c6f 6164 696e  True, max_loadin
-000132c0: 675f 7065 7263 656e 743d 6e61 6e2c 2061  g_percent=nan, a
-000132d0: 6c70 6861 3d6e 616e 2c0d 0a20 2020 2020  lpha=nan,..     
-000132e0: 2020 2020 2020 2020 2020 2074 656d 7065             tempe
-000132f0: 7261 7475 7265 5f64 6567 7265 655f 6365  rature_degree_ce
-00013300: 6c73 6975 733d 6e61 6e29 3a0d 0a20 2020  lsius=nan):..   
-00013310: 2022 2222 0d0a 2020 2020 4372 6561 7465   """..    Create
-00013320: 7320 6120 6c69 6e65 2065 6c65 6d65 6e74  s a line element
-00013330: 2069 6e20 6e65 745b 226c 696e 6522 5d0d   in net["line"].
-00013340: 0a20 2020 2054 6865 206c 696e 6520 7061  .    The line pa
-00013350: 7261 6d65 7465 7273 2061 7265 2064 6566  rameters are def
-00013360: 696e 6564 2074 6872 6f75 6768 2074 6865  ined through the
-00013370: 2073 7461 6e64 6172 6420 7479 7065 206c   standard type l
-00013380: 6962 7261 7279 2e0d 0a0d 0a0d 0a20 2020  ibrary.......   
-00013390: 2049 4e50 5554 3a0d 0a20 2020 2020 2020   INPUT:..       
-000133a0: 202a 2a6e 6574 2a2a 202d 2054 6865 206e   **net** - The n
-000133b0: 6574 2077 6974 6869 6e20 7468 6973 206c  et within this l
-000133c0: 696e 6520 7368 6f75 6c64 2062 6520 6372  ine should be cr
-000133d0: 6561 7465 640d 0a0d 0a20 2020 2020 2020  eated....       
-000133e0: 202a 2a66 726f 6d5f 6275 732a 2a20 2869   **from_bus** (i
-000133f0: 6e74 2920 2d20 4944 206f 6620 7468 6520  nt) - ID of the 
-00013400: 6275 7320 6f6e 206f 6e65 2073 6964 6520  bus on one side 
-00013410: 7768 6963 6820 7468 6520 6c69 6e65 2077  which the line w
-00013420: 696c 6c20 6265 2063 6f6e 6e65 6374 6564  ill be connected
-00013430: 2077 6974 680d 0a0d 0a20 2020 2020 2020   with....       
-00013440: 202a 2a74 6f5f 6275 732a 2a20 2869 6e74   **to_bus** (int
-00013450: 2920 2d20 4944 206f 6620 7468 6520 6275  ) - ID of the bu
-00013460: 7320 6f6e 2074 6865 206f 7468 6572 2073  s on the other s
-00013470: 6964 6520 7768 6963 6820 7468 6520 6c69  ide which the li
-00013480: 6e65 2077 696c 6c20 6265 2063 6f6e 6e65  ne will be conne
-00013490: 6374 6564 2077 6974 680d 0a0d 0a20 2020  cted with....   
-000134a0: 2020 2020 202a 2a6c 656e 6774 685f 6b6d       **length_km
-000134b0: 2a2a 2028 666c 6f61 7429 202d 2054 6865  ** (float) - The
-000134c0: 206c 696e 6520 6c65 6e67 7468 2069 6e20   line length in 
-000134d0: 6b6d 0d0a 0d0a 2020 2020 2020 2020 2a2a  km....        **
-000134e0: 7374 645f 7479 7065 2a2a 2028 7374 7269  std_type** (stri
-000134f0: 6e67 2920 2d20 4e61 6d65 206f 6620 6120  ng) - Name of a 
-00013500: 7374 616e 6461 7264 206c 696e 6574 7970  standard linetyp
-00013510: 6520 3a0d 0a0d 0a20 2020 2020 2020 2020  e :....         
-00013520: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013530: 2020 2020 2020 202d 2050 7265 2d64 6566         - Pre-def
-00013540: 696e 6564 2069 6e20 7374 616e 6461 7264  ined in standard
-00013550: 5f6c 696e 6574 7970 6573 0d0a 0d0a 2020  _linetypes....  
-00013560: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013570: 2020 2020 2020 2020 2020 2020 2020 2a2a                **
-00013580: 6f72 2a2a 0d0a 0d0a 2020 2020 2020 2020  or**....        
-00013590: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000135a0: 2020 2020 2020 2020 2d20 4375 7374 6f6d          - Custom
-000135b0: 697a 6564 2073 7464 5f74 7970 6520 6d61  ized std_type ma
-000135c0: 6465 2075 7369 6e67 202a 2a63 7265 6174  de using **creat
-000135d0: 655f 7374 645f 7479 7065 2829 2a2a 0d0a  e_std_type()**..
-000135e0: 0d0a 2020 2020 4f50 5449 4f4e 414c 3a0d  ..    OPTIONAL:.
-000135f0: 0a20 2020 2020 2020 202a 2a6e 616d 652a  .        **name*
-00013600: 2a20 2873 7472 696e 672c 204e 6f6e 6529  * (string, None)
-00013610: 202d 2041 2063 7573 746f 6d20 6e61 6d65   - A custom name
-00013620: 2066 6f72 2074 6869 7320 6c69 6e65 0d0a   for this line..
-00013630: 0d0a 2020 2020 2020 2020 2a2a 696e 6465  ..        **inde
-00013640: 782a 2a20 2869 6e74 2c20 4e6f 6e65 2920  x** (int, None) 
-00013650: 2d20 466f 7263 6520 6120 7370 6563 6966  - Force a specif
-00013660: 6965 6420 4944 2069 6620 6974 2069 7320  ied ID if it is 
-00013670: 6176 6169 6c61 626c 652e 2049 6620 4e6f  available. If No
-00013680: 6e65 2c20 7468 6520 696e 6465 7820 6f6e  ne, the index on
-00013690: 6520 5c0d 0a20 2020 2020 2020 2020 2020  e \..           
-000136a0: 2068 6967 6865 7220 7468 616e 2074 6865   higher than the
-000136b0: 2068 6967 6865 7374 2061 6c72 6561 6479   highest already
-000136c0: 2065 7869 7374 696e 6720 696e 6465 7820   existing index 
-000136d0: 6973 2073 656c 6563 7465 642e 0d0a 0d0a  is selected.....
-000136e0: 2020 2020 2020 2020 2a2a 6765 6f64 6174          **geodat
-000136f0: 612a 2a0d 0a20 2020 2020 2020 2028 6172  a**..        (ar
-00013700: 7261 792c 2064 6566 6175 6c74 204e 6f6e  ray, default Non
-00013710: 652c 2073 6861 7065 3d20 282c 324c 2929  e, shape= (,2L))
-00013720: 202d 0d0a 2020 2020 2020 2020 5468 6520   -..        The 
-00013730: 6c69 6e65 6765 6f64 6174 6120 6f66 2074  linegeodata of t
-00013740: 6865 206c 696e 652e 2054 6865 2066 6972  he line. The fir
-00013750: 7374 2072 6f77 2073 686f 756c 6420 6265  st row should be
-00013760: 2074 6865 2063 6f6f 7264 696e 6174 6573   the coordinates
-00013770: 0d0a 2020 2020 2020 2020 6f66 2062 7573  ..        of bus
-00013780: 2061 2061 6e64 2074 6865 206c 6173 7420   a and the last 
-00013790: 7368 6f75 6c64 2062 6520 7468 6520 636f  should be the co
-000137a0: 6f72 6469 6e61 7465 7320 6f66 2062 7573  ordinates of bus
-000137b0: 2062 2e20 5468 6520 706f 696e 7473 0d0a   b. The points..
-000137c0: 2020 2020 2020 2020 696e 2074 6865 206d          in the m
-000137d0: 6964 646c 6520 7265 7072 6573 656e 7420  iddle represent 
-000137e0: 7468 6520 6265 6e64 696e 6720 706f 696e  the bending poin
-000137f0: 7473 206f 6620 7468 6520 6c69 6e65 0d0a  ts of the line..
-00013800: 0d0a 2020 2020 2020 2020 2a2a 696e 5f73  ..        **in_s
-00013810: 6572 7669 6365 2a2a 2028 626f 6f6c 6561  ervice** (boolea
-00013820: 6e2c 2054 7275 6529 202d 2054 7275 6520  n, True) - True 
-00013830: 666f 7220 696e 5f73 6572 7669 6365 206f  for in_service o
-00013840: 7220 4661 6c73 6520 666f 7220 6f75 7420  r False for out 
-00013850: 6f66 2073 6572 7669 6365 0d0a 0d0a 2020  of service....  
-00013860: 2020 2020 2020 2a2a 6466 2a2a 2028 666c        **df** (fl
-00013870: 6f61 742c 2031 2920 2d20 6465 7261 7469  oat, 1) - derati
-00013880: 6e67 2066 6163 746f 723a 206d 6178 696d  ng factor: maxim
-00013890: 616c 2063 7572 7265 6e74 206f 6620 6c69  al current of li
-000138a0: 6e65 2069 6e20 7265 6c61 7469 6f6e 2074  ne in relation t
-000138b0: 6f20 6e6f 6d69 6e61 6c20 6375 7272 656e  o nominal curren
-000138c0: 745c 0d0a 2020 2020 2020 2020 2020 2020  t\..            
-000138d0: 6f66 206c 696e 6520 2866 726f 6d20 3020  of line (from 0 
-000138e0: 746f 2031 290d 0a0d 0a20 2020 2020 2020  to 1)....       
-000138f0: 202a 2a70 6172 616c 6c65 6c2a 2a20 2869   **parallel** (i
-00013900: 6e74 6567 6572 2c20 3129 202d 206e 756d  nteger, 1) - num
-00013910: 6265 7220 6f66 2070 6172 616c 6c65 6c20  ber of parallel 
-00013920: 6c69 6e65 2073 7973 7465 6d73 0d0a 0d0a  line systems....
-00013930: 2020 2020 2020 2020 2a2a 6d61 785f 6c6f          **max_lo
-00013940: 6164 696e 675f 7065 7263 656e 7420 2866  ading_percent (f
-00013950: 6c6f 6174 292a 2a20 2d20 6d61 7869 6d75  loat)** - maximu
-00013960: 6d20 6375 7272 656e 7420 6c6f 6164 696e  m current loadin
-00013970: 6720 286f 6e6c 7920 6e65 6564 6564 2066  g (only needed f
-00013980: 6f72 204f 5046 290d 0a0d 0a20 2020 204f  or OPF)....    O
-00013990: 5554 5055 543a 0d0a 2020 2020 2020 2020  UTPUT:..        
-000139a0: 2a2a 696e 6465 782a 2a20 2869 6e74 2920  **index** (int) 
-000139b0: 2d20 5468 6520 756e 6971 7565 2049 4420  - The unique ID 
-000139c0: 6f66 2074 6865 2063 7265 6174 6564 206c  of the created l
-000139d0: 696e 650d 0a0d 0a20 2020 2045 5841 4d50  ine....    EXAMP
-000139e0: 4c45 3a0d 0a20 2020 2020 2020 2063 7265  LE:..        cre
-000139f0: 6174 655f 6c69 6e65 286e 6574 2c20 226c  ate_line(net, "l
-00013a00: 696e 6531 222c 2066 726f 6d5f 6275 7320  ine1", from_bus 
-00013a10: 3d20 302c 2074 6f5f 6275 7320 3d20 312c  = 0, to_bus = 1,
-00013a20: 206c 656e 6774 685f 6b6d 3d30 2e31 2c20   length_km=0.1, 
-00013a30: 2073 7464 5f74 7970 653d 224e 4159 5920   std_type="NAYY 
-00013a40: 3478 3530 2053 4522 290d 0a0d 0a20 2020  4x50 SE")....   
-00013a50: 2022 2222 0d0a 0d0a 2020 2020 2320 6368   """....    # ch
-00013a60: 6563 6b20 6966 2062 7573 2065 7869 7374  eck if bus exist
-00013a70: 2074 6f20 6174 7461 6368 2074 6865 206c   to attach the l
-00013a80: 696e 6520 746f 0d0a 2020 2020 5f63 6865  ine to..    _che
-00013a90: 636b 5f62 7261 6e63 685f 656c 656d 656e  ck_branch_elemen
-00013aa0: 7428 6e65 742c 2022 4c69 6e65 222c 2069  t(net, "Line", i
-00013ab0: 6e64 6578 2c20 6672 6f6d 5f62 7573 2c20  ndex, from_bus, 
-00013ac0: 746f 5f62 7573 290d 0a0d 0a20 2020 2069  to_bus)....    i
-00013ad0: 6e64 6578 203d 205f 6765 745f 696e 6465  ndex = _get_inde
-00013ae0: 785f 7769 7468 5f63 6865 636b 286e 6574  x_with_check(net
-00013af0: 2c20 226c 696e 6522 2c20 696e 6465 7829  , "line", index)
-00013b00: 0d0a 0d0a 2020 2020 7620 3d20 7b0d 0a20  ....    v = {.. 
-00013b10: 2020 2020 2020 2022 6e61 6d65 223a 206e         "name": n
-00013b20: 616d 652c 2022 6c65 6e67 7468 5f6b 6d22  ame, "length_km"
-00013b30: 3a20 6c65 6e67 7468 5f6b 6d2c 2022 6672  : length_km, "fr
-00013b40: 6f6d 5f62 7573 223a 2066 726f 6d5f 6275  om_bus": from_bu
-00013b50: 732c 0d0a 2020 2020 2020 2020 2274 6f5f  s,..        "to_
-00013b60: 6275 7322 3a20 746f 5f62 7573 2c20 2269  bus": to_bus, "i
-00013b70: 6e5f 7365 7276 6963 6522 3a20 626f 6f6c  n_service": bool
-00013b80: 2869 6e5f 7365 7276 6963 6529 2c20 2273  (in_service), "s
-00013b90: 7464 5f74 7970 6522 3a20 7374 645f 7479  td_type": std_ty
-00013ba0: 7065 2c0d 0a20 2020 2020 2020 2022 6466  pe,..        "df
-00013bb0: 223a 2064 662c 2022 7061 7261 6c6c 656c  ": df, "parallel
-00013bc0: 223a 2070 6172 616c 6c65 6c0d 0a20 2020  ": parallel..   
-00013bd0: 207d 0d0a 0d0a 2020 2020 6c69 6e65 7061   }....    linepa
-00013be0: 7261 6d20 3d20 6c6f 6164 5f73 7464 5f74  ram = load_std_t
-00013bf0: 7970 6528 6e65 742c 2073 7464 5f74 7970  ype(net, std_typ
-00013c00: 652c 2022 6c69 6e65 2229 0d0a 0d0a 2020  e, "line")....  
-00013c10: 2020 762e 7570 6461 7465 287b 7061 7261    v.update({para
-00013c20: 6d3a 206c 696e 6570 6172 616d 5b70 6172  m: lineparam[par
-00013c30: 616d 5d20 666f 7220 7061 7261 6d20 696e  am] for param in
-00013c40: 205b 2272 5f6f 686d 5f70 6572 5f6b 6d22   ["r_ohm_per_km"
-00013c50: 2c20 2278 5f6f 686d 5f70 6572 5f6b 6d22  , "x_ohm_per_km"
-00013c60: 2c20 2263 5f6e 665f 7065 725f 6b6d 222c  , "c_nf_per_km",
-00013c70: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00013c80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000131d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000131e0: 2064 7479 703d 626f 6f6c 5f2c 2064 6566   dtyp=bool_, def
+000131f0: 6175 6c74 5f76 616c 3d46 616c 7365 2c20  ault_val=False, 
+00013200: 6465 6661 756c 745f 666f 725f 6e61 6e3d  default_for_nan=
+00013210: 5472 7565 290d 0a0d 0a20 2020 2072 6574  True)....    ret
+00013220: 7572 6e20 696e 6465 780d 0a0d 0a0d 0a64  urn index......d
+00013230: 6566 2063 7265 6174 655f 6c69 6e65 286e  ef create_line(n
+00013240: 6574 2c20 6672 6f6d 5f62 7573 2c20 746f  et, from_bus, to
+00013250: 5f62 7573 2c20 6c65 6e67 7468 5f6b 6d2c  _bus, length_km,
+00013260: 2073 7464 5f74 7970 652c 206e 616d 653d   std_type, name=
+00013270: 4e6f 6e65 2c20 696e 6465 783d 4e6f 6e65  None, index=None
+00013280: 2c20 6765 6f64 6174 613d 4e6f 6e65 2c0d  , geodata=None,.
+00013290: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000132a0: 2064 663d 312e 2c20 7061 7261 6c6c 656c   df=1., parallel
+000132b0: 3d31 2c20 696e 5f73 6572 7669 6365 3d54  =1, in_service=T
+000132c0: 7275 652c 206d 6178 5f6c 6f61 6469 6e67  rue, max_loading
+000132d0: 5f70 6572 6365 6e74 3d6e 616e 2c20 616c  _percent=nan, al
+000132e0: 7068 613d 6e61 6e2c 0d0a 2020 2020 2020  pha=nan,..      
+000132f0: 2020 2020 2020 2020 2020 7465 6d70 6572            temper
+00013300: 6174 7572 655f 6465 6772 6565 5f63 656c  ature_degree_cel
+00013310: 7369 7573 3d6e 616e 293a 0d0a 2020 2020  sius=nan):..    
+00013320: 2222 220d 0a20 2020 2043 7265 6174 6573  """..    Creates
+00013330: 2061 206c 696e 6520 656c 656d 656e 7420   a line element 
+00013340: 696e 206e 6574 5b22 6c69 6e65 225d 0d0a  in net["line"]..
+00013350: 2020 2020 5468 6520 6c69 6e65 2070 6172      The line par
+00013360: 616d 6574 6572 7320 6172 6520 6465 6669  ameters are defi
+00013370: 6e65 6420 7468 726f 7567 6820 7468 6520  ned through the 
+00013380: 7374 616e 6461 7264 2074 7970 6520 6c69  standard type li
+00013390: 6272 6172 792e 0d0a 0d0a 0d0a 2020 2020  brary.......    
+000133a0: 494e 5055 543a 0d0a 2020 2020 2020 2020  INPUT:..        
+000133b0: 2a2a 6e65 742a 2a20 2d20 5468 6520 6e65  **net** - The ne
+000133c0: 7420 7769 7468 696e 2074 6869 7320 6c69  t within this li
+000133d0: 6e65 2073 686f 756c 6420 6265 2063 7265  ne should be cre
+000133e0: 6174 6564 0d0a 0d0a 2020 2020 2020 2020  ated....        
+000133f0: 2a2a 6672 6f6d 5f62 7573 2a2a 2028 696e  **from_bus** (in
+00013400: 7429 202d 2049 4420 6f66 2074 6865 2062  t) - ID of the b
+00013410: 7573 206f 6e20 6f6e 6520 7369 6465 2077  us on one side w
+00013420: 6869 6368 2074 6865 206c 696e 6520 7769  hich the line wi
+00013430: 6c6c 2062 6520 636f 6e6e 6563 7465 6420  ll be connected 
+00013440: 7769 7468 0d0a 0d0a 2020 2020 2020 2020  with....        
+00013450: 2a2a 746f 5f62 7573 2a2a 2028 696e 7429  **to_bus** (int)
+00013460: 202d 2049 4420 6f66 2074 6865 2062 7573   - ID of the bus
+00013470: 206f 6e20 7468 6520 6f74 6865 7220 7369   on the other si
+00013480: 6465 2077 6869 6368 2074 6865 206c 696e  de which the lin
+00013490: 6520 7769 6c6c 2062 6520 636f 6e6e 6563  e will be connec
+000134a0: 7465 6420 7769 7468 0d0a 0d0a 2020 2020  ted with....    
+000134b0: 2020 2020 2a2a 6c65 6e67 7468 5f6b 6d2a      **length_km*
+000134c0: 2a20 2866 6c6f 6174 2920 2d20 5468 6520  * (float) - The 
+000134d0: 6c69 6e65 206c 656e 6774 6820 696e 206b  line length in k
+000134e0: 6d0d 0a0d 0a20 2020 2020 2020 202a 2a73  m....        **s
+000134f0: 7464 5f74 7970 652a 2a20 2873 7472 696e  td_type** (strin
+00013500: 6729 202d 204e 616d 6520 6f66 2061 2073  g) - Name of a s
+00013510: 7461 6e64 6172 6420 6c69 6e65 7479 7065  tandard linetype
+00013520: 203a 0d0a 0d0a 2020 2020 2020 2020 2020   :....          
+00013530: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013540: 2020 2020 2020 2d20 5072 652d 6465 6669        - Pre-defi
+00013550: 6e65 6420 696e 2073 7461 6e64 6172 645f  ned in standard_
+00013560: 6c69 6e65 7479 7065 730d 0a0d 0a20 2020  linetypes....   
+00013570: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013580: 2020 2020 2020 2020 2020 2020 202a 2a6f               **o
+00013590: 722a 2a0d 0a0d 0a20 2020 2020 2020 2020  r**....         
+000135a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000135b0: 2020 2020 2020 202d 2043 7573 746f 6d69         - Customi
+000135c0: 7a65 6420 7374 645f 7479 7065 206d 6164  zed std_type mad
+000135d0: 6520 7573 696e 6720 2a2a 6372 6561 7465  e using **create
+000135e0: 5f73 7464 5f74 7970 6528 292a 2a0d 0a0d  _std_type()**...
+000135f0: 0a20 2020 204f 5054 494f 4e41 4c3a 0d0a  .    OPTIONAL:..
+00013600: 2020 2020 2020 2020 2a2a 6e61 6d65 2a2a          **name**
+00013610: 2028 7374 7269 6e67 2c20 4e6f 6e65 2920   (string, None) 
+00013620: 2d20 4120 6375 7374 6f6d 206e 616d 6520  - A custom name 
+00013630: 666f 7220 7468 6973 206c 696e 650d 0a0d  for this line...
+00013640: 0a20 2020 2020 2020 202a 2a69 6e64 6578  .        **index
+00013650: 2a2a 2028 696e 742c 204e 6f6e 6529 202d  ** (int, None) -
+00013660: 2046 6f72 6365 2061 2073 7065 6369 6669   Force a specifi
+00013670: 6564 2049 4420 6966 2069 7420 6973 2061  ed ID if it is a
+00013680: 7661 696c 6162 6c65 2e20 4966 204e 6f6e  vailable. If Non
+00013690: 652c 2074 6865 2069 6e64 6578 206f 6e65  e, the index one
+000136a0: 205c 0d0a 2020 2020 2020 2020 2020 2020   \..            
+000136b0: 6869 6768 6572 2074 6861 6e20 7468 6520  higher than the 
+000136c0: 6869 6768 6573 7420 616c 7265 6164 7920  highest already 
+000136d0: 6578 6973 7469 6e67 2069 6e64 6578 2069  existing index i
+000136e0: 7320 7365 6c65 6374 6564 2e0d 0a0d 0a20  s selected..... 
+000136f0: 2020 2020 2020 202a 2a67 656f 6461 7461         **geodata
+00013700: 2a2a 0d0a 2020 2020 2020 2020 2861 7272  **..        (arr
+00013710: 6179 2c20 6465 6661 756c 7420 4e6f 6e65  ay, default None
+00013720: 2c20 7368 6170 653d 2028 2c32 4c29 2920  , shape= (,2L)) 
+00013730: 2d0d 0a20 2020 2020 2020 2054 6865 206c  -..        The l
+00013740: 696e 6567 656f 6461 7461 206f 6620 7468  inegeodata of th
+00013750: 6520 6c69 6e65 2e20 5468 6520 6669 7273  e line. The firs
+00013760: 7420 726f 7720 7368 6f75 6c64 2062 6520  t row should be 
+00013770: 7468 6520 636f 6f72 6469 6e61 7465 730d  the coordinates.
+00013780: 0a20 2020 2020 2020 206f 6620 6275 7320  .        of bus 
+00013790: 6120 616e 6420 7468 6520 6c61 7374 2073  a and the last s
+000137a0: 686f 756c 6420 6265 2074 6865 2063 6f6f  hould be the coo
+000137b0: 7264 696e 6174 6573 206f 6620 6275 7320  rdinates of bus 
+000137c0: 622e 2054 6865 2070 6f69 6e74 730d 0a20  b. The points.. 
+000137d0: 2020 2020 2020 2069 6e20 7468 6520 6d69         in the mi
+000137e0: 6464 6c65 2072 6570 7265 7365 6e74 2074  ddle represent t
+000137f0: 6865 2062 656e 6469 6e67 2070 6f69 6e74  he bending point
+00013800: 7320 6f66 2074 6865 206c 696e 650d 0a0d  s of the line...
+00013810: 0a20 2020 2020 2020 202a 2a69 6e5f 7365  .        **in_se
+00013820: 7276 6963 652a 2a20 2862 6f6f 6c65 616e  rvice** (boolean
+00013830: 2c20 5472 7565 2920 2d20 5472 7565 2066  , True) - True f
+00013840: 6f72 2069 6e5f 7365 7276 6963 6520 6f72  or in_service or
+00013850: 2046 616c 7365 2066 6f72 206f 7574 206f   False for out o
+00013860: 6620 7365 7276 6963 650d 0a0d 0a20 2020  f service....   
+00013870: 2020 2020 202a 2a64 662a 2a20 2866 6c6f       **df** (flo
+00013880: 6174 2c20 3129 202d 2064 6572 6174 696e  at, 1) - deratin
+00013890: 6720 6661 6374 6f72 3a20 6d61 7869 6d61  g factor: maxima
+000138a0: 6c20 6375 7272 656e 7420 6f66 206c 696e  l current of lin
+000138b0: 6520 696e 2072 656c 6174 696f 6e20 746f  e in relation to
+000138c0: 206e 6f6d 696e 616c 2063 7572 7265 6e74   nominal current
+000138d0: 5c0d 0a20 2020 2020 2020 2020 2020 206f  \..            o
+000138e0: 6620 6c69 6e65 2028 6672 6f6d 2030 2074  f line (from 0 t
+000138f0: 6f20 3129 0d0a 0d0a 2020 2020 2020 2020  o 1)....        
+00013900: 2a2a 7061 7261 6c6c 656c 2a2a 2028 696e  **parallel** (in
+00013910: 7465 6765 722c 2031 2920 2d20 6e75 6d62  teger, 1) - numb
+00013920: 6572 206f 6620 7061 7261 6c6c 656c 206c  er of parallel l
+00013930: 696e 6520 7379 7374 656d 730d 0a0d 0a20  ine systems.... 
+00013940: 2020 2020 2020 202a 2a6d 6178 5f6c 6f61         **max_loa
+00013950: 6469 6e67 5f70 6572 6365 6e74 2028 666c  ding_percent (fl
+00013960: 6f61 7429 2a2a 202d 206d 6178 696d 756d  oat)** - maximum
+00013970: 2063 7572 7265 6e74 206c 6f61 6469 6e67   current loading
+00013980: 2028 6f6e 6c79 206e 6565 6465 6420 666f   (only needed fo
+00013990: 7220 4f50 4629 0d0a 0d0a 2020 2020 4f55  r OPF)....    OU
+000139a0: 5450 5554 3a0d 0a20 2020 2020 2020 202a  TPUT:..        *
+000139b0: 2a69 6e64 6578 2a2a 2028 696e 7429 202d  *index** (int) -
+000139c0: 2054 6865 2075 6e69 7175 6520 4944 206f   The unique ID o
+000139d0: 6620 7468 6520 6372 6561 7465 6420 6c69  f the created li
+000139e0: 6e65 0d0a 0d0a 2020 2020 4558 414d 504c  ne....    EXAMPL
+000139f0: 453a 0d0a 2020 2020 2020 2020 6372 6561  E:..        crea
+00013a00: 7465 5f6c 696e 6528 6e65 742c 2022 6c69  te_line(net, "li
+00013a10: 6e65 3122 2c20 6672 6f6d 5f62 7573 203d  ne1", from_bus =
+00013a20: 2030 2c20 746f 5f62 7573 203d 2031 2c20   0, to_bus = 1, 
+00013a30: 6c65 6e67 7468 5f6b 6d3d 302e 312c 2020  length_km=0.1,  
+00013a40: 7374 645f 7479 7065 3d22 4e41 5959 2034  std_type="NAYY 4
+00013a50: 7835 3020 5345 2229 0d0a 0d0a 2020 2020  x50 SE")....    
+00013a60: 2222 220d 0a0d 0a20 2020 2023 2063 6865  """....    # che
+00013a70: 636b 2069 6620 6275 7320 6578 6973 7420  ck if bus exist 
+00013a80: 746f 2061 7474 6163 6820 7468 6520 6c69  to attach the li
+00013a90: 6e65 2074 6f0d 0a20 2020 205f 6368 6563  ne to..    _chec
+00013aa0: 6b5f 6272 616e 6368 5f65 6c65 6d65 6e74  k_branch_element
+00013ab0: 286e 6574 2c20 224c 696e 6522 2c20 696e  (net, "Line", in
+00013ac0: 6465 782c 2066 726f 6d5f 6275 732c 2074  dex, from_bus, t
+00013ad0: 6f5f 6275 7329 0d0a 0d0a 2020 2020 696e  o_bus)....    in
+00013ae0: 6465 7820 3d20 5f67 6574 5f69 6e64 6578  dex = _get_index
+00013af0: 5f77 6974 685f 6368 6563 6b28 6e65 742c  _with_check(net,
+00013b00: 2022 6c69 6e65 222c 2069 6e64 6578 290d   "line", index).
+00013b10: 0a0d 0a20 2020 2076 203d 207b 0d0a 2020  ...    v = {..  
+00013b20: 2020 2020 2020 226e 616d 6522 3a20 6e61        "name": na
+00013b30: 6d65 2c20 226c 656e 6774 685f 6b6d 223a  me, "length_km":
+00013b40: 206c 656e 6774 685f 6b6d 2c20 2266 726f   length_km, "fro
+00013b50: 6d5f 6275 7322 3a20 6672 6f6d 5f62 7573  m_bus": from_bus
+00013b60: 2c0d 0a20 2020 2020 2020 2022 746f 5f62  ,..        "to_b
+00013b70: 7573 223a 2074 6f5f 6275 732c 2022 696e  us": to_bus, "in
+00013b80: 5f73 6572 7669 6365 223a 2062 6f6f 6c28  _service": bool(
+00013b90: 696e 5f73 6572 7669 6365 292c 2022 7374  in_service), "st
+00013ba0: 645f 7479 7065 223a 2073 7464 5f74 7970  d_type": std_typ
+00013bb0: 652c 0d0a 2020 2020 2020 2020 2264 6622  e,..        "df"
+00013bc0: 3a20 6466 2c20 2270 6172 616c 6c65 6c22  : df, "parallel"
+00013bd0: 3a20 7061 7261 6c6c 656c 0d0a 2020 2020  : parallel..    
+00013be0: 7d0d 0a0d 0a20 2020 206c 696e 6570 6172  }....    linepar
+00013bf0: 616d 203d 206c 6f61 645f 7374 645f 7479  am = load_std_ty
+00013c00: 7065 286e 6574 2c20 7374 645f 7479 7065  pe(net, std_type
+00013c10: 2c20 226c 696e 6522 290d 0a0d 0a20 2020  , "line")....   
+00013c20: 2076 2e75 7064 6174 6528 7b70 6172 616d   v.update({param
+00013c30: 3a20 6c69 6e65 7061 7261 6d5b 7061 7261  : lineparam[para
+00013c40: 6d5d 2066 6f72 2070 6172 616d 2069 6e20  m] for param in 
+00013c50: 5b22 725f 6f68 6d5f 7065 725f 6b6d 222c  ["r_ohm_per_km",
+00013c60: 2022 785f 6f68 6d5f 7065 725f 6b6d 222c   "x_ohm_per_km",
+00013c70: 2022 635f 6e66 5f70 6572 5f6b 6d22 2c0d   "c_nf_per_km",.
+00013c80: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
 00013c90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013ca0: 2020 2020 2020 226d 6178 5f69 5f6b 6122        "max_i_ka"
-00013cb0: 5d7d 290d 0a20 2020 2069 6620 2272 305f  ]})..    if "r0_
-00013cc0: 6f68 6d5f 7065 725f 6b6d 2220 696e 206c  ohm_per_km" in l
-00013cd0: 696e 6570 6172 616d 3a0d 0a20 2020 2020  ineparam:..     
-00013ce0: 2020 2076 2e75 7064 6174 6528 7b70 6172     v.update({par
-00013cf0: 616d 3a20 6c69 6e65 7061 7261 6d5b 7061  am: lineparam[pa
-00013d00: 7261 6d5d 2066 6f72 2070 6172 616d 2069  ram] for param i
-00013d10: 6e20 5b22 7230 5f6f 686d 5f70 6572 5f6b  n ["r0_ohm_per_k
-00013d20: 6d22 2c20 2278 305f 6f68 6d5f 7065 725f  m", "x0_ohm_per_
-00013d30: 6b6d 222c 2022 6330 5f6e 665f 7065 725f  km", "c0_nf_per_
-00013d40: 6b6d 225d 7d29 0d0a 0d0a 2020 2020 765b  km"]})....    v[
-00013d50: 2267 5f75 735f 7065 725f 6b6d 225d 203d  "g_us_per_km"] =
-00013d60: 206c 696e 6570 6172 616d 5b22 675f 7573   lineparam["g_us
-00013d70: 5f70 6572 5f6b 6d22 5d20 6966 2022 675f  _per_km"] if "g_
-00013d80: 7573 5f70 6572 5f6b 6d22 2069 6e20 6c69  us_per_km" in li
-00013d90: 6e65 7061 7261 6d20 656c 7365 2030 2e0d  neparam else 0..
-00013da0: 0a0d 0a20 2020 2069 6620 2274 7970 6522  ...    if "type"
-00013db0: 2069 6e20 6c69 6e65 7061 7261 6d3a 0d0a   in lineparam:..
-00013dc0: 2020 2020 2020 2020 765b 2274 7970 6522          v["type"
-00013dd0: 5d20 3d20 6c69 6e65 7061 7261 6d5b 2274  ] = lineparam["t
-00013de0: 7970 6522 5d0d 0a0d 0a20 2020 2023 2069  ype"]....    # i
-00013df0: 6620 6e65 742e 6c69 6e65 2063 6f6c 756d  f net.line colum
-00013e00: 6e20 616c 7265 6164 7920 6861 7320 616c  n already has al
-00013e10: 7068 612c 2061 6464 2069 7420 6672 6f6d  pha, add it from
-00013e20: 2073 7464 5f74 7970 650d 0a20 2020 2069   std_type..    i
-00013e30: 6620 2261 6c70 6861 2220 696e 206e 6574  f "alpha" in net
-00013e40: 2e6c 696e 652e 636f 6c75 6d6e 7320 616e  .line.columns an
-00013e50: 6420 2261 6c70 6861 2220 696e 206c 696e  d "alpha" in lin
-00013e60: 6570 6172 616d 3a0d 0a20 2020 2020 2020  eparam:..       
-00013e70: 2076 5b22 616c 7068 6122 5d20 3d20 6c69   v["alpha"] = li
-00013e80: 6e65 7061 7261 6d5b 2261 6c70 6861 225d  neparam["alpha"]
-00013e90: 0d0a 0d0a 2020 2020 5f73 6574 5f65 6e74  ....    _set_ent
-00013ea0: 7269 6573 286e 6574 2c20 226c 696e 6522  ries(net, "line"
-00013eb0: 2c20 696e 6465 782c 202a 2a76 290d 0a0d  , index, **v)...
-00013ec0: 0a20 2020 2069 6620 6765 6f64 6174 6120  .    if geodata 
-00013ed0: 6973 206e 6f74 204e 6f6e 653a 0d0a 2020  is not None:..  
-00013ee0: 2020 2020 2020 6e65 745b 226c 696e 655f        net["line_
-00013ef0: 6765 6f64 6174 6122 5d2e 6c6f 635b 696e  geodata"].loc[in
-00013f00: 6465 782c 2022 636f 6f72 6473 225d 203d  dex, "coords"] =
-00013f10: 204e 6f6e 650d 0a20 2020 2020 2020 206e   None..        n
-00013f20: 6574 5b22 6c69 6e65 5f67 656f 6461 7461  et["line_geodata
-00013f30: 225d 2e61 745b 696e 6465 782c 2022 636f  "].at[index, "co
-00013f40: 6f72 6473 225d 203d 2067 656f 6461 7461  ords"] = geodata
-00013f50: 0d0a 0d0a 2020 2020 5f63 7265 6174 655f  ....    _create_
-00013f60: 636f 6c75 6d6e 5f61 6e64 5f73 6574 5f76  column_and_set_v
-00013f70: 616c 7565 286e 6574 2c20 696e 6465 782c  alue(net, index,
-00013f80: 206d 6178 5f6c 6f61 6469 6e67 5f70 6572   max_loading_per
-00013f90: 6365 6e74 2c20 226d 6178 5f6c 6f61 6469  cent, "max_loadi
-00013fa0: 6e67 5f70 6572 6365 6e74 222c 2022 6c69  ng_percent", "li
-00013fb0: 6e65 2229 0d0a 2020 2020 5f63 7265 6174  ne")..    _creat
-00013fc0: 655f 636f 6c75 6d6e 5f61 6e64 5f73 6574  e_column_and_set
-00013fd0: 5f76 616c 7565 286e 6574 2c20 696e 6465  _value(net, inde
-00013fe0: 782c 2061 6c70 6861 2c20 2261 6c70 6861  x, alpha, "alpha
-00013ff0: 222c 2022 6c69 6e65 2229 0d0a 2020 2020  ", "line")..    
-00014000: 5f63 7265 6174 655f 636f 6c75 6d6e 5f61  _create_column_a
-00014010: 6e64 5f73 6574 5f76 616c 7565 286e 6574  nd_set_value(net
-00014020: 2c20 696e 6465 782c 2074 656d 7065 7261  , index, tempera
-00014030: 7475 7265 5f64 6567 7265 655f 6365 6c73  ture_degree_cels
-00014040: 6975 732c 0d0a 2020 2020 2020 2020 2020  ius,..          
-00014050: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014060: 2020 2020 2020 2022 7465 6d70 6572 6174         "temperat
-00014070: 7572 655f 6465 6772 6565 5f63 656c 7369  ure_degree_celsi
-00014080: 7573 222c 2022 6c69 6e65 2229 0d0a 0d0a  us", "line")....
-00014090: 2020 2020 7265 7475 726e 2069 6e64 6578      return index
-000140a0: 0d0a 0d0a 0d0a 6465 6620 6372 6561 7465  ......def create
-000140b0: 5f6c 696e 6573 286e 6574 2c20 6672 6f6d  _lines(net, from
-000140c0: 5f62 7573 6573 2c20 746f 5f62 7573 6573  _buses, to_buses
-000140d0: 2c20 6c65 6e67 7468 5f6b 6d2c 2073 7464  , length_km, std
-000140e0: 5f74 7970 652c 206e 616d 653d 4e6f 6e65  _type, name=None
-000140f0: 2c20 696e 6465 783d 4e6f 6e65 2c0d 0a20  , index=None,.. 
-00014100: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014110: 6765 6f64 6174 613d 4e6f 6e65 2c20 6466  geodata=None, df
-00014120: 3d31 2e2c 2070 6172 616c 6c65 6c3d 312c  =1., parallel=1,
-00014130: 2069 6e5f 7365 7276 6963 653d 5472 7565   in_service=True
-00014140: 2c20 6d61 785f 6c6f 6164 696e 675f 7065  , max_loading_pe
-00014150: 7263 656e 743d 4e6f 6e65 293a 0d0a 2020  rcent=None):..  
-00014160: 2020 2222 2220 436f 6e76 656e 6965 6e63    """ Convenienc
-00014170: 6520 6675 6e63 7469 6f6e 2066 6f72 2063  e function for c
-00014180: 7265 6174 696e 6720 6d61 6e79 206c 696e  reating many lin
-00014190: 6573 2061 7420 6f6e 6365 2e20 5061 7261  es at once. Para
-000141a0: 6d65 7465 7273 2027 6672 6f6d 5f62 7573  meters 'from_bus
-000141b0: 6573 2720 616e 6420 2774 6f5f 6275 7365  es' and 'to_buse
-000141c0: 7327 0d0a 2020 2020 2020 2020 6d75 7374  s'..        must
-000141d0: 2062 6520 6172 7261 7973 206f 6620 6571   be arrays of eq
-000141e0: 7561 6c20 6c65 6e67 7468 2e20 4f74 6865  ual length. Othe
-000141f0: 7220 7061 7261 6d65 7465 7273 206d 6179  r parameters may
-00014200: 2062 6520 6569 7468 6572 2061 7272 6179   be either array
-00014210: 7320 6f66 2074 6865 2073 616d 6520 6c65  s of the same le
-00014220: 6e67 7468 206f 720d 0a20 2020 2020 2020  ngth or..       
-00014230: 2073 696e 676c 6520 6f72 2076 616c 7565   single or value
-00014240: 732e 2049 6e20 616e 7920 6361 7365 2074  s. In any case t
-00014250: 6865 206c 696e 6520 7061 7261 6d65 7465  he line paramete
-00014260: 7273 2061 7265 2064 6566 696e 6564 2074  rs are defined t
-00014270: 6872 6f75 6768 2061 2073 696e 676c 6520  hrough a single 
-00014280: 7374 616e 6461 7264 0d0a 2020 2020 2020  standard..      
-00014290: 2020 7479 7065 2c20 736f 2061 6c6c 206c    type, so all l
-000142a0: 696e 6573 2068 6176 6520 7468 6520 7361  ines have the sa
-000142b0: 6d65 2073 7461 6e64 6172 6420 7479 7065  me standard type
-000142c0: 2e0d 0a0d 0a0d 0a20 2020 2020 2020 2049  .......        I
-000142d0: 4e50 5554 3a0d 0a20 2020 2020 2020 2020  NPUT:..         
-000142e0: 2020 202a 2a6e 6574 2a2a 202d 2054 6865     **net** - The
-000142f0: 206e 6574 2077 6974 6869 6e20 7468 6973   net within this
-00014300: 206c 696e 6520 7368 6f75 6c64 2062 6520   line should be 
-00014310: 6372 6561 7465 640d 0a0d 0a20 2020 2020  created....     
-00014320: 2020 2020 2020 202a 2a66 726f 6d5f 6275         **from_bu
-00014330: 7365 732a 2a20 286c 6973 7420 6f66 2069  ses** (list of i
-00014340: 6e74 2920 2d20 4944 206f 6620 7468 6520  nt) - ID of the 
-00014350: 6275 7320 6f6e 206f 6e65 2073 6964 6520  bus on one side 
-00014360: 7768 6963 6820 7468 6520 6c69 6e65 2077  which the line w
-00014370: 696c 6c20 6265 205c 0d0a 2020 2020 2020  ill be \..      
-00014380: 2020 2020 2020 2020 2020 636f 6e6e 6563            connec
-00014390: 7465 6420 7769 7468 0d0a 0d0a 2020 2020  ted with....    
-000143a0: 2020 2020 2020 2020 2a2a 746f 5f62 7573          **to_bus
-000143b0: 6573 2a2a 2028 6c69 7374 206f 6620 696e  es** (list of in
-000143c0: 7429 202d 2049 4420 6f66 2074 6865 2062  t) - ID of the b
-000143d0: 7573 206f 6e20 7468 6520 6f74 6865 7220  us on the other 
-000143e0: 7369 6465 2077 6869 6368 2074 6865 206c  side which the l
-000143f0: 696e 6520 7769 6c6c 2062 6520 5c0d 0a20  ine will be \.. 
-00014400: 2020 2020 2020 2020 2020 2020 2020 2063                 c
-00014410: 6f6e 6e65 6374 6564 2077 6974 680d 0a0d  onnected with...
-00014420: 0a20 2020 2020 2020 2020 2020 202a 2a6c  .            **l
-00014430: 656e 6774 685f 6b6d 2a2a 2028 6c69 7374  ength_km** (list
-00014440: 206f 6620 666c 6f61 7429 202d 2054 6865   of float) - The
-00014450: 206c 696e 6520 6c65 6e67 7468 2069 6e20   line length in 
-00014460: 6b6d 0d0a 0d0a 2020 2020 2020 2020 2020  km....          
-00014470: 2020 2a2a 7374 645f 7479 7065 2a2a 2028    **std_type** (
-00014480: 7374 7269 6e67 2920 2d20 5468 6520 6c69  string) - The li
-00014490: 6e65 7479 7065 206f 6620 7468 6520 6c69  netype of the li
-000144a0: 6e65 732e 0d0a 0d0a 2020 2020 2020 2020  nes.....        
-000144b0: 4f50 5449 4f4e 414c 3a0d 0a20 2020 2020  OPTIONAL:..     
-000144c0: 2020 2020 2020 202a 2a6e 616d 652a 2a20         **name** 
-000144d0: 286c 6973 7420 6f66 2073 7472 696e 672c  (list of string,
-000144e0: 204e 6f6e 6529 202d 2041 2063 7573 746f   None) - A custo
-000144f0: 6d20 6e61 6d65 2066 6f72 2074 6869 7320  m name for this 
-00014500: 6c69 6e65 0d0a 0d0a 2020 2020 2020 2020  line....        
-00014510: 2020 2020 2a2a 696e 6465 782a 2a20 286c      **index** (l
-00014520: 6973 7420 6f66 2069 6e74 2c20 4e6f 6e65  ist of int, None
-00014530: 2920 2d20 466f 7263 6520 6120 7370 6563  ) - Force a spec
-00014540: 6966 6965 6420 4944 2069 6620 6974 2069  ified ID if it i
-00014550: 7320 6176 6169 6c61 626c 652e 2049 6620  s available. If 
-00014560: 4e6f 6e65 2c20 7468 655c 0d0a 2020 2020  None, the\..    
-00014570: 2020 2020 2020 2020 2020 2020 696e 6465              inde
-00014580: 7820 6f6e 6520 6869 6768 6572 2074 6861  x one higher tha
-00014590: 6e20 7468 6520 6869 6768 6573 7420 616c  n the highest al
-000145a0: 7265 6164 7920 6578 6973 7469 6e67 2069  ready existing i
-000145b0: 6e64 6578 2069 7320 7365 6c65 6374 6564  ndex is selected
-000145c0: 2e0d 0a0d 0a20 2020 2020 2020 2020 2020  .....           
-000145d0: 202a 2a67 656f 6461 7461 2a2a 0d0a 2020   **geodata**..  
-000145e0: 2020 2020 2020 2020 2020 286c 6973 7420            (list 
-000145f0: 6f66 2061 7272 6179 732c 2064 6566 6175  of arrays, defau
-00014600: 6c74 204e 6f6e 652c 2073 6861 7065 206f  lt None, shape o
-00014610: 6620 6172 7261 7973 2028 2c32 4c29 2920  f arrays (,2L)) 
-00014620: 2d0d 0a20 2020 2020 2020 2020 2020 2054  -..            T
-00014630: 6865 206c 696e 6567 656f 6461 7461 206f  he linegeodata o
-00014640: 6620 7468 6520 6c69 6e65 2e20 5468 6520  f the line. The 
-00014650: 6669 7273 7420 726f 7720 7368 6f75 6c64  first row should
-00014660: 2062 6520 7468 6520 636f 6f72 6469 6e61   be the coordina
-00014670: 7465 730d 0a20 2020 2020 2020 2020 2020  tes..           
-00014680: 206f 6620 6275 7320 6120 616e 6420 7468   of bus a and th
-00014690: 6520 6c61 7374 2073 686f 756c 6420 6265  e last should be
-000146a0: 2074 6865 2063 6f6f 7264 696e 6174 6573   the coordinates
-000146b0: 206f 6620 6275 7320 622e 2054 6865 2070   of bus b. The p
-000146c0: 6f69 6e74 730d 0a20 2020 2020 2020 2020  oints..         
-000146d0: 2020 2069 6e20 7468 6520 6d69 6464 6c65     in the middle
-000146e0: 2072 6570 7265 7365 6e74 2074 6865 2062   represent the b
-000146f0: 656e 6469 6e67 2070 6f69 6e74 7320 6f66  ending points of
-00014700: 2074 6865 206c 696e 650d 0a0d 0a20 2020   the line....   
-00014710: 2020 2020 2020 2020 202a 2a69 6e5f 7365           **in_se
-00014720: 7276 6963 652a 2a20 286c 6973 7420 6f66  rvice** (list of
-00014730: 2062 6f6f 6c65 616e 2c20 5472 7565 2920   boolean, True) 
-00014740: 2d20 5472 7565 2066 6f72 2069 6e5f 7365  - True for in_se
-00014750: 7276 6963 6520 6f72 2046 616c 7365 2066  rvice or False f
-00014760: 6f72 206f 7574 206f 6620 7365 7276 6963  or out of servic
-00014770: 650d 0a0d 0a20 2020 2020 2020 2020 2020  e....           
-00014780: 202a 2a64 662a 2a20 286c 6973 7420 6f66   **df** (list of
-00014790: 2066 6c6f 6174 2c20 3129 202d 2064 6572   float, 1) - der
-000147a0: 6174 696e 6720 6661 6374 6f72 3a20 6d61  ating factor: ma
-000147b0: 7869 6d61 6c20 6375 7272 656e 7420 6f66  ximal current of
-000147c0: 206c 696e 6520 696e 2072 656c 6174 696f   line in relatio
-000147d0: 6e20 746f 205c 0d0a 2020 2020 2020 2020  n to \..        
-000147e0: 2020 2020 2020 2020 6e6f 6d69 6e61 6c20          nominal 
-000147f0: 6375 7272 656e 7420 6f66 206c 696e 6520  current of line 
-00014800: 2866 726f 6d20 3020 746f 2031 290d 0a0d  (from 0 to 1)...
-00014810: 0a20 2020 2020 2020 2020 2020 202a 2a70  .            **p
-00014820: 6172 616c 6c65 6c2a 2a20 286c 6973 7420  arallel** (list 
-00014830: 6f66 2069 6e74 6567 6572 2c20 3129 202d  of integer, 1) -
-00014840: 206e 756d 6265 7220 6f66 2070 6172 616c   number of paral
-00014850: 6c65 6c20 6c69 6e65 2073 7973 7465 6d73  lel line systems
-00014860: 0d0a 0d0a 2020 2020 2020 2020 2020 2020  ....            
-00014870: 2a2a 6d61 785f 6c6f 6164 696e 675f 7065  **max_loading_pe
-00014880: 7263 656e 7420 286c 6973 7420 6f66 2066  rcent (list of f
-00014890: 6c6f 6174 292a 2a20 2d20 6d61 7869 6d75  loat)** - maximu
-000148a0: 6d20 6375 7272 656e 7420 6c6f 6164 696e  m current loadin
-000148b0: 6720 286f 6e6c 7920 6e65 6564 6564 2066  g (only needed f
-000148c0: 6f72 204f 5046 290d 0a0d 0a20 2020 2020  or OPF)....     
-000148d0: 2020 204f 5554 5055 543a 0d0a 2020 2020     OUTPUT:..    
-000148e0: 2020 2020 2020 2020 2a2a 696e 6465 782a          **index*
-000148f0: 2a20 286c 6973 7420 6f66 2069 6e74 2920  * (list of int) 
-00014900: 2d20 5468 6520 756e 6971 7565 2049 4420  - The unique ID 
-00014910: 6f66 2074 6865 2063 7265 6174 6564 206c  of the created l
-00014920: 696e 650d 0a0d 0a20 2020 2020 2020 2045  ine....        E
-00014930: 5841 4d50 4c45 3a0d 0a20 2020 2020 2020  XAMPLE:..       
-00014940: 2020 2020 2063 7265 6174 655f 6c69 6e65       create_line
-00014950: 286e 6574 2c20 226c 696e 6531 222c 2066  (net, "line1", f
-00014960: 726f 6d5f 6275 733d 302c 2074 6f5f 6275  rom_bus=0, to_bu
-00014970: 733d 312c 206c 656e 6774 685f 6b6d 3d30  s=1, length_km=0
-00014980: 2e31 2c20 7374 645f 7479 7065 3d22 4e41  .1, std_type="NA
-00014990: 5959 2034 7835 3020 5345 2229 0d0a 0d0a  YY 4x50 SE")....
-000149a0: 2020 2020 2222 220d 0a20 2020 205f 6368      """..    _ch
-000149b0: 6563 6b5f 6d75 6c74 6970 6c65 5f62 7261  eck_multiple_bra
-000149c0: 6e63 685f 656c 656d 656e 7473 286e 6574  nch_elements(net
-000149d0: 2c20 6672 6f6d 5f62 7573 6573 2c20 746f  , from_buses, to
-000149e0: 5f62 7573 6573 2c20 224c 696e 6573 2229  _buses, "Lines")
-000149f0: 0d0a 0d0a 2020 2020 696e 6465 7820 3d20  ....    index = 
-00014a00: 5f67 6574 5f6d 756c 7469 706c 655f 696e  _get_multiple_in
-00014a10: 6465 785f 7769 7468 5f63 6865 636b 286e  dex_with_check(n
-00014a20: 6574 2c20 226c 696e 6522 2c20 696e 6465  et, "line", inde
-00014a30: 782c 206c 656e 2866 726f 6d5f 6275 7365  x, len(from_buse
-00014a40: 7329 290d 0a0d 0a20 2020 2065 6e74 7269  s))....    entri
-00014a50: 6573 203d 207b 2266 726f 6d5f 6275 7322  es = {"from_bus"
-00014a60: 3a20 6672 6f6d 5f62 7573 6573 2c20 2274  : from_buses, "t
-00014a70: 6f5f 6275 7322 3a20 746f 5f62 7573 6573  o_bus": to_buses
-00014a80: 2c20 226c 656e 6774 685f 6b6d 223a 206c  , "length_km": l
-00014a90: 656e 6774 685f 6b6d 2c0d 0a20 2020 2020  ength_km,..     
-00014aa0: 2020 2020 2020 2020 2020 2273 7464 5f74            "std_t
-00014ab0: 7970 6522 3a20 7374 645f 7479 7065 2c20  ype": std_type, 
-00014ac0: 226e 616d 6522 3a20 6e61 6d65 2c20 2264  "name": name, "d
-00014ad0: 6622 3a20 6466 2c20 2270 6172 616c 6c65  f": df, "paralle
-00014ae0: 6c22 3a20 7061 7261 6c6c 656c 2c0d 0a20  l": parallel,.. 
-00014af0: 2020 2020 2020 2020 2020 2020 2020 2269                "i
-00014b00: 6e5f 7365 7276 6963 6522 3a20 696e 5f73  n_service": in_s
-00014b10: 6572 7669 6365 7d0d 0a0d 0a20 2020 2023  ervice}....    #
-00014b20: 2061 6464 2073 7464 2074 7970 6520 6461   add std type da
-00014b30: 7461 0d0a 2020 2020 6966 2069 7369 6e73  ta..    if isins
-00014b40: 7461 6e63 6528 7374 645f 7479 7065 2c20  tance(std_type, 
-00014b50: 7374 7229 3a0d 0a20 2020 2020 2020 206c  str):..        l
-00014b60: 696e 6570 6172 616d 203d 206c 6f61 645f  ineparam = load_
-00014b70: 7374 645f 7479 7065 286e 6574 2c20 7374  std_type(net, st
-00014b80: 645f 7479 7065 2c20 226c 696e 6522 290d  d_type, "line").
-00014b90: 0a20 2020 2020 2020 2065 6e74 7269 6573  .        entries
-00014ba0: 5b22 725f 6f68 6d5f 7065 725f 6b6d 225d  ["r_ohm_per_km"]
-00014bb0: 203d 206c 696e 6570 6172 616d 5b22 725f   = lineparam["r_
-00014bc0: 6f68 6d5f 7065 725f 6b6d 225d 0d0a 2020  ohm_per_km"]..  
-00014bd0: 2020 2020 2020 656e 7472 6965 735b 2278        entries["x
-00014be0: 5f6f 686d 5f70 6572 5f6b 6d22 5d20 3d20  _ohm_per_km"] = 
-00014bf0: 6c69 6e65 7061 7261 6d5b 2278 5f6f 686d  lineparam["x_ohm
-00014c00: 5f70 6572 5f6b 6d22 5d0d 0a20 2020 2020  _per_km"]..     
-00014c10: 2020 2065 6e74 7269 6573 5b22 635f 6e66     entries["c_nf
-00014c20: 5f70 6572 5f6b 6d22 5d20 3d20 6c69 6e65  _per_km"] = line
-00014c30: 7061 7261 6d5b 2263 5f6e 665f 7065 725f  param["c_nf_per_
-00014c40: 6b6d 225d 0d0a 2020 2020 2020 2020 656e  km"]..        en
-00014c50: 7472 6965 735b 226d 6178 5f69 5f6b 6122  tries["max_i_ka"
-00014c60: 5d20 3d20 6c69 6e65 7061 7261 6d5b 226d  ] = lineparam["m
-00014c70: 6178 5f69 5f6b 6122 5d0d 0a20 2020 2020  ax_i_ka"]..     
-00014c80: 2020 2065 6e74 7269 6573 5b22 675f 7573     entries["g_us
-00014c90: 5f70 6572 5f6b 6d22 5d20 3d20 6c69 6e65  _per_km"] = line
-00014ca0: 7061 7261 6d5b 2267 5f75 735f 7065 725f  param["g_us_per_
-00014cb0: 6b6d 225d 2069 6620 2267 5f75 735f 7065  km"] if "g_us_pe
-00014cc0: 725f 6b6d 2220 696e 206c 696e 6570 6172  r_km" in linepar
-00014cd0: 616d 2065 6c73 6520 302e 0d0a 2020 2020  am else 0...    
-00014ce0: 2020 2020 6966 2022 7479 7065 2220 696e      if "type" in
-00014cf0: 206c 696e 6570 6172 616d 3a0d 0a20 2020   lineparam:..   
-00014d00: 2020 2020 2020 2020 2065 6e74 7269 6573           entries
-00014d10: 5b22 7479 7065 225d 203d 206c 696e 6570  ["type"] = linep
-00014d20: 6172 616d 5b22 7479 7065 225d 0d0a 2020  aram["type"]..  
-00014d30: 2020 656c 7365 3a0d 0a20 2020 2020 2020    else:..       
-00014d40: 206c 696e 6570 6172 616d 203d 206c 6973   lineparam = lis
-00014d50: 7428 6d61 7028 6c6f 6164 5f73 7464 5f74  t(map(load_std_t
-00014d60: 7970 652c 205b 6e65 745d 202a 206c 656e  ype, [net] * len
-00014d70: 2873 7464 5f74 7970 6529 2c20 7374 645f  (std_type), std_
-00014d80: 7479 7065 2c20 5b27 6c69 6e65 275d 202a  type, ['line'] *
-00014d90: 206c 656e 2873 7464 5f74 7970 6529 2929   len(std_type)))
-00014da0: 0d0a 2020 2020 2020 2020 656e 7472 6965  ..        entrie
-00014db0: 735b 2272 5f6f 686d 5f70 6572 5f6b 6d22  s["r_ohm_per_km"
-00014dc0: 5d20 3d20 6c69 7374 286d 6170 2869 7465  ] = list(map(ite
-00014dd0: 6d67 6574 7465 7228 2272 5f6f 686d 5f70  mgetter("r_ohm_p
-00014de0: 6572 5f6b 6d22 292c 206c 696e 6570 6172  er_km"), linepar
-00014df0: 616d 2929 0d0a 2020 2020 2020 2020 656e  am))..        en
-00014e00: 7472 6965 735b 2278 5f6f 686d 5f70 6572  tries["x_ohm_per
-00014e10: 5f6b 6d22 5d20 3d20 6c69 7374 286d 6170  _km"] = list(map
-00014e20: 2869 7465 6d67 6574 7465 7228 2278 5f6f  (itemgetter("x_o
-00014e30: 686d 5f70 6572 5f6b 6d22 292c 206c 696e  hm_per_km"), lin
-00014e40: 6570 6172 616d 2929 0d0a 2020 2020 2020  eparam))..      
-00014e50: 2020 656e 7472 6965 735b 2263 5f6e 665f    entries["c_nf_
-00014e60: 7065 725f 6b6d 225d 203d 206c 6973 7428  per_km"] = list(
-00014e70: 6d61 7028 6974 656d 6765 7474 6572 2822  map(itemgetter("
-00014e80: 635f 6e66 5f70 6572 5f6b 6d22 292c 206c  c_nf_per_km"), l
-00014e90: 696e 6570 6172 616d 2929 0d0a 2020 2020  ineparam))..    
-00014ea0: 2020 2020 656e 7472 6965 735b 226d 6178      entries["max
-00014eb0: 5f69 5f6b 6122 5d20 3d20 6c69 7374 286d  _i_ka"] = list(m
-00014ec0: 6170 2869 7465 6d67 6574 7465 7228 226d  ap(itemgetter("m
-00014ed0: 6178 5f69 5f6b 6122 292c 206c 696e 6570  ax_i_ka"), linep
-00014ee0: 6172 616d 2929 0d0a 2020 2020 2020 2020  aram))..        
-00014ef0: 656e 7472 6965 735b 2267 5f75 735f 7065  entries["g_us_pe
-00014f00: 725f 6b6d 225d 203d 206c 6973 7428 6d61  r_km"] = list(ma
-00014f10: 7028 6368 6563 6b5f 656e 7472 795f 696e  p(check_entry_in
-00014f20: 5f73 7464 5f74 7970 652c 206c 696e 6570  _std_type, linep
-00014f30: 6172 616d 2c20 5b22 675f 7573 5f70 6572  aram, ["g_us_per
-00014f40: 5f6b 6d22 5d20 2a20 6c65 6e28 6c69 6e65  _km"] * len(line
-00014f50: 7061 7261 6d29 2c0d 0a20 2020 2020 2020  param),..       
-00014f60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013ca0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013cb0: 2020 2020 2022 6d61 785f 695f 6b61 225d       "max_i_ka"]
+00013cc0: 7d29 0d0a 2020 2020 6966 2022 7230 5f6f  })..    if "r0_o
+00013cd0: 686d 5f70 6572 5f6b 6d22 2069 6e20 6c69  hm_per_km" in li
+00013ce0: 6e65 7061 7261 6d3a 0d0a 2020 2020 2020  neparam:..      
+00013cf0: 2020 762e 7570 6461 7465 287b 7061 7261    v.update({para
+00013d00: 6d3a 206c 696e 6570 6172 616d 5b70 6172  m: lineparam[par
+00013d10: 616d 5d20 666f 7220 7061 7261 6d20 696e  am] for param in
+00013d20: 205b 2272 305f 6f68 6d5f 7065 725f 6b6d   ["r0_ohm_per_km
+00013d30: 222c 2022 7830 5f6f 686d 5f70 6572 5f6b  ", "x0_ohm_per_k
+00013d40: 6d22 2c20 2263 305f 6e66 5f70 6572 5f6b  m", "c0_nf_per_k
+00013d50: 6d22 5d7d 290d 0a0d 0a20 2020 2076 5b22  m"]})....    v["
+00013d60: 675f 7573 5f70 6572 5f6b 6d22 5d20 3d20  g_us_per_km"] = 
+00013d70: 6c69 6e65 7061 7261 6d5b 2267 5f75 735f  lineparam["g_us_
+00013d80: 7065 725f 6b6d 225d 2069 6620 2267 5f75  per_km"] if "g_u
+00013d90: 735f 7065 725f 6b6d 2220 696e 206c 696e  s_per_km" in lin
+00013da0: 6570 6172 616d 2065 6c73 6520 302e 0d0a  eparam else 0...
+00013db0: 0d0a 2020 2020 6966 2022 7479 7065 2220  ..    if "type" 
+00013dc0: 696e 206c 696e 6570 6172 616d 3a0d 0a20  in lineparam:.. 
+00013dd0: 2020 2020 2020 2076 5b22 7479 7065 225d         v["type"]
+00013de0: 203d 206c 696e 6570 6172 616d 5b22 7479   = lineparam["ty
+00013df0: 7065 225d 0d0a 0d0a 2020 2020 2320 6966  pe"]....    # if
+00013e00: 206e 6574 2e6c 696e 6520 636f 6c75 6d6e   net.line column
+00013e10: 2061 6c72 6561 6479 2068 6173 2061 6c70   already has alp
+00013e20: 6861 2c20 6164 6420 6974 2066 726f 6d20  ha, add it from 
+00013e30: 7374 645f 7479 7065 0d0a 2020 2020 6966  std_type..    if
+00013e40: 2022 616c 7068 6122 2069 6e20 6e65 742e   "alpha" in net.
+00013e50: 6c69 6e65 2e63 6f6c 756d 6e73 2061 6e64  line.columns and
+00013e60: 2022 616c 7068 6122 2069 6e20 6c69 6e65   "alpha" in line
+00013e70: 7061 7261 6d3a 0d0a 2020 2020 2020 2020  param:..        
+00013e80: 765b 2261 6c70 6861 225d 203d 206c 696e  v["alpha"] = lin
+00013e90: 6570 6172 616d 5b22 616c 7068 6122 5d0d  eparam["alpha"].
+00013ea0: 0a0d 0a20 2020 205f 7365 745f 656e 7472  ...    _set_entr
+00013eb0: 6965 7328 6e65 742c 2022 6c69 6e65 222c  ies(net, "line",
+00013ec0: 2069 6e64 6578 2c20 2a2a 7629 0d0a 0d0a   index, **v)....
+00013ed0: 2020 2020 6966 2067 656f 6461 7461 2069      if geodata i
+00013ee0: 7320 6e6f 7420 4e6f 6e65 3a0d 0a20 2020  s not None:..   
+00013ef0: 2020 2020 206e 6574 5b22 6c69 6e65 5f67       net["line_g
+00013f00: 656f 6461 7461 225d 2e6c 6f63 5b69 6e64  eodata"].loc[ind
+00013f10: 6578 2c20 2263 6f6f 7264 7322 5d20 3d20  ex, "coords"] = 
+00013f20: 4e6f 6e65 0d0a 2020 2020 2020 2020 6e65  None..        ne
+00013f30: 745b 226c 696e 655f 6765 6f64 6174 6122  t["line_geodata"
+00013f40: 5d2e 6174 5b69 6e64 6578 2c20 2263 6f6f  ].at[index, "coo
+00013f50: 7264 7322 5d20 3d20 6765 6f64 6174 610d  rds"] = geodata.
+00013f60: 0a0d 0a20 2020 205f 6372 6561 7465 5f63  ...    _create_c
+00013f70: 6f6c 756d 6e5f 616e 645f 7365 745f 7661  olumn_and_set_va
+00013f80: 6c75 6528 6e65 742c 2069 6e64 6578 2c20  lue(net, index, 
+00013f90: 6d61 785f 6c6f 6164 696e 675f 7065 7263  max_loading_perc
+00013fa0: 656e 742c 2022 6d61 785f 6c6f 6164 696e  ent, "max_loadin
+00013fb0: 675f 7065 7263 656e 7422 2c20 226c 696e  g_percent", "lin
+00013fc0: 6522 290d 0a20 2020 205f 6372 6561 7465  e")..    _create
+00013fd0: 5f63 6f6c 756d 6e5f 616e 645f 7365 745f  _column_and_set_
+00013fe0: 7661 6c75 6528 6e65 742c 2069 6e64 6578  value(net, index
+00013ff0: 2c20 616c 7068 612c 2022 616c 7068 6122  , alpha, "alpha"
+00014000: 2c20 226c 696e 6522 290d 0a20 2020 205f  , "line")..    _
+00014010: 6372 6561 7465 5f63 6f6c 756d 6e5f 616e  create_column_an
+00014020: 645f 7365 745f 7661 6c75 6528 6e65 742c  d_set_value(net,
+00014030: 2069 6e64 6578 2c20 7465 6d70 6572 6174   index, temperat
+00014040: 7572 655f 6465 6772 6565 5f63 656c 7369  ure_degree_celsi
+00014050: 7573 2c0d 0a20 2020 2020 2020 2020 2020  us,..           
+00014060: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014070: 2020 2020 2020 2274 656d 7065 7261 7475        "temperatu
+00014080: 7265 5f64 6567 7265 655f 6365 6c73 6975  re_degree_celsiu
+00014090: 7322 2c20 226c 696e 6522 290d 0a0d 0a20  s", "line").... 
+000140a0: 2020 2072 6574 7572 6e20 696e 6465 780d     return index.
+000140b0: 0a0d 0a0d 0a64 6566 2063 7265 6174 655f  .....def create_
+000140c0: 6c69 6e65 7328 6e65 742c 2066 726f 6d5f  lines(net, from_
+000140d0: 6275 7365 732c 2074 6f5f 6275 7365 732c  buses, to_buses,
+000140e0: 206c 656e 6774 685f 6b6d 2c20 7374 645f   length_km, std_
+000140f0: 7479 7065 2c20 6e61 6d65 3d4e 6f6e 652c  type, name=None,
+00014100: 2069 6e64 6578 3d4e 6f6e 652c 0d0a 2020   index=None,..  
+00014110: 2020 2020 2020 2020 2020 2020 2020 2067                 g
+00014120: 656f 6461 7461 3d4e 6f6e 652c 2064 663d  eodata=None, df=
+00014130: 312e 2c20 7061 7261 6c6c 656c 3d31 2c20  1., parallel=1, 
+00014140: 696e 5f73 6572 7669 6365 3d54 7275 652c  in_service=True,
+00014150: 206d 6178 5f6c 6f61 6469 6e67 5f70 6572   max_loading_per
+00014160: 6365 6e74 3d4e 6f6e 6529 3a0d 0a20 2020  cent=None):..   
+00014170: 2022 2222 2043 6f6e 7665 6e69 656e 6365   """ Convenience
+00014180: 2066 756e 6374 696f 6e20 666f 7220 6372   function for cr
+00014190: 6561 7469 6e67 206d 616e 7920 6c69 6e65  eating many line
+000141a0: 7320 6174 206f 6e63 652e 2050 6172 616d  s at once. Param
+000141b0: 6574 6572 7320 2766 726f 6d5f 6275 7365  eters 'from_buse
+000141c0: 7327 2061 6e64 2027 746f 5f62 7573 6573  s' and 'to_buses
+000141d0: 270d 0a20 2020 2020 2020 206d 7573 7420  '..        must 
+000141e0: 6265 2061 7272 6179 7320 6f66 2065 7175  be arrays of equ
+000141f0: 616c 206c 656e 6774 682e 204f 7468 6572  al length. Other
+00014200: 2070 6172 616d 6574 6572 7320 6d61 7920   parameters may 
+00014210: 6265 2065 6974 6865 7220 6172 7261 7973  be either arrays
+00014220: 206f 6620 7468 6520 7361 6d65 206c 656e   of the same len
+00014230: 6774 6820 6f72 0d0a 2020 2020 2020 2020  gth or..        
+00014240: 7369 6e67 6c65 206f 7220 7661 6c75 6573  single or values
+00014250: 2e20 496e 2061 6e79 2063 6173 6520 7468  . In any case th
+00014260: 6520 6c69 6e65 2070 6172 616d 6574 6572  e line parameter
+00014270: 7320 6172 6520 6465 6669 6e65 6420 7468  s are defined th
+00014280: 726f 7567 6820 6120 7369 6e67 6c65 2073  rough a single s
+00014290: 7461 6e64 6172 640d 0a20 2020 2020 2020  tandard..       
+000142a0: 2074 7970 652c 2073 6f20 616c 6c20 6c69   type, so all li
+000142b0: 6e65 7320 6861 7665 2074 6865 2073 616d  nes have the sam
+000142c0: 6520 7374 616e 6461 7264 2074 7970 652e  e standard type.
+000142d0: 0d0a 0d0a 0d0a 2020 2020 2020 2020 494e  ......        IN
+000142e0: 5055 543a 0d0a 2020 2020 2020 2020 2020  PUT:..          
+000142f0: 2020 2a2a 6e65 742a 2a20 2d20 5468 6520    **net** - The 
+00014300: 6e65 7420 7769 7468 696e 2074 6869 7320  net within this 
+00014310: 6c69 6e65 2073 686f 756c 6420 6265 2063  line should be c
+00014320: 7265 6174 6564 0d0a 0d0a 2020 2020 2020  reated....      
+00014330: 2020 2020 2020 2a2a 6672 6f6d 5f62 7573        **from_bus
+00014340: 6573 2a2a 2028 6c69 7374 206f 6620 696e  es** (list of in
+00014350: 7429 202d 2049 4420 6f66 2074 6865 2062  t) - ID of the b
+00014360: 7573 206f 6e20 6f6e 6520 7369 6465 2077  us on one side w
+00014370: 6869 6368 2074 6865 206c 696e 6520 7769  hich the line wi
+00014380: 6c6c 2062 6520 5c0d 0a20 2020 2020 2020  ll be \..       
+00014390: 2020 2020 2020 2020 2063 6f6e 6e65 6374           connect
+000143a0: 6564 2077 6974 680d 0a0d 0a20 2020 2020  ed with....     
+000143b0: 2020 2020 2020 202a 2a74 6f5f 6275 7365         **to_buse
+000143c0: 732a 2a20 286c 6973 7420 6f66 2069 6e74  s** (list of int
+000143d0: 2920 2d20 4944 206f 6620 7468 6520 6275  ) - ID of the bu
+000143e0: 7320 6f6e 2074 6865 206f 7468 6572 2073  s on the other s
+000143f0: 6964 6520 7768 6963 6820 7468 6520 6c69  ide which the li
+00014400: 6e65 2077 696c 6c20 6265 205c 0d0a 2020  ne will be \..  
+00014410: 2020 2020 2020 2020 2020 2020 2020 636f                co
+00014420: 6e6e 6563 7465 6420 7769 7468 0d0a 0d0a  nnected with....
+00014430: 2020 2020 2020 2020 2020 2020 2a2a 6c65              **le
+00014440: 6e67 7468 5f6b 6d2a 2a20 286c 6973 7420  ngth_km** (list 
+00014450: 6f66 2066 6c6f 6174 2920 2d20 5468 6520  of float) - The 
+00014460: 6c69 6e65 206c 656e 6774 6820 696e 206b  line length in k
+00014470: 6d0d 0a0d 0a20 2020 2020 2020 2020 2020  m....           
+00014480: 202a 2a73 7464 5f74 7970 652a 2a20 2873   **std_type** (s
+00014490: 7472 696e 6729 202d 2054 6865 206c 696e  tring) - The lin
+000144a0: 6574 7970 6520 6f66 2074 6865 206c 696e  etype of the lin
+000144b0: 6573 2e0d 0a0d 0a20 2020 2020 2020 204f  es.....        O
+000144c0: 5054 494f 4e41 4c3a 0d0a 2020 2020 2020  PTIONAL:..      
+000144d0: 2020 2020 2020 2a2a 6e61 6d65 2a2a 2028        **name** (
+000144e0: 6c69 7374 206f 6620 7374 7269 6e67 2c20  list of string, 
+000144f0: 4e6f 6e65 2920 2d20 4120 6375 7374 6f6d  None) - A custom
+00014500: 206e 616d 6520 666f 7220 7468 6973 206c   name for this l
+00014510: 696e 650d 0a0d 0a20 2020 2020 2020 2020  ine....         
+00014520: 2020 202a 2a69 6e64 6578 2a2a 2028 6c69     **index** (li
+00014530: 7374 206f 6620 696e 742c 204e 6f6e 6529  st of int, None)
+00014540: 202d 2046 6f72 6365 2061 2073 7065 6369   - Force a speci
+00014550: 6669 6564 2049 4420 6966 2069 7420 6973  fied ID if it is
+00014560: 2061 7661 696c 6162 6c65 2e20 4966 204e   available. If N
+00014570: 6f6e 652c 2074 6865 5c0d 0a20 2020 2020  one, the\..     
+00014580: 2020 2020 2020 2020 2020 2069 6e64 6578             index
+00014590: 206f 6e65 2068 6967 6865 7220 7468 616e   one higher than
+000145a0: 2074 6865 2068 6967 6865 7374 2061 6c72   the highest alr
+000145b0: 6561 6479 2065 7869 7374 696e 6720 696e  eady existing in
+000145c0: 6465 7820 6973 2073 656c 6563 7465 642e  dex is selected.
+000145d0: 0d0a 0d0a 2020 2020 2020 2020 2020 2020  ....            
+000145e0: 2a2a 6765 6f64 6174 612a 2a0d 0a20 2020  **geodata**..   
+000145f0: 2020 2020 2020 2020 2028 6c69 7374 206f           (list o
+00014600: 6620 6172 7261 7973 2c20 6465 6661 756c  f arrays, defaul
+00014610: 7420 4e6f 6e65 2c20 7368 6170 6520 6f66  t None, shape of
+00014620: 2061 7272 6179 7320 282c 324c 2929 202d   arrays (,2L)) -
+00014630: 0d0a 2020 2020 2020 2020 2020 2020 5468  ..            Th
+00014640: 6520 6c69 6e65 6765 6f64 6174 6120 6f66  e linegeodata of
+00014650: 2074 6865 206c 696e 652e 2054 6865 2066   the line. The f
+00014660: 6972 7374 2072 6f77 2073 686f 756c 6420  irst row should 
+00014670: 6265 2074 6865 2063 6f6f 7264 696e 6174  be the coordinat
+00014680: 6573 0d0a 2020 2020 2020 2020 2020 2020  es..            
+00014690: 6f66 2062 7573 2061 2061 6e64 2074 6865  of bus a and the
+000146a0: 206c 6173 7420 7368 6f75 6c64 2062 6520   last should be 
+000146b0: 7468 6520 636f 6f72 6469 6e61 7465 7320  the coordinates 
+000146c0: 6f66 2062 7573 2062 2e20 5468 6520 706f  of bus b. The po
+000146d0: 696e 7473 0d0a 2020 2020 2020 2020 2020  ints..          
+000146e0: 2020 696e 2074 6865 206d 6964 646c 6520    in the middle 
+000146f0: 7265 7072 6573 656e 7420 7468 6520 6265  represent the be
+00014700: 6e64 696e 6720 706f 696e 7473 206f 6620  nding points of 
+00014710: 7468 6520 6c69 6e65 0d0a 0d0a 2020 2020  the line....    
+00014720: 2020 2020 2020 2020 2a2a 696e 5f73 6572          **in_ser
+00014730: 7669 6365 2a2a 2028 6c69 7374 206f 6620  vice** (list of 
+00014740: 626f 6f6c 6561 6e2c 2054 7275 6529 202d  boolean, True) -
+00014750: 2054 7275 6520 666f 7220 696e 5f73 6572   True for in_ser
+00014760: 7669 6365 206f 7220 4661 6c73 6520 666f  vice or False fo
+00014770: 7220 6f75 7420 6f66 2073 6572 7669 6365  r out of service
+00014780: 0d0a 0d0a 2020 2020 2020 2020 2020 2020  ....            
+00014790: 2a2a 6466 2a2a 2028 6c69 7374 206f 6620  **df** (list of 
+000147a0: 666c 6f61 742c 2031 2920 2d20 6465 7261  float, 1) - dera
+000147b0: 7469 6e67 2066 6163 746f 723a 206d 6178  ting factor: max
+000147c0: 696d 616c 2063 7572 7265 6e74 206f 6620  imal current of 
+000147d0: 6c69 6e65 2069 6e20 7265 6c61 7469 6f6e  line in relation
+000147e0: 2074 6f20 5c0d 0a20 2020 2020 2020 2020   to \..         
+000147f0: 2020 2020 2020 206e 6f6d 696e 616c 2063         nominal c
+00014800: 7572 7265 6e74 206f 6620 6c69 6e65 2028  urrent of line (
+00014810: 6672 6f6d 2030 2074 6f20 3129 0d0a 0d0a  from 0 to 1)....
+00014820: 2020 2020 2020 2020 2020 2020 2a2a 7061              **pa
+00014830: 7261 6c6c 656c 2a2a 2028 6c69 7374 206f  rallel** (list o
+00014840: 6620 696e 7465 6765 722c 2031 2920 2d20  f integer, 1) - 
+00014850: 6e75 6d62 6572 206f 6620 7061 7261 6c6c  number of parall
+00014860: 656c 206c 696e 6520 7379 7374 656d 730d  el line systems.
+00014870: 0a0d 0a20 2020 2020 2020 2020 2020 202a  ...            *
+00014880: 2a6d 6178 5f6c 6f61 6469 6e67 5f70 6572  *max_loading_per
+00014890: 6365 6e74 2028 6c69 7374 206f 6620 666c  cent (list of fl
+000148a0: 6f61 7429 2a2a 202d 206d 6178 696d 756d  oat)** - maximum
+000148b0: 2063 7572 7265 6e74 206c 6f61 6469 6e67   current loading
+000148c0: 2028 6f6e 6c79 206e 6565 6465 6420 666f   (only needed fo
+000148d0: 7220 4f50 4629 0d0a 0d0a 2020 2020 2020  r OPF)....      
+000148e0: 2020 4f55 5450 5554 3a0d 0a20 2020 2020    OUTPUT:..     
+000148f0: 2020 2020 2020 202a 2a69 6e64 6578 2a2a         **index**
+00014900: 2028 6c69 7374 206f 6620 696e 7429 202d   (list of int) -
+00014910: 2054 6865 2075 6e69 7175 6520 4944 206f   The unique ID o
+00014920: 6620 7468 6520 6372 6561 7465 6420 6c69  f the created li
+00014930: 6e65 0d0a 0d0a 2020 2020 2020 2020 4558  ne....        EX
+00014940: 414d 504c 453a 0d0a 2020 2020 2020 2020  AMPLE:..        
+00014950: 2020 2020 6372 6561 7465 5f6c 696e 6528      create_line(
+00014960: 6e65 742c 2022 6c69 6e65 3122 2c20 6672  net, "line1", fr
+00014970: 6f6d 5f62 7573 3d30 2c20 746f 5f62 7573  om_bus=0, to_bus
+00014980: 3d31 2c20 6c65 6e67 7468 5f6b 6d3d 302e  =1, length_km=0.
+00014990: 312c 2073 7464 5f74 7970 653d 224e 4159  1, std_type="NAY
+000149a0: 5920 3478 3530 2053 4522 290d 0a0d 0a20  Y 4x50 SE").... 
+000149b0: 2020 2022 2222 0d0a 2020 2020 5f63 6865     """..    _che
+000149c0: 636b 5f6d 756c 7469 706c 655f 6272 616e  ck_multiple_bran
+000149d0: 6368 5f65 6c65 6d65 6e74 7328 6e65 742c  ch_elements(net,
+000149e0: 2066 726f 6d5f 6275 7365 732c 2074 6f5f   from_buses, to_
+000149f0: 6275 7365 732c 2022 4c69 6e65 7322 290d  buses, "Lines").
+00014a00: 0a0d 0a20 2020 2069 6e64 6578 203d 205f  ...    index = _
+00014a10: 6765 745f 6d75 6c74 6970 6c65 5f69 6e64  get_multiple_ind
+00014a20: 6578 5f77 6974 685f 6368 6563 6b28 6e65  ex_with_check(ne
+00014a30: 742c 2022 6c69 6e65 222c 2069 6e64 6578  t, "line", index
+00014a40: 2c20 6c65 6e28 6672 6f6d 5f62 7573 6573  , len(from_buses
+00014a50: 2929 0d0a 0d0a 2020 2020 656e 7472 6965  ))....    entrie
+00014a60: 7320 3d20 7b22 6672 6f6d 5f62 7573 223a  s = {"from_bus":
+00014a70: 2066 726f 6d5f 6275 7365 732c 2022 746f   from_buses, "to
+00014a80: 5f62 7573 223a 2074 6f5f 6275 7365 732c  _bus": to_buses,
+00014a90: 2022 6c65 6e67 7468 5f6b 6d22 3a20 6c65   "length_km": le
+00014aa0: 6e67 7468 5f6b 6d2c 0d0a 2020 2020 2020  ngth_km,..      
+00014ab0: 2020 2020 2020 2020 2022 7374 645f 7479           "std_ty
+00014ac0: 7065 223a 2073 7464 5f74 7970 652c 2022  pe": std_type, "
+00014ad0: 6e61 6d65 223a 206e 616d 652c 2022 6466  name": name, "df
+00014ae0: 223a 2064 662c 2022 7061 7261 6c6c 656c  ": df, "parallel
+00014af0: 223a 2070 6172 616c 6c65 6c2c 0d0a 2020  ": parallel,..  
+00014b00: 2020 2020 2020 2020 2020 2020 2022 696e               "in
+00014b10: 5f73 6572 7669 6365 223a 2069 6e5f 7365  _service": in_se
+00014b20: 7276 6963 657d 0d0a 0d0a 2020 2020 2320  rvice}....    # 
+00014b30: 6164 6420 7374 6420 7479 7065 2064 6174  add std type dat
+00014b40: 610d 0a20 2020 2069 6620 6973 696e 7374  a..    if isinst
+00014b50: 616e 6365 2873 7464 5f74 7970 652c 2073  ance(std_type, s
+00014b60: 7472 293a 0d0a 2020 2020 2020 2020 6c69  tr):..        li
+00014b70: 6e65 7061 7261 6d20 3d20 6c6f 6164 5f73  neparam = load_s
+00014b80: 7464 5f74 7970 6528 6e65 742c 2073 7464  td_type(net, std
+00014b90: 5f74 7970 652c 2022 6c69 6e65 2229 0d0a  _type, "line")..
+00014ba0: 2020 2020 2020 2020 656e 7472 6965 735b          entries[
+00014bb0: 2272 5f6f 686d 5f70 6572 5f6b 6d22 5d20  "r_ohm_per_km"] 
+00014bc0: 3d20 6c69 6e65 7061 7261 6d5b 2272 5f6f  = lineparam["r_o
+00014bd0: 686d 5f70 6572 5f6b 6d22 5d0d 0a20 2020  hm_per_km"]..   
+00014be0: 2020 2020 2065 6e74 7269 6573 5b22 785f       entries["x_
+00014bf0: 6f68 6d5f 7065 725f 6b6d 225d 203d 206c  ohm_per_km"] = l
+00014c00: 696e 6570 6172 616d 5b22 785f 6f68 6d5f  ineparam["x_ohm_
+00014c10: 7065 725f 6b6d 225d 0d0a 2020 2020 2020  per_km"]..      
+00014c20: 2020 656e 7472 6965 735b 2263 5f6e 665f    entries["c_nf_
+00014c30: 7065 725f 6b6d 225d 203d 206c 696e 6570  per_km"] = linep
+00014c40: 6172 616d 5b22 635f 6e66 5f70 6572 5f6b  aram["c_nf_per_k
+00014c50: 6d22 5d0d 0a20 2020 2020 2020 2065 6e74  m"]..        ent
+00014c60: 7269 6573 5b22 6d61 785f 695f 6b61 225d  ries["max_i_ka"]
+00014c70: 203d 206c 696e 6570 6172 616d 5b22 6d61   = lineparam["ma
+00014c80: 785f 695f 6b61 225d 0d0a 2020 2020 2020  x_i_ka"]..      
+00014c90: 2020 656e 7472 6965 735b 2267 5f75 735f    entries["g_us_
+00014ca0: 7065 725f 6b6d 225d 203d 206c 696e 6570  per_km"] = linep
+00014cb0: 6172 616d 5b22 675f 7573 5f70 6572 5f6b  aram["g_us_per_k
+00014cc0: 6d22 5d20 6966 2022 675f 7573 5f70 6572  m"] if "g_us_per
+00014cd0: 5f6b 6d22 2069 6e20 6c69 6e65 7061 7261  _km" in linepara
+00014ce0: 6d20 656c 7365 2030 2e0d 0a20 2020 2020  m else 0...     
+00014cf0: 2020 2069 6620 2274 7970 6522 2069 6e20     if "type" in 
+00014d00: 6c69 6e65 7061 7261 6d3a 0d0a 2020 2020  lineparam:..    
+00014d10: 2020 2020 2020 2020 656e 7472 6965 735b          entries[
+00014d20: 2274 7970 6522 5d20 3d20 6c69 6e65 7061  "type"] = linepa
+00014d30: 7261 6d5b 2274 7970 6522 5d0d 0a20 2020  ram["type"]..   
+00014d40: 2065 6c73 653a 0d0a 2020 2020 2020 2020   else:..        
+00014d50: 6c69 6e65 7061 7261 6d20 3d20 6c69 7374  lineparam = list
+00014d60: 286d 6170 286c 6f61 645f 7374 645f 7479  (map(load_std_ty
+00014d70: 7065 2c20 5b6e 6574 5d20 2a20 6c65 6e28  pe, [net] * len(
+00014d80: 7374 645f 7479 7065 292c 2073 7464 5f74  std_type), std_t
+00014d90: 7970 652c 205b 276c 696e 6527 5d20 2a20  ype, ['line'] * 
+00014da0: 6c65 6e28 7374 645f 7479 7065 2929 290d  len(std_type))).
+00014db0: 0a20 2020 2020 2020 2065 6e74 7269 6573  .        entries
+00014dc0: 5b22 725f 6f68 6d5f 7065 725f 6b6d 225d  ["r_ohm_per_km"]
+00014dd0: 203d 206c 6973 7428 6d61 7028 6974 656d   = list(map(item
+00014de0: 6765 7474 6572 2822 725f 6f68 6d5f 7065  getter("r_ohm_pe
+00014df0: 725f 6b6d 2229 2c20 6c69 6e65 7061 7261  r_km"), linepara
+00014e00: 6d29 290d 0a20 2020 2020 2020 2065 6e74  m))..        ent
+00014e10: 7269 6573 5b22 785f 6f68 6d5f 7065 725f  ries["x_ohm_per_
+00014e20: 6b6d 225d 203d 206c 6973 7428 6d61 7028  km"] = list(map(
+00014e30: 6974 656d 6765 7474 6572 2822 785f 6f68  itemgetter("x_oh
+00014e40: 6d5f 7065 725f 6b6d 2229 2c20 6c69 6e65  m_per_km"), line
+00014e50: 7061 7261 6d29 290d 0a20 2020 2020 2020  param))..       
+00014e60: 2065 6e74 7269 6573 5b22 635f 6e66 5f70   entries["c_nf_p
+00014e70: 6572 5f6b 6d22 5d20 3d20 6c69 7374 286d  er_km"] = list(m
+00014e80: 6170 2869 7465 6d67 6574 7465 7228 2263  ap(itemgetter("c
+00014e90: 5f6e 665f 7065 725f 6b6d 2229 2c20 6c69  _nf_per_km"), li
+00014ea0: 6e65 7061 7261 6d29 290d 0a20 2020 2020  neparam))..     
+00014eb0: 2020 2065 6e74 7269 6573 5b22 6d61 785f     entries["max_
+00014ec0: 695f 6b61 225d 203d 206c 6973 7428 6d61  i_ka"] = list(ma
+00014ed0: 7028 6974 656d 6765 7474 6572 2822 6d61  p(itemgetter("ma
+00014ee0: 785f 695f 6b61 2229 2c20 6c69 6e65 7061  x_i_ka"), linepa
+00014ef0: 7261 6d29 290d 0a20 2020 2020 2020 2065  ram))..        e
+00014f00: 6e74 7269 6573 5b22 675f 7573 5f70 6572  ntries["g_us_per
+00014f10: 5f6b 6d22 5d20 3d20 6c69 7374 286d 6170  _km"] = list(map
+00014f20: 2863 6865 636b 5f65 6e74 7279 5f69 6e5f  (check_entry_in_
+00014f30: 7374 645f 7479 7065 2c20 6c69 6e65 7061  std_type, linepa
+00014f40: 7261 6d2c 205b 2267 5f75 735f 7065 725f  ram, ["g_us_per_
+00014f50: 6b6d 225d 202a 206c 656e 286c 696e 6570  km"] * len(linep
+00014f60: 6172 616d 292c 0d0a 2020 2020 2020 2020  aram),..        
 00014f70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014f80: 2020 205b 302e 5d20 2a20 6c65 6e28 6c69     [0.] * len(li
-00014f90: 6e65 7061 7261 6d29 2929 0d0a 2020 2020  neparam)))..    
-00014fa0: 2020 2020 656e 7472 6965 735b 2274 7970      entries["typ
-00014fb0: 6522 5d20 3d20 6c69 7374 286d 6170 2863  e"] = list(map(c
-00014fc0: 6865 636b 5f65 6e74 7279 5f69 6e5f 7374  heck_entry_in_st
-00014fd0: 645f 7479 7065 2c20 6c69 6e65 7061 7261  d_type, linepara
-00014fe0: 6d2c 205b 2274 7970 6522 5d20 2a20 6c65  m, ["type"] * le
-00014ff0: 6e28 6c69 6e65 7061 7261 6d29 2c0d 0a20  n(lineparam),.. 
-00015000: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014f80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014f90: 2020 5b30 2e5d 202a 206c 656e 286c 696e    [0.] * len(lin
+00014fa0: 6570 6172 616d 2929 290d 0a20 2020 2020  eparam)))..     
+00014fb0: 2020 2065 6e74 7269 6573 5b22 7479 7065     entries["type
+00014fc0: 225d 203d 206c 6973 7428 6d61 7028 6368  "] = list(map(ch
+00014fd0: 6563 6b5f 656e 7472 795f 696e 5f73 7464  eck_entry_in_std
+00014fe0: 5f74 7970 652c 206c 696e 6570 6172 616d  _type, lineparam
+00014ff0: 2c20 5b22 7479 7065 225d 202a 206c 656e  , ["type"] * len
+00015000: 286c 696e 6570 6172 616d 292c 0d0a 2020  (lineparam),..  
 00015010: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015020: 2020 5b4e 6f6e 655d 202a 206c 656e 286c    [None] * len(l
-00015030: 696e 6570 6172 616d 2929 290d 0a0d 0a20  ineparam))).... 
-00015040: 2020 205f 6164 645f 7365 7269 6573 5f74     _add_series_t
-00015050: 6f5f 656e 7472 6965 7328 656e 7472 6965  o_entries(entrie
-00015060: 732c 2069 6e64 6578 2c20 226d 6178 5f6c  s, index, "max_l
-00015070: 6f61 6469 6e67 5f70 6572 6365 6e74 222c  oading_percent",
-00015080: 206d 6178 5f6c 6f61 6469 6e67 5f70 6572   max_loading_per
-00015090: 6365 6e74 290d 0a0d 0a20 2020 205f 7365  cent)....    _se
-000150a0: 745f 6d75 6c74 6970 6c65 5f65 6e74 7269  t_multiple_entri
-000150b0: 6573 286e 6574 2c20 226c 696e 6522 2c20  es(net, "line", 
-000150c0: 696e 6465 782c 202a 2a65 6e74 7269 6573  index, **entries
-000150d0: 290d 0a0d 0a20 2020 2069 6620 6765 6f64  )....    if geod
-000150e0: 6174 6120 6973 206e 6f74 204e 6f6e 653a  ata is not None:
-000150f0: 0d0a 2020 2020 2020 2020 5f61 6464 5f6d  ..        _add_m
-00015100: 756c 7469 706c 655f 6272 616e 6368 5f67  ultiple_branch_g
-00015110: 656f 6461 7461 286e 6574 2c20 226c 696e  eodata(net, "lin
-00015120: 6522 2c20 6765 6f64 6174 612c 2069 6e64  e", geodata, ind
-00015130: 6578 290d 0a0d 0a20 2020 2072 6574 7572  ex)....    retur
-00015140: 6e20 696e 6465 780d 0a0d 0a0d 0a64 6566  n index......def
-00015150: 2063 7265 6174 655f 6c69 6e65 5f66 726f   create_line_fro
-00015160: 6d5f 7061 7261 6d65 7465 7273 286e 6574  m_parameters(net
-00015170: 2c20 6672 6f6d 5f62 7573 2c20 746f 5f62  , from_bus, to_b
-00015180: 7573 2c20 6c65 6e67 7468 5f6b 6d2c 2072  us, length_km, r
-00015190: 5f6f 686d 5f70 6572 5f6b 6d2c 2078 5f6f  _ohm_per_km, x_o
-000151a0: 686d 5f70 6572 5f6b 6d2c 0d0a 2020 2020  hm_per_km,..    
-000151b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000151c0: 2020 2020 2020 2020 2020 2020 635f 6e66              c_nf
-000151d0: 5f70 6572 5f6b 6d2c 206d 6178 5f69 5f6b  _per_km, max_i_k
-000151e0: 612c 206e 616d 653d 4e6f 6e65 2c20 696e  a, name=None, in
-000151f0: 6465 783d 4e6f 6e65 2c20 7479 7065 3d4e  dex=None, type=N
-00015200: 6f6e 652c 0d0a 2020 2020 2020 2020 2020  one,..          
-00015210: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015220: 2020 2020 2020 6765 6f64 6174 613d 4e6f        geodata=No
-00015230: 6e65 2c20 696e 5f73 6572 7669 6365 3d54  ne, in_service=T
-00015240: 7275 652c 2064 663d 312e 2c20 7061 7261  rue, df=1., para
-00015250: 6c6c 656c 3d31 2c20 675f 7573 5f70 6572  llel=1, g_us_per
-00015260: 5f6b 6d3d 302e 2c0d 0a20 2020 2020 2020  _km=0.,..       
-00015270: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015280: 2020 2020 2020 2020 206d 6178 5f6c 6f61           max_loa
-00015290: 6469 6e67 5f70 6572 6365 6e74 3d6e 616e  ding_percent=nan
-000152a0: 2c20 616c 7068 613d 6e61 6e2c 0d0a 2020  , alpha=nan,..  
-000152b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000152c0: 2020 2020 2020 2020 2020 2020 2020 7465                te
-000152d0: 6d70 6572 6174 7572 655f 6465 6772 6565  mperature_degree
-000152e0: 5f63 656c 7369 7573 3d6e 616e 2c20 7230  _celsius=nan, r0
-000152f0: 5f6f 686d 5f70 6572 5f6b 6d3d 6e61 6e2c  _ohm_per_km=nan,
-00015300: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00015310: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015320: 2020 7830 5f6f 686d 5f70 6572 5f6b 6d3d    x0_ohm_per_km=
-00015330: 6e61 6e2c 2063 305f 6e66 5f70 6572 5f6b  nan, c0_nf_per_k
-00015340: 6d3d 6e61 6e2c 2067 305f 7573 5f70 6572  m=nan, g0_us_per
-00015350: 5f6b 6d3d 302c 0d0a 2020 2020 2020 2020  _km=0,..        
-00015360: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015370: 2020 2020 2020 2020 656e 6474 656d 705f          endtemp_
-00015380: 6465 6772 6565 3d6e 616e 2c20 2a2a 6b77  degree=nan, **kw
-00015390: 6172 6773 293a 0d0a 2020 2020 2222 220d  args):..    """.
-000153a0: 0a20 2020 2043 7265 6174 6573 2061 206c  .    Creates a l
-000153b0: 696e 6520 656c 656d 656e 7420 696e 206e  ine element in n
-000153c0: 6574 5b22 6c69 6e65 225d 2066 726f 6d20  et["line"] from 
-000153d0: 6c69 6e65 2070 6172 616d 6574 6572 732e  line parameters.
-000153e0: 0d0a 0d0a 2020 2020 494e 5055 543a 0d0a  ....    INPUT:..
-000153f0: 2020 2020 2020 2020 2a2a 6e65 742a 2a20          **net** 
-00015400: 2d20 5468 6520 6e65 7420 7769 7468 696e  - The net within
-00015410: 2074 6869 7320 6c69 6e65 2073 686f 756c   this line shoul
-00015420: 6420 6265 2063 7265 6174 6564 0d0a 0d0a  d be created....
-00015430: 2020 2020 2020 2020 2a2a 6672 6f6d 5f62          **from_b
-00015440: 7573 2a2a 2028 696e 7429 202d 2049 4420  us** (int) - ID 
-00015450: 6f66 2074 6865 2062 7573 206f 6e20 6f6e  of the bus on on
-00015460: 6520 7369 6465 2077 6869 6368 2074 6865  e side which the
-00015470: 206c 696e 6520 7769 6c6c 2062 6520 636f   line will be co
-00015480: 6e6e 6563 7465 6420 7769 7468 0d0a 0d0a  nnected with....
-00015490: 2020 2020 2020 2020 2a2a 746f 5f62 7573          **to_bus
-000154a0: 2a2a 2028 696e 7429 202d 2049 4420 6f66  ** (int) - ID of
-000154b0: 2074 6865 2062 7573 206f 6e20 7468 6520   the bus on the 
-000154c0: 6f74 6865 7220 7369 6465 2077 6869 6368  other side which
-000154d0: 2074 6865 206c 696e 6520 7769 6c6c 2062   the line will b
-000154e0: 6520 636f 6e6e 6563 7465 6420 7769 7468  e connected with
-000154f0: 0d0a 0d0a 2020 2020 2020 2020 2a2a 6c65  ....        **le
-00015500: 6e67 7468 5f6b 6d2a 2a20 2866 6c6f 6174  ngth_km** (float
-00015510: 2920 2d20 5468 6520 6c69 6e65 206c 656e  ) - The line len
-00015520: 6774 6820 696e 206b 6d0d 0a0d 0a20 2020  gth in km....   
-00015530: 2020 2020 202a 2a72 5f6f 686d 5f70 6572       **r_ohm_per
-00015540: 5f6b 6d2a 2a20 2866 6c6f 6174 2920 2d20  _km** (float) - 
-00015550: 6c69 6e65 2072 6573 6973 7461 6e63 6520  line resistance 
-00015560: 696e 206f 686d 2070 6572 206b 6d0d 0a0d  in ohm per km...
-00015570: 0a20 2020 2020 2020 202a 2a78 5f6f 686d  .        **x_ohm
-00015580: 5f70 6572 5f6b 6d2a 2a20 2866 6c6f 6174  _per_km** (float
-00015590: 2920 2d20 6c69 6e65 2072 6561 6374 616e  ) - line reactan
-000155a0: 6365 2069 6e20 6f68 6d20 7065 7220 6b6d  ce in ohm per km
-000155b0: 0d0a 0d0a 2020 2020 2020 2020 2a2a 635f  ....        **c_
-000155c0: 6e66 5f70 6572 5f6b 6d2a 2a20 2866 6c6f  nf_per_km** (flo
-000155d0: 6174 2920 2d20 6c69 6e65 2063 6170 6163  at) - line capac
-000155e0: 6974 616e 6365 2028 6c69 6e65 2d74 6f2d  itance (line-to-
-000155f0: 6561 7274 6829 2069 6e20 6e61 6e6f 2046  earth) in nano F
-00015600: 6172 6164 2070 6572 206b 6d0d 0a0d 0a20  arad per km.... 
-00015610: 2020 2020 2020 202a 2a72 305f 6f68 6d5f         **r0_ohm_
-00015620: 7065 725f 6b6d 2a2a 2028 666c 6f61 7429  per_km** (float)
-00015630: 202d 207a 6572 6f20 7365 7175 656e 6365   - zero sequence
-00015640: 206c 696e 6520 7265 7369 7374 616e 6365   line resistance
-00015650: 2069 6e20 6f68 6d20 7065 7220 6b6d 0d0a   in ohm per km..
-00015660: 0d0a 2020 2020 2020 2020 2a2a 7830 5f6f  ..        **x0_o
-00015670: 686d 5f70 6572 5f6b 6d2a 2a20 2866 6c6f  hm_per_km** (flo
-00015680: 6174 2920 2d20 7a65 726f 2073 6571 7565  at) - zero seque
-00015690: 6e63 6520 6c69 6e65 2072 6561 6374 616e  nce line reactan
-000156a0: 6365 2069 6e20 6f68 6d20 7065 7220 6b6d  ce in ohm per km
-000156b0: 0d0a 0d0a 2020 2020 2020 2020 2a2a 6330  ....        **c0
-000156c0: 5f6e 665f 7065 725f 6b6d 2a2a 2028 666c  _nf_per_km** (fl
-000156d0: 6f61 7429 202d 207a 6572 6f20 7365 7175  oat) - zero sequ
-000156e0: 656e 6365 206c 696e 6520 6361 7061 6369  ence line capaci
-000156f0: 7461 6e63 6520 696e 206e 616e 6f20 4661  tance in nano Fa
-00015700: 7261 6420 7065 7220 6b6d 0d0a 0d0a 2020  rad per km....  
-00015710: 2020 2020 2020 2a2a 6d61 785f 695f 6b61        **max_i_ka
-00015720: 2a2a 2028 666c 6f61 7429 202d 206d 6178  ** (float) - max
-00015730: 696d 756d 2074 6865 726d 616c 2063 7572  imum thermal cur
-00015740: 7265 6e74 2069 6e20 6b69 6c6f 2041 6d70  rent in kilo Amp
-00015750: 6572 650d 0a0d 0a20 2020 204f 5054 494f  ere....    OPTIO
-00015760: 4e41 4c3a 0d0a 2020 2020 2020 2020 2a2a  NAL:..        **
-00015770: 6e61 6d65 2a2a 2028 7374 7269 6e67 2c20  name** (string, 
-00015780: 4e6f 6e65 2920 2d20 4120 6375 7374 6f6d  None) - A custom
-00015790: 206e 616d 6520 666f 7220 7468 6973 206c   name for this l
-000157a0: 696e 650d 0a0d 0a20 2020 2020 2020 202a  ine....        *
-000157b0: 2a69 6e64 6578 2a2a 2028 696e 742c 204e  *index** (int, N
-000157c0: 6f6e 6529 202d 2046 6f72 6365 2061 2073  one) - Force a s
-000157d0: 7065 6369 6669 6564 2049 4420 6966 2069  pecified ID if i
-000157e0: 7420 6973 2061 7661 696c 6162 6c65 2e20  t is available. 
-000157f0: 4966 204e 6f6e 652c 2074 6865 2069 6e64  If None, the ind
-00015800: 6578 206f 6e65 205c 0d0a 2020 2020 2020  ex one \..      
-00015810: 2020 2020 2020 6869 6768 6572 2074 6861        higher tha
-00015820: 6e20 7468 6520 6869 6768 6573 7420 616c  n the highest al
-00015830: 7265 6164 7920 6578 6973 7469 6e67 2069  ready existing i
-00015840: 6e64 6578 2069 7320 7365 6c65 6374 6564  ndex is selected
-00015850: 2e0d 0a0d 0a20 2020 2020 2020 202a 2a69  .....        **i
-00015860: 6e5f 7365 7276 6963 652a 2a20 2862 6f6f  n_service** (boo
-00015870: 6c65 616e 2c20 5472 7565 2920 2d20 5472  lean, True) - Tr
-00015880: 7565 2066 6f72 2069 6e5f 7365 7276 6963  ue for in_servic
-00015890: 6520 6f72 2046 616c 7365 2066 6f72 206f  e or False for o
-000158a0: 7574 206f 6620 7365 7276 6963 650d 0a0d  ut of service...
-000158b0: 0a20 2020 2020 2020 202a 2a74 7970 652a  .        **type*
-000158c0: 2a20 2873 7472 2c20 4e6f 6e65 2920 2d20  * (str, None) - 
-000158d0: 7479 7065 206f 6620 6c69 6e65 2028 226f  type of line ("o
-000158e0: 6c22 2066 6f72 206f 7665 7268 6561 6420  l" for overhead 
-000158f0: 6c69 6e65 206f 7220 2263 7322 2066 6f72  line or "cs" for
-00015900: 2063 6162 6c65 2073 7973 7465 6d29 0d0a   cable system)..
-00015910: 0d0a 2020 2020 2020 2020 2a2a 6466 2a2a  ..        **df**
-00015920: 2028 666c 6f61 742c 2031 2920 2d20 6465   (float, 1) - de
-00015930: 7261 7469 6e67 2066 6163 746f 723a 206d  rating factor: m
-00015940: 6178 696d 616c 2063 7572 7265 6e74 206f  aximal current o
-00015950: 6620 6c69 6e65 2069 6e20 7265 6c61 7469  f line in relati
-00015960: 6f6e 2074 6f20 6e6f 6d69 6e61 6c20 6375  on to nominal cu
-00015970: 7272 656e 745c 0d0a 2020 2020 2020 2020  rrent\..        
-00015980: 2020 2020 6f66 206c 696e 6520 2866 726f      of line (fro
-00015990: 6d20 3020 746f 2031 290d 0a0d 0a20 2020  m 0 to 1)....   
-000159a0: 2020 2020 202a 2a67 5f75 735f 7065 725f       **g_us_per_
-000159b0: 6b6d 2a2a 2028 666c 6f61 742c 2030 2920  km** (float, 0) 
-000159c0: 2d20 6469 656c 6563 7472 6963 2063 6f6e  - dielectric con
-000159d0: 6475 6374 616e 6365 2069 6e20 6d69 6372  ductance in micr
-000159e0: 6f20 5369 656d 656e 7320 7065 7220 6b6d  o Siemens per km
-000159f0: 0d0a 0d0a 2020 2020 2020 2020 2a2a 6730  ....        **g0
-00015a00: 5f75 735f 7065 725f 6b6d 2a2a 2028 666c  _us_per_km** (fl
-00015a10: 6f61 742c 2030 2920 2d20 7a65 726f 2073  oat, 0) - zero s
-00015a20: 6571 7565 6e63 6520 6469 656c 6563 7472  equence dielectr
-00015a30: 6963 2063 6f6e 6475 6374 616e 6365 2069  ic conductance i
-00015a40: 6e20 6d69 6372 6f20 5369 656d 656e 7320  n micro Siemens 
-00015a50: 7065 7220 6b6d 0d0a 0d0a 2020 2020 2020  per km....      
-00015a60: 2020 2a2a 7061 7261 6c6c 656c 2a2a 2028    **parallel** (
-00015a70: 696e 7465 6765 722c 2031 2920 2d20 6e75  integer, 1) - nu
-00015a80: 6d62 6572 206f 6620 7061 7261 6c6c 656c  mber of parallel
-00015a90: 206c 696e 6520 7379 7374 656d 730d 0a0d   line systems...
-00015aa0: 0a20 2020 2020 2020 202a 2a67 656f 6461  .        **geoda
-00015ab0: 7461 2a2a 0d0a 2020 2020 2020 2020 2861  ta**..        (a
-00015ac0: 7272 6179 2c20 6465 6661 756c 7420 4e6f  rray, default No
-00015ad0: 6e65 2c20 7368 6170 653d 2028 2c32 4c29  ne, shape= (,2L)
-00015ae0: 2920 2d0d 0a20 2020 2020 2020 2054 6865  ) -..        The
-00015af0: 206c 696e 6567 656f 6461 7461 206f 6620   linegeodata of 
-00015b00: 7468 6520 6c69 6e65 2e20 5468 6520 6669  the line. The fi
-00015b10: 7273 7420 726f 7720 7368 6f75 6c64 2062  rst row should b
-00015b20: 6520 7468 6520 636f 6f72 6469 6e61 7465  e the coordinate
-00015b30: 730d 0a20 2020 2020 2020 206f 6620 6275  s..        of bu
-00015b40: 7320 6120 616e 6420 7468 6520 6c61 7374  s a and the last
-00015b50: 2073 686f 756c 6420 6265 2074 6865 2063   should be the c
-00015b60: 6f6f 7264 696e 6174 6573 206f 6620 6275  oordinates of bu
-00015b70: 7320 622e 2054 6865 2070 6f69 6e74 730d  s b. The points.
-00015b80: 0a20 2020 2020 2020 2069 6e20 7468 6520  .        in the 
-00015b90: 6d69 6464 6c65 2072 6570 7265 7365 6e74  middle represent
-00015ba0: 2074 6865 2062 656e 6469 6e67 2070 6f69   the bending poi
-00015bb0: 6e74 7320 6f66 2074 6865 206c 696e 650d  nts of the line.
-00015bc0: 0a0d 0a20 2020 2020 2020 202a 2a6d 6178  ...        **max
-00015bd0: 5f6c 6f61 6469 6e67 5f70 6572 6365 6e74  _loading_percent
-00015be0: 2028 666c 6f61 7429 2a2a 202d 206d 6178   (float)** - max
-00015bf0: 696d 756d 2063 7572 7265 6e74 206c 6f61  imum current loa
-00015c00: 6469 6e67 2028 6f6e 6c79 206e 6565 6465  ding (only neede
-00015c10: 6420 666f 7220 4f50 4629 0d0a 0d0a 2020  d for OPF)....  
-00015c20: 2020 4f55 5450 5554 3a0d 0a20 2020 2020    OUTPUT:..     
-00015c30: 2020 202a 2a69 6e64 6578 2a2a 2028 696e     **index** (in
-00015c40: 7429 202d 2054 6865 2075 6e69 7175 6520  t) - The unique 
-00015c50: 4944 206f 6620 7468 6520 6372 6561 7465  ID of the create
-00015c60: 6420 6c69 6e65 0d0a 0d0a 2020 2020 4558  d line....    EX
-00015c70: 414d 504c 453a 0d0a 2020 2020 2020 2020  AMPLE:..        
-00015c80: 6372 6561 7465 5f6c 696e 655f 6672 6f6d  create_line_from
-00015c90: 5f70 6172 616d 6574 6572 7328 6e65 742c  _parameters(net,
-00015ca0: 2022 6c69 6e65 3122 2c20 6672 6f6d 5f62   "line1", from_b
-00015cb0: 7573 203d 2030 2c20 746f 5f62 7573 203d  us = 0, to_bus =
-00015cc0: 2031 2c20 6c65 6e67 6874 5f6b 6d3d 302e   1, lenght_km=0.
-00015cd0: 312c 0d0a 2020 2020 2020 2020 725f 6f68  1,..        r_oh
-00015ce0: 6d5f 7065 725f 6b6d 203d 202e 3031 2c20  m_per_km = .01, 
-00015cf0: 785f 6f68 6d5f 7065 725f 6b6d 203d 2030  x_ohm_per_km = 0
-00015d00: 2e30 352c 2063 5f6e 665f 7065 725f 6b6d  .05, c_nf_per_km
-00015d10: 203d 2031 302c 0d0a 2020 2020 2020 2020   = 10,..        
-00015d20: 6d61 785f 695f 6b61 203d 2030 2e34 290d  max_i_ka = 0.4).
-00015d30: 0a0d 0a20 2020 2022 2222 0d0a 0d0a 2020  ...    """....  
-00015d40: 2020 2320 6368 6563 6b20 6966 2062 7573    # check if bus
-00015d50: 2065 7869 7374 2074 6f20 6174 7461 6368   exist to attach
-00015d60: 2074 6865 206c 696e 6520 746f 0d0a 2020   the line to..  
-00015d70: 2020 5f63 6865 636b 5f62 7261 6e63 685f    _check_branch_
-00015d80: 656c 656d 656e 7428 6e65 742c 2022 4c69  element(net, "Li
-00015d90: 6e65 222c 2069 6e64 6578 2c20 6672 6f6d  ne", index, from
-00015da0: 5f62 7573 2c20 746f 5f62 7573 290d 0a0d  _bus, to_bus)...
-00015db0: 0a20 2020 2069 6e64 6578 203d 205f 6765  .    index = _ge
-00015dc0: 745f 696e 6465 785f 7769 7468 5f63 6865  t_index_with_che
-00015dd0: 636b 286e 6574 2c20 226c 696e 6522 2c20  ck(net, "line", 
-00015de0: 696e 6465 7829 0d0a 0d0a 2020 2020 7620  index)....    v 
-00015df0: 3d20 7b0d 0a20 2020 2020 2020 2022 6e61  = {..        "na
-00015e00: 6d65 223a 206e 616d 652c 2022 6c65 6e67  me": name, "leng
-00015e10: 7468 5f6b 6d22 3a20 6c65 6e67 7468 5f6b  th_km": length_k
-00015e20: 6d2c 2022 6672 6f6d 5f62 7573 223a 2066  m, "from_bus": f
-00015e30: 726f 6d5f 6275 732c 0d0a 2020 2020 2020  rom_bus,..      
-00015e40: 2020 2274 6f5f 6275 7322 3a20 746f 5f62    "to_bus": to_b
-00015e50: 7573 2c20 2269 6e5f 7365 7276 6963 6522  us, "in_service"
-00015e60: 3a20 626f 6f6c 2869 6e5f 7365 7276 6963  : bool(in_servic
-00015e70: 6529 2c20 2273 7464 5f74 7970 6522 3a20  e), "std_type": 
-00015e80: 4e6f 6e65 2c0d 0a20 2020 2020 2020 2022  None,..        "
-00015e90: 6466 223a 2064 662c 2022 725f 6f68 6d5f  df": df, "r_ohm_
-00015ea0: 7065 725f 6b6d 223a 2072 5f6f 686d 5f70  per_km": r_ohm_p
-00015eb0: 6572 5f6b 6d2c 2022 785f 6f68 6d5f 7065  er_km, "x_ohm_pe
-00015ec0: 725f 6b6d 223a 2078 5f6f 686d 5f70 6572  r_km": x_ohm_per
-00015ed0: 5f6b 6d2c 0d0a 2020 2020 2020 2020 2263  _km,..        "c
-00015ee0: 5f6e 665f 7065 725f 6b6d 223a 2063 5f6e  _nf_per_km": c_n
-00015ef0: 665f 7065 725f 6b6d 2c20 226d 6178 5f69  f_per_km, "max_i
-00015f00: 5f6b 6122 3a20 6d61 785f 695f 6b61 2c20  _ka": max_i_ka, 
-00015f10: 2270 6172 616c 6c65 6c22 3a20 7061 7261  "parallel": para
-00015f20: 6c6c 656c 2c20 2274 7970 6522 3a20 7479  llel, "type": ty
-00015f30: 7065 2c0d 0a20 2020 2020 2020 2022 675f  pe,..        "g_
-00015f40: 7573 5f70 6572 5f6b 6d22 3a20 675f 7573  us_per_km": g_us
-00015f50: 5f70 6572 5f6b 6d0d 0a20 2020 207d 0d0a  _per_km..    }..
-00015f60: 0d0a 2020 2020 5f73 6574 5f65 6e74 7269  ..    _set_entri
-00015f70: 6573 286e 6574 2c20 226c 696e 6522 2c20  es(net, "line", 
-00015f80: 696e 6465 782c 202a 2a76 2c20 2a2a 6b77  index, **v, **kw
-00015f90: 6172 6773 290d 0a0d 0a20 2020 206e 616e  args)....    nan
-00015fa0: 5f30 5f76 616c 7565 7320 3d20 5b69 736e  _0_values = [isn
-00015fb0: 616e 2872 305f 6f68 6d5f 7065 725f 6b6d  an(r0_ohm_per_km
-00015fc0: 292c 2069 736e 616e 2878 305f 6f68 6d5f  ), isnan(x0_ohm_
-00015fd0: 7065 725f 6b6d 292c 2069 736e 616e 2863  per_km), isnan(c
-00015fe0: 305f 6e66 5f70 6572 5f6b 6d29 5d0d 0a20  0_nf_per_km)].. 
-00015ff0: 2020 2069 6620 6e6f 7420 6e70 5f61 6e79     if not np_any
-00016000: 286e 616e 5f30 5f76 616c 7565 7329 3a0d  (nan_0_values):.
-00016010: 0a20 2020 2020 2020 205f 6372 6561 7465  .        _create
-00016020: 5f63 6f6c 756d 6e5f 616e 645f 7365 745f  _column_and_set_
-00016030: 7661 6c75 6528 6e65 742c 2069 6e64 6578  value(net, index
-00016040: 2c20 7230 5f6f 686d 5f70 6572 5f6b 6d2c  , r0_ohm_per_km,
-00016050: 2022 7230 5f6f 686d 5f70 6572 5f6b 6d22   "r0_ohm_per_km"
-00016060: 2c20 226c 696e 6522 290d 0a20 2020 2020  , "line")..     
-00016070: 2020 205f 6372 6561 7465 5f63 6f6c 756d     _create_colum
-00016080: 6e5f 616e 645f 7365 745f 7661 6c75 6528  n_and_set_value(
-00016090: 6e65 742c 2069 6e64 6578 2c20 7830 5f6f  net, index, x0_o
-000160a0: 686d 5f70 6572 5f6b 6d2c 2022 7830 5f6f  hm_per_km, "x0_o
-000160b0: 686d 5f70 6572 5f6b 6d22 2c20 226c 696e  hm_per_km", "lin
-000160c0: 6522 290d 0a20 2020 2020 2020 205f 6372  e")..        _cr
-000160d0: 6561 7465 5f63 6f6c 756d 6e5f 616e 645f  eate_column_and_
-000160e0: 7365 745f 7661 6c75 6528 6e65 742c 2069  set_value(net, i
-000160f0: 6e64 6578 2c20 6330 5f6e 665f 7065 725f  ndex, c0_nf_per_
-00016100: 6b6d 2c20 2263 305f 6e66 5f70 6572 5f6b  km, "c0_nf_per_k
-00016110: 6d22 2c20 226c 696e 6522 290d 0a20 2020  m", "line")..   
-00016120: 2020 2020 205f 6372 6561 7465 5f63 6f6c       _create_col
-00016130: 756d 6e5f 616e 645f 7365 745f 7661 6c75  umn_and_set_valu
-00016140: 6528 6e65 742c 2069 6e64 6578 2c20 6730  e(net, index, g0
-00016150: 5f75 735f 7065 725f 6b6d 2c20 2267 305f  _us_per_km, "g0_
-00016160: 7573 5f70 6572 5f6b 6d22 2c20 226c 696e  us_per_km", "lin
-00016170: 6522 2c0d 0a20 2020 2020 2020 2020 2020  e",..           
-00016180: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00016190: 2020 2020 2020 2020 2020 6465 6661 756c            defaul
-000161a0: 745f 7661 6c3d 302e 290d 0a20 2020 2065  t_val=0.)..    e
-000161b0: 6c69 6620 6e6f 7420 6e70 5f61 6c6c 286e  lif not np_all(n
-000161c0: 616e 5f30 5f76 616c 7565 7329 3a0d 0a20  an_0_values):.. 
-000161d0: 2020 2020 2020 206c 6f67 6765 722e 7761         logger.wa
-000161e0: 726e 696e 6728 225a 6572 6f20 7365 7175  rning("Zero sequ
-000161f0: 656e 6365 2076 616c 7565 7320 6172 6520  ence values are 
-00016200: 6769 7665 6e20 666f 7220 6f6e 6c79 2073  given for only s
-00016210: 6f6d 6520 7061 7261 6d65 7465 7273 2e20  ome parameters. 
-00016220: 506c 6561 7365 2073 7065 6369 6679 2022  Please specify "
-00016230: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00016240: 2020 2020 2020 2020 2022 7468 656d 2066           "them f
-00016250: 6f72 2061 6c6c 2070 6172 616d 6574 6572  or all parameter
-00016260: 732c 206f 7468 6572 7769 7365 2074 6865  s, otherwise the
-00016270: 7920 6172 6520 6e6f 7420 7365 7421 2229  y are not set!")
-00016280: 0d0a 0d0a 2020 2020 6966 2067 656f 6461  ....    if geoda
-00016290: 7461 2069 7320 6e6f 7420 4e6f 6e65 3a0d  ta is not None:.
-000162a0: 0a20 2020 2020 2020 206e 6574 5b22 6c69  .        net["li
-000162b0: 6e65 5f67 656f 6461 7461 225d 2e6c 6f63  ne_geodata"].loc
-000162c0: 5b69 6e64 6578 2c20 2263 6f6f 7264 7322  [index, "coords"
-000162d0: 5d20 3d20 4e6f 6e65 0d0a 2020 2020 2020  ] = None..      
-000162e0: 2020 6e65 745b 226c 696e 655f 6765 6f64    net["line_geod
-000162f0: 6174 6122 5d2e 6174 5b69 6e64 6578 2c20  ata"].at[index, 
-00016300: 2263 6f6f 7264 7322 5d20 3d20 6765 6f64  "coords"] = geod
-00016310: 6174 610d 0a0d 0a20 2020 205f 6372 6561  ata....    _crea
-00016320: 7465 5f63 6f6c 756d 6e5f 616e 645f 7365  te_column_and_se
-00016330: 745f 7661 6c75 6528 6e65 742c 2069 6e64  t_value(net, ind
-00016340: 6578 2c20 6d61 785f 6c6f 6164 696e 675f  ex, max_loading_
-00016350: 7065 7263 656e 742c 2022 6d61 785f 6c6f  percent, "max_lo
-00016360: 6164 696e 675f 7065 7263 656e 7422 2c20  ading_percent", 
-00016370: 226c 696e 6522 290d 0a20 2020 205f 6372  "line")..    _cr
-00016380: 6561 7465 5f63 6f6c 756d 6e5f 616e 645f  eate_column_and_
-00016390: 7365 745f 7661 6c75 6528 6e65 742c 2069  set_value(net, i
-000163a0: 6e64 6578 2c20 616c 7068 612c 2022 616c  ndex, alpha, "al
-000163b0: 7068 6122 2c20 226c 696e 6522 290d 0a20  pha", "line").. 
-000163c0: 2020 205f 6372 6561 7465 5f63 6f6c 756d     _create_colum
-000163d0: 6e5f 616e 645f 7365 745f 7661 6c75 6528  n_and_set_value(
-000163e0: 6e65 742c 2069 6e64 6578 2c20 7465 6d70  net, index, temp
-000163f0: 6572 6174 7572 655f 6465 6772 6565 5f63  erature_degree_c
-00016400: 656c 7369 7573 2c0d 0a20 2020 2020 2020  elsius,..       
-00016410: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00016420: 2020 2020 2020 2020 2020 2274 656d 7065            "tempe
-00016430: 7261 7475 7265 5f64 6567 7265 655f 6365  rature_degree_ce
-00016440: 6c73 6975 7322 2c20 226c 696e 6522 290d  lsius", "line").
-00016450: 0a20 2020 205f 6372 6561 7465 5f63 6f6c  .    _create_col
-00016460: 756d 6e5f 616e 645f 7365 745f 7661 6c75  umn_and_set_valu
-00016470: 6528 6e65 742c 2069 6e64 6578 2c20 656e  e(net, index, en
-00016480: 6474 656d 705f 6465 6772 6565 2c20 2265  dtemp_degree, "e
-00016490: 6e64 7465 6d70 5f64 6567 7265 6522 2c20  ndtemp_degree", 
-000164a0: 226c 696e 6522 290d 0a0d 0a20 2020 2072  "line")....    r
-000164b0: 6574 7572 6e20 696e 6465 780d 0a0d 0a0d  eturn index.....
-000164c0: 0a64 6566 2063 7265 6174 655f 6c69 6e65  .def create_line
-000164d0: 735f 6672 6f6d 5f70 6172 616d 6574 6572  s_from_parameter
-000164e0: 7328 6e65 742c 2066 726f 6d5f 6275 7365  s(net, from_buse
-000164f0: 732c 2074 6f5f 6275 7365 732c 206c 656e  s, to_buses, len
-00016500: 6774 685f 6b6d 2c20 725f 6f68 6d5f 7065  gth_km, r_ohm_pe
-00016510: 725f 6b6d 2c20 785f 6f68 6d5f 7065 725f  r_km, x_ohm_per_
-00016520: 6b6d 2c0d 0a20 2020 2020 2020 2020 2020  km,..           
-00016530: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00016540: 2020 2020 2020 635f 6e66 5f70 6572 5f6b        c_nf_per_k
-00016550: 6d2c 206d 6178 5f69 5f6b 612c 206e 616d  m, max_i_ka, nam
-00016560: 653d 4e6f 6e65 2c20 696e 6465 783d 4e6f  e=None, index=No
-00016570: 6e65 2c20 7479 7065 3d4e 6f6e 652c 0d0a  ne, type=None,..
-00016580: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00015020: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00015030: 205b 4e6f 6e65 5d20 2a20 6c65 6e28 6c69   [None] * len(li
+00015040: 6e65 7061 7261 6d29 2929 0d0a 0d0a 2020  neparam)))....  
+00015050: 2020 5f61 6464 5f73 6572 6965 735f 746f    _add_series_to
+00015060: 5f65 6e74 7269 6573 2865 6e74 7269 6573  _entries(entries
+00015070: 2c20 696e 6465 782c 2022 6d61 785f 6c6f  , index, "max_lo
+00015080: 6164 696e 675f 7065 7263 656e 7422 2c20  ading_percent", 
+00015090: 6d61 785f 6c6f 6164 696e 675f 7065 7263  max_loading_perc
+000150a0: 656e 7429 0d0a 0d0a 2020 2020 5f73 6574  ent)....    _set
+000150b0: 5f6d 756c 7469 706c 655f 656e 7472 6965  _multiple_entrie
+000150c0: 7328 6e65 742c 2022 6c69 6e65 222c 2069  s(net, "line", i
+000150d0: 6e64 6578 2c20 2a2a 656e 7472 6965 7329  ndex, **entries)
+000150e0: 0d0a 0d0a 2020 2020 6966 2067 656f 6461  ....    if geoda
+000150f0: 7461 2069 7320 6e6f 7420 4e6f 6e65 3a0d  ta is not None:.
+00015100: 0a20 2020 2020 2020 205f 6164 645f 6d75  .        _add_mu
+00015110: 6c74 6970 6c65 5f62 7261 6e63 685f 6765  ltiple_branch_ge
+00015120: 6f64 6174 6128 6e65 742c 2022 6c69 6e65  odata(net, "line
+00015130: 222c 2067 656f 6461 7461 2c20 696e 6465  ", geodata, inde
+00015140: 7829 0d0a 0d0a 2020 2020 7265 7475 726e  x)....    return
+00015150: 2069 6e64 6578 0d0a 0d0a 0d0a 6465 6620   index......def 
+00015160: 6372 6561 7465 5f6c 696e 655f 6672 6f6d  create_line_from
+00015170: 5f70 6172 616d 6574 6572 7328 6e65 742c  _parameters(net,
+00015180: 2066 726f 6d5f 6275 732c 2074 6f5f 6275   from_bus, to_bu
+00015190: 732c 206c 656e 6774 685f 6b6d 2c20 725f  s, length_km, r_
+000151a0: 6f68 6d5f 7065 725f 6b6d 2c20 785f 6f68  ohm_per_km, x_oh
+000151b0: 6d5f 7065 725f 6b6d 2c0d 0a20 2020 2020  m_per_km,..     
+000151c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000151d0: 2020 2020 2020 2020 2020 2063 5f6e 665f             c_nf_
+000151e0: 7065 725f 6b6d 2c20 6d61 785f 695f 6b61  per_km, max_i_ka
+000151f0: 2c20 6e61 6d65 3d4e 6f6e 652c 2069 6e64  , name=None, ind
+00015200: 6578 3d4e 6f6e 652c 2074 7970 653d 4e6f  ex=None, type=No
+00015210: 6e65 2c0d 0a20 2020 2020 2020 2020 2020  ne,..           
+00015220: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00015230: 2020 2020 2067 656f 6461 7461 3d4e 6f6e       geodata=Non
+00015240: 652c 2069 6e5f 7365 7276 6963 653d 5472  e, in_service=Tr
+00015250: 7565 2c20 6466 3d31 2e2c 2070 6172 616c  ue, df=1., paral
+00015260: 6c65 6c3d 312c 2067 5f75 735f 7065 725f  lel=1, g_us_per_
+00015270: 6b6d 3d30 2e2c 0d0a 2020 2020 2020 2020  km=0.,..        
+00015280: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00015290: 2020 2020 2020 2020 6d61 785f 6c6f 6164          max_load
+000152a0: 696e 675f 7065 7263 656e 743d 6e61 6e2c  ing_percent=nan,
+000152b0: 2061 6c70 6861 3d6e 616e 2c0d 0a20 2020   alpha=nan,..   
+000152c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000152d0: 2020 2020 2020 2020 2020 2020 2074 656d               tem
+000152e0: 7065 7261 7475 7265 5f64 6567 7265 655f  perature_degree_
+000152f0: 6365 6c73 6975 733d 6e61 6e2c 2072 305f  celsius=nan, r0_
+00015300: 6f68 6d5f 7065 725f 6b6d 3d6e 616e 2c0d  ohm_per_km=nan,.
+00015310: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00015320: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00015330: 2078 305f 6f68 6d5f 7065 725f 6b6d 3d6e   x0_ohm_per_km=n
+00015340: 616e 2c20 6330 5f6e 665f 7065 725f 6b6d  an, c0_nf_per_km
+00015350: 3d6e 616e 2c20 6730 5f75 735f 7065 725f  =nan, g0_us_per_
+00015360: 6b6d 3d30 2c0d 0a20 2020 2020 2020 2020  km=0,..         
+00015370: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00015380: 2020 2020 2020 2065 6e64 7465 6d70 5f64         endtemp_d
+00015390: 6567 7265 653d 6e61 6e2c 202a 2a6b 7761  egree=nan, **kwa
+000153a0: 7267 7329 3a0d 0a20 2020 2022 2222 0d0a  rgs):..    """..
+000153b0: 2020 2020 4372 6561 7465 7320 6120 6c69      Creates a li
+000153c0: 6e65 2065 6c65 6d65 6e74 2069 6e20 6e65  ne element in ne
+000153d0: 745b 226c 696e 6522 5d20 6672 6f6d 206c  t["line"] from l
+000153e0: 696e 6520 7061 7261 6d65 7465 7273 2e0d  ine parameters..
+000153f0: 0a0d 0a20 2020 2049 4e50 5554 3a0d 0a20  ...    INPUT:.. 
+00015400: 2020 2020 2020 202a 2a6e 6574 2a2a 202d         **net** -
+00015410: 2054 6865 206e 6574 2077 6974 6869 6e20   The net within 
+00015420: 7468 6973 206c 696e 6520 7368 6f75 6c64  this line should
+00015430: 2062 6520 6372 6561 7465 640d 0a0d 0a20   be created.... 
+00015440: 2020 2020 2020 202a 2a66 726f 6d5f 6275         **from_bu
+00015450: 732a 2a20 2869 6e74 2920 2d20 4944 206f  s** (int) - ID o
+00015460: 6620 7468 6520 6275 7320 6f6e 206f 6e65  f the bus on one
+00015470: 2073 6964 6520 7768 6963 6820 7468 6520   side which the 
+00015480: 6c69 6e65 2077 696c 6c20 6265 2063 6f6e  line will be con
+00015490: 6e65 6374 6564 2077 6974 680d 0a0d 0a20  nected with.... 
+000154a0: 2020 2020 2020 202a 2a74 6f5f 6275 732a         **to_bus*
+000154b0: 2a20 2869 6e74 2920 2d20 4944 206f 6620  * (int) - ID of 
+000154c0: 7468 6520 6275 7320 6f6e 2074 6865 206f  the bus on the o
+000154d0: 7468 6572 2073 6964 6520 7768 6963 6820  ther side which 
+000154e0: 7468 6520 6c69 6e65 2077 696c 6c20 6265  the line will be
+000154f0: 2063 6f6e 6e65 6374 6564 2077 6974 680d   connected with.
+00015500: 0a0d 0a20 2020 2020 2020 202a 2a6c 656e  ...        **len
+00015510: 6774 685f 6b6d 2a2a 2028 666c 6f61 7429  gth_km** (float)
+00015520: 202d 2054 6865 206c 696e 6520 6c65 6e67   - The line leng
+00015530: 7468 2069 6e20 6b6d 0d0a 0d0a 2020 2020  th in km....    
+00015540: 2020 2020 2a2a 725f 6f68 6d5f 7065 725f      **r_ohm_per_
+00015550: 6b6d 2a2a 2028 666c 6f61 7429 202d 206c  km** (float) - l
+00015560: 696e 6520 7265 7369 7374 616e 6365 2069  ine resistance i
+00015570: 6e20 6f68 6d20 7065 7220 6b6d 0d0a 0d0a  n ohm per km....
+00015580: 2020 2020 2020 2020 2a2a 785f 6f68 6d5f          **x_ohm_
+00015590: 7065 725f 6b6d 2a2a 2028 666c 6f61 7429  per_km** (float)
+000155a0: 202d 206c 696e 6520 7265 6163 7461 6e63   - line reactanc
+000155b0: 6520 696e 206f 686d 2070 6572 206b 6d0d  e in ohm per km.
+000155c0: 0a0d 0a20 2020 2020 2020 202a 2a63 5f6e  ...        **c_n
+000155d0: 665f 7065 725f 6b6d 2a2a 2028 666c 6f61  f_per_km** (floa
+000155e0: 7429 202d 206c 696e 6520 6361 7061 6369  t) - line capaci
+000155f0: 7461 6e63 6520 286c 696e 652d 746f 2d65  tance (line-to-e
+00015600: 6172 7468 2920 696e 206e 616e 6f20 4661  arth) in nano Fa
+00015610: 7261 6420 7065 7220 6b6d 0d0a 0d0a 2020  rad per km....  
+00015620: 2020 2020 2020 2a2a 7230 5f6f 686d 5f70        **r0_ohm_p
+00015630: 6572 5f6b 6d2a 2a20 2866 6c6f 6174 2920  er_km** (float) 
+00015640: 2d20 7a65 726f 2073 6571 7565 6e63 6520  - zero sequence 
+00015650: 6c69 6e65 2072 6573 6973 7461 6e63 6520  line resistance 
+00015660: 696e 206f 686d 2070 6572 206b 6d0d 0a0d  in ohm per km...
+00015670: 0a20 2020 2020 2020 202a 2a78 305f 6f68  .        **x0_oh
+00015680: 6d5f 7065 725f 6b6d 2a2a 2028 666c 6f61  m_per_km** (floa
+00015690: 7429 202d 207a 6572 6f20 7365 7175 656e  t) - zero sequen
+000156a0: 6365 206c 696e 6520 7265 6163 7461 6e63  ce line reactanc
+000156b0: 6520 696e 206f 686d 2070 6572 206b 6d0d  e in ohm per km.
+000156c0: 0a0d 0a20 2020 2020 2020 202a 2a63 305f  ...        **c0_
+000156d0: 6e66 5f70 6572 5f6b 6d2a 2a20 2866 6c6f  nf_per_km** (flo
+000156e0: 6174 2920 2d20 7a65 726f 2073 6571 7565  at) - zero seque
+000156f0: 6e63 6520 6c69 6e65 2063 6170 6163 6974  nce line capacit
+00015700: 616e 6365 2069 6e20 6e61 6e6f 2046 6172  ance in nano Far
+00015710: 6164 2070 6572 206b 6d0d 0a0d 0a20 2020  ad per km....   
+00015720: 2020 2020 202a 2a6d 6178 5f69 5f6b 612a       **max_i_ka*
+00015730: 2a20 2866 6c6f 6174 2920 2d20 6d61 7869  * (float) - maxi
+00015740: 6d75 6d20 7468 6572 6d61 6c20 6375 7272  mum thermal curr
+00015750: 656e 7420 696e 206b 696c 6f20 416d 7065  ent in kilo Ampe
+00015760: 7265 0d0a 0d0a 2020 2020 4f50 5449 4f4e  re....    OPTION
+00015770: 414c 3a0d 0a20 2020 2020 2020 202a 2a6e  AL:..        **n
+00015780: 616d 652a 2a20 2873 7472 696e 672c 204e  ame** (string, N
+00015790: 6f6e 6529 202d 2041 2063 7573 746f 6d20  one) - A custom 
+000157a0: 6e61 6d65 2066 6f72 2074 6869 7320 6c69  name for this li
+000157b0: 6e65 0d0a 0d0a 2020 2020 2020 2020 2a2a  ne....        **
+000157c0: 696e 6465 782a 2a20 2869 6e74 2c20 4e6f  index** (int, No
+000157d0: 6e65 2920 2d20 466f 7263 6520 6120 7370  ne) - Force a sp
+000157e0: 6563 6966 6965 6420 4944 2069 6620 6974  ecified ID if it
+000157f0: 2069 7320 6176 6169 6c61 626c 652e 2049   is available. I
+00015800: 6620 4e6f 6e65 2c20 7468 6520 696e 6465  f None, the inde
+00015810: 7820 6f6e 6520 5c0d 0a20 2020 2020 2020  x one \..       
+00015820: 2020 2020 2068 6967 6865 7220 7468 616e       higher than
+00015830: 2074 6865 2068 6967 6865 7374 2061 6c72   the highest alr
+00015840: 6561 6479 2065 7869 7374 696e 6720 696e  eady existing in
+00015850: 6465 7820 6973 2073 656c 6563 7465 642e  dex is selected.
+00015860: 0d0a 0d0a 2020 2020 2020 2020 2a2a 696e  ....        **in
+00015870: 5f73 6572 7669 6365 2a2a 2028 626f 6f6c  _service** (bool
+00015880: 6561 6e2c 2054 7275 6529 202d 2054 7275  ean, True) - Tru
+00015890: 6520 666f 7220 696e 5f73 6572 7669 6365  e for in_service
+000158a0: 206f 7220 4661 6c73 6520 666f 7220 6f75   or False for ou
+000158b0: 7420 6f66 2073 6572 7669 6365 0d0a 0d0a  t of service....
+000158c0: 2020 2020 2020 2020 2a2a 7479 7065 2a2a          **type**
+000158d0: 2028 7374 722c 204e 6f6e 6529 202d 2074   (str, None) - t
+000158e0: 7970 6520 6f66 206c 696e 6520 2822 6f6c  ype of line ("ol
+000158f0: 2220 666f 7220 6f76 6572 6865 6164 206c  " for overhead l
+00015900: 696e 6520 6f72 2022 6373 2220 666f 7220  ine or "cs" for 
+00015910: 6361 626c 6520 7379 7374 656d 290d 0a0d  cable system)...
+00015920: 0a20 2020 2020 2020 202a 2a64 662a 2a20  .        **df** 
+00015930: 2866 6c6f 6174 2c20 3129 202d 2064 6572  (float, 1) - der
+00015940: 6174 696e 6720 6661 6374 6f72 3a20 6d61  ating factor: ma
+00015950: 7869 6d61 6c20 6375 7272 656e 7420 6f66  ximal current of
+00015960: 206c 696e 6520 696e 2072 656c 6174 696f   line in relatio
+00015970: 6e20 746f 206e 6f6d 696e 616c 2063 7572  n to nominal cur
+00015980: 7265 6e74 5c0d 0a20 2020 2020 2020 2020  rent\..         
+00015990: 2020 206f 6620 6c69 6e65 2028 6672 6f6d     of line (from
+000159a0: 2030 2074 6f20 3129 0d0a 0d0a 2020 2020   0 to 1)....    
+000159b0: 2020 2020 2a2a 675f 7573 5f70 6572 5f6b      **g_us_per_k
+000159c0: 6d2a 2a20 2866 6c6f 6174 2c20 3029 202d  m** (float, 0) -
+000159d0: 2064 6965 6c65 6374 7269 6320 636f 6e64   dielectric cond
+000159e0: 7563 7461 6e63 6520 696e 206d 6963 726f  uctance in micro
+000159f0: 2053 6965 6d65 6e73 2070 6572 206b 6d0d   Siemens per km.
+00015a00: 0a0d 0a20 2020 2020 2020 202a 2a67 305f  ...        **g0_
+00015a10: 7573 5f70 6572 5f6b 6d2a 2a20 2866 6c6f  us_per_km** (flo
+00015a20: 6174 2c20 3029 202d 207a 6572 6f20 7365  at, 0) - zero se
+00015a30: 7175 656e 6365 2064 6965 6c65 6374 7269  quence dielectri
+00015a40: 6320 636f 6e64 7563 7461 6e63 6520 696e  c conductance in
+00015a50: 206d 6963 726f 2053 6965 6d65 6e73 2070   micro Siemens p
+00015a60: 6572 206b 6d0d 0a0d 0a20 2020 2020 2020  er km....       
+00015a70: 202a 2a70 6172 616c 6c65 6c2a 2a20 2869   **parallel** (i
+00015a80: 6e74 6567 6572 2c20 3129 202d 206e 756d  nteger, 1) - num
+00015a90: 6265 7220 6f66 2070 6172 616c 6c65 6c20  ber of parallel 
+00015aa0: 6c69 6e65 2073 7973 7465 6d73 0d0a 0d0a  line systems....
+00015ab0: 2020 2020 2020 2020 2a2a 6765 6f64 6174          **geodat
+00015ac0: 612a 2a0d 0a20 2020 2020 2020 2028 6172  a**..        (ar
+00015ad0: 7261 792c 2064 6566 6175 6c74 204e 6f6e  ray, default Non
+00015ae0: 652c 2073 6861 7065 3d20 282c 324c 2929  e, shape= (,2L))
+00015af0: 202d 0d0a 2020 2020 2020 2020 5468 6520   -..        The 
+00015b00: 6c69 6e65 6765 6f64 6174 6120 6f66 2074  linegeodata of t
+00015b10: 6865 206c 696e 652e 2054 6865 2066 6972  he line. The fir
+00015b20: 7374 2072 6f77 2073 686f 756c 6420 6265  st row should be
+00015b30: 2074 6865 2063 6f6f 7264 696e 6174 6573   the coordinates
+00015b40: 0d0a 2020 2020 2020 2020 6f66 2062 7573  ..        of bus
+00015b50: 2061 2061 6e64 2074 6865 206c 6173 7420   a and the last 
+00015b60: 7368 6f75 6c64 2062 6520 7468 6520 636f  should be the co
+00015b70: 6f72 6469 6e61 7465 7320 6f66 2062 7573  ordinates of bus
+00015b80: 2062 2e20 5468 6520 706f 696e 7473 0d0a   b. The points..
+00015b90: 2020 2020 2020 2020 696e 2074 6865 206d          in the m
+00015ba0: 6964 646c 6520 7265 7072 6573 656e 7420  iddle represent 
+00015bb0: 7468 6520 6265 6e64 696e 6720 706f 696e  the bending poin
+00015bc0: 7473 206f 6620 7468 6520 6c69 6e65 0d0a  ts of the line..
+00015bd0: 0d0a 2020 2020 2020 2020 2a2a 6d61 785f  ..        **max_
+00015be0: 6c6f 6164 696e 675f 7065 7263 656e 7420  loading_percent 
+00015bf0: 2866 6c6f 6174 292a 2a20 2d20 6d61 7869  (float)** - maxi
+00015c00: 6d75 6d20 6375 7272 656e 7420 6c6f 6164  mum current load
+00015c10: 696e 6720 286f 6e6c 7920 6e65 6564 6564  ing (only needed
+00015c20: 2066 6f72 204f 5046 290d 0a0d 0a20 2020   for OPF)....   
+00015c30: 204f 5554 5055 543a 0d0a 2020 2020 2020   OUTPUT:..      
+00015c40: 2020 2a2a 696e 6465 782a 2a20 2869 6e74    **index** (int
+00015c50: 2920 2d20 5468 6520 756e 6971 7565 2049  ) - The unique I
+00015c60: 4420 6f66 2074 6865 2063 7265 6174 6564  D of the created
+00015c70: 206c 696e 650d 0a0d 0a20 2020 2045 5841   line....    EXA
+00015c80: 4d50 4c45 3a0d 0a20 2020 2020 2020 2063  MPLE:..        c
+00015c90: 7265 6174 655f 6c69 6e65 5f66 726f 6d5f  reate_line_from_
+00015ca0: 7061 7261 6d65 7465 7273 286e 6574 2c20  parameters(net, 
+00015cb0: 226c 696e 6531 222c 2066 726f 6d5f 6275  "line1", from_bu
+00015cc0: 7320 3d20 302c 2074 6f5f 6275 7320 3d20  s = 0, to_bus = 
+00015cd0: 312c 206c 656e 6768 745f 6b6d 3d30 2e31  1, lenght_km=0.1
+00015ce0: 2c0d 0a20 2020 2020 2020 2072 5f6f 686d  ,..        r_ohm
+00015cf0: 5f70 6572 5f6b 6d20 3d20 2e30 312c 2078  _per_km = .01, x
+00015d00: 5f6f 686d 5f70 6572 5f6b 6d20 3d20 302e  _ohm_per_km = 0.
+00015d10: 3035 2c20 635f 6e66 5f70 6572 5f6b 6d20  05, c_nf_per_km 
+00015d20: 3d20 3130 2c0d 0a20 2020 2020 2020 206d  = 10,..        m
+00015d30: 6178 5f69 5f6b 6120 3d20 302e 3429 0d0a  ax_i_ka = 0.4)..
+00015d40: 0d0a 2020 2020 2222 220d 0a0d 0a20 2020  ..    """....   
+00015d50: 2023 2063 6865 636b 2069 6620 6275 7320   # check if bus 
+00015d60: 6578 6973 7420 746f 2061 7474 6163 6820  exist to attach 
+00015d70: 7468 6520 6c69 6e65 2074 6f0d 0a20 2020  the line to..   
+00015d80: 205f 6368 6563 6b5f 6272 616e 6368 5f65   _check_branch_e
+00015d90: 6c65 6d65 6e74 286e 6574 2c20 224c 696e  lement(net, "Lin
+00015da0: 6522 2c20 696e 6465 782c 2066 726f 6d5f  e", index, from_
+00015db0: 6275 732c 2074 6f5f 6275 7329 0d0a 0d0a  bus, to_bus)....
+00015dc0: 2020 2020 696e 6465 7820 3d20 5f67 6574      index = _get
+00015dd0: 5f69 6e64 6578 5f77 6974 685f 6368 6563  _index_with_chec
+00015de0: 6b28 6e65 742c 2022 6c69 6e65 222c 2069  k(net, "line", i
+00015df0: 6e64 6578 290d 0a0d 0a20 2020 2076 203d  ndex)....    v =
+00015e00: 207b 0d0a 2020 2020 2020 2020 226e 616d   {..        "nam
+00015e10: 6522 3a20 6e61 6d65 2c20 226c 656e 6774  e": name, "lengt
+00015e20: 685f 6b6d 223a 206c 656e 6774 685f 6b6d  h_km": length_km
+00015e30: 2c20 2266 726f 6d5f 6275 7322 3a20 6672  , "from_bus": fr
+00015e40: 6f6d 5f62 7573 2c0d 0a20 2020 2020 2020  om_bus,..       
+00015e50: 2022 746f 5f62 7573 223a 2074 6f5f 6275   "to_bus": to_bu
+00015e60: 732c 2022 696e 5f73 6572 7669 6365 223a  s, "in_service":
+00015e70: 2062 6f6f 6c28 696e 5f73 6572 7669 6365   bool(in_service
+00015e80: 292c 2022 7374 645f 7479 7065 223a 204e  ), "std_type": N
+00015e90: 6f6e 652c 0d0a 2020 2020 2020 2020 2264  one,..        "d
+00015ea0: 6622 3a20 6466 2c20 2272 5f6f 686d 5f70  f": df, "r_ohm_p
+00015eb0: 6572 5f6b 6d22 3a20 725f 6f68 6d5f 7065  er_km": r_ohm_pe
+00015ec0: 725f 6b6d 2c20 2278 5f6f 686d 5f70 6572  r_km, "x_ohm_per
+00015ed0: 5f6b 6d22 3a20 785f 6f68 6d5f 7065 725f  _km": x_ohm_per_
+00015ee0: 6b6d 2c0d 0a20 2020 2020 2020 2022 635f  km,..        "c_
+00015ef0: 6e66 5f70 6572 5f6b 6d22 3a20 635f 6e66  nf_per_km": c_nf
+00015f00: 5f70 6572 5f6b 6d2c 2022 6d61 785f 695f  _per_km, "max_i_
+00015f10: 6b61 223a 206d 6178 5f69 5f6b 612c 2022  ka": max_i_ka, "
+00015f20: 7061 7261 6c6c 656c 223a 2070 6172 616c  parallel": paral
+00015f30: 6c65 6c2c 2022 7479 7065 223a 2074 7970  lel, "type": typ
+00015f40: 652c 0d0a 2020 2020 2020 2020 2267 5f75  e,..        "g_u
+00015f50: 735f 7065 725f 6b6d 223a 2067 5f75 735f  s_per_km": g_us_
+00015f60: 7065 725f 6b6d 0d0a 2020 2020 7d0d 0a0d  per_km..    }...
+00015f70: 0a20 2020 205f 7365 745f 656e 7472 6965  .    _set_entrie
+00015f80: 7328 6e65 742c 2022 6c69 6e65 222c 2069  s(net, "line", i
+00015f90: 6e64 6578 2c20 2a2a 762c 202a 2a6b 7761  ndex, **v, **kwa
+00015fa0: 7267 7329 0d0a 0d0a 2020 2020 6e61 6e5f  rgs)....    nan_
+00015fb0: 305f 7661 6c75 6573 203d 205b 6973 6e61  0_values = [isna
+00015fc0: 6e28 7230 5f6f 686d 5f70 6572 5f6b 6d29  n(r0_ohm_per_km)
+00015fd0: 2c20 6973 6e61 6e28 7830 5f6f 686d 5f70  , isnan(x0_ohm_p
+00015fe0: 6572 5f6b 6d29 2c20 6973 6e61 6e28 6330  er_km), isnan(c0
+00015ff0: 5f6e 665f 7065 725f 6b6d 295d 0d0a 2020  _nf_per_km)]..  
+00016000: 2020 6966 206e 6f74 206e 705f 616e 7928    if not np_any(
+00016010: 6e61 6e5f 305f 7661 6c75 6573 293a 0d0a  nan_0_values):..
+00016020: 2020 2020 2020 2020 5f63 7265 6174 655f          _create_
+00016030: 636f 6c75 6d6e 5f61 6e64 5f73 6574 5f76  column_and_set_v
+00016040: 616c 7565 286e 6574 2c20 696e 6465 782c  alue(net, index,
+00016050: 2072 305f 6f68 6d5f 7065 725f 6b6d 2c20   r0_ohm_per_km, 
+00016060: 2272 305f 6f68 6d5f 7065 725f 6b6d 222c  "r0_ohm_per_km",
+00016070: 2022 6c69 6e65 2229 0d0a 2020 2020 2020   "line")..      
+00016080: 2020 5f63 7265 6174 655f 636f 6c75 6d6e    _create_column
+00016090: 5f61 6e64 5f73 6574 5f76 616c 7565 286e  _and_set_value(n
+000160a0: 6574 2c20 696e 6465 782c 2078 305f 6f68  et, index, x0_oh
+000160b0: 6d5f 7065 725f 6b6d 2c20 2278 305f 6f68  m_per_km, "x0_oh
+000160c0: 6d5f 7065 725f 6b6d 222c 2022 6c69 6e65  m_per_km", "line
+000160d0: 2229 0d0a 2020 2020 2020 2020 5f63 7265  ")..        _cre
+000160e0: 6174 655f 636f 6c75 6d6e 5f61 6e64 5f73  ate_column_and_s
+000160f0: 6574 5f76 616c 7565 286e 6574 2c20 696e  et_value(net, in
+00016100: 6465 782c 2063 305f 6e66 5f70 6572 5f6b  dex, c0_nf_per_k
+00016110: 6d2c 2022 6330 5f6e 665f 7065 725f 6b6d  m, "c0_nf_per_km
+00016120: 222c 2022 6c69 6e65 2229 0d0a 2020 2020  ", "line")..    
+00016130: 2020 2020 5f63 7265 6174 655f 636f 6c75      _create_colu
+00016140: 6d6e 5f61 6e64 5f73 6574 5f76 616c 7565  mn_and_set_value
+00016150: 286e 6574 2c20 696e 6465 782c 2067 305f  (net, index, g0_
+00016160: 7573 5f70 6572 5f6b 6d2c 2022 6730 5f75  us_per_km, "g0_u
+00016170: 735f 7065 725f 6b6d 222c 2022 6c69 6e65  s_per_km", "line
+00016180: 222c 0d0a 2020 2020 2020 2020 2020 2020  ",..            
+00016190: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000161a0: 2020 2020 2020 2020 2064 6566 6175 6c74           default
+000161b0: 5f76 616c 3d30 2e29 0d0a 2020 2020 656c  _val=0.)..    el
+000161c0: 6966 206e 6f74 206e 705f 616c 6c28 6e61  if not np_all(na
+000161d0: 6e5f 305f 7661 6c75 6573 293a 0d0a 2020  n_0_values):..  
+000161e0: 2020 2020 2020 6c6f 6767 6572 2e77 6172        logger.war
+000161f0: 6e69 6e67 2822 5a65 726f 2073 6571 7565  ning("Zero seque
+00016200: 6e63 6520 7661 6c75 6573 2061 7265 2067  nce values are g
+00016210: 6976 656e 2066 6f72 206f 6e6c 7920 736f  iven for only so
+00016220: 6d65 2070 6172 616d 6574 6572 732e 2050  me parameters. P
+00016230: 6c65 6173 6520 7370 6563 6966 7920 220d  lease specify ".
+00016240: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00016250: 2020 2020 2020 2020 2274 6865 6d20 666f          "them fo
+00016260: 7220 616c 6c20 7061 7261 6d65 7465 7273  r all parameters
+00016270: 2c20 6f74 6865 7277 6973 6520 7468 6579  , otherwise they
+00016280: 2061 7265 206e 6f74 2073 6574 2122 290d   are not set!").
+00016290: 0a0d 0a20 2020 2069 6620 6765 6f64 6174  ...    if geodat
+000162a0: 6120 6973 206e 6f74 204e 6f6e 653a 0d0a  a is not None:..
+000162b0: 2020 2020 2020 2020 6e65 745b 226c 696e          net["lin
+000162c0: 655f 6765 6f64 6174 6122 5d2e 6c6f 635b  e_geodata"].loc[
+000162d0: 696e 6465 782c 2022 636f 6f72 6473 225d  index, "coords"]
+000162e0: 203d 204e 6f6e 650d 0a20 2020 2020 2020   = None..       
+000162f0: 206e 6574 5b22 6c69 6e65 5f67 656f 6461   net["line_geoda
+00016300: 7461 225d 2e61 745b 696e 6465 782c 2022  ta"].at[index, "
+00016310: 636f 6f72 6473 225d 203d 2067 656f 6461  coords"] = geoda
+00016320: 7461 0d0a 0d0a 2020 2020 5f63 7265 6174  ta....    _creat
+00016330: 655f 636f 6c75 6d6e 5f61 6e64 5f73 6574  e_column_and_set
+00016340: 5f76 616c 7565 286e 6574 2c20 696e 6465  _value(net, inde
+00016350: 782c 206d 6178 5f6c 6f61 6469 6e67 5f70  x, max_loading_p
+00016360: 6572 6365 6e74 2c20 226d 6178 5f6c 6f61  ercent, "max_loa
+00016370: 6469 6e67 5f70 6572 6365 6e74 222c 2022  ding_percent", "
+00016380: 6c69 6e65 2229 0d0a 2020 2020 5f63 7265  line")..    _cre
+00016390: 6174 655f 636f 6c75 6d6e 5f61 6e64 5f73  ate_column_and_s
+000163a0: 6574 5f76 616c 7565 286e 6574 2c20 696e  et_value(net, in
+000163b0: 6465 782c 2061 6c70 6861 2c20 2261 6c70  dex, alpha, "alp
+000163c0: 6861 222c 2022 6c69 6e65 2229 0d0a 2020  ha", "line")..  
+000163d0: 2020 5f63 7265 6174 655f 636f 6c75 6d6e    _create_column
+000163e0: 5f61 6e64 5f73 6574 5f76 616c 7565 286e  _and_set_value(n
+000163f0: 6574 2c20 696e 6465 782c 2074 656d 7065  et, index, tempe
+00016400: 7261 7475 7265 5f64 6567 7265 655f 6365  rature_degree_ce
+00016410: 6c73 6975 732c 0d0a 2020 2020 2020 2020  lsius,..        
+00016420: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00016430: 2020 2020 2020 2020 2022 7465 6d70 6572           "temper
+00016440: 6174 7572 655f 6465 6772 6565 5f63 656c  ature_degree_cel
+00016450: 7369 7573 222c 2022 6c69 6e65 2229 0d0a  sius", "line")..
+00016460: 2020 2020 5f63 7265 6174 655f 636f 6c75      _create_colu
+00016470: 6d6e 5f61 6e64 5f73 6574 5f76 616c 7565  mn_and_set_value
+00016480: 286e 6574 2c20 696e 6465 782c 2065 6e64  (net, index, end
+00016490: 7465 6d70 5f64 6567 7265 652c 2022 656e  temp_degree, "en
+000164a0: 6474 656d 705f 6465 6772 6565 222c 2022  dtemp_degree", "
+000164b0: 6c69 6e65 2229 0d0a 0d0a 2020 2020 7265  line")....    re
+000164c0: 7475 726e 2069 6e64 6578 0d0a 0d0a 0d0a  turn index......
+000164d0: 6465 6620 6372 6561 7465 5f6c 696e 6573  def create_lines
+000164e0: 5f66 726f 6d5f 7061 7261 6d65 7465 7273  _from_parameters
+000164f0: 286e 6574 2c20 6672 6f6d 5f62 7573 6573  (net, from_buses
+00016500: 2c20 746f 5f62 7573 6573 2c20 6c65 6e67  , to_buses, leng
+00016510: 7468 5f6b 6d2c 2072 5f6f 686d 5f70 6572  th_km, r_ohm_per
+00016520: 5f6b 6d2c 2078 5f6f 686d 5f70 6572 5f6b  _km, x_ohm_per_k
+00016530: 6d2c 0d0a 2020 2020 2020 2020 2020 2020  m,..            
+00016540: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00016550: 2020 2020 2063 5f6e 665f 7065 725f 6b6d       c_nf_per_km
+00016560: 2c20 6d61 785f 695f 6b61 2c20 6e61 6d65  , max_i_ka, name
+00016570: 3d4e 6f6e 652c 2069 6e64 6578 3d4e 6f6e  =None, index=Non
+00016580: 652c 2074 7970 653d 4e6f 6e65 2c0d 0a20  e, type=None,.. 
 00016590: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000165a0: 2067 656f 6461 7461 3d4e 6f6e 652c 2069   geodata=None, i
-000165b0: 6e5f 7365 7276 6963 653d 5472 7565 2c20  n_service=True, 
-000165c0: 6466 3d31 2e2c 2070 6172 616c 6c65 6c3d  df=1., parallel=
-000165d0: 312c 2067 5f75 735f 7065 725f 6b6d 3d30  1, g_us_per_km=0
-000165e0: 2e2c 0d0a 2020 2020 2020 2020 2020 2020  .,..            
-000165f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00016600: 2020 2020 206d 6178 5f6c 6f61 6469 6e67       max_loading
-00016610: 5f70 6572 6365 6e74 3d4e 6f6e 652c 2061  _percent=None, a
-00016620: 6c70 6861 3d4e 6f6e 652c 0d0a 2020 2020  lpha=None,..    
-00016630: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00016640: 2020 2020 2020 2020 2020 2020 2074 656d               tem
-00016650: 7065 7261 7475 7265 5f64 6567 7265 655f  perature_degree_
-00016660: 6365 6c73 6975 733d 4e6f 6e65 2c20 7230  celsius=None, r0
-00016670: 5f6f 686d 5f70 6572 5f6b 6d3d 4e6f 6e65  _ohm_per_km=None
-00016680: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
-00016690: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000166a0: 2020 2020 7830 5f6f 686d 5f70 6572 5f6b      x0_ohm_per_k
-000166b0: 6d3d 4e6f 6e65 2c20 6330 5f6e 665f 7065  m=None, c0_nf_pe
-000166c0: 725f 6b6d 3d4e 6f6e 652c 2067 305f 7573  r_km=None, g0_us
-000166d0: 5f70 6572 5f6b 6d3d 4e6f 6e65 2c0d 0a20  _per_km=None,.. 
-000166e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000165a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000165b0: 6765 6f64 6174 613d 4e6f 6e65 2c20 696e  geodata=None, in
+000165c0: 5f73 6572 7669 6365 3d54 7275 652c 2064  _service=True, d
+000165d0: 663d 312e 2c20 7061 7261 6c6c 656c 3d31  f=1., parallel=1
+000165e0: 2c20 675f 7573 5f70 6572 5f6b 6d3d 302e  , g_us_per_km=0.
+000165f0: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
+00016600: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00016610: 2020 2020 6d61 785f 6c6f 6164 696e 675f      max_loading_
+00016620: 7065 7263 656e 743d 4e6f 6e65 2c20 616c  percent=None, al
+00016630: 7068 613d 4e6f 6e65 2c0d 0a20 2020 2020  pha=None,..     
+00016640: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00016650: 2020 2020 2020 2020 2020 2020 7465 6d70              temp
+00016660: 6572 6174 7572 655f 6465 6772 6565 5f63  erature_degree_c
+00016670: 656c 7369 7573 3d4e 6f6e 652c 2072 305f  elsius=None, r0_
+00016680: 6f68 6d5f 7065 725f 6b6d 3d4e 6f6e 652c  ohm_per_km=None,
+00016690: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+000166a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000166b0: 2020 2078 305f 6f68 6d5f 7065 725f 6b6d     x0_ohm_per_km
+000166c0: 3d4e 6f6e 652c 2063 305f 6e66 5f70 6572  =None, c0_nf_per
+000166d0: 5f6b 6d3d 4e6f 6e65 2c20 6730 5f75 735f  _km=None, g0_us_
+000166e0: 7065 725f 6b6d 3d4e 6f6e 652c 0d0a 2020  per_km=None,..  
 000166f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00016700: 2a2a 6b77 6172 6773 293a 0d0a 2020 2020  **kwargs):..    
-00016710: 2222 220d 0a20 2020 2043 6f6e 7665 6e69  """..    Conveni
-00016720: 656e 6365 2066 756e 6374 696f 6e20 666f  ence function fo
-00016730: 7220 6372 6561 7469 6e67 206d 616e 7920  r creating many 
-00016740: 6c69 6e65 7320 6174 206f 6e63 652e 2050  lines at once. P
-00016750: 6172 616d 6574 6572 7320 2766 726f 6d5f  arameters 'from_
-00016760: 6275 7365 7327 2061 6e64 2027 746f 5f62  buses' and 'to_b
-00016770: 7573 6573 270d 0a20 2020 2020 2020 206d  uses'..        m
-00016780: 7573 7420 6265 2061 7272 6179 7320 6f66  ust be arrays of
-00016790: 2065 7175 616c 206c 656e 6774 682e 204f   equal length. O
-000167a0: 7468 6572 2070 6172 616d 6574 6572 7320  ther parameters 
-000167b0: 6d61 7920 6265 2065 6974 6865 7220 6172  may be either ar
-000167c0: 7261 7973 206f 6620 7468 6520 7361 6d65  rays of the same
-000167d0: 206c 656e 6774 6820 6f72 0d0a 2020 2020   length or..    
-000167e0: 2020 2020 7369 6e67 6c65 206f 7220 7661      single or va
-000167f0: 6c75 6573 2e0d 0a0d 0a20 2020 2049 4e50  lues.....    INP
-00016800: 5554 3a0d 0a20 2020 2020 2020 202a 2a6e  UT:..        **n
-00016810: 6574 2a2a 202d 2054 6865 206e 6574 2077  et** - The net w
-00016820: 6974 6869 6e20 7468 6973 206c 696e 6520  ithin this line 
-00016830: 7368 6f75 6c64 2062 6520 6372 6561 7465  should be create
-00016840: 640d 0a0d 0a20 2020 2020 2020 202a 2a66  d....        **f
-00016850: 726f 6d5f 6275 732a 2a20 286c 6973 7420  rom_bus** (list 
-00016860: 6f66 2069 6e74 2920 2d20 4944 206f 6620  of int) - ID of 
-00016870: 7468 6520 6275 7320 6f6e 206f 6e65 2073  the bus on one s
-00016880: 6964 6520 7768 6963 6820 7468 6520 6c69  ide which the li
-00016890: 6e65 2077 696c 6c20 6265 2063 6f6e 6e65  ne will be conne
-000168a0: 6374 6564 2077 6974 680d 0a0d 0a20 2020  cted with....   
-000168b0: 2020 2020 202a 2a74 6f5f 6275 732a 2a20       **to_bus** 
-000168c0: 286c 6973 7420 6f66 2069 6e74 2920 2d20  (list of int) - 
-000168d0: 4944 206f 6620 7468 6520 6275 7320 6f6e  ID of the bus on
-000168e0: 2074 6865 206f 7468 6572 2073 6964 6520   the other side 
-000168f0: 7768 6963 6820 7468 6520 6c69 6e65 2077  which the line w
-00016900: 696c 6c20 6265 2063 6f6e 6e65 6374 6564  ill be connected
-00016910: 5c0d 0a20 2020 2020 2020 2020 2020 2077  \..            w
-00016920: 6974 680d 0a0d 0a20 2020 2020 2020 202a  ith....        *
-00016930: 2a6c 656e 6774 685f 6b6d 2a2a 2028 6c69  *length_km** (li
-00016940: 7374 206f 6620 666c 6f61 7429 202d 2054  st of float) - T
-00016950: 6865 206c 696e 6520 6c65 6e67 7468 2069  he line length i
-00016960: 6e20 6b6d 0d0a 0d0a 2020 2020 2020 2020  n km....        
-00016970: 2a2a 725f 6f68 6d5f 7065 725f 6b6d 2a2a  **r_ohm_per_km**
-00016980: 2028 6c69 7374 206f 6620 666c 6f61 7429   (list of float)
-00016990: 202d 206c 696e 6520 7265 7369 7374 616e   - line resistan
-000169a0: 6365 2069 6e20 6f68 6d20 7065 7220 6b6d  ce in ohm per km
-000169b0: 0d0a 0d0a 2020 2020 2020 2020 2a2a 785f  ....        **x_
-000169c0: 6f68 6d5f 7065 725f 6b6d 2a2a 2028 6c69  ohm_per_km** (li
-000169d0: 7374 206f 6620 666c 6f61 7429 202d 206c  st of float) - l
-000169e0: 696e 6520 7265 6163 7461 6e63 6520 696e  ine reactance in
-000169f0: 206f 686d 2070 6572 206b 6d0d 0a0d 0a20   ohm per km.... 
-00016a00: 2020 2020 2020 202a 2a63 5f6e 665f 7065         **c_nf_pe
-00016a10: 725f 6b6d 2a2a 2028 6c69 7374 206f 6620  r_km** (list of 
-00016a20: 666c 6f61 7429 202d 206c 696e 6520 6361  float) - line ca
-00016a30: 7061 6369 7461 6e63 6520 696e 206e 616e  pacitance in nan
-00016a40: 6f20 4661 7261 6420 7065 7220 6b6d 0d0a  o Farad per km..
-00016a50: 0d0a 2020 2020 2020 2020 2a2a 7230 5f6f  ..        **r0_o
-00016a60: 686d 5f70 6572 5f6b 6d2a 2a20 286c 6973  hm_per_km** (lis
-00016a70: 7420 6f66 2066 6c6f 6174 2920 2d20 7a65  t of float) - ze
-00016a80: 726f 2073 6571 7565 6e63 6520 6c69 6e65  ro sequence line
-00016a90: 2072 6573 6973 7461 6e63 6520 696e 206f   resistance in o
-00016aa0: 686d 2070 6572 206b 6d0d 0a0d 0a20 2020  hm per km....   
-00016ab0: 2020 2020 202a 2a78 305f 6f68 6d5f 7065       **x0_ohm_pe
-00016ac0: 725f 6b6d 2a2a 2028 6c69 7374 206f 6620  r_km** (list of 
-00016ad0: 666c 6f61 7429 202d 207a 6572 6f20 7365  float) - zero se
-00016ae0: 7175 656e 6365 206c 696e 6520 7265 6163  quence line reac
-00016af0: 7461 6e63 6520 696e 206f 686d 2070 6572  tance in ohm per
-00016b00: 206b 6d0d 0a0d 0a20 2020 2020 2020 202a   km....        *
-00016b10: 2a63 305f 6e66 5f70 6572 5f6b 6d2a 2a20  *c0_nf_per_km** 
-00016b20: 286c 6973 7420 6f66 2066 6c6f 6174 2920  (list of float) 
-00016b30: 2d20 7a65 726f 2073 6571 7565 6e63 6520  - zero sequence 
-00016b40: 6c69 6e65 2063 6170 6163 6974 616e 6365  line capacitance
-00016b50: 2069 6e20 6e61 6e6f 2046 6172 6164 2070   in nano Farad p
-00016b60: 6572 206b 6d0d 0a0d 0a20 2020 2020 2020  er km....       
-00016b70: 202a 2a6d 6178 5f69 5f6b 612a 2a20 286c   **max_i_ka** (l
-00016b80: 6973 7420 6f66 2066 6c6f 6174 2920 2d20  ist of float) - 
-00016b90: 6d61 7869 6d75 6d20 7468 6572 6d61 6c20  maximum thermal 
-00016ba0: 6375 7272 656e 7420 696e 206b 696c 6f20  current in kilo 
-00016bb0: 416d 7065 7265 0d0a 0d0a 2020 2020 4f50  Ampere....    OP
-00016bc0: 5449 4f4e 414c 3a0d 0a20 2020 2020 2020  TIONAL:..       
-00016bd0: 202a 2a6e 616d 652a 2a20 2873 7472 696e   **name** (strin
-00016be0: 672c 204e 6f6e 6529 202d 2041 2063 7573  g, None) - A cus
-00016bf0: 746f 6d20 6e61 6d65 2066 6f72 2074 6869  tom name for thi
-00016c00: 7320 6c69 6e65 0d0a 0d0a 2020 2020 2020  s line....      
-00016c10: 2020 2a2a 696e 6465 782a 2a20 2869 6e74    **index** (int
-00016c20: 2c20 4e6f 6e65 2920 2d20 466f 7263 6520  , None) - Force 
-00016c30: 6120 7370 6563 6966 6965 6420 4944 2069  a specified ID i
-00016c40: 6620 6974 2069 7320 6176 6169 6c61 626c  f it is availabl
-00016c50: 652e 2049 6620 4e6f 6e65 2c20 7468 6520  e. If None, the 
-00016c60: 696e 6465 7820 6f6e 6520 5c0d 0a20 2020  index one \..   
-00016c70: 2020 2020 2020 2020 2068 6967 6865 7220           higher 
-00016c80: 7468 616e 2074 6865 2068 6967 6865 7374  than the highest
-00016c90: 2061 6c72 6561 6479 2065 7869 7374 696e   already existin
-00016ca0: 6720 696e 6465 7820 6973 2073 656c 6563  g index is selec
-00016cb0: 7465 642e 0d0a 0d0a 2020 2020 2020 2020  ted.....        
-00016cc0: 2a2a 696e 5f73 6572 7669 6365 2a2a 2028  **in_service** (
-00016cd0: 626f 6f6c 6561 6e2c 2054 7275 6529 202d  boolean, True) -
-00016ce0: 2054 7275 6520 666f 7220 696e 5f73 6572   True for in_ser
-00016cf0: 7669 6365 206f 7220 4661 6c73 6520 666f  vice or False fo
-00016d00: 7220 6f75 7420 6f66 2073 6572 7669 6365  r out of service
-00016d10: 0d0a 0d0a 2020 2020 2020 2020 2a2a 7479  ....        **ty
-00016d20: 7065 2a2a 2028 7374 722c 204e 6f6e 6529  pe** (str, None)
-00016d30: 202d 2074 7970 6520 6f66 206c 696e 6520   - type of line 
-00016d40: 2822 6f6c 2220 666f 7220 6f76 6572 6865  ("ol" for overhe
-00016d50: 6164 206c 696e 6520 6f72 2022 6373 2220  ad line or "cs" 
-00016d60: 666f 7220 6361 626c 6520 7379 7374 656d  for cable system
-00016d70: 290d 0a0d 0a20 2020 2020 2020 202a 2a64  )....        **d
-00016d80: 662a 2a20 2866 6c6f 6174 2c20 3129 202d  f** (float, 1) -
-00016d90: 2064 6572 6174 696e 6720 6661 6374 6f72   derating factor
-00016da0: 3a20 6d61 7869 6d61 6c20 6375 7272 656e  : maximal curren
-00016db0: 7420 6f66 206c 696e 6520 696e 2072 656c  t of line in rel
-00016dc0: 6174 696f 6e20 746f 206e 6f6d 696e 616c  ation to nominal
-00016dd0: 2063 7572 7265 6e74 5c0d 0a20 2020 2020   current\..     
-00016de0: 2020 2020 2020 206f 6620 6c69 6e65 2028         of line (
-00016df0: 6672 6f6d 2030 2074 6f20 3129 0d0a 0d0a  from 0 to 1)....
-00016e00: 2020 2020 2020 2020 2a2a 675f 7573 5f70          **g_us_p
-00016e10: 6572 5f6b 6d2a 2a20 2866 6c6f 6174 2c20  er_km** (float, 
-00016e20: 3029 202d 2064 6965 6c65 6374 7269 6320  0) - dielectric 
-00016e30: 636f 6e64 7563 7461 6e63 6520 696e 206d  conductance in m
-00016e40: 6963 726f 2053 6965 6d65 6e73 2070 6572  icro Siemens per
-00016e50: 206b 6d0d 0a0d 0a20 2020 2020 2020 202a   km....        *
-00016e60: 2a67 305f 7573 5f70 6572 5f6b 6d2a 2a20  *g0_us_per_km** 
-00016e70: 2866 6c6f 6174 2c20 3029 202d 207a 6572  (float, 0) - zer
-00016e80: 6f20 7365 7175 656e 6365 2064 6965 6c65  o sequence diele
-00016e90: 6374 7269 6320 636f 6e64 7563 7461 6e63  ctric conductanc
-00016ea0: 6520 696e 206d 6963 726f 2053 6965 6d65  e in micro Sieme
-00016eb0: 6e73 2070 6572 206b 6d0d 0a0d 0a20 2020  ns per km....   
-00016ec0: 2020 2020 202a 2a70 6172 616c 6c65 6c2a       **parallel*
-00016ed0: 2a20 2869 6e74 6567 6572 2c20 3129 202d  * (integer, 1) -
-00016ee0: 206e 756d 6265 7220 6f66 2070 6172 616c   number of paral
-00016ef0: 6c65 6c20 6c69 6e65 2073 7973 7465 6d73  lel line systems
-00016f00: 0d0a 0d0a 2020 2020 2020 2020 2a2a 6765  ....        **ge
-00016f10: 6f64 6174 612a 2a0d 0a20 2020 2020 2020  odata**..       
-00016f20: 2028 6172 7261 792c 2064 6566 6175 6c74   (array, default
-00016f30: 204e 6f6e 652c 2073 6861 7065 3d20 282c   None, shape= (,
-00016f40: 324c 2929 202d 0d0a 2020 2020 2020 2020  2L)) -..        
-00016f50: 5468 6520 6c69 6e65 6765 6f64 6174 6120  The linegeodata 
-00016f60: 6f66 2074 6865 206c 696e 652e 2054 6865  of the line. The
-00016f70: 2066 6972 7374 2072 6f77 2073 686f 756c   first row shoul
-00016f80: 6420 6265 2074 6865 2063 6f6f 7264 696e  d be the coordin
-00016f90: 6174 6573 0d0a 2020 2020 2020 2020 6f66  ates..        of
-00016fa0: 2062 7573 2061 2061 6e64 2074 6865 206c   bus a and the l
-00016fb0: 6173 7420 7368 6f75 6c64 2062 6520 7468  ast should be th
-00016fc0: 6520 636f 6f72 6469 6e61 7465 7320 6f66  e coordinates of
-00016fd0: 2062 7573 2062 2e20 5468 6520 706f 696e   bus b. The poin
-00016fe0: 7473 0d0a 2020 2020 2020 2020 696e 2074  ts..        in t
-00016ff0: 6865 206d 6964 646c 6520 7265 7072 6573  he middle repres
-00017000: 656e 7420 7468 6520 6265 6e64 696e 6720  ent the bending 
-00017010: 706f 696e 7473 206f 6620 7468 6520 6c69  points of the li
-00017020: 6e65 0d0a 0d0a 2020 2020 2020 2020 2a2a  ne....        **
-00017030: 6d61 785f 6c6f 6164 696e 675f 7065 7263  max_loading_perc
-00017040: 656e 7420 2866 6c6f 6174 292a 2a20 2d20  ent (float)** - 
-00017050: 6d61 7869 6d75 6d20 6375 7272 656e 7420  maximum current 
-00017060: 6c6f 6164 696e 6720 286f 6e6c 7920 6e65  loading (only ne
-00017070: 6564 6564 2066 6f72 204f 5046 290d 0a0d  eded for OPF)...
-00017080: 0a20 2020 204f 5554 5055 543a 0d0a 2020  .    OUTPUT:..  
-00017090: 2020 2020 2020 2a2a 696e 6465 782a 2a20        **index** 
-000170a0: 2869 6e74 2920 2d20 5468 6520 756e 6971  (int) - The uniq
-000170b0: 7565 2049 4420 6f66 2074 6865 2063 7265  ue ID of the cre
-000170c0: 6174 6564 206c 696e 650d 0a0d 0a20 2020  ated line....   
-000170d0: 2045 5841 4d50 4c45 3a0d 0a20 2020 2020   EXAMPLE:..     
-000170e0: 2020 2063 7265 6174 655f 6c69 6e65 5f66     create_line_f
-000170f0: 726f 6d5f 7061 7261 6d65 7465 7273 286e  rom_parameters(n
-00017100: 6574 2c20 226c 696e 6531 222c 2066 726f  et, "line1", fro
-00017110: 6d5f 6275 7320 3d20 302c 2074 6f5f 6275  m_bus = 0, to_bu
-00017120: 7320 3d20 312c 206c 656e 6768 745f 6b6d  s = 1, lenght_km
-00017130: 3d30 2e31 2c0d 0a20 2020 2020 2020 2072  =0.1,..        r
-00017140: 5f6f 686d 5f70 6572 5f6b 6d20 3d20 2e30  _ohm_per_km = .0
-00017150: 312c 2078 5f6f 686d 5f70 6572 5f6b 6d20  1, x_ohm_per_km 
-00017160: 3d20 302e 3035 2c20 635f 6e66 5f70 6572  = 0.05, c_nf_per
-00017170: 5f6b 6d20 3d20 3130 2c0d 0a20 2020 2020  _km = 10,..     
-00017180: 2020 206d 6178 5f69 5f6b 6120 3d20 302e     max_i_ka = 0.
-00017190: 3429 0d0a 0d0a 2020 2020 2222 220d 0a20  4)....    """.. 
-000171a0: 2020 205f 6368 6563 6b5f 6d75 6c74 6970     _check_multip
-000171b0: 6c65 5f62 7261 6e63 685f 656c 656d 656e  le_branch_elemen
-000171c0: 7473 286e 6574 2c20 6672 6f6d 5f62 7573  ts(net, from_bus
-000171d0: 6573 2c20 746f 5f62 7573 6573 2c20 224c  es, to_buses, "L
-000171e0: 696e 6573 2229 0d0a 0d0a 2020 2020 696e  ines")....    in
-000171f0: 6465 7820 3d20 5f67 6574 5f6d 756c 7469  dex = _get_multi
-00017200: 706c 655f 696e 6465 785f 7769 7468 5f63  ple_index_with_c
-00017210: 6865 636b 286e 6574 2c20 226c 696e 6522  heck(net, "line"
-00017220: 2c20 696e 6465 782c 206c 656e 2866 726f  , index, len(fro
-00017230: 6d5f 6275 7365 7329 290d 0a0d 0a20 2020  m_buses))....   
-00017240: 2065 6e74 7269 6573 203d 207b 2266 726f   entries = {"fro
-00017250: 6d5f 6275 7322 3a20 6672 6f6d 5f62 7573  m_bus": from_bus
-00017260: 6573 2c20 2274 6f5f 6275 7322 3a20 746f  es, "to_bus": to
-00017270: 5f62 7573 6573 2c20 226c 656e 6774 685f  _buses, "length_
-00017280: 6b6d 223a 206c 656e 6774 685f 6b6d 2c20  km": length_km, 
-00017290: 2274 7970 6522 3a20 7479 7065 2c0d 0a20  "type": type,.. 
-000172a0: 2020 2020 2020 2020 2020 2020 2020 2272                "r
-000172b0: 5f6f 686d 5f70 6572 5f6b 6d22 3a20 725f  _ohm_per_km": r_
-000172c0: 6f68 6d5f 7065 725f 6b6d 2c20 2278 5f6f  ohm_per_km, "x_o
-000172d0: 686d 5f70 6572 5f6b 6d22 3a20 785f 6f68  hm_per_km": x_oh
-000172e0: 6d5f 7065 725f 6b6d 2c0d 0a20 2020 2020  m_per_km,..     
-000172f0: 2020 2020 2020 2020 2020 2263 5f6e 665f            "c_nf_
-00017300: 7065 725f 6b6d 223a 2063 5f6e 665f 7065  per_km": c_nf_pe
-00017310: 725f 6b6d 2c20 226d 6178 5f69 5f6b 6122  r_km, "max_i_ka"
-00017320: 3a20 6d61 785f 695f 6b61 2c20 2267 5f75  : max_i_ka, "g_u
-00017330: 735f 7065 725f 6b6d 223a 2067 5f75 735f  s_per_km": g_us_
-00017340: 7065 725f 6b6d 2c0d 0a20 2020 2020 2020  per_km,..       
-00017350: 2020 2020 2020 2020 226e 616d 6522 3a20          "name": 
-00017360: 6e61 6d65 2c20 2264 6622 3a20 6466 2c20  name, "df": df, 
-00017370: 2270 6172 616c 6c65 6c22 3a20 7061 7261  "parallel": para
-00017380: 6c6c 656c 2c20 2269 6e5f 7365 7276 6963  llel, "in_servic
-00017390: 6522 3a20 696e 5f73 6572 7669 6365 7d0d  e": in_service}.
-000173a0: 0a0d 0a20 2020 205f 6164 645f 7365 7269  ...    _add_seri
-000173b0: 6573 5f74 6f5f 656e 7472 6965 7328 656e  es_to_entries(en
-000173c0: 7472 6965 732c 2069 6e64 6578 2c20 226d  tries, index, "m
-000173d0: 6178 5f6c 6f61 6469 6e67 5f70 6572 6365  ax_loading_perce
-000173e0: 6e74 222c 206d 6178 5f6c 6f61 6469 6e67  nt", max_loading
-000173f0: 5f70 6572 6365 6e74 290d 0a20 2020 205f  _percent)..    _
-00017400: 6164 645f 7365 7269 6573 5f74 6f5f 656e  add_series_to_en
-00017410: 7472 6965 7328 656e 7472 6965 732c 2069  tries(entries, i
-00017420: 6e64 6578 2c20 2272 305f 6f68 6d5f 7065  ndex, "r0_ohm_pe
-00017430: 725f 6b6d 222c 2072 305f 6f68 6d5f 7065  r_km", r0_ohm_pe
-00017440: 725f 6b6d 290d 0a20 2020 205f 6164 645f  r_km)..    _add_
-00017450: 7365 7269 6573 5f74 6f5f 656e 7472 6965  series_to_entrie
-00017460: 7328 656e 7472 6965 732c 2069 6e64 6578  s(entries, index
-00017470: 2c20 2278 305f 6f68 6d5f 7065 725f 6b6d  , "x0_ohm_per_km
-00017480: 222c 2078 305f 6f68 6d5f 7065 725f 6b6d  ", x0_ohm_per_km
-00017490: 290d 0a20 2020 205f 6164 645f 7365 7269  )..    _add_seri
-000174a0: 6573 5f74 6f5f 656e 7472 6965 7328 656e  es_to_entries(en
-000174b0: 7472 6965 732c 2069 6e64 6578 2c20 2263  tries, index, "c
-000174c0: 305f 6e66 5f70 6572 5f6b 6d22 2c20 6330  0_nf_per_km", c0
-000174d0: 5f6e 665f 7065 725f 6b6d 290d 0a20 2020  _nf_per_km)..   
-000174e0: 205f 6164 645f 7365 7269 6573 5f74 6f5f   _add_series_to_
-000174f0: 656e 7472 6965 7328 656e 7472 6965 732c  entries(entries,
-00017500: 2069 6e64 6578 2c20 2267 305f 7573 5f70   index, "g0_us_p
-00017510: 6572 5f6b 6d22 2c20 6730 5f75 735f 7065  er_km", g0_us_pe
-00017520: 725f 6b6d 290d 0a20 2020 205f 6164 645f  r_km)..    _add_
-00017530: 7365 7269 6573 5f74 6f5f 656e 7472 6965  series_to_entrie
-00017540: 7328 656e 7472 6965 732c 2069 6e64 6578  s(entries, index
-00017550: 2c20 2274 656d 7065 7261 7475 7265 5f64  , "temperature_d
-00017560: 6567 7265 655f 6365 6c73 6975 7322 2c20  egree_celsius", 
-00017570: 7465 6d70 6572 6174 7572 655f 6465 6772  temperature_degr
-00017580: 6565 5f63 656c 7369 7573 290d 0a20 2020  ee_celsius)..   
-00017590: 205f 6164 645f 7365 7269 6573 5f74 6f5f   _add_series_to_
-000175a0: 656e 7472 6965 7328 656e 7472 6965 732c  entries(entries,
-000175b0: 2069 6e64 6578 2c20 2261 6c70 6861 222c   index, "alpha",
-000175c0: 2061 6c70 6861 290d 0a0d 0a20 2020 205f   alpha)....    _
-000175d0: 7365 745f 6d75 6c74 6970 6c65 5f65 6e74  set_multiple_ent
-000175e0: 7269 6573 286e 6574 2c20 226c 696e 6522  ries(net, "line"
-000175f0: 2c20 696e 6465 782c 202a 2a65 6e74 7269  , index, **entri
-00017600: 6573 2c20 2a2a 6b77 6172 6773 290d 0a0d  es, **kwargs)...
-00017610: 0a20 2020 2069 6620 6765 6f64 6174 6120  .    if geodata 
-00017620: 6973 206e 6f74 204e 6f6e 653a 0d0a 2020  is not None:..  
-00017630: 2020 2020 2020 5f61 6464 5f6d 756c 7469        _add_multi
-00017640: 706c 655f 6272 616e 6368 5f67 656f 6461  ple_branch_geoda
-00017650: 7461 286e 6574 2c20 226c 696e 6522 2c20  ta(net, "line", 
-00017660: 6765 6f64 6174 612c 2069 6e64 6578 290d  geodata, index).
-00017670: 0a0d 0a20 2020 2072 6574 7572 6e20 696e  ...    return in
-00017680: 6465 780d 0a0d 0a0d 0a64 6566 2063 7265  dex......def cre
-00017690: 6174 655f 7472 616e 7366 6f72 6d65 7228  ate_transformer(
-000176a0: 6e65 742c 2068 765f 6275 732c 206c 765f  net, hv_bus, lv_
-000176b0: 6275 732c 2073 7464 5f74 7970 652c 206e  bus, std_type, n
-000176c0: 616d 653d 4e6f 6e65 2c20 7461 705f 706f  ame=None, tap_po
-000176d0: 733d 6e61 6e2c 2069 6e5f 7365 7276 6963  s=nan, in_servic
-000176e0: 653d 5472 7565 2c0d 0a20 2020 2020 2020  e=True,..       
-000176f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017700: 696e 6465 783d 4e6f 6e65 2c20 6d61 785f  index=None, max_
-00017710: 6c6f 6164 696e 675f 7065 7263 656e 743d  loading_percent=
-00017720: 6e61 6e2c 2070 6172 616c 6c65 6c3d 312c  nan, parallel=1,
-00017730: 2064 663d 312e 2c0d 0a20 2020 2020 2020   df=1.,..       
-00017740: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017750: 7461 705f 6465 7065 6e64 656e 745f 696d  tap_dependent_im
-00017760: 7065 6461 6e63 653d 4e6f 6e65 2c20 766b  pedance=None, vk
-00017770: 5f70 6572 6365 6e74 5f63 6861 7261 6374  _percent_charact
-00017780: 6572 6973 7469 633d 4e6f 6e65 2c0d 0a20  eristic=None,.. 
-00017790: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000177a0: 2020 2020 2020 766b 725f 7065 7263 656e        vkr_percen
-000177b0: 745f 6368 6172 6163 7465 7269 7374 6963  t_characteristic
-000177c0: 3d4e 6f6e 6529 3a0d 0a20 2020 2022 2222  =None):..    """
-000177d0: 0d0a 2020 2020 4372 6561 7465 7320 6120  ..    Creates a 
-000177e0: 7477 6f2d 7769 6e64 696e 6720 7472 616e  two-winding tran
-000177f0: 7366 6f72 6d65 7220 696e 2074 6162 6c65  sformer in table
-00017800: 206e 6574 5b22 7472 6166 6f22 5d2e 0d0a   net["trafo"]...
-00017810: 2020 2020 5468 6520 7472 6166 6f20 7061      The trafo pa
-00017820: 7261 6d65 7465 7273 2061 7265 2064 6566  rameters are def
-00017830: 696e 6564 2074 6872 6f75 6768 2074 6865  ined through the
-00017840: 2073 7461 6e64 6172 6420 7479 7065 206c   standard type l
-00017850: 6962 7261 7279 2e0d 0a0d 0a20 2020 2049  ibrary.....    I
-00017860: 4e50 5554 3a0d 0a20 2020 2020 2020 202a  NPUT:..        *
-00017870: 2a6e 6574 2a2a 202d 2054 6865 206e 6574  *net** - The net
-00017880: 2077 6974 6869 6e20 7468 6973 2074 7261   within this tra
-00017890: 6e73 666f 726d 6572 2073 686f 756c 6420  nsformer should 
-000178a0: 6265 2063 7265 6174 6564 0d0a 0d0a 2020  be created....  
-000178b0: 2020 2020 2020 2a2a 6876 5f62 7573 2a2a        **hv_bus**
-000178c0: 2028 696e 7429 202d 2054 6865 2062 7573   (int) - The bus
-000178d0: 206f 6e20 7468 6520 6869 6768 2d76 6f6c   on the high-vol
-000178e0: 7461 6765 2073 6964 6520 6f6e 2077 6869  tage side on whi
-000178f0: 6368 2074 6865 2074 7261 6e73 666f 726d  ch the transform
-00017900: 6572 2077 696c 6c20 6265 205c 0d0a 2020  er will be \..  
-00017910: 2020 2020 2020 2020 2020 636f 6e6e 6563            connec
-00017920: 7465 6420 746f 0d0a 0d0a 2020 2020 2020  ted to....      
-00017930: 2020 2a2a 6c76 5f62 7573 2a2a 2028 696e    **lv_bus** (in
-00017940: 7429 202d 2054 6865 2062 7573 206f 6e20  t) - The bus on 
-00017950: 7468 6520 6c6f 772d 766f 6c74 6167 6520  the low-voltage 
-00017960: 7369 6465 206f 6e20 7768 6963 6820 7468  side on which th
-00017970: 6520 7472 616e 7366 6f72 6d65 7220 7769  e transformer wi
-00017980: 6c6c 2062 6520 5c0d 0a20 2020 2020 2020  ll be \..       
-00017990: 2020 2020 2063 6f6e 6e65 6374 6564 2074       connected t
-000179a0: 6f0d 0a0d 0a20 2020 2020 2020 202a 2a73  o....        **s
-000179b0: 7464 5f74 7970 652a 2a20 2d20 2054 6865  td_type** -  The
-000179c0: 2075 7365 6420 7374 616e 6461 7264 2074   used standard t
-000179d0: 7970 6520 6672 6f6d 2074 6865 2073 7461  ype from the sta
-000179e0: 6e64 6172 6420 7479 7065 206c 6962 7261  ndard type libra
-000179f0: 7279 0d0a 0d0a 2020 2020 2a2a 5a65 726f  ry....    **Zero
-00017a00: 2073 6571 7565 6e63 6520 7061 7261 6d65   sequence parame
-00017a10: 7465 7273 2a2a 2028 4164 6465 6420 7468  ters** (Added th
-00017a20: 726f 7567 6820 7374 645f 7479 7065 2046  rough std_type F
-00017a30: 6f72 2054 6872 6565 2070 6861 7365 206c  or Three phase l
-00017a40: 6f61 6420 666c 6f77 2920 3a0d 0a0d 0a20  oad flow) :.... 
-00017a50: 2020 2020 2020 202a 2a76 6b30 5f70 6572         **vk0_per
-00017a60: 6365 6e74 2a2a 202d 207a 6572 6f20 7365  cent** - zero se
-00017a70: 7175 656e 6365 2072 656c 6174 6976 6520  quence relative 
-00017a80: 7368 6f72 742d 6369 7263 7569 7420 766f  short-circuit vo
-00017a90: 6c74 6167 650d 0a0d 0a20 2020 2020 2020  ltage....       
-00017aa0: 202a 2a76 6b72 305f 7065 7263 656e 742a   **vkr0_percent*
-00017ab0: 2a20 2d20 7265 616c 2070 6172 7420 6f66  * - real part of
-00017ac0: 207a 6572 6f20 7365 7175 656e 6365 2072   zero sequence r
-00017ad0: 656c 6174 6976 6520 7368 6f72 742d 6369  elative short-ci
-00017ae0: 7263 7569 7420 766f 6c74 6167 650d 0a0d  rcuit voltage...
-00017af0: 0a20 2020 2020 2020 202a 2a6d 6167 305f  .        **mag0_
-00017b00: 7065 7263 656e 742a 2a20 2d20 7261 7469  percent** - rati
-00017b10: 6f20 6265 7477 6565 6e20 6d61 676e 6574  o between magnet
-00017b20: 697a 696e 6720 616e 6420 7368 6f72 7420  izing and short 
-00017b30: 6369 7263 7569 7420 696d 7065 6461 6e63  circuit impedanc
-00017b40: 6520 287a 6572 6f20 7365 7175 656e 6365  e (zero sequence
-00017b50: 290d 0a0d 0a20 2020 2020 2020 2020 2020  )....           
-00017b60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017b70: 207a 5f6d 6167 3020 2f20 7a30 0d0a 0d0a   z_mag0 / z0....
-00017b80: 2020 2020 2020 2020 2a2a 6d61 6730 5f72          **mag0_r
-00017b90: 782a 2a20 202d 207a 6572 6f20 7365 7175  x**  - zero sequ
-00017ba0: 656e 6365 206d 6167 6e65 7469 7a69 6e67  ence magnetizing
-00017bb0: 2072 2f78 2020 7261 7469 6f0d 0a0d 0a20   r/x  ratio.... 
-00017bc0: 2020 2020 2020 202a 2a73 6930 5f68 765f         **si0_hv_
-00017bd0: 7061 7274 6961 6c2a 2a20 2d20 7a65 726f  partial** - zero
-00017be0: 2073 6571 7565 6e63 6520 7368 6f72 7420   sequence short 
-00017bf0: 6369 7263 7569 7420 696d 7065 6461 6e63  circuit impedanc
-00017c00: 6520 2064 6973 7472 6962 7574 696f 6e20  e  distribution 
-00017c10: 696e 2068 7620 7369 6465 0d0a 0d0a 2020  in hv side....  
-00017c20: 2020 4f50 5449 4f4e 414c 3a0d 0a20 2020    OPTIONAL:..   
-00017c30: 2020 2020 202a 2a6e 616d 652a 2a20 2873       **name** (s
-00017c40: 7472 696e 672c 204e 6f6e 6529 202d 2041  tring, None) - A
-00017c50: 2063 7573 746f 6d20 6e61 6d65 2066 6f72   custom name for
-00017c60: 2074 6869 7320 7472 616e 7366 6f72 6d65   this transforme
-00017c70: 720d 0a0d 0a20 2020 2020 2020 202a 2a74  r....        **t
-00017c80: 6170 5f70 6f73 2a2a 2028 696e 742c 206e  ap_pos** (int, n
-00017c90: 616e 2920 2d20 6375 7272 656e 7420 7461  an) - current ta
-00017ca0: 7020 706f 7369 7469 6f6e 206f 6620 7468  p position of th
-00017cb0: 6520 7472 616e 7366 6f72 6d65 722e 2044  e transformer. D
-00017cc0: 6566 6175 6c74 7320 746f 2074 6865 206d  efaults to the m
-00017cd0: 6564 6975 6d20 5c0d 0a20 2020 2020 2020  edium \..       
-00017ce0: 2020 2020 2070 6f73 6974 696f 6e20 2874       position (t
-00017cf0: 6170 5f6e 6575 7472 616c 290d 0a0d 0a20  ap_neutral).... 
-00017d00: 2020 2020 2020 202a 2a69 6e5f 7365 7276         **in_serv
-00017d10: 6963 652a 2a20 2862 6f6f 6c65 616e 2c20  ice** (boolean, 
-00017d20: 5472 7565 2920 2d20 5472 7565 2066 6f72  True) - True for
-00017d30: 2069 6e5f 7365 7276 6963 6520 6f72 2046   in_service or F
-00017d40: 616c 7365 2066 6f72 206f 7574 206f 6620  alse for out of 
-00017d50: 7365 7276 6963 650d 0a0d 0a20 2020 2020  service....     
-00017d60: 2020 202a 2a69 6e64 6578 2a2a 2028 696e     **index** (in
-00017d70: 742c 204e 6f6e 6529 202d 2046 6f72 6365  t, None) - Force
-00017d80: 2061 2073 7065 6369 6669 6564 2049 4420   a specified ID 
-00017d90: 6966 2069 7420 6973 2061 7661 696c 6162  if it is availab
-00017da0: 6c65 2e20 4966 204e 6f6e 652c 2074 6865  le. If None, the
-00017db0: 2069 6e64 6578 206f 6e65 205c 0d0a 2020   index one \..  
-00017dc0: 2020 2020 2020 2020 2020 6869 6768 6572            higher
-00017dd0: 2074 6861 6e20 7468 6520 6869 6768 6573   than the highes
-00017de0: 7420 616c 7265 6164 7920 6578 6973 7469  t already existi
-00017df0: 6e67 2069 6e64 6578 2069 7320 7365 6c65  ng index is sele
-00017e00: 6374 6564 2e0d 0a0d 0a20 2020 2020 2020  cted.....       
-00017e10: 202a 2a6d 6178 5f6c 6f61 6469 6e67 5f70   **max_loading_p
-00017e20: 6572 6365 6e74 2028 666c 6f61 7429 2a2a  ercent (float)**
-00017e30: 202d 206d 6178 696d 756d 2063 7572 7265   - maximum curre
-00017e40: 6e74 206c 6f61 6469 6e67 2028 6f6e 6c79  nt loading (only
-00017e50: 206e 6565 6465 6420 666f 7220 4f50 4629   needed for OPF)
-00017e60: 0d0a 0d0a 2020 2020 2020 2020 2a2a 7061  ....        **pa
-00017e70: 7261 6c6c 656c 2a2a 2028 696e 7465 6765  rallel** (intege
-00017e80: 7229 202d 206e 756d 6265 7220 6f66 2070  r) - number of p
-00017e90: 6172 616c 6c65 6c20 7472 616e 7366 6f72  arallel transfor
-00017ea0: 6d65 7273 0d0a 0d0a 2020 2020 2020 2020  mers....        
-00017eb0: 2a2a 6466 2a2a 2028 666c 6f61 7429 202d  **df** (float) -
-00017ec0: 2064 6572 6174 696e 6720 6661 6374 6f72   derating factor
-00017ed0: 3a20 6d61 7869 6d61 6c20 6375 7272 656e  : maximal curren
-00017ee0: 7420 6f66 2074 7261 6e73 666f 726d 6572  t of transformer
-00017ef0: 2069 6e20 7265 6c61 7469 6f6e 2074 6f20   in relation to 
-00017f00: 6e6f 6d69 6e61 6c20 5c0d 0a20 2020 2020  nominal \..     
-00017f10: 2020 2020 2020 2063 7572 7265 6e74 206f         current o
-00017f20: 6620 7472 616e 7366 6f72 6d65 7220 2866  f transformer (f
-00017f30: 726f 6d20 3020 746f 2031 290d 0a0d 0a20  rom 0 to 1).... 
-00017f40: 2020 2020 2020 202a 2a74 6170 5f64 6570         **tap_dep
-00017f50: 656e 6465 6e74 5f69 6d70 6564 616e 6365  endent_impedance
-00017f60: 2a2a 2028 626f 6f6c 6561 6e29 202d 2054  ** (boolean) - T
-00017f70: 7275 6520 6966 2074 7261 6e73 666f 726d  rue if transform
-00017f80: 6572 2069 6d70 6564 616e 6365 206d 7573  er impedance mus
-00017f90: 7420 6265 2061 646a 7573 7465 6420 6465  t be adjusted de
-00017fa0: 7065 6e64 656e 7420 5c0d 0a20 2020 2020  pendent \..     
-00017fb0: 2020 2020 2020 206f 6e20 7468 6520 7461         on the ta
-00017fc0: 7020 706f 7369 7469 6f6e 206f 6620 7468  p position of th
-00017fd0: 6520 7472 6162 6e73 666f 726d 6572 2e20  e trabnsformer. 
-00017fe0: 5265 7175 6972 6573 2074 6865 2061 6464  Requires the add
-00017ff0: 6974 696f 6e61 6c20 636f 6c75 6d6e 7320  itional columns 
-00018000: 5c0d 0a20 2020 2020 2020 2020 2020 2022  \..            "
-00018010: 766b 5f70 6572 6365 6e74 5f63 6861 7261  vk_percent_chara
-00018020: 6374 6572 6973 7469 6322 2061 6e64 2022  cteristic" and "
-00018030: 766b 725f 7065 7263 656e 745f 6368 6172  vkr_percent_char
-00018040: 6163 7465 7269 7374 6963 2220 7468 6174  acteristic" that
-00018050: 2072 6566 6572 656e 6365 2074 6865 2069   reference the i
-00018060: 6e64 6578 206f 6620 7468 6520 5c0d 0a20  ndex of the \.. 
-00018070: 2020 2020 2020 2020 2020 2063 6861 7261             chara
-00018080: 6374 6572 6973 7469 6320 6672 6f6d 2074  cteristic from t
-00018090: 6865 2074 6162 6c65 206e 6574 2e63 6861  he table net.cha
-000180a0: 7261 6374 6572 6973 7469 632e 2041 2063  racteristic. A c
-000180b0: 6f6e 7665 6e69 656e 6365 2066 756e 6374  onvenience funct
-000180c0: 696f 6e20 5c0d 0a20 2020 2020 2020 2020  ion \..         
-000180d0: 2020 2070 616e 6461 706f 7765 722e 636f     pandapower.co
-000180e0: 6e74 726f 6c2e 6372 6561 7465 5f74 7261  ntrol.create_tra
-000180f0: 666f 5f63 6861 7261 6374 6572 6973 7469  fo_characteristi
-00018100: 6373 2063 616e 2062 6520 7573 6564 2074  cs can be used t
-00018110: 6f20 6372 6561 7465 2074 6865 2053 706c  o create the Spl
-00018120: 696e 6543 6861 7261 6374 6572 6973 7469  ineCharacteristi
-00018130: 6320 5c0d 0a20 2020 2020 2020 2020 2020  c \..           
-00018140: 206f 626a 6563 7473 2c20 6164 6420 7468   objects, add th
-00018150: 6520 7265 6c65 7661 6e74 2063 6f6c 756d  e relevant colum
-00018160: 6e73 2061 6e64 2073 6574 2075 7020 7468  ns and set up th
-00018170: 6520 7265 6665 7265 6e63 6573 2074 6f20  e references to 
-00018180: 7468 6520 6368 6172 6163 7465 7269 7374  the characterist
-00018190: 6963 732e 205c 0d0a 2020 2020 2020 2020  ics. \..        
-000181a0: 2020 2020 5468 6520 6675 6e63 7469 6f6e      The function
-000181b0: 2070 616e 6461 706f 7765 722e 636f 6e74   pandapower.cont
-000181c0: 726f 6c2e 7472 6166 6f5f 6368 6172 6163  rol.trafo_charac
-000181d0: 7465 7269 7374 6963 735f 6469 6167 6e6f  teristics_diagno
-000181e0: 7374 6963 2063 616e 2062 6520 7573 6564  stic can be used
-000181f0: 2066 6f72 2073 616e 6974 7920 6368 6563   for sanity chec
-00018200: 6b73 2e0d 0a0d 0a20 2020 2020 2020 202a  ks.....        *
-00018210: 2a76 6b5f 7065 7263 656e 745f 6368 6172  *vk_percent_char
-00018220: 6163 7465 7269 7374 6963 2a2a 2028 696e  acteristic** (in
-00018230: 7429 202d 2069 6e64 6578 206f 6620 7468  t) - index of th
-00018240: 6520 6368 6172 6163 7465 7269 7374 6963  e characteristic
-00018250: 2066 726f 6d20 6e65 742e 6368 6172 6163   from net.charac
-00018260: 7465 7269 7374 6963 2066 6f72 205c 0d0a  teristic for \..
-00018270: 2020 2020 2020 2020 2020 2020 7468 6520              the 
-00018280: 6164 6a75 7374 6d65 6e74 206f 6620 7468  adjustment of th
-00018290: 6520 7061 7261 6d65 7465 7220 2276 6b5f  e parameter "vk_
-000182a0: 7065 7263 656e 7422 2066 6f72 2074 6865  percent" for the
-000182b0: 2063 616c 6375 6c61 7469 6f6e 206f 6620   calculation of 
-000182c0: 7461 7020 6465 7065 6e64 656e 7420 696d  tap dependent im
-000182d0: 7065 6461 6e63 652e 0d0a 0d0a 2020 2020  pedance.....    
-000182e0: 2020 2020 2a2a 766b 725f 7065 7263 656e      **vkr_percen
-000182f0: 745f 6368 6172 6163 7465 7269 7374 6963  t_characteristic
-00018300: 2a2a 2028 696e 7429 202d 2069 6e64 6578  ** (int) - index
-00018310: 206f 6620 7468 6520 6368 6172 6163 7465   of the characte
-00018320: 7269 7374 6963 2066 726f 6d20 6e65 742e  ristic from net.
-00018330: 6368 6172 6163 7465 7269 7374 6963 2066  characteristic f
-00018340: 6f72 205c 0d0a 2020 2020 2020 2020 2020  or \..          
-00018350: 2020 7468 6520 6164 6a75 7374 6d65 6e74    the adjustment
-00018360: 206f 6620 7468 6520 7061 7261 6d65 7465   of the paramete
-00018370: 7220 2276 6b5f 7065 7263 656e 7422 2066  r "vk_percent" f
-00018380: 6f72 2074 6865 2063 616c 6375 6c61 7469  or the calculati
-00018390: 6f6e 206f 6620 7461 7020 6465 7065 6e64  on of tap depend
-000183a0: 656e 7420 696d 7065 6461 6e63 652e 0d0a  ent impedance...
-000183b0: 0d0a 2020 2020 4f55 5450 5554 3a0d 0a20  ..    OUTPUT:.. 
-000183c0: 2020 2020 2020 202a 2a69 6e64 6578 2a2a         **index**
-000183d0: 2028 696e 7429 202d 2054 6865 2075 6e69   (int) - The uni
-000183e0: 7175 6520 4944 206f 6620 7468 6520 6372  que ID of the cr
-000183f0: 6561 7465 6420 7472 616e 7366 6f72 6d65  eated transforme
-00018400: 720d 0a0d 0a20 2020 2045 5841 4d50 4c45  r....    EXAMPLE
-00018410: 3a0d 0a20 2020 2020 2020 2063 7265 6174  :..        creat
-00018420: 655f 7472 616e 7366 6f72 6d65 7228 6e65  e_transformer(ne
-00018430: 742c 2068 765f 6275 7320 3d20 302c 206c  t, hv_bus = 0, l
-00018440: 765f 6275 7320 3d20 312c 206e 616d 6520  v_bus = 1, name 
-00018450: 3d20 2274 7261 666f 3122 2c20 7374 645f  = "trafo1", std_
-00018460: 7479 7065 203d 205c 0d0a 2020 2020 2020  type = \..      
-00018470: 2020 2020 2020 2230 2e34 204d 5641 2031        "0.4 MVA 1
-00018480: 302f 302e 3420 6b56 2229 0d0a 2020 2020  0/0.4 kV")..    
-00018490: 2222 220d 0a0d 0a20 2020 2023 2043 6865  """....    # Che
-000184a0: 636b 2069 6620 6275 7320 6578 6973 7420  ck if bus exist 
-000184b0: 746f 2061 7474 6163 6820 7468 6520 7472  to attach the tr
-000184c0: 6166 6f20 746f 0d0a 2020 2020 5f63 6865  afo to..    _che
-000184d0: 636b 5f62 7261 6e63 685f 656c 656d 656e  ck_branch_elemen
-000184e0: 7428 6e65 742c 2022 5472 6166 6f22 2c20  t(net, "Trafo", 
-000184f0: 696e 6465 782c 2068 765f 6275 732c 206c  index, hv_bus, l
-00018500: 765f 6275 7329 0d0a 0d0a 2020 2020 696e  v_bus)....    in
-00018510: 6465 7820 3d20 5f67 6574 5f69 6e64 6578  dex = _get_index
-00018520: 5f77 6974 685f 6368 6563 6b28 6e65 742c  _with_check(net,
-00018530: 2022 7472 6166 6f22 2c20 696e 6465 782c   "trafo", index,
-00018540: 206e 616d 653d 2274 7261 6e73 666f 726d   name="transform
-00018550: 6572 2229 0d0a 0d0a 2020 2020 6966 2064  er")....    if d
-00018560: 6620 3c3d 2030 3a0d 0a20 2020 2020 2020  f <= 0:..       
-00018570: 2072 6169 7365 2055 7365 7257 6172 6e69   raise UserWarni
-00018580: 6e67 2822 6465 7261 7469 6e67 2066 6163  ng("derating fac
-00018590: 746f 7220 6466 206d 7573 7420 6265 2070  tor df must be p
-000185a0: 6f73 6974 6976 653a 2064 6620 3d20 252e  ositive: df = %.
-000185b0: 3366 2220 2520 6466 290d 0a0d 0a20 2020  3f" % df)....   
-000185c0: 2076 203d 207b 0d0a 2020 2020 2020 2020   v = {..        
-000185d0: 226e 616d 6522 3a20 6e61 6d65 2c20 2268  "name": name, "h
-000185e0: 765f 6275 7322 3a20 6876 5f62 7573 2c20  v_bus": hv_bus, 
-000185f0: 226c 765f 6275 7322 3a20 6c76 5f62 7573  "lv_bus": lv_bus
-00018600: 2c0d 0a20 2020 2020 2020 2022 696e 5f73  ,..        "in_s
-00018610: 6572 7669 6365 223a 2062 6f6f 6c28 696e  ervice": bool(in
-00018620: 5f73 6572 7669 6365 292c 2022 7374 645f  _service), "std_
-00018630: 7479 7065 223a 2073 7464 5f74 7970 650d  type": std_type.
-00018640: 0a20 2020 207d 0d0a 2020 2020 7469 203d  .    }..    ti =
-00018650: 206c 6f61 645f 7374 645f 7479 7065 286e   load_std_type(n
-00018660: 6574 2c20 7374 645f 7479 7065 2c20 2274  et, std_type, "t
-00018670: 7261 666f 2229 0d0a 0d0a 2020 2020 7570  rafo")....    up
-00018680: 6461 7465 7320 3d20 7b0d 0a20 2020 2020  dates = {..     
-00018690: 2020 2022 736e 5f6d 7661 223a 2074 695b     "sn_mva": ti[
-000186a0: 2273 6e5f 6d76 6122 5d2c 0d0a 2020 2020  "sn_mva"],..    
-000186b0: 2020 2020 2276 6e5f 6876 5f6b 7622 3a20      "vn_hv_kv": 
-000186c0: 7469 5b22 766e 5f68 765f 6b76 225d 2c0d  ti["vn_hv_kv"],.
-000186d0: 0a20 2020 2020 2020 2022 766e 5f6c 765f  .        "vn_lv_
-000186e0: 6b76 223a 2074 695b 2276 6e5f 6c76 5f6b  kv": ti["vn_lv_k
-000186f0: 7622 5d2c 0d0a 2020 2020 2020 2020 2276  v"],..        "v
-00018700: 6b5f 7065 7263 656e 7422 3a20 7469 5b22  k_percent": ti["
-00018710: 766b 5f70 6572 6365 6e74 225d 2c0d 0a20  vk_percent"],.. 
-00018720: 2020 2020 2020 2022 766b 725f 7065 7263         "vkr_perc
-00018730: 656e 7422 3a20 7469 5b22 766b 725f 7065  ent": ti["vkr_pe
-00018740: 7263 656e 7422 5d2c 0d0a 2020 2020 2020  rcent"],..      
-00018750: 2020 2270 6665 5f6b 7722 3a20 7469 5b22    "pfe_kw": ti["
-00018760: 7066 655f 6b77 225d 2c0d 0a20 2020 2020  pfe_kw"],..     
-00018770: 2020 2022 6930 5f70 6572 6365 6e74 223a     "i0_percent":
-00018780: 2074 695b 2269 305f 7065 7263 656e 7422   ti["i0_percent"
-00018790: 5d2c 0d0a 2020 2020 2020 2020 2270 6172  ],..        "par
-000187a0: 616c 6c65 6c22 3a20 7061 7261 6c6c 656c  allel": parallel
-000187b0: 2c0d 0a20 2020 2020 2020 2022 6466 223a  ,..        "df":
-000187c0: 2064 662c 0d0a 2020 2020 2020 2020 2273   df,..        "s
-000187d0: 6869 6674 5f64 6567 7265 6522 3a20 7469  hift_degree": ti
-000187e0: 5b22 7368 6966 745f 6465 6772 6565 225d  ["shift_degree"]
-000187f0: 2069 6620 2273 6869 6674 5f64 6567 7265   if "shift_degre
-00018800: 6522 2069 6e20 7469 2065 6c73 6520 302c  e" in ti else 0,
-00018810: 0d0a 2020 2020 2020 2020 2274 6170 5f70  ..        "tap_p
-00018820: 6861 7365 5f73 6869 6674 6572 223a 2074  hase_shifter": t
-00018830: 695b 2274 6170 5f70 6861 7365 5f73 6869  i["tap_phase_shi
-00018840: 6674 6572 225d 2069 6620 2274 6170 5f70  fter"] if "tap_p
-00018850: 6861 7365 5f73 6869 6674 6572 2220 696e  hase_shifter" in
-00018860: 2074 690d 0a20 2020 2020 2020 2020 2020   ti..           
-00018870: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00016700: 2020 2020 2020 2020 2020 2020 2020 202a                 *
+00016710: 2a6b 7761 7267 7329 3a0d 0a20 2020 2022  *kwargs):..    "
+00016720: 2222 0d0a 2020 2020 436f 6e76 656e 6965  ""..    Convenie
+00016730: 6e63 6520 6675 6e63 7469 6f6e 2066 6f72  nce function for
+00016740: 2063 7265 6174 696e 6720 6d61 6e79 206c   creating many l
+00016750: 696e 6573 2061 7420 6f6e 6365 2e20 5061  ines at once. Pa
+00016760: 7261 6d65 7465 7273 2027 6672 6f6d 5f62  rameters 'from_b
+00016770: 7573 6573 2720 616e 6420 2774 6f5f 6275  uses' and 'to_bu
+00016780: 7365 7327 0d0a 2020 2020 2020 2020 6d75  ses'..        mu
+00016790: 7374 2062 6520 6172 7261 7973 206f 6620  st be arrays of 
+000167a0: 6571 7561 6c20 6c65 6e67 7468 2e20 4f74  equal length. Ot
+000167b0: 6865 7220 7061 7261 6d65 7465 7273 206d  her parameters m
+000167c0: 6179 2062 6520 6569 7468 6572 2061 7272  ay be either arr
+000167d0: 6179 7320 6f66 2074 6865 2073 616d 6520  ays of the same 
+000167e0: 6c65 6e67 7468 206f 720d 0a20 2020 2020  length or..     
+000167f0: 2020 2073 696e 676c 6520 6f72 2076 616c     single or val
+00016800: 7565 732e 0d0a 0d0a 2020 2020 494e 5055  ues.....    INPU
+00016810: 543a 0d0a 2020 2020 2020 2020 2a2a 6e65  T:..        **ne
+00016820: 742a 2a20 2d20 5468 6520 6e65 7420 7769  t** - The net wi
+00016830: 7468 696e 2074 6869 7320 6c69 6e65 2073  thin this line s
+00016840: 686f 756c 6420 6265 2063 7265 6174 6564  hould be created
+00016850: 0d0a 0d0a 2020 2020 2020 2020 2a2a 6672  ....        **fr
+00016860: 6f6d 5f62 7573 2a2a 2028 6c69 7374 206f  om_bus** (list o
+00016870: 6620 696e 7429 202d 2049 4420 6f66 2074  f int) - ID of t
+00016880: 6865 2062 7573 206f 6e20 6f6e 6520 7369  he bus on one si
+00016890: 6465 2077 6869 6368 2074 6865 206c 696e  de which the lin
+000168a0: 6520 7769 6c6c 2062 6520 636f 6e6e 6563  e will be connec
+000168b0: 7465 6420 7769 7468 0d0a 0d0a 2020 2020  ted with....    
+000168c0: 2020 2020 2a2a 746f 5f62 7573 2a2a 2028      **to_bus** (
+000168d0: 6c69 7374 206f 6620 696e 7429 202d 2049  list of int) - I
+000168e0: 4420 6f66 2074 6865 2062 7573 206f 6e20  D of the bus on 
+000168f0: 7468 6520 6f74 6865 7220 7369 6465 2077  the other side w
+00016900: 6869 6368 2074 6865 206c 696e 6520 7769  hich the line wi
+00016910: 6c6c 2062 6520 636f 6e6e 6563 7465 645c  ll be connected\
+00016920: 0d0a 2020 2020 2020 2020 2020 2020 7769  ..            wi
+00016930: 7468 0d0a 0d0a 2020 2020 2020 2020 2a2a  th....        **
+00016940: 6c65 6e67 7468 5f6b 6d2a 2a20 286c 6973  length_km** (lis
+00016950: 7420 6f66 2066 6c6f 6174 2920 2d20 5468  t of float) - Th
+00016960: 6520 6c69 6e65 206c 656e 6774 6820 696e  e line length in
+00016970: 206b 6d0d 0a0d 0a20 2020 2020 2020 202a   km....        *
+00016980: 2a72 5f6f 686d 5f70 6572 5f6b 6d2a 2a20  *r_ohm_per_km** 
+00016990: 286c 6973 7420 6f66 2066 6c6f 6174 2920  (list of float) 
+000169a0: 2d20 6c69 6e65 2072 6573 6973 7461 6e63  - line resistanc
+000169b0: 6520 696e 206f 686d 2070 6572 206b 6d0d  e in ohm per km.
+000169c0: 0a0d 0a20 2020 2020 2020 202a 2a78 5f6f  ...        **x_o
+000169d0: 686d 5f70 6572 5f6b 6d2a 2a20 286c 6973  hm_per_km** (lis
+000169e0: 7420 6f66 2066 6c6f 6174 2920 2d20 6c69  t of float) - li
+000169f0: 6e65 2072 6561 6374 616e 6365 2069 6e20  ne reactance in 
+00016a00: 6f68 6d20 7065 7220 6b6d 0d0a 0d0a 2020  ohm per km....  
+00016a10: 2020 2020 2020 2a2a 635f 6e66 5f70 6572        **c_nf_per
+00016a20: 5f6b 6d2a 2a20 286c 6973 7420 6f66 2066  _km** (list of f
+00016a30: 6c6f 6174 2920 2d20 6c69 6e65 2063 6170  loat) - line cap
+00016a40: 6163 6974 616e 6365 2069 6e20 6e61 6e6f  acitance in nano
+00016a50: 2046 6172 6164 2070 6572 206b 6d0d 0a0d   Farad per km...
+00016a60: 0a20 2020 2020 2020 202a 2a72 305f 6f68  .        **r0_oh
+00016a70: 6d5f 7065 725f 6b6d 2a2a 2028 6c69 7374  m_per_km** (list
+00016a80: 206f 6620 666c 6f61 7429 202d 207a 6572   of float) - zer
+00016a90: 6f20 7365 7175 656e 6365 206c 696e 6520  o sequence line 
+00016aa0: 7265 7369 7374 616e 6365 2069 6e20 6f68  resistance in oh
+00016ab0: 6d20 7065 7220 6b6d 0d0a 0d0a 2020 2020  m per km....    
+00016ac0: 2020 2020 2a2a 7830 5f6f 686d 5f70 6572      **x0_ohm_per
+00016ad0: 5f6b 6d2a 2a20 286c 6973 7420 6f66 2066  _km** (list of f
+00016ae0: 6c6f 6174 2920 2d20 7a65 726f 2073 6571  loat) - zero seq
+00016af0: 7565 6e63 6520 6c69 6e65 2072 6561 6374  uence line react
+00016b00: 616e 6365 2069 6e20 6f68 6d20 7065 7220  ance in ohm per 
+00016b10: 6b6d 0d0a 0d0a 2020 2020 2020 2020 2a2a  km....        **
+00016b20: 6330 5f6e 665f 7065 725f 6b6d 2a2a 2028  c0_nf_per_km** (
+00016b30: 6c69 7374 206f 6620 666c 6f61 7429 202d  list of float) -
+00016b40: 207a 6572 6f20 7365 7175 656e 6365 206c   zero sequence l
+00016b50: 696e 6520 6361 7061 6369 7461 6e63 6520  ine capacitance 
+00016b60: 696e 206e 616e 6f20 4661 7261 6420 7065  in nano Farad pe
+00016b70: 7220 6b6d 0d0a 0d0a 2020 2020 2020 2020  r km....        
+00016b80: 2a2a 6d61 785f 695f 6b61 2a2a 2028 6c69  **max_i_ka** (li
+00016b90: 7374 206f 6620 666c 6f61 7429 202d 206d  st of float) - m
+00016ba0: 6178 696d 756d 2074 6865 726d 616c 2063  aximum thermal c
+00016bb0: 7572 7265 6e74 2069 6e20 6b69 6c6f 2041  urrent in kilo A
+00016bc0: 6d70 6572 650d 0a0d 0a20 2020 204f 5054  mpere....    OPT
+00016bd0: 494f 4e41 4c3a 0d0a 2020 2020 2020 2020  IONAL:..        
+00016be0: 2a2a 6e61 6d65 2a2a 2028 7374 7269 6e67  **name** (string
+00016bf0: 2c20 4e6f 6e65 2920 2d20 4120 6375 7374  , None) - A cust
+00016c00: 6f6d 206e 616d 6520 666f 7220 7468 6973  om name for this
+00016c10: 206c 696e 650d 0a0d 0a20 2020 2020 2020   line....       
+00016c20: 202a 2a69 6e64 6578 2a2a 2028 696e 742c   **index** (int,
+00016c30: 204e 6f6e 6529 202d 2046 6f72 6365 2061   None) - Force a
+00016c40: 2073 7065 6369 6669 6564 2049 4420 6966   specified ID if
+00016c50: 2069 7420 6973 2061 7661 696c 6162 6c65   it is available
+00016c60: 2e20 4966 204e 6f6e 652c 2074 6865 2069  . If None, the i
+00016c70: 6e64 6578 206f 6e65 205c 0d0a 2020 2020  ndex one \..    
+00016c80: 2020 2020 2020 2020 6869 6768 6572 2074          higher t
+00016c90: 6861 6e20 7468 6520 6869 6768 6573 7420  han the highest 
+00016ca0: 616c 7265 6164 7920 6578 6973 7469 6e67  already existing
+00016cb0: 2069 6e64 6578 2069 7320 7365 6c65 6374   index is select
+00016cc0: 6564 2e0d 0a0d 0a20 2020 2020 2020 202a  ed.....        *
+00016cd0: 2a69 6e5f 7365 7276 6963 652a 2a20 2862  *in_service** (b
+00016ce0: 6f6f 6c65 616e 2c20 5472 7565 2920 2d20  oolean, True) - 
+00016cf0: 5472 7565 2066 6f72 2069 6e5f 7365 7276  True for in_serv
+00016d00: 6963 6520 6f72 2046 616c 7365 2066 6f72  ice or False for
+00016d10: 206f 7574 206f 6620 7365 7276 6963 650d   out of service.
+00016d20: 0a0d 0a20 2020 2020 2020 202a 2a74 7970  ...        **typ
+00016d30: 652a 2a20 2873 7472 2c20 4e6f 6e65 2920  e** (str, None) 
+00016d40: 2d20 7479 7065 206f 6620 6c69 6e65 2028  - type of line (
+00016d50: 226f 6c22 2066 6f72 206f 7665 7268 6561  "ol" for overhea
+00016d60: 6420 6c69 6e65 206f 7220 2263 7322 2066  d line or "cs" f
+00016d70: 6f72 2063 6162 6c65 2073 7973 7465 6d29  or cable system)
+00016d80: 0d0a 0d0a 2020 2020 2020 2020 2a2a 6466  ....        **df
+00016d90: 2a2a 2028 666c 6f61 742c 2031 2920 2d20  ** (float, 1) - 
+00016da0: 6465 7261 7469 6e67 2066 6163 746f 723a  derating factor:
+00016db0: 206d 6178 696d 616c 2063 7572 7265 6e74   maximal current
+00016dc0: 206f 6620 6c69 6e65 2069 6e20 7265 6c61   of line in rela
+00016dd0: 7469 6f6e 2074 6f20 6e6f 6d69 6e61 6c20  tion to nominal 
+00016de0: 6375 7272 656e 745c 0d0a 2020 2020 2020  current\..      
+00016df0: 2020 2020 2020 6f66 206c 696e 6520 2866        of line (f
+00016e00: 726f 6d20 3020 746f 2031 290d 0a0d 0a20  rom 0 to 1).... 
+00016e10: 2020 2020 2020 202a 2a67 5f75 735f 7065         **g_us_pe
+00016e20: 725f 6b6d 2a2a 2028 666c 6f61 742c 2030  r_km** (float, 0
+00016e30: 2920 2d20 6469 656c 6563 7472 6963 2063  ) - dielectric c
+00016e40: 6f6e 6475 6374 616e 6365 2069 6e20 6d69  onductance in mi
+00016e50: 6372 6f20 5369 656d 656e 7320 7065 7220  cro Siemens per 
+00016e60: 6b6d 0d0a 0d0a 2020 2020 2020 2020 2a2a  km....        **
+00016e70: 6730 5f75 735f 7065 725f 6b6d 2a2a 2028  g0_us_per_km** (
+00016e80: 666c 6f61 742c 2030 2920 2d20 7a65 726f  float, 0) - zero
+00016e90: 2073 6571 7565 6e63 6520 6469 656c 6563   sequence dielec
+00016ea0: 7472 6963 2063 6f6e 6475 6374 616e 6365  tric conductance
+00016eb0: 2069 6e20 6d69 6372 6f20 5369 656d 656e   in micro Siemen
+00016ec0: 7320 7065 7220 6b6d 0d0a 0d0a 2020 2020  s per km....    
+00016ed0: 2020 2020 2a2a 7061 7261 6c6c 656c 2a2a      **parallel**
+00016ee0: 2028 696e 7465 6765 722c 2031 2920 2d20   (integer, 1) - 
+00016ef0: 6e75 6d62 6572 206f 6620 7061 7261 6c6c  number of parall
+00016f00: 656c 206c 696e 6520 7379 7374 656d 730d  el line systems.
+00016f10: 0a0d 0a20 2020 2020 2020 202a 2a67 656f  ...        **geo
+00016f20: 6461 7461 2a2a 0d0a 2020 2020 2020 2020  data**..        
+00016f30: 2861 7272 6179 2c20 6465 6661 756c 7420  (array, default 
+00016f40: 4e6f 6e65 2c20 7368 6170 653d 2028 2c32  None, shape= (,2
+00016f50: 4c29 2920 2d0d 0a20 2020 2020 2020 2054  L)) -..        T
+00016f60: 6865 206c 696e 6567 656f 6461 7461 206f  he linegeodata o
+00016f70: 6620 7468 6520 6c69 6e65 2e20 5468 6520  f the line. The 
+00016f80: 6669 7273 7420 726f 7720 7368 6f75 6c64  first row should
+00016f90: 2062 6520 7468 6520 636f 6f72 6469 6e61   be the coordina
+00016fa0: 7465 730d 0a20 2020 2020 2020 206f 6620  tes..        of 
+00016fb0: 6275 7320 6120 616e 6420 7468 6520 6c61  bus a and the la
+00016fc0: 7374 2073 686f 756c 6420 6265 2074 6865  st should be the
+00016fd0: 2063 6f6f 7264 696e 6174 6573 206f 6620   coordinates of 
+00016fe0: 6275 7320 622e 2054 6865 2070 6f69 6e74  bus b. The point
+00016ff0: 730d 0a20 2020 2020 2020 2069 6e20 7468  s..        in th
+00017000: 6520 6d69 6464 6c65 2072 6570 7265 7365  e middle represe
+00017010: 6e74 2074 6865 2062 656e 6469 6e67 2070  nt the bending p
+00017020: 6f69 6e74 7320 6f66 2074 6865 206c 696e  oints of the lin
+00017030: 650d 0a0d 0a20 2020 2020 2020 202a 2a6d  e....        **m
+00017040: 6178 5f6c 6f61 6469 6e67 5f70 6572 6365  ax_loading_perce
+00017050: 6e74 2028 666c 6f61 7429 2a2a 202d 206d  nt (float)** - m
+00017060: 6178 696d 756d 2063 7572 7265 6e74 206c  aximum current l
+00017070: 6f61 6469 6e67 2028 6f6e 6c79 206e 6565  oading (only nee
+00017080: 6465 6420 666f 7220 4f50 4629 0d0a 0d0a  ded for OPF)....
+00017090: 2020 2020 4f55 5450 5554 3a0d 0a20 2020      OUTPUT:..   
+000170a0: 2020 2020 202a 2a69 6e64 6578 2a2a 2028       **index** (
+000170b0: 696e 7429 202d 2054 6865 2075 6e69 7175  int) - The uniqu
+000170c0: 6520 4944 206f 6620 7468 6520 6372 6561  e ID of the crea
+000170d0: 7465 6420 6c69 6e65 0d0a 0d0a 2020 2020  ted line....    
+000170e0: 4558 414d 504c 453a 0d0a 2020 2020 2020  EXAMPLE:..      
+000170f0: 2020 6372 6561 7465 5f6c 696e 655f 6672    create_line_fr
+00017100: 6f6d 5f70 6172 616d 6574 6572 7328 6e65  om_parameters(ne
+00017110: 742c 2022 6c69 6e65 3122 2c20 6672 6f6d  t, "line1", from
+00017120: 5f62 7573 203d 2030 2c20 746f 5f62 7573  _bus = 0, to_bus
+00017130: 203d 2031 2c20 6c65 6e67 6874 5f6b 6d3d   = 1, lenght_km=
+00017140: 302e 312c 0d0a 2020 2020 2020 2020 725f  0.1,..        r_
+00017150: 6f68 6d5f 7065 725f 6b6d 203d 202e 3031  ohm_per_km = .01
+00017160: 2c20 785f 6f68 6d5f 7065 725f 6b6d 203d  , x_ohm_per_km =
+00017170: 2030 2e30 352c 2063 5f6e 665f 7065 725f   0.05, c_nf_per_
+00017180: 6b6d 203d 2031 302c 0d0a 2020 2020 2020  km = 10,..      
+00017190: 2020 6d61 785f 695f 6b61 203d 2030 2e34    max_i_ka = 0.4
+000171a0: 290d 0a0d 0a20 2020 2022 2222 0d0a 2020  )....    """..  
+000171b0: 2020 5f63 6865 636b 5f6d 756c 7469 706c    _check_multipl
+000171c0: 655f 6272 616e 6368 5f65 6c65 6d65 6e74  e_branch_element
+000171d0: 7328 6e65 742c 2066 726f 6d5f 6275 7365  s(net, from_buse
+000171e0: 732c 2074 6f5f 6275 7365 732c 2022 4c69  s, to_buses, "Li
+000171f0: 6e65 7322 290d 0a0d 0a20 2020 2069 6e64  nes")....    ind
+00017200: 6578 203d 205f 6765 745f 6d75 6c74 6970  ex = _get_multip
+00017210: 6c65 5f69 6e64 6578 5f77 6974 685f 6368  le_index_with_ch
+00017220: 6563 6b28 6e65 742c 2022 6c69 6e65 222c  eck(net, "line",
+00017230: 2069 6e64 6578 2c20 6c65 6e28 6672 6f6d   index, len(from
+00017240: 5f62 7573 6573 2929 0d0a 0d0a 2020 2020  _buses))....    
+00017250: 656e 7472 6965 7320 3d20 7b22 6672 6f6d  entries = {"from
+00017260: 5f62 7573 223a 2066 726f 6d5f 6275 7365  _bus": from_buse
+00017270: 732c 2022 746f 5f62 7573 223a 2074 6f5f  s, "to_bus": to_
+00017280: 6275 7365 732c 2022 6c65 6e67 7468 5f6b  buses, "length_k
+00017290: 6d22 3a20 6c65 6e67 7468 5f6b 6d2c 2022  m": length_km, "
+000172a0: 7479 7065 223a 2074 7970 652c 0d0a 2020  type": type,..  
+000172b0: 2020 2020 2020 2020 2020 2020 2022 725f               "r_
+000172c0: 6f68 6d5f 7065 725f 6b6d 223a 2072 5f6f  ohm_per_km": r_o
+000172d0: 686d 5f70 6572 5f6b 6d2c 2022 785f 6f68  hm_per_km, "x_oh
+000172e0: 6d5f 7065 725f 6b6d 223a 2078 5f6f 686d  m_per_km": x_ohm
+000172f0: 5f70 6572 5f6b 6d2c 0d0a 2020 2020 2020  _per_km,..      
+00017300: 2020 2020 2020 2020 2022 635f 6e66 5f70           "c_nf_p
+00017310: 6572 5f6b 6d22 3a20 635f 6e66 5f70 6572  er_km": c_nf_per
+00017320: 5f6b 6d2c 2022 6d61 785f 695f 6b61 223a  _km, "max_i_ka":
+00017330: 206d 6178 5f69 5f6b 612c 2022 675f 7573   max_i_ka, "g_us
+00017340: 5f70 6572 5f6b 6d22 3a20 675f 7573 5f70  _per_km": g_us_p
+00017350: 6572 5f6b 6d2c 0d0a 2020 2020 2020 2020  er_km,..        
+00017360: 2020 2020 2020 2022 6e61 6d65 223a 206e         "name": n
+00017370: 616d 652c 2022 6466 223a 2064 662c 2022  ame, "df": df, "
+00017380: 7061 7261 6c6c 656c 223a 2070 6172 616c  parallel": paral
+00017390: 6c65 6c2c 2022 696e 5f73 6572 7669 6365  lel, "in_service
+000173a0: 223a 2069 6e5f 7365 7276 6963 657d 0d0a  ": in_service}..
+000173b0: 0d0a 2020 2020 5f61 6464 5f73 6572 6965  ..    _add_serie
+000173c0: 735f 746f 5f65 6e74 7269 6573 2865 6e74  s_to_entries(ent
+000173d0: 7269 6573 2c20 696e 6465 782c 2022 6d61  ries, index, "ma
+000173e0: 785f 6c6f 6164 696e 675f 7065 7263 656e  x_loading_percen
+000173f0: 7422 2c20 6d61 785f 6c6f 6164 696e 675f  t", max_loading_
+00017400: 7065 7263 656e 7429 0d0a 2020 2020 5f61  percent)..    _a
+00017410: 6464 5f73 6572 6965 735f 746f 5f65 6e74  dd_series_to_ent
+00017420: 7269 6573 2865 6e74 7269 6573 2c20 696e  ries(entries, in
+00017430: 6465 782c 2022 7230 5f6f 686d 5f70 6572  dex, "r0_ohm_per
+00017440: 5f6b 6d22 2c20 7230 5f6f 686d 5f70 6572  _km", r0_ohm_per
+00017450: 5f6b 6d29 0d0a 2020 2020 5f61 6464 5f73  _km)..    _add_s
+00017460: 6572 6965 735f 746f 5f65 6e74 7269 6573  eries_to_entries
+00017470: 2865 6e74 7269 6573 2c20 696e 6465 782c  (entries, index,
+00017480: 2022 7830 5f6f 686d 5f70 6572 5f6b 6d22   "x0_ohm_per_km"
+00017490: 2c20 7830 5f6f 686d 5f70 6572 5f6b 6d29  , x0_ohm_per_km)
+000174a0: 0d0a 2020 2020 5f61 6464 5f73 6572 6965  ..    _add_serie
+000174b0: 735f 746f 5f65 6e74 7269 6573 2865 6e74  s_to_entries(ent
+000174c0: 7269 6573 2c20 696e 6465 782c 2022 6330  ries, index, "c0
+000174d0: 5f6e 665f 7065 725f 6b6d 222c 2063 305f  _nf_per_km", c0_
+000174e0: 6e66 5f70 6572 5f6b 6d29 0d0a 2020 2020  nf_per_km)..    
+000174f0: 5f61 6464 5f73 6572 6965 735f 746f 5f65  _add_series_to_e
+00017500: 6e74 7269 6573 2865 6e74 7269 6573 2c20  ntries(entries, 
+00017510: 696e 6465 782c 2022 6730 5f75 735f 7065  index, "g0_us_pe
+00017520: 725f 6b6d 222c 2067 305f 7573 5f70 6572  r_km", g0_us_per
+00017530: 5f6b 6d29 0d0a 2020 2020 5f61 6464 5f73  _km)..    _add_s
+00017540: 6572 6965 735f 746f 5f65 6e74 7269 6573  eries_to_entries
+00017550: 2865 6e74 7269 6573 2c20 696e 6465 782c  (entries, index,
+00017560: 2022 7465 6d70 6572 6174 7572 655f 6465   "temperature_de
+00017570: 6772 6565 5f63 656c 7369 7573 222c 2074  gree_celsius", t
+00017580: 656d 7065 7261 7475 7265 5f64 6567 7265  emperature_degre
+00017590: 655f 6365 6c73 6975 7329 0d0a 2020 2020  e_celsius)..    
+000175a0: 5f61 6464 5f73 6572 6965 735f 746f 5f65  _add_series_to_e
+000175b0: 6e74 7269 6573 2865 6e74 7269 6573 2c20  ntries(entries, 
+000175c0: 696e 6465 782c 2022 616c 7068 6122 2c20  index, "alpha", 
+000175d0: 616c 7068 6129 0d0a 0d0a 2020 2020 5f73  alpha)....    _s
+000175e0: 6574 5f6d 756c 7469 706c 655f 656e 7472  et_multiple_entr
+000175f0: 6965 7328 6e65 742c 2022 6c69 6e65 222c  ies(net, "line",
+00017600: 2069 6e64 6578 2c20 2a2a 656e 7472 6965   index, **entrie
+00017610: 732c 202a 2a6b 7761 7267 7329 0d0a 0d0a  s, **kwargs)....
+00017620: 2020 2020 6966 2067 656f 6461 7461 2069      if geodata i
+00017630: 7320 6e6f 7420 4e6f 6e65 3a0d 0a20 2020  s not None:..   
+00017640: 2020 2020 205f 6164 645f 6d75 6c74 6970       _add_multip
+00017650: 6c65 5f62 7261 6e63 685f 6765 6f64 6174  le_branch_geodat
+00017660: 6128 6e65 742c 2022 6c69 6e65 222c 2067  a(net, "line", g
+00017670: 656f 6461 7461 2c20 696e 6465 7829 0d0a  eodata, index)..
+00017680: 0d0a 2020 2020 7265 7475 726e 2069 6e64  ..    return ind
+00017690: 6578 0d0a 0d0a 0d0a 6465 6620 6372 6561  ex......def crea
+000176a0: 7465 5f74 7261 6e73 666f 726d 6572 286e  te_transformer(n
+000176b0: 6574 2c20 6876 5f62 7573 2c20 6c76 5f62  et, hv_bus, lv_b
+000176c0: 7573 2c20 7374 645f 7479 7065 2c20 6e61  us, std_type, na
+000176d0: 6d65 3d4e 6f6e 652c 2074 6170 5f70 6f73  me=None, tap_pos
+000176e0: 3d6e 616e 2c20 696e 5f73 6572 7669 6365  =nan, in_service
+000176f0: 3d54 7275 652c 0d0a 2020 2020 2020 2020  =True,..        
+00017700: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+00017710: 6e64 6578 3d4e 6f6e 652c 206d 6178 5f6c  ndex=None, max_l
+00017720: 6f61 6469 6e67 5f70 6572 6365 6e74 3d6e  oading_percent=n
+00017730: 616e 2c20 7061 7261 6c6c 656c 3d31 2c20  an, parallel=1, 
+00017740: 6466 3d31 2e2c 0d0a 2020 2020 2020 2020  df=1.,..        
+00017750: 2020 2020 2020 2020 2020 2020 2020 2074                 t
+00017760: 6170 5f64 6570 656e 6465 6e74 5f69 6d70  ap_dependent_imp
+00017770: 6564 616e 6365 3d4e 6f6e 652c 2076 6b5f  edance=None, vk_
+00017780: 7065 7263 656e 745f 6368 6172 6163 7465  percent_characte
+00017790: 7269 7374 6963 3d4e 6f6e 652c 0d0a 2020  ristic=None,..  
+000177a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000177b0: 2020 2020 2076 6b72 5f70 6572 6365 6e74       vkr_percent
+000177c0: 5f63 6861 7261 6374 6572 6973 7469 633d  _characteristic=
+000177d0: 4e6f 6e65 293a 0d0a 2020 2020 2222 220d  None):..    """.
+000177e0: 0a20 2020 2043 7265 6174 6573 2061 2074  .    Creates a t
+000177f0: 776f 2d77 696e 6469 6e67 2074 7261 6e73  wo-winding trans
+00017800: 666f 726d 6572 2069 6e20 7461 626c 6520  former in table 
+00017810: 6e65 745b 2274 7261 666f 225d 2e0d 0a20  net["trafo"]... 
+00017820: 2020 2054 6865 2074 7261 666f 2070 6172     The trafo par
+00017830: 616d 6574 6572 7320 6172 6520 6465 6669  ameters are defi
+00017840: 6e65 6420 7468 726f 7567 6820 7468 6520  ned through the 
+00017850: 7374 616e 6461 7264 2074 7970 6520 6c69  standard type li
+00017860: 6272 6172 792e 0d0a 0d0a 2020 2020 494e  brary.....    IN
+00017870: 5055 543a 0d0a 2020 2020 2020 2020 2a2a  PUT:..        **
+00017880: 6e65 742a 2a20 2d20 5468 6520 6e65 7420  net** - The net 
+00017890: 7769 7468 696e 2074 6869 7320 7472 616e  within this tran
+000178a0: 7366 6f72 6d65 7220 7368 6f75 6c64 2062  sformer should b
+000178b0: 6520 6372 6561 7465 640d 0a0d 0a20 2020  e created....   
+000178c0: 2020 2020 202a 2a68 765f 6275 732a 2a20       **hv_bus** 
+000178d0: 2869 6e74 2920 2d20 5468 6520 6275 7320  (int) - The bus 
+000178e0: 6f6e 2074 6865 2068 6967 682d 766f 6c74  on the high-volt
+000178f0: 6167 6520 7369 6465 206f 6e20 7768 6963  age side on whic
+00017900: 6820 7468 6520 7472 616e 7366 6f72 6d65  h the transforme
+00017910: 7220 7769 6c6c 2062 6520 5c0d 0a20 2020  r will be \..   
+00017920: 2020 2020 2020 2020 2063 6f6e 6e65 6374           connect
+00017930: 6564 2074 6f0d 0a0d 0a20 2020 2020 2020  ed to....       
+00017940: 202a 2a6c 765f 6275 732a 2a20 2869 6e74   **lv_bus** (int
+00017950: 2920 2d20 5468 6520 6275 7320 6f6e 2074  ) - The bus on t
+00017960: 6865 206c 6f77 2d76 6f6c 7461 6765 2073  he low-voltage s
+00017970: 6964 6520 6f6e 2077 6869 6368 2074 6865  ide on which the
+00017980: 2074 7261 6e73 666f 726d 6572 2077 696c   transformer wil
+00017990: 6c20 6265 205c 0d0a 2020 2020 2020 2020  l be \..        
+000179a0: 2020 2020 636f 6e6e 6563 7465 6420 746f      connected to
+000179b0: 0d0a 0d0a 2020 2020 2020 2020 2a2a 7374  ....        **st
+000179c0: 645f 7479 7065 2a2a 202d 2020 5468 6520  d_type** -  The 
+000179d0: 7573 6564 2073 7461 6e64 6172 6420 7479  used standard ty
+000179e0: 7065 2066 726f 6d20 7468 6520 7374 616e  pe from the stan
+000179f0: 6461 7264 2074 7970 6520 6c69 6272 6172  dard type librar
+00017a00: 790d 0a0d 0a20 2020 202a 2a5a 6572 6f20  y....    **Zero 
+00017a10: 7365 7175 656e 6365 2070 6172 616d 6574  sequence paramet
+00017a20: 6572 732a 2a20 2841 6464 6564 2074 6872  ers** (Added thr
+00017a30: 6f75 6768 2073 7464 5f74 7970 6520 466f  ough std_type Fo
+00017a40: 7220 5468 7265 6520 7068 6173 6520 6c6f  r Three phase lo
+00017a50: 6164 2066 6c6f 7729 203a 0d0a 0d0a 2020  ad flow) :....  
+00017a60: 2020 2020 2020 2a2a 766b 305f 7065 7263        **vk0_perc
+00017a70: 656e 742a 2a20 2d20 7a65 726f 2073 6571  ent** - zero seq
+00017a80: 7565 6e63 6520 7265 6c61 7469 7665 2073  uence relative s
+00017a90: 686f 7274 2d63 6972 6375 6974 2076 6f6c  hort-circuit vol
+00017aa0: 7461 6765 0d0a 0d0a 2020 2020 2020 2020  tage....        
+00017ab0: 2a2a 766b 7230 5f70 6572 6365 6e74 2a2a  **vkr0_percent**
+00017ac0: 202d 2072 6561 6c20 7061 7274 206f 6620   - real part of 
+00017ad0: 7a65 726f 2073 6571 7565 6e63 6520 7265  zero sequence re
+00017ae0: 6c61 7469 7665 2073 686f 7274 2d63 6972  lative short-cir
+00017af0: 6375 6974 2076 6f6c 7461 6765 0d0a 0d0a  cuit voltage....
+00017b00: 2020 2020 2020 2020 2a2a 6d61 6730 5f70          **mag0_p
+00017b10: 6572 6365 6e74 2a2a 202d 2072 6174 696f  ercent** - ratio
+00017b20: 2062 6574 7765 656e 206d 6167 6e65 7469   between magneti
+00017b30: 7a69 6e67 2061 6e64 2073 686f 7274 2063  zing and short c
+00017b40: 6972 6375 6974 2069 6d70 6564 616e 6365  ircuit impedance
+00017b50: 2028 7a65 726f 2073 6571 7565 6e63 6529   (zero sequence)
+00017b60: 0d0a 0d0a 2020 2020 2020 2020 2020 2020  ....            
+00017b70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017b80: 7a5f 6d61 6730 202f 207a 300d 0a0d 0a20  z_mag0 / z0.... 
+00017b90: 2020 2020 2020 202a 2a6d 6167 305f 7278         **mag0_rx
+00017ba0: 2a2a 2020 2d20 7a65 726f 2073 6571 7565  **  - zero seque
+00017bb0: 6e63 6520 6d61 676e 6574 697a 696e 6720  nce magnetizing 
+00017bc0: 722f 7820 2072 6174 696f 0d0a 0d0a 2020  r/x  ratio....  
+00017bd0: 2020 2020 2020 2a2a 7369 305f 6876 5f70        **si0_hv_p
+00017be0: 6172 7469 616c 2a2a 202d 207a 6572 6f20  artial** - zero 
+00017bf0: 7365 7175 656e 6365 2073 686f 7274 2063  sequence short c
+00017c00: 6972 6375 6974 2069 6d70 6564 616e 6365  ircuit impedance
+00017c10: 2020 6469 7374 7269 6275 7469 6f6e 2069    distribution i
+00017c20: 6e20 6876 2073 6964 650d 0a0d 0a20 2020  n hv side....   
+00017c30: 204f 5054 494f 4e41 4c3a 0d0a 2020 2020   OPTIONAL:..    
+00017c40: 2020 2020 2a2a 6e61 6d65 2a2a 2028 7374      **name** (st
+00017c50: 7269 6e67 2c20 4e6f 6e65 2920 2d20 4120  ring, None) - A 
+00017c60: 6375 7374 6f6d 206e 616d 6520 666f 7220  custom name for 
+00017c70: 7468 6973 2074 7261 6e73 666f 726d 6572  this transformer
+00017c80: 0d0a 0d0a 2020 2020 2020 2020 2a2a 7461  ....        **ta
+00017c90: 705f 706f 732a 2a20 2869 6e74 2c20 6e61  p_pos** (int, na
+00017ca0: 6e29 202d 2063 7572 7265 6e74 2074 6170  n) - current tap
+00017cb0: 2070 6f73 6974 696f 6e20 6f66 2074 6865   position of the
+00017cc0: 2074 7261 6e73 666f 726d 6572 2e20 4465   transformer. De
+00017cd0: 6661 756c 7473 2074 6f20 7468 6520 6d65  faults to the me
+00017ce0: 6469 756d 205c 0d0a 2020 2020 2020 2020  dium \..        
+00017cf0: 2020 2020 706f 7369 7469 6f6e 2028 7461      position (ta
+00017d00: 705f 6e65 7574 7261 6c29 0d0a 0d0a 2020  p_neutral)....  
+00017d10: 2020 2020 2020 2a2a 696e 5f73 6572 7669        **in_servi
+00017d20: 6365 2a2a 2028 626f 6f6c 6561 6e2c 2054  ce** (boolean, T
+00017d30: 7275 6529 202d 2054 7275 6520 666f 7220  rue) - True for 
+00017d40: 696e 5f73 6572 7669 6365 206f 7220 4661  in_service or Fa
+00017d50: 6c73 6520 666f 7220 6f75 7420 6f66 2073  lse for out of s
+00017d60: 6572 7669 6365 0d0a 0d0a 2020 2020 2020  ervice....      
+00017d70: 2020 2a2a 696e 6465 782a 2a20 2869 6e74    **index** (int
+00017d80: 2c20 4e6f 6e65 2920 2d20 466f 7263 6520  , None) - Force 
+00017d90: 6120 7370 6563 6966 6965 6420 4944 2069  a specified ID i
+00017da0: 6620 6974 2069 7320 6176 6169 6c61 626c  f it is availabl
+00017db0: 652e 2049 6620 4e6f 6e65 2c20 7468 6520  e. If None, the 
+00017dc0: 696e 6465 7820 6f6e 6520 5c0d 0a20 2020  index one \..   
+00017dd0: 2020 2020 2020 2020 2068 6967 6865 7220           higher 
+00017de0: 7468 616e 2074 6865 2068 6967 6865 7374  than the highest
+00017df0: 2061 6c72 6561 6479 2065 7869 7374 696e   already existin
+00017e00: 6720 696e 6465 7820 6973 2073 656c 6563  g index is selec
+00017e10: 7465 642e 0d0a 0d0a 2020 2020 2020 2020  ted.....        
+00017e20: 2a2a 6d61 785f 6c6f 6164 696e 675f 7065  **max_loading_pe
+00017e30: 7263 656e 7420 2866 6c6f 6174 292a 2a20  rcent (float)** 
+00017e40: 2d20 6d61 7869 6d75 6d20 6375 7272 656e  - maximum curren
+00017e50: 7420 6c6f 6164 696e 6720 286f 6e6c 7920  t loading (only 
+00017e60: 6e65 6564 6564 2066 6f72 204f 5046 290d  needed for OPF).
+00017e70: 0a0d 0a20 2020 2020 2020 202a 2a70 6172  ...        **par
+00017e80: 616c 6c65 6c2a 2a20 2869 6e74 6567 6572  allel** (integer
+00017e90: 2920 2d20 6e75 6d62 6572 206f 6620 7061  ) - number of pa
+00017ea0: 7261 6c6c 656c 2074 7261 6e73 666f 726d  rallel transform
+00017eb0: 6572 730d 0a0d 0a20 2020 2020 2020 202a  ers....        *
+00017ec0: 2a64 662a 2a20 2866 6c6f 6174 2920 2d20  *df** (float) - 
+00017ed0: 6465 7261 7469 6e67 2066 6163 746f 723a  derating factor:
+00017ee0: 206d 6178 696d 616c 2063 7572 7265 6e74   maximal current
+00017ef0: 206f 6620 7472 616e 7366 6f72 6d65 7220   of transformer 
+00017f00: 696e 2072 656c 6174 696f 6e20 746f 206e  in relation to n
+00017f10: 6f6d 696e 616c 205c 0d0a 2020 2020 2020  ominal \..      
+00017f20: 2020 2020 2020 6375 7272 656e 7420 6f66        current of
+00017f30: 2074 7261 6e73 666f 726d 6572 2028 6672   transformer (fr
+00017f40: 6f6d 2030 2074 6f20 3129 0d0a 0d0a 2020  om 0 to 1)....  
+00017f50: 2020 2020 2020 2a2a 7461 705f 6465 7065        **tap_depe
+00017f60: 6e64 656e 745f 696d 7065 6461 6e63 652a  ndent_impedance*
+00017f70: 2a20 2862 6f6f 6c65 616e 2920 2d20 5472  * (boolean) - Tr
+00017f80: 7565 2069 6620 7472 616e 7366 6f72 6d65  ue if transforme
+00017f90: 7220 696d 7065 6461 6e63 6520 6d75 7374  r impedance must
+00017fa0: 2062 6520 6164 6a75 7374 6564 2064 6570   be adjusted dep
+00017fb0: 656e 6465 6e74 205c 0d0a 2020 2020 2020  endent \..      
+00017fc0: 2020 2020 2020 6f6e 2074 6865 2074 6170        on the tap
+00017fd0: 2070 6f73 6974 696f 6e20 6f66 2074 6865   position of the
+00017fe0: 2074 7261 626e 7366 6f72 6d65 722e 2052   trabnsformer. R
+00017ff0: 6571 7569 7265 7320 7468 6520 6164 6469  equires the addi
+00018000: 7469 6f6e 616c 2063 6f6c 756d 6e73 205c  tional columns \
+00018010: 0d0a 2020 2020 2020 2020 2020 2020 2276  ..            "v
+00018020: 6b5f 7065 7263 656e 745f 6368 6172 6163  k_percent_charac
+00018030: 7465 7269 7374 6963 2220 616e 6420 2276  teristic" and "v
+00018040: 6b72 5f70 6572 6365 6e74 5f63 6861 7261  kr_percent_chara
+00018050: 6374 6572 6973 7469 6322 2074 6861 7420  cteristic" that 
+00018060: 7265 6665 7265 6e63 6520 7468 6520 696e  reference the in
+00018070: 6465 7820 6f66 2074 6865 205c 0d0a 2020  dex of the \..  
+00018080: 2020 2020 2020 2020 2020 6368 6172 6163            charac
+00018090: 7465 7269 7374 6963 2066 726f 6d20 7468  teristic from th
+000180a0: 6520 7461 626c 6520 6e65 742e 6368 6172  e table net.char
+000180b0: 6163 7465 7269 7374 6963 2e20 4120 636f  acteristic. A co
+000180c0: 6e76 656e 6965 6e63 6520 6675 6e63 7469  nvenience functi
+000180d0: 6f6e 205c 0d0a 2020 2020 2020 2020 2020  on \..          
+000180e0: 2020 7061 6e64 6170 6f77 6572 2e63 6f6e    pandapower.con
+000180f0: 7472 6f6c 2e63 7265 6174 655f 7472 6166  trol.create_traf
+00018100: 6f5f 6368 6172 6163 7465 7269 7374 6963  o_characteristic
+00018110: 7320 6361 6e20 6265 2075 7365 6420 746f  s can be used to
+00018120: 2063 7265 6174 6520 7468 6520 5370 6c69   create the Spli
+00018130: 6e65 4368 6172 6163 7465 7269 7374 6963  neCharacteristic
+00018140: 205c 0d0a 2020 2020 2020 2020 2020 2020   \..            
+00018150: 6f62 6a65 6374 732c 2061 6464 2074 6865  objects, add the
+00018160: 2072 656c 6576 616e 7420 636f 6c75 6d6e   relevant column
+00018170: 7320 616e 6420 7365 7420 7570 2074 6865  s and set up the
+00018180: 2072 6566 6572 656e 6365 7320 746f 2074   references to t
+00018190: 6865 2063 6861 7261 6374 6572 6973 7469  he characteristi
+000181a0: 6373 2e20 5c0d 0a20 2020 2020 2020 2020  cs. \..         
+000181b0: 2020 2054 6865 2066 756e 6374 696f 6e20     The function 
+000181c0: 7061 6e64 6170 6f77 6572 2e63 6f6e 7472  pandapower.contr
+000181d0: 6f6c 2e74 7261 666f 5f63 6861 7261 6374  ol.trafo_charact
+000181e0: 6572 6973 7469 6373 5f64 6961 676e 6f73  eristics_diagnos
+000181f0: 7469 6320 6361 6e20 6265 2075 7365 6420  tic can be used 
+00018200: 666f 7220 7361 6e69 7479 2063 6865 636b  for sanity check
+00018210: 732e 0d0a 0d0a 2020 2020 2020 2020 2a2a  s.....        **
+00018220: 766b 5f70 6572 6365 6e74 5f63 6861 7261  vk_percent_chara
+00018230: 6374 6572 6973 7469 632a 2a20 2869 6e74  cteristic** (int
+00018240: 2920 2d20 696e 6465 7820 6f66 2074 6865  ) - index of the
+00018250: 2063 6861 7261 6374 6572 6973 7469 6320   characteristic 
+00018260: 6672 6f6d 206e 6574 2e63 6861 7261 6374  from net.charact
+00018270: 6572 6973 7469 6320 666f 7220 5c0d 0a20  eristic for \.. 
+00018280: 2020 2020 2020 2020 2020 2074 6865 2061             the a
+00018290: 646a 7573 746d 656e 7420 6f66 2074 6865  djustment of the
+000182a0: 2070 6172 616d 6574 6572 2022 766b 5f70   parameter "vk_p
+000182b0: 6572 6365 6e74 2220 666f 7220 7468 6520  ercent" for the 
+000182c0: 6361 6c63 756c 6174 696f 6e20 6f66 2074  calculation of t
+000182d0: 6170 2064 6570 656e 6465 6e74 2069 6d70  ap dependent imp
+000182e0: 6564 616e 6365 2e0d 0a0d 0a20 2020 2020  edance.....     
+000182f0: 2020 202a 2a76 6b72 5f70 6572 6365 6e74     **vkr_percent
+00018300: 5f63 6861 7261 6374 6572 6973 7469 632a  _characteristic*
+00018310: 2a20 2869 6e74 2920 2d20 696e 6465 7820  * (int) - index 
+00018320: 6f66 2074 6865 2063 6861 7261 6374 6572  of the character
+00018330: 6973 7469 6320 6672 6f6d 206e 6574 2e63  istic from net.c
+00018340: 6861 7261 6374 6572 6973 7469 6320 666f  haracteristic fo
+00018350: 7220 5c0d 0a20 2020 2020 2020 2020 2020  r \..           
+00018360: 2074 6865 2061 646a 7573 746d 656e 7420   the adjustment 
+00018370: 6f66 2074 6865 2070 6172 616d 6574 6572  of the parameter
+00018380: 2022 766b 5f70 6572 6365 6e74 2220 666f   "vk_percent" fo
+00018390: 7220 7468 6520 6361 6c63 756c 6174 696f  r the calculatio
+000183a0: 6e20 6f66 2074 6170 2064 6570 656e 6465  n of tap depende
+000183b0: 6e74 2069 6d70 6564 616e 6365 2e0d 0a0d  nt impedance....
+000183c0: 0a20 2020 204f 5554 5055 543a 0d0a 2020  .    OUTPUT:..  
+000183d0: 2020 2020 2020 2a2a 696e 6465 782a 2a20        **index** 
+000183e0: 2869 6e74 2920 2d20 5468 6520 756e 6971  (int) - The uniq
+000183f0: 7565 2049 4420 6f66 2074 6865 2063 7265  ue ID of the cre
+00018400: 6174 6564 2074 7261 6e73 666f 726d 6572  ated transformer
+00018410: 0d0a 0d0a 2020 2020 4558 414d 504c 453a  ....    EXAMPLE:
+00018420: 0d0a 2020 2020 2020 2020 6372 6561 7465  ..        create
+00018430: 5f74 7261 6e73 666f 726d 6572 286e 6574  _transformer(net
+00018440: 2c20 6876 5f62 7573 203d 2030 2c20 6c76  , hv_bus = 0, lv
+00018450: 5f62 7573 203d 2031 2c20 6e61 6d65 203d  _bus = 1, name =
+00018460: 2022 7472 6166 6f31 222c 2073 7464 5f74   "trafo1", std_t
+00018470: 7970 6520 3d20 5c0d 0a20 2020 2020 2020  ype = \..       
+00018480: 2020 2020 2022 302e 3420 4d56 4120 3130       "0.4 MVA 10
+00018490: 2f30 2e34 206b 5622 290d 0a20 2020 2022  /0.4 kV")..    "
+000184a0: 2222 0d0a 0d0a 2020 2020 2320 4368 6563  ""....    # Chec
+000184b0: 6b20 6966 2062 7573 2065 7869 7374 2074  k if bus exist t
+000184c0: 6f20 6174 7461 6368 2074 6865 2074 7261  o attach the tra
+000184d0: 666f 2074 6f0d 0a20 2020 205f 6368 6563  fo to..    _chec
+000184e0: 6b5f 6272 616e 6368 5f65 6c65 6d65 6e74  k_branch_element
+000184f0: 286e 6574 2c20 2254 7261 666f 222c 2069  (net, "Trafo", i
+00018500: 6e64 6578 2c20 6876 5f62 7573 2c20 6c76  ndex, hv_bus, lv
+00018510: 5f62 7573 290d 0a0d 0a20 2020 2069 6e64  _bus)....    ind
+00018520: 6578 203d 205f 6765 745f 696e 6465 785f  ex = _get_index_
+00018530: 7769 7468 5f63 6865 636b 286e 6574 2c20  with_check(net, 
+00018540: 2274 7261 666f 222c 2069 6e64 6578 2c20  "trafo", index, 
+00018550: 6e61 6d65 3d22 7472 616e 7366 6f72 6d65  name="transforme
+00018560: 7222 290d 0a0d 0a20 2020 2069 6620 6466  r")....    if df
+00018570: 203c 3d20 303a 0d0a 2020 2020 2020 2020   <= 0:..        
+00018580: 7261 6973 6520 5573 6572 5761 726e 696e  raise UserWarnin
+00018590: 6728 2264 6572 6174 696e 6720 6661 6374  g("derating fact
+000185a0: 6f72 2064 6620 6d75 7374 2062 6520 706f  or df must be po
+000185b0: 7369 7469 7665 3a20 6466 203d 2025 2e33  sitive: df = %.3
+000185c0: 6622 2025 2064 6629 0d0a 0d0a 2020 2020  f" % df)....    
+000185d0: 7620 3d20 7b0d 0a20 2020 2020 2020 2022  v = {..        "
+000185e0: 6e61 6d65 223a 206e 616d 652c 2022 6876  name": name, "hv
+000185f0: 5f62 7573 223a 2068 765f 6275 732c 2022  _bus": hv_bus, "
+00018600: 6c76 5f62 7573 223a 206c 765f 6275 732c  lv_bus": lv_bus,
+00018610: 0d0a 2020 2020 2020 2020 2269 6e5f 7365  ..        "in_se
+00018620: 7276 6963 6522 3a20 626f 6f6c 2869 6e5f  rvice": bool(in_
+00018630: 7365 7276 6963 6529 2c20 2273 7464 5f74  service), "std_t
+00018640: 7970 6522 3a20 7374 645f 7479 7065 0d0a  ype": std_type..
+00018650: 2020 2020 7d0d 0a20 2020 2074 6920 3d20      }..    ti = 
+00018660: 6c6f 6164 5f73 7464 5f74 7970 6528 6e65  load_std_type(ne
+00018670: 742c 2073 7464 5f74 7970 652c 2022 7472  t, std_type, "tr
+00018680: 6166 6f22 290d 0a0d 0a20 2020 2075 7064  afo")....    upd
+00018690: 6174 6573 203d 207b 0d0a 2020 2020 2020  ates = {..      
+000186a0: 2020 2273 6e5f 6d76 6122 3a20 7469 5b22    "sn_mva": ti["
+000186b0: 736e 5f6d 7661 225d 2c0d 0a20 2020 2020  sn_mva"],..     
+000186c0: 2020 2022 766e 5f68 765f 6b76 223a 2074     "vn_hv_kv": t
+000186d0: 695b 2276 6e5f 6876 5f6b 7622 5d2c 0d0a  i["vn_hv_kv"],..
+000186e0: 2020 2020 2020 2020 2276 6e5f 6c76 5f6b          "vn_lv_k
+000186f0: 7622 3a20 7469 5b22 766e 5f6c 765f 6b76  v": ti["vn_lv_kv
+00018700: 225d 2c0d 0a20 2020 2020 2020 2022 766b  "],..        "vk
+00018710: 5f70 6572 6365 6e74 223a 2074 695b 2276  _percent": ti["v
+00018720: 6b5f 7065 7263 656e 7422 5d2c 0d0a 2020  k_percent"],..  
+00018730: 2020 2020 2020 2276 6b72 5f70 6572 6365        "vkr_perce
+00018740: 6e74 223a 2074 695b 2276 6b72 5f70 6572  nt": ti["vkr_per
+00018750: 6365 6e74 225d 2c0d 0a20 2020 2020 2020  cent"],..       
+00018760: 2022 7066 655f 6b77 223a 2074 695b 2270   "pfe_kw": ti["p
+00018770: 6665 5f6b 7722 5d2c 0d0a 2020 2020 2020  fe_kw"],..      
+00018780: 2020 2269 305f 7065 7263 656e 7422 3a20    "i0_percent": 
+00018790: 7469 5b22 6930 5f70 6572 6365 6e74 225d  ti["i0_percent"]
+000187a0: 2c0d 0a20 2020 2020 2020 2022 7061 7261  ,..        "para
+000187b0: 6c6c 656c 223a 2070 6172 616c 6c65 6c2c  llel": parallel,
+000187c0: 0d0a 2020 2020 2020 2020 2264 6622 3a20  ..        "df": 
+000187d0: 6466 2c0d 0a20 2020 2020 2020 2022 7368  df,..        "sh
+000187e0: 6966 745f 6465 6772 6565 223a 2074 695b  ift_degree": ti[
+000187f0: 2273 6869 6674 5f64 6567 7265 6522 5d20  "shift_degree"] 
+00018800: 6966 2022 7368 6966 745f 6465 6772 6565  if "shift_degree
+00018810: 2220 696e 2074 6920 656c 7365 2030 2c0d  " in ti else 0,.
+00018820: 0a20 2020 2020 2020 2022 7461 705f 7068  .        "tap_ph
+00018830: 6173 655f 7368 6966 7465 7222 3a20 7469  ase_shifter": ti
+00018840: 5b22 7461 705f 7068 6173 655f 7368 6966  ["tap_phase_shif
+00018850: 7465 7222 5d20 6966 2022 7461 705f 7068  ter"] if "tap_ph
+00018860: 6173 655f 7368 6966 7465 7222 2069 6e20  ase_shifter" in 
+00018870: 7469 0d0a 2020 2020 2020 2020 2020 2020  ti..            
 00018880: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018890: 2020 2020 2020 2020 2020 2020 2061 6e64               and
-000188a0: 2070 642e 6e6f 746e 756c 6c28 0d0a 2020   pd.notnull(..  
-000188b0: 2020 2020 2020 2020 2020 7469 5b22 7461            ti["ta
-000188c0: 705f 7068 6173 655f 7368 6966 7465 7222  p_phase_shifter"
-000188d0: 5d29 2065 6c73 6520 4661 6c73 650d 0a20  ]) else False.. 
-000188e0: 2020 207d 0d0a 2020 2020 666f 7220 7a65     }..    for ze
-000188f0: 726f 5f70 6172 616d 2069 6e20 5b27 766b  ro_param in ['vk
-00018900: 305f 7065 7263 656e 7427 2c20 2776 6b72  0_percent', 'vkr
-00018910: 305f 7065 7263 656e 7427 2c20 276d 6167  0_percent', 'mag
-00018920: 305f 7065 7263 656e 7427 2c20 276d 6167  0_percent', 'mag
-00018930: 305f 7278 272c 2027 7369 305f 6876 5f70  0_rx', 'si0_hv_p
-00018940: 6172 7469 616c 275d 3a0d 0a20 2020 2020  artial']:..     
-00018950: 2020 2069 6620 7a65 726f 5f70 6172 616d     if zero_param
-00018960: 2069 6e20 7469 3a0d 0a20 2020 2020 2020   in ti:..       
-00018970: 2020 2020 2075 7064 6174 6573 5b7a 6572       updates[zer
-00018980: 6f5f 7061 7261 6d5d 203d 2074 695b 7a65  o_param] = ti[ze
-00018990: 726f 5f70 6172 616d 5d0d 0a20 2020 2076  ro_param]..    v
-000189a0: 2e75 7064 6174 6528 7570 6461 7465 7329  .update(updates)
-000189b0: 0d0a 2020 2020 666f 7220 7470 2069 6e20  ..    for tp in 
-000189c0: 2822 7461 705f 6e65 7574 7261 6c22 2c20  ("tap_neutral", 
-000189d0: 2274 6170 5f6d 6178 222c 2022 7461 705f  "tap_max", "tap_
-000189e0: 6d69 6e22 2c20 2274 6170 5f73 6964 6522  min", "tap_side"
-000189f0: 2c20 2274 6170 5f73 7465 705f 7065 7263  , "tap_step_perc
-00018a00: 656e 7422 2c0d 0a20 2020 2020 2020 2020  ent",..         
-00018a10: 2020 2020 2020 2274 6170 5f73 7465 705f        "tap_step_
-00018a20: 6465 6772 6565 2229 3a0d 0a20 2020 2020  degree"):..     
-00018a30: 2020 2069 6620 7470 2069 6e20 7469 3a0d     if tp in ti:.
-00018a40: 0a20 2020 2020 2020 2020 2020 2076 5b74  .            v[t
-00018a50: 705d 203d 2074 695b 7470 5d0d 0a20 2020  p] = ti[tp]..   
-00018a60: 2069 6620 2822 7461 705f 6e65 7574 7261   if ("tap_neutra
-00018a70: 6c22 2069 6e20 7629 2061 6e64 2028 7461  l" in v) and (ta
-00018a80: 705f 706f 7320 6973 206e 616e 293a 0d0a  p_pos is nan):..
-00018a90: 2020 2020 2020 2020 765b 2274 6170 5f70          v["tap_p
-00018aa0: 6f73 225d 203d 2076 5b22 7461 705f 6e65  os"] = v["tap_ne
-00018ab0: 7574 7261 6c22 5d0d 0a20 2020 2065 6c73  utral"]..    els
-00018ac0: 653a 0d0a 2020 2020 2020 2020 765b 2274  e:..        v["t
-00018ad0: 6170 5f70 6f73 225d 203d 2074 6170 5f70  ap_pos"] = tap_p
-00018ae0: 6f73 0d0a 2020 2020 2020 2020 6966 2069  os..        if i
-00018af0: 7369 6e73 7461 6e63 6528 7461 705f 706f  sinstance(tap_po
-00018b00: 732c 2066 6c6f 6174 293a 0d0a 2020 2020  s, float):..    
-00018b10: 2020 2020 2020 2020 6e65 742e 7472 6166          net.traf
-00018b20: 6f2e 7461 705f 706f 7320 3d20 6e65 742e  o.tap_pos = net.
-00018b30: 7472 6166 6f2e 7461 705f 706f 732e 6173  trafo.tap_pos.as
-00018b40: 7479 7065 2866 6c6f 6174 290d 0a0d 0a20  type(float).... 
-00018b50: 2020 205f 7365 745f 656e 7472 6965 7328     _set_entries(
-00018b60: 6e65 742c 2022 7472 6166 6f22 2c20 696e  net, "trafo", in
-00018b70: 6465 782c 202a 2a76 290d 0a0d 0a20 2020  dex, **v)....   
-00018b80: 205f 6372 6561 7465 5f63 6f6c 756d 6e5f   _create_column_
-00018b90: 616e 645f 7365 745f 7661 6c75 6528 6e65  and_set_value(ne
-00018ba0: 742c 2069 6e64 6578 2c20 6d61 785f 6c6f  t, index, max_lo
-00018bb0: 6164 696e 675f 7065 7263 656e 742c 2022  ading_percent, "
-00018bc0: 6d61 785f 6c6f 6164 696e 675f 7065 7263  max_loading_perc
-00018bd0: 656e 7422 2c20 2274 7261 666f 2229 0d0a  ent", "trafo")..
-00018be0: 0d0a 2020 2020 6966 2074 6170 5f64 6570  ..    if tap_dep
-00018bf0: 656e 6465 6e74 5f69 6d70 6564 616e 6365  endent_impedance
-00018c00: 2069 7320 6e6f 7420 4e6f 6e65 3a0d 0a20   is not None:.. 
-00018c10: 2020 2020 2020 205f 6372 6561 7465 5f63         _create_c
-00018c20: 6f6c 756d 6e5f 616e 645f 7365 745f 7661  olumn_and_set_va
-00018c30: 6c75 6528 6e65 742c 2069 6e64 6578 2c20  lue(net, index, 
-00018c40: 7461 705f 6465 7065 6e64 656e 745f 696d  tap_dependent_im
-00018c50: 7065 6461 6e63 652c 2022 7461 705f 6465  pedance, "tap_de
-00018c60: 7065 6e64 656e 745f 696d 7065 6461 6e63  pendent_impedanc
-00018c70: 6522 2c20 2274 7261 666f 222c 2062 6f6f  e", "trafo", boo
-00018c80: 6c5f 2c20 4661 6c73 652c 2054 7275 6529  l_, False, True)
-00018c90: 0d0a 2020 2020 6966 2076 6b5f 7065 7263  ..    if vk_perc
-00018ca0: 656e 745f 6368 6172 6163 7465 7269 7374  ent_characterist
-00018cb0: 6963 2069 7320 6e6f 7420 4e6f 6e65 3a0d  ic is not None:.
-00018cc0: 0a20 2020 2020 2020 205f 6372 6561 7465  .        _create
-00018cd0: 5f63 6f6c 756d 6e5f 616e 645f 7365 745f  _column_and_set_
-00018ce0: 7661 6c75 6528 6e65 742c 2069 6e64 6578  value(net, index
-00018cf0: 2c20 766b 5f70 6572 6365 6e74 5f63 6861  , vk_percent_cha
-00018d00: 7261 6374 6572 6973 7469 632c 2022 766b  racteristic, "vk
-00018d10: 5f70 6572 6365 6e74 5f63 6861 7261 6374  _percent_charact
-00018d20: 6572 6973 7469 6322 2c20 2274 7261 666f  eristic", "trafo
-00018d30: 222c 2022 496e 7436 3422 2920 2023 2049  ", "Int64")  # I
-00018d40: 6e74 3634 4474 7970 650d 0a20 2020 2069  nt64Dtype..    i
-00018d50: 6620 766b 725f 7065 7263 656e 745f 6368  f vkr_percent_ch
-00018d60: 6172 6163 7465 7269 7374 6963 2069 7320  aracteristic is 
-00018d70: 6e6f 7420 4e6f 6e65 3a0d 0a20 2020 2020  not None:..     
-00018d80: 2020 205f 6372 6561 7465 5f63 6f6c 756d     _create_colum
-00018d90: 6e5f 616e 645f 7365 745f 7661 6c75 6528  n_and_set_value(
-00018da0: 6e65 742c 2069 6e64 6578 2c20 766b 725f  net, index, vkr_
-00018db0: 7065 7263 656e 745f 6368 6172 6163 7465  percent_characte
-00018dc0: 7269 7374 6963 2c20 2276 6b72 5f70 6572  ristic, "vkr_per
-00018dd0: 6365 6e74 5f63 6861 7261 6374 6572 6973  cent_characteris
-00018de0: 7469 6322 2c20 2274 7261 666f 222c 2022  tic", "trafo", "
-00018df0: 496e 7436 3422 290d 0a0d 0a20 2020 2023  Int64")....    #
-00018e00: 2074 6170 5f70 6861 7365 5f73 6869 6674   tap_phase_shift
-00018e10: 6572 2064 6566 6175 6c74 2046 616c 7365  er default False
-00018e20: 0d0a 2020 2020 6e65 742e 7472 6166 6f2e  ..    net.trafo.
-00018e30: 7461 705f 7068 6173 655f 7368 6966 7465  tap_phase_shifte
-00018e40: 722e 6669 6c6c 6e61 2846 616c 7365 2c20  r.fillna(False, 
-00018e50: 696e 706c 6163 653d 5472 7565 290d 0a0d  inplace=True)...
-00018e60: 0a20 2020 2072 6574 7572 6e20 696e 6465  .    return inde
-00018e70: 780d 0a0d 0a0d 0a64 6566 2063 7265 6174  x......def creat
-00018e80: 655f 7472 616e 7366 6f72 6d65 725f 6672  e_transformer_fr
-00018e90: 6f6d 5f70 6172 616d 6574 6572 7328 6e65  om_parameters(ne
-00018ea0: 742c 2068 765f 6275 732c 206c 765f 6275  t, hv_bus, lv_bu
-00018eb0: 732c 2073 6e5f 6d76 612c 2076 6e5f 6876  s, sn_mva, vn_hv
-00018ec0: 5f6b 762c 2076 6e5f 6c76 5f6b 762c 0d0a  _kv, vn_lv_kv,..
-00018ed0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018890: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000188a0: 2020 2020 2020 2020 2020 2020 616e 6420              and 
+000188b0: 7064 2e6e 6f74 6e75 6c6c 280d 0a20 2020  pd.notnull(..   
+000188c0: 2020 2020 2020 2020 2074 695b 2274 6170           ti["tap
+000188d0: 5f70 6861 7365 5f73 6869 6674 6572 225d  _phase_shifter"]
+000188e0: 2920 656c 7365 2046 616c 7365 0d0a 2020  ) else False..  
+000188f0: 2020 7d0d 0a20 2020 2066 6f72 207a 6572    }..    for zer
+00018900: 6f5f 7061 7261 6d20 696e 205b 2776 6b30  o_param in ['vk0
+00018910: 5f70 6572 6365 6e74 272c 2027 766b 7230  _percent', 'vkr0
+00018920: 5f70 6572 6365 6e74 272c 2027 6d61 6730  _percent', 'mag0
+00018930: 5f70 6572 6365 6e74 272c 2027 6d61 6730  _percent', 'mag0
+00018940: 5f72 7827 2c20 2773 6930 5f68 765f 7061  _rx', 'si0_hv_pa
+00018950: 7274 6961 6c27 5d3a 0d0a 2020 2020 2020  rtial']:..      
+00018960: 2020 6966 207a 6572 6f5f 7061 7261 6d20    if zero_param 
+00018970: 696e 2074 693a 0d0a 2020 2020 2020 2020  in ti:..        
+00018980: 2020 2020 7570 6461 7465 735b 7a65 726f      updates[zero
+00018990: 5f70 6172 616d 5d20 3d20 7469 5b7a 6572  _param] = ti[zer
+000189a0: 6f5f 7061 7261 6d5d 0d0a 2020 2020 762e  o_param]..    v.
+000189b0: 7570 6461 7465 2875 7064 6174 6573 290d  update(updates).
+000189c0: 0a20 2020 2066 6f72 2074 7020 696e 2028  .    for tp in (
+000189d0: 2274 6170 5f6e 6575 7472 616c 222c 2022  "tap_neutral", "
+000189e0: 7461 705f 6d61 7822 2c20 2274 6170 5f6d  tap_max", "tap_m
+000189f0: 696e 222c 2022 7461 705f 7369 6465 222c  in", "tap_side",
+00018a00: 2022 7461 705f 7374 6570 5f70 6572 6365   "tap_step_perce
+00018a10: 6e74 222c 0d0a 2020 2020 2020 2020 2020  nt",..          
+00018a20: 2020 2020 2022 7461 705f 7374 6570 5f64       "tap_step_d
+00018a30: 6567 7265 6522 293a 0d0a 2020 2020 2020  egree"):..      
+00018a40: 2020 6966 2074 7020 696e 2074 693a 0d0a    if tp in ti:..
+00018a50: 2020 2020 2020 2020 2020 2020 765b 7470              v[tp
+00018a60: 5d20 3d20 7469 5b74 705d 0d0a 2020 2020  ] = ti[tp]..    
+00018a70: 6966 2028 2274 6170 5f6e 6575 7472 616c  if ("tap_neutral
+00018a80: 2220 696e 2076 2920 616e 6420 2874 6170  " in v) and (tap
+00018a90: 5f70 6f73 2069 7320 6e61 6e29 3a0d 0a20  _pos is nan):.. 
+00018aa0: 2020 2020 2020 2076 5b22 7461 705f 706f         v["tap_po
+00018ab0: 7322 5d20 3d20 765b 2274 6170 5f6e 6575  s"] = v["tap_neu
+00018ac0: 7472 616c 225d 0d0a 2020 2020 656c 7365  tral"]..    else
+00018ad0: 3a0d 0a20 2020 2020 2020 2076 5b22 7461  :..        v["ta
+00018ae0: 705f 706f 7322 5d20 3d20 7461 705f 706f  p_pos"] = tap_po
+00018af0: 730d 0a20 2020 2020 2020 2069 6620 6973  s..        if is
+00018b00: 696e 7374 616e 6365 2874 6170 5f70 6f73  instance(tap_pos
+00018b10: 2c20 666c 6f61 7429 3a0d 0a20 2020 2020  , float):..     
+00018b20: 2020 2020 2020 206e 6574 2e74 7261 666f         net.trafo
+00018b30: 2e74 6170 5f70 6f73 203d 206e 6574 2e74  .tap_pos = net.t
+00018b40: 7261 666f 2e74 6170 5f70 6f73 2e61 7374  rafo.tap_pos.ast
+00018b50: 7970 6528 666c 6f61 7429 0d0a 0d0a 2020  ype(float)....  
+00018b60: 2020 5f73 6574 5f65 6e74 7269 6573 286e    _set_entries(n
+00018b70: 6574 2c20 2274 7261 666f 222c 2069 6e64  et, "trafo", ind
+00018b80: 6578 2c20 2a2a 7629 0d0a 0d0a 2020 2020  ex, **v)....    
+00018b90: 5f63 7265 6174 655f 636f 6c75 6d6e 5f61  _create_column_a
+00018ba0: 6e64 5f73 6574 5f76 616c 7565 286e 6574  nd_set_value(net
+00018bb0: 2c20 696e 6465 782c 206d 6178 5f6c 6f61  , index, max_loa
+00018bc0: 6469 6e67 5f70 6572 6365 6e74 2c20 226d  ding_percent, "m
+00018bd0: 6178 5f6c 6f61 6469 6e67 5f70 6572 6365  ax_loading_perce
+00018be0: 6e74 222c 2022 7472 6166 6f22 290d 0a0d  nt", "trafo")...
+00018bf0: 0a20 2020 2069 6620 7461 705f 6465 7065  .    if tap_depe
+00018c00: 6e64 656e 745f 696d 7065 6461 6e63 6520  ndent_impedance 
+00018c10: 6973 206e 6f74 204e 6f6e 653a 0d0a 2020  is not None:..  
+00018c20: 2020 2020 2020 5f63 7265 6174 655f 636f        _create_co
+00018c30: 6c75 6d6e 5f61 6e64 5f73 6574 5f76 616c  lumn_and_set_val
+00018c40: 7565 286e 6574 2c20 696e 6465 782c 2074  ue(net, index, t
+00018c50: 6170 5f64 6570 656e 6465 6e74 5f69 6d70  ap_dependent_imp
+00018c60: 6564 616e 6365 2c20 2274 6170 5f64 6570  edance, "tap_dep
+00018c70: 656e 6465 6e74 5f69 6d70 6564 616e 6365  endent_impedance
+00018c80: 222c 2022 7472 6166 6f22 2c20 626f 6f6c  ", "trafo", bool
+00018c90: 5f2c 2046 616c 7365 2c20 5472 7565 290d  _, False, True).
+00018ca0: 0a20 2020 2069 6620 766b 5f70 6572 6365  .    if vk_perce
+00018cb0: 6e74 5f63 6861 7261 6374 6572 6973 7469  nt_characteristi
+00018cc0: 6320 6973 206e 6f74 204e 6f6e 653a 0d0a  c is not None:..
+00018cd0: 2020 2020 2020 2020 5f63 7265 6174 655f          _create_
+00018ce0: 636f 6c75 6d6e 5f61 6e64 5f73 6574 5f76  column_and_set_v
+00018cf0: 616c 7565 286e 6574 2c20 696e 6465 782c  alue(net, index,
+00018d00: 2076 6b5f 7065 7263 656e 745f 6368 6172   vk_percent_char
+00018d10: 6163 7465 7269 7374 6963 2c20 2276 6b5f  acteristic, "vk_
+00018d20: 7065 7263 656e 745f 6368 6172 6163 7465  percent_characte
+00018d30: 7269 7374 6963 222c 2022 7472 6166 6f22  ristic", "trafo"
+00018d40: 2c20 2249 6e74 3634 2229 2020 2320 496e  , "Int64")  # In
+00018d50: 7436 3444 7479 7065 0d0a 2020 2020 6966  t64Dtype..    if
+00018d60: 2076 6b72 5f70 6572 6365 6e74 5f63 6861   vkr_percent_cha
+00018d70: 7261 6374 6572 6973 7469 6320 6973 206e  racteristic is n
+00018d80: 6f74 204e 6f6e 653a 0d0a 2020 2020 2020  ot None:..      
+00018d90: 2020 5f63 7265 6174 655f 636f 6c75 6d6e    _create_column
+00018da0: 5f61 6e64 5f73 6574 5f76 616c 7565 286e  _and_set_value(n
+00018db0: 6574 2c20 696e 6465 782c 2076 6b72 5f70  et, index, vkr_p
+00018dc0: 6572 6365 6e74 5f63 6861 7261 6374 6572  ercent_character
+00018dd0: 6973 7469 632c 2022 766b 725f 7065 7263  istic, "vkr_perc
+00018de0: 656e 745f 6368 6172 6163 7465 7269 7374  ent_characterist
+00018df0: 6963 222c 2022 7472 6166 6f22 2c20 2249  ic", "trafo", "I
+00018e00: 6e74 3634 2229 0d0a 0d0a 2020 2020 2320  nt64")....    # 
+00018e10: 7461 705f 7068 6173 655f 7368 6966 7465  tap_phase_shifte
+00018e20: 7220 6465 6661 756c 7420 4661 6c73 650d  r default False.
+00018e30: 0a20 2020 206e 6574 2e74 7261 666f 2e74  .    net.trafo.t
+00018e40: 6170 5f70 6861 7365 5f73 6869 6674 6572  ap_phase_shifter
+00018e50: 2e66 696c 6c6e 6128 4661 6c73 652c 2069  .fillna(False, i
+00018e60: 6e70 6c61 6365 3d54 7275 6529 0d0a 0d0a  nplace=True)....
+00018e70: 2020 2020 7265 7475 726e 2069 6e64 6578      return index
+00018e80: 0d0a 0d0a 0d0a 6465 6620 6372 6561 7465  ......def create
+00018e90: 5f74 7261 6e73 666f 726d 6572 5f66 726f  _transformer_fro
+00018ea0: 6d5f 7061 7261 6d65 7465 7273 286e 6574  m_parameters(net
+00018eb0: 2c20 6876 5f62 7573 2c20 6c76 5f62 7573  , hv_bus, lv_bus
+00018ec0: 2c20 736e 5f6d 7661 2c20 766e 5f68 765f  , sn_mva, vn_hv_
+00018ed0: 6b76 2c20 766e 5f6c 765f 6b76 2c0d 0a20  kv, vn_lv_kv,.. 
 00018ee0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018ef0: 2020 2020 2020 2076 6b72 5f70 6572 6365         vkr_perce
-00018f00: 6e74 2c20 766b 5f70 6572 6365 6e74 2c20  nt, vk_percent, 
-00018f10: 7066 655f 6b77 2c20 6930 5f70 6572 6365  pfe_kw, i0_perce
-00018f20: 6e74 2c0d 0a20 2020 2020 2020 2020 2020  nt,..           
-00018f30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018f40: 2020 2020 2020 2020 2020 2020 7368 6966              shif
-00018f50: 745f 6465 6772 6565 3d30 2c0d 0a20 2020  t_degree=0,..   
-00018f60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018ef0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018f00: 2020 2020 2020 766b 725f 7065 7263 656e        vkr_percen
+00018f10: 742c 2076 6b5f 7065 7263 656e 742c 2070  t, vk_percent, p
+00018f20: 6665 5f6b 772c 2069 305f 7065 7263 656e  fe_kw, i0_percen
+00018f30: 742c 0d0a 2020 2020 2020 2020 2020 2020  t,..            
+00018f40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018f50: 2020 2020 2020 2020 2020 2073 6869 6674             shift
+00018f60: 5f64 6567 7265 653d 302c 0d0a 2020 2020  _degree=0,..    
 00018f70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018f80: 2020 2020 7461 705f 7369 6465 3d4e 6f6e      tap_side=Non
-00018f90: 652c 2074 6170 5f6e 6575 7472 616c 3d6e  e, tap_neutral=n
-00018fa0: 616e 2c20 7461 705f 6d61 783d 6e61 6e2c  an, tap_max=nan,
-00018fb0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00018fc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018fd0: 2020 2020 2020 2020 2074 6170 5f6d 696e           tap_min
-00018fe0: 3d6e 616e 2c20 7461 705f 7374 6570 5f70  =nan, tap_step_p
-00018ff0: 6572 6365 6e74 3d6e 616e 2c20 7461 705f  ercent=nan, tap_
-00019000: 7374 6570 5f64 6567 7265 653d 6e61 6e2c  step_degree=nan,
-00019010: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00019020: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019030: 2020 2020 2020 2020 2074 6170 5f70 6f73           tap_pos
-00019040: 3d6e 616e 2c20 7461 705f 7068 6173 655f  =nan, tap_phase_
-00019050: 7368 6966 7465 723d 4661 6c73 652c 2069  shifter=False, i
-00019060: 6e5f 7365 7276 6963 653d 5472 7565 2c0d  n_service=True,.
-00019070: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00018f80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018f90: 2020 2074 6170 5f73 6964 653d 4e6f 6e65     tap_side=None
+00018fa0: 2c20 7461 705f 6e65 7574 7261 6c3d 6e61  , tap_neutral=na
+00018fb0: 6e2c 2074 6170 5f6d 6178 3d6e 616e 2c0d  n, tap_max=nan,.
+00018fc0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00018fd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018fe0: 2020 2020 2020 2020 7461 705f 6d69 6e3d          tap_min=
+00018ff0: 6e61 6e2c 2074 6170 5f73 7465 705f 7065  nan, tap_step_pe
+00019000: 7263 656e 743d 6e61 6e2c 2074 6170 5f73  rcent=nan, tap_s
+00019010: 7465 705f 6465 6772 6565 3d6e 616e 2c0d  tep_degree=nan,.
+00019020: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00019030: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019040: 2020 2020 2020 2020 7461 705f 706f 733d          tap_pos=
+00019050: 6e61 6e2c 2074 6170 5f70 6861 7365 5f73  nan, tap_phase_s
+00019060: 6869 6674 6572 3d46 616c 7365 2c20 696e  hifter=False, in
+00019070: 5f73 6572 7669 6365 3d54 7275 652c 0d0a  _service=True,..
 00019080: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019090: 2020 2020 2020 2020 6e61 6d65 3d4e 6f6e          name=Non
-000190a0: 652c 2076 6563 746f 725f 6772 6f75 703d  e, vector_group=
-000190b0: 4e6f 6e65 2c20 696e 6465 783d 4e6f 6e65  None, index=None
-000190c0: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
-000190d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000190e0: 2020 2020 2020 2020 2020 6d61 785f 6c6f            max_lo
-000190f0: 6164 696e 675f 7065 7263 656e 743d 6e61  ading_percent=na
-00019100: 6e2c 2070 6172 616c 6c65 6c3d 312c 0d0a  n, parallel=1,..
-00019110: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019090: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000190a0: 2020 2020 2020 206e 616d 653d 4e6f 6e65         name=None
+000190b0: 2c20 7665 6374 6f72 5f67 726f 7570 3d4e  , vector_group=N
+000190c0: 6f6e 652c 2069 6e64 6578 3d4e 6f6e 652c  one, index=None,
+000190d0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+000190e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000190f0: 2020 2020 2020 2020 206d 6178 5f6c 6f61           max_loa
+00019100: 6469 6e67 5f70 6572 6365 6e74 3d6e 616e  ding_percent=nan
+00019110: 2c20 7061 7261 6c6c 656c 3d31 2c0d 0a20  , parallel=1,.. 
 00019120: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019130: 2020 2020 2020 2064 663d 312e 2c20 766b         df=1., vk
-00019140: 305f 7065 7263 656e 743d 6e61 6e2c 2076  0_percent=nan, v
-00019150: 6b72 305f 7065 7263 656e 743d 6e61 6e2c  kr0_percent=nan,
-00019160: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00019170: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019180: 2020 2020 2020 2020 206d 6167 305f 7065           mag0_pe
-00019190: 7263 656e 743d 6e61 6e2c 206d 6167 305f  rcent=nan, mag0_
-000191a0: 7278 3d6e 616e 2c0d 0a20 2020 2020 2020  rx=nan,..       
-000191b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019130: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019140: 2020 2020 2020 6466 3d31 2e2c 2076 6b30        df=1., vk0
+00019150: 5f70 6572 6365 6e74 3d6e 616e 2c20 766b  _percent=nan, vk
+00019160: 7230 5f70 6572 6365 6e74 3d6e 616e 2c0d  r0_percent=nan,.
+00019170: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00019180: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019190: 2020 2020 2020 2020 6d61 6730 5f70 6572          mag0_per
+000191a0: 6365 6e74 3d6e 616e 2c20 6d61 6730 5f72  cent=nan, mag0_r
+000191b0: 783d 6e61 6e2c 0d0a 2020 2020 2020 2020  x=nan,..        
 000191c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000191d0: 7369 305f 6876 5f70 6172 7469 616c 3d6e  si0_hv_partial=n
-000191e0: 616e 2c0d 0a20 2020 2020 2020 2020 2020  an,..           
-000191f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019200: 2020 2020 2020 2020 2020 2020 7074 5f70              pt_p
-00019210: 6572 6365 6e74 3d6e 616e 2c20 6f6c 7463  ercent=nan, oltc
-00019220: 3d46 616c 7365 2c20 7461 705f 6465 7065  =False, tap_depe
-00019230: 6e64 656e 745f 696d 7065 6461 6e63 653d  ndent_impedance=
-00019240: 4e6f 6e65 2c0d 0a20 2020 2020 2020 2020  None,..         
-00019250: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019260: 2020 2020 2020 2020 2020 2020 2020 766b                vk
-00019270: 5f70 6572 6365 6e74 5f63 6861 7261 6374  _percent_charact
-00019280: 6572 6973 7469 633d 4e6f 6e65 2c0d 0a20  eristic=None,.. 
-00019290: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000191d0: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+000191e0: 6930 5f68 765f 7061 7274 6961 6c3d 6e61  i0_hv_partial=na
+000191f0: 6e2c 0d0a 2020 2020 2020 2020 2020 2020  n,..            
+00019200: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019210: 2020 2020 2020 2020 2020 2070 745f 7065             pt_pe
+00019220: 7263 656e 743d 6e61 6e2c 206f 6c74 633d  rcent=nan, oltc=
+00019230: 4661 6c73 652c 2074 6170 5f64 6570 656e  False, tap_depen
+00019240: 6465 6e74 5f69 6d70 6564 616e 6365 3d4e  dent_impedance=N
+00019250: 6f6e 652c 0d0a 2020 2020 2020 2020 2020  one,..          
+00019260: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019270: 2020 2020 2020 2020 2020 2020 2076 6b5f               vk_
+00019280: 7065 7263 656e 745f 6368 6172 6163 7465  percent_characte
+00019290: 7269 7374 6963 3d4e 6f6e 652c 0d0a 2020  ristic=None,..  
 000192a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000192b0: 2020 2020 2020 766b 725f 7065 7263 656e        vkr_percen
-000192c0: 745f 6368 6172 6163 7465 7269 7374 6963  t_characteristic
-000192d0: 3d4e 6f6e 652c 202a 2a6b 7761 7267 7329  =None, **kwargs)
-000192e0: 3a0d 0a20 2020 2022 2222 0d0a 2020 2020  :..    """..    
-000192f0: 4372 6561 7465 7320 6120 7477 6f2d 7769  Creates a two-wi
-00019300: 6e64 696e 6720 7472 616e 7366 6f72 6d65  nding transforme
-00019310: 7220 696e 2074 6162 6c65 206e 6574 5b22  r in table net["
-00019320: 7472 6166 6f22 5d2e 0d0a 2020 2020 5468  trafo"]...    Th
-00019330: 6520 7472 6166 6f20 7061 7261 6d65 7465  e trafo paramete
-00019340: 7273 2061 7265 2064 6566 696e 6564 2074  rs are defined t
-00019350: 6872 6f75 6768 2074 6865 2073 7461 6e64  hrough the stand
-00019360: 6172 6420 7479 7065 206c 6962 7261 7279  ard type library
-00019370: 2e0d 0a0d 0a20 2020 2049 4e50 5554 3a0d  .....    INPUT:.
-00019380: 0a20 2020 2020 2020 202a 2a6e 6574 2a2a  .        **net**
-00019390: 202d 2054 6865 206e 6574 2077 6974 6869   - The net withi
-000193a0: 6e20 7468 6973 2074 7261 6e73 666f 726d  n this transform
-000193b0: 6572 2073 686f 756c 6420 6265 2063 7265  er should be cre
-000193c0: 6174 6564 0d0a 0d0a 2020 2020 2020 2020  ated....        
-000193d0: 2a2a 6876 5f62 7573 2a2a 2028 696e 7429  **hv_bus** (int)
-000193e0: 202d 2054 6865 2062 7573 206f 6e20 7468   - The bus on th
-000193f0: 6520 6869 6768 2d76 6f6c 7461 6765 2073  e high-voltage s
-00019400: 6964 6520 6f6e 2077 6869 6368 2074 6865  ide on which the
-00019410: 2074 7261 6e73 666f 726d 6572 2077 696c   transformer wil
-00019420: 6c20 6265 205c 0d0a 2020 2020 2020 2020  l be \..        
-00019430: 2020 2020 636f 6e6e 6563 7465 6420 746f      connected to
-00019440: 0d0a 0d0a 2020 2020 2020 2020 2a2a 6c76  ....        **lv
-00019450: 5f62 7573 2a2a 2028 696e 7429 202d 2054  _bus** (int) - T
-00019460: 6865 2062 7573 206f 6e20 7468 6520 6c6f  he bus on the lo
-00019470: 772d 766f 6c74 6167 6520 7369 6465 206f  w-voltage side o
-00019480: 6e20 7768 6963 6820 7468 6520 7472 616e  n which the tran
-00019490: 7366 6f72 6d65 7220 7769 6c6c 2062 6520  sformer will be 
-000194a0: 5c0d 0a20 2020 2020 2020 2020 2020 2063  \..            c
-000194b0: 6f6e 6e65 6374 6564 2074 6f0d 0a0d 0a20  onnected to.... 
-000194c0: 2020 2020 2020 202a 2a73 6e5f 6d76 612a         **sn_mva*
-000194d0: 2a20 2866 6c6f 6174 2920 2d20 7261 7465  * (float) - rate
-000194e0: 6420 6170 7061 7265 6e74 2070 6f77 6572  d apparent power
-000194f0: 0d0a 0d0a 2020 2020 2020 2020 2a2a 766e  ....        **vn
-00019500: 5f68 765f 6b76 2a2a 2028 666c 6f61 7429  _hv_kv** (float)
-00019510: 202d 2072 6174 6564 2076 6f6c 7461 6765   - rated voltage
-00019520: 206f 6e20 6869 6768 2076 6f6c 7461 6765   on high voltage
-00019530: 2073 6964 650d 0a0d 0a20 2020 2020 2020   side....       
-00019540: 202a 2a76 6e5f 6c76 5f6b 762a 2a20 2866   **vn_lv_kv** (f
-00019550: 6c6f 6174 2920 2d20 7261 7465 6420 766f  loat) - rated vo
-00019560: 6c74 6167 6520 6f6e 206c 6f77 2076 6f6c  ltage on low vol
-00019570: 7461 6765 2073 6964 650d 0a0d 0a20 2020  tage side....   
-00019580: 2020 2020 202a 2a76 6b72 5f70 6572 6365       **vkr_perce
-00019590: 6e74 2a2a 2028 666c 6f61 7429 202d 2072  nt** (float) - r
-000195a0: 6561 6c20 7061 7274 206f 6620 7265 6c61  eal part of rela
-000195b0: 7469 7665 2073 686f 7274 2d63 6972 6375  tive short-circu
-000195c0: 6974 2076 6f6c 7461 6765 0d0a 0d0a 2020  it voltage....  
-000195d0: 2020 2020 2020 2a2a 766b 5f70 6572 6365        **vk_perce
-000195e0: 6e74 2a2a 2028 666c 6f61 7429 202d 2072  nt** (float) - r
-000195f0: 656c 6174 6976 6520 7368 6f72 742d 6369  elative short-ci
-00019600: 7263 7569 7420 766f 6c74 6167 650d 0a0d  rcuit voltage...
-00019610: 0a20 2020 2020 2020 202a 2a70 6665 5f6b  .        **pfe_k
-00019620: 772a 2a20 2866 6c6f 6174 2920 202d 2069  w** (float)  - i
-00019630: 726f 6e20 6c6f 7373 6573 2069 6e20 6b57  ron losses in kW
-00019640: 0d0a 0d0a 2020 2020 2020 2020 2a2a 6930  ....        **i0
-00019650: 5f70 6572 6365 6e74 2a2a 2028 666c 6f61  _percent** (floa
-00019660: 7429 202d 206f 7065 6e20 6c6f 6f70 206c  t) - open loop l
-00019670: 6f73 7365 7320 696e 2070 6572 6365 6e74  osses in percent
-00019680: 206f 6620 7261 7465 6420 6375 7272 656e   of rated curren
-00019690: 740d 0a0d 0a20 2020 2020 2020 202a 2a76  t....        **v
-000196a0: 6563 746f 725f 6772 6f75 702a 2a20 2853  ector_group** (S
-000196b0: 7472 696e 6729 202d 2056 6563 746f 7220  tring) - Vector 
-000196c0: 6772 6f75 7020 6f66 2074 6865 2074 7261  group of the tra
-000196d0: 6e73 666f 726d 6572 0d0a 0d0a 2020 2020  nsformer....    
-000196e0: 2020 2020 2020 2020 4856 2073 6964 6520          HV side 
-000196f0: 6973 2055 7070 6572 6361 7365 206c 6574  is Uppercase let
-00019700: 7465 7273 0d0a 2020 2020 2020 2020 2020  ters..          
-00019710: 2020 616e 6420 4c56 2073 6964 6520 6973    and LV side is
-00019720: 206c 6f77 6572 2063 6173 650d 0a0d 0a20   lower case.... 
-00019730: 2020 2020 2020 202a 2a76 6b30 5f70 6572         **vk0_per
-00019740: 6365 6e74 2a2a 2028 666c 6f61 7429 202d  cent** (float) -
-00019750: 207a 6572 6f20 7365 7175 656e 6365 2072   zero sequence r
-00019760: 656c 6174 6976 6520 7368 6f72 742d 6369  elative short-ci
-00019770: 7263 7569 7420 766f 6c74 6167 650d 0a0d  rcuit voltage...
-00019780: 0a20 2020 2020 2020 202a 2a76 6b72 305f  .        **vkr0_
-00019790: 7065 7263 656e 742a 2a20 2d20 7265 616c  percent** - real
-000197a0: 2070 6172 7420 6f66 207a 6572 6f20 7365   part of zero se
-000197b0: 7175 656e 6365 2072 656c 6174 6976 6520  quence relative 
-000197c0: 7368 6f72 742d 6369 7263 7569 7420 766f  short-circuit vo
-000197d0: 6c74 6167 650d 0a0d 0a20 2020 2020 2020  ltage....       
-000197e0: 202a 2a6d 6167 305f 7065 7263 656e 742a   **mag0_percent*
-000197f0: 2a20 2d20 7a65 726f 2073 6571 7565 6e63  * - zero sequenc
-00019800: 6520 6d61 676e 6574 697a 696e 6720 696d  e magnetizing im
-00019810: 7065 6461 6e63 652f 2076 6b30 0d0a 0d0a  pedance/ vk0....
-00019820: 2020 2020 2020 2020 2a2a 6d61 6730 5f72          **mag0_r
-00019830: 782a 2a20 202d 207a 6572 6f20 7365 7175  x**  - zero sequ
-00019840: 656e 6365 206d 6167 6e69 7469 7a69 6e67  ence magnitizing
-00019850: 2052 2f58 2072 6174 696f 0d0a 0d0a 2020   R/X ratio....  
-00019860: 2020 2020 2020 2a2a 7369 305f 6876 5f70        **si0_hv_p
-00019870: 6172 7469 616c 2a2a 202d 2044 6973 7472  artial** - Distr
-00019880: 6962 7574 696f 6e20 6f66 207a 6572 6f20  ibution of zero 
-00019890: 7365 7175 656e 6365 206c 6561 6b61 6765  sequence leakage
-000198a0: 2069 6d70 6564 616e 6365 7320 666f 7220   impedances for 
-000198b0: 4856 2073 6964 650d 0a0d 0a0d 0a20 2020  HV side......   
-000198c0: 204f 5054 494f 4e41 4c3a 0d0a 0d0a 2020   OPTIONAL:....  
-000198d0: 2020 2020 2020 2a2a 696e 5f73 6572 7669        **in_servi
-000198e0: 6365 2a2a 2028 626f 6f6c 6561 6e29 202d  ce** (boolean) -
-000198f0: 2054 7275 6520 666f 7220 696e 5f73 6572   True for in_ser
-00019900: 7669 6365 206f 7220 4661 6c73 6520 666f  vice or False fo
-00019910: 7220 6f75 7420 6f66 2073 6572 7669 6365  r out of service
-00019920: 0d0a 0d0a 2020 2020 2020 2020 2a2a 7061  ....        **pa
-00019930: 7261 6c6c 656c 2a2a 2028 696e 7465 6765  rallel** (intege
-00019940: 7229 202d 206e 756d 6265 7220 6f66 2070  r) - number of p
-00019950: 6172 616c 6c65 6c20 7472 616e 7366 6f72  arallel transfor
-00019960: 6d65 7273 0d0a 0d0a 2020 2020 2020 2020  mers....        
-00019970: 2a2a 6e61 6d65 2a2a 2028 7374 7269 6e67  **name** (string
-00019980: 2920 2d20 4120 6375 7374 6f6d 206e 616d  ) - A custom nam
-00019990: 6520 666f 7220 7468 6973 2074 7261 6e73  e for this trans
-000199a0: 666f 726d 6572 0d0a 0d0a 2020 2020 2020  former....      
-000199b0: 2020 2a2a 7368 6966 745f 6465 6772 6565    **shift_degree
-000199c0: 2a2a 2028 666c 6f61 7429 202d 2041 6e67  ** (float) - Ang
-000199d0: 6c65 2073 6869 6674 206f 7665 7220 7468  le shift over th
-000199e0: 6520 7472 616e 7366 6f72 6d65 722a 0d0a  e transformer*..
-000199f0: 0d0a 2020 2020 2020 2020 2a2a 7461 705f  ..        **tap_
-00019a00: 7369 6465 2a2a 2028 7374 7269 6e67 2920  side** (string) 
-00019a10: 2d20 706f 7369 7469 6f6e 206f 6620 7461  - position of ta
-00019a20: 7020 6368 616e 6765 7220 2822 6876 222c  p changer ("hv",
-00019a30: 2022 6c76 2229 0d0a 0d0a 2020 2020 2020   "lv")....      
-00019a40: 2020 2a2a 7461 705f 706f 732a 2a20 2869    **tap_pos** (i
-00019a50: 6e74 2c20 6e61 6e29 202d 2063 7572 7265  nt, nan) - curre
-00019a60: 6e74 2074 6170 2070 6f73 6974 696f 6e20  nt tap position 
-00019a70: 6f66 2074 6865 2074 7261 6e73 666f 726d  of the transform
-00019a80: 6572 2e20 4465 6661 756c 7473 2074 6f20  er. Defaults to 
-00019a90: 7468 6520 6d65 6469 756d 205c 0d0a 2020  the medium \..  
-00019aa0: 2020 2020 2020 2020 2020 706f 7369 7469            positi
-00019ab0: 6f6e 2028 7461 705f 6e65 7574 7261 6c29  on (tap_neutral)
-00019ac0: 0d0a 0d0a 2020 2020 2020 2020 2a2a 7461  ....        **ta
-00019ad0: 705f 6e65 7574 7261 6c2a 2a20 2869 6e74  p_neutral** (int
-00019ae0: 2c20 6e61 6e29 202d 2074 6170 2070 6f73  , nan) - tap pos
-00019af0: 6974 696f 6e20 7768 6572 6520 7468 6520  ition where the 
-00019b00: 7472 616e 7366 6f72 6d65 7220 7261 7469  transformer rati
-00019b10: 6f20 6973 2065 7175 616c 2074 6f20 7468  o is equal to th
-00019b20: 6520 5c0d 0a20 2020 2020 2020 2020 2020  e \..           
-00019b30: 2072 6174 696f 206f 6620 7468 6520 7261   ratio of the ra
-00019b40: 7465 6420 766f 6c74 6167 6573 0d0a 0d0a  ted voltages....
-00019b50: 2020 2020 2020 2020 2a2a 7461 705f 6d61          **tap_ma
-00019b60: 782a 2a20 2869 6e74 2c20 6e61 6e29 202d  x** (int, nan) -
-00019b70: 206d 6178 696d 616c 2061 6c6c 6f77 6564   maximal allowed
-00019b80: 2074 6170 2070 6f73 6974 696f 6e0d 0a0d   tap position...
-00019b90: 0a20 2020 2020 2020 202a 2a74 6170 5f6d  .        **tap_m
-00019ba0: 696e 2a2a 2028 696e 742c 206e 616e 293a  in** (int, nan):
-00019bb0: 2020 6d69 6e69 6d61 6c20 616c 6c6f 7765    minimal allowe
-00019bc0: 6420 7461 7020 706f 7369 7469 6f6e 0d0a  d tap position..
-00019bd0: 0d0a 2020 2020 2020 2020 2a2a 7461 705f  ..        **tap_
-00019be0: 7374 6570 5f70 6572 6365 6e74 2a2a 2028  step_percent** (
-00019bf0: 666c 6f61 7429 202d 2074 6170 2073 7465  float) - tap ste
-00019c00: 7020 7369 7a65 2066 6f72 2076 6f6c 7461  p size for volta
-00019c10: 6765 206d 6167 6e69 7475 6465 2069 6e20  ge magnitude in 
-00019c20: 7065 7263 656e 740d 0a0d 0a20 2020 2020  percent....     
-00019c30: 2020 202a 2a74 6170 5f73 7465 705f 6465     **tap_step_de
-00019c40: 6772 6565 2a2a 2028 666c 6f61 7429 202d  gree** (float) -
-00019c50: 2074 6170 2073 7465 7020 7369 7a65 2066   tap step size f
-00019c60: 6f72 2076 6f6c 7461 6765 2061 6e67 6c65  or voltage angle
-00019c70: 2069 6e20 6465 6772 6565 2a0d 0a0d 0a20   in degree*.... 
-00019c80: 2020 2020 2020 202a 2a74 6170 5f70 6861         **tap_pha
-00019c90: 7365 5f73 6869 6674 6572 2a2a 2028 626f  se_shifter** (bo
-00019ca0: 6f6c 2920 2d20 7768 6574 6865 7220 7468  ol) - whether th
-00019cb0: 6520 7472 616e 7366 6f72 6d65 7220 6973  e transformer is
-00019cc0: 2061 6e20 6964 6561 6c20 7068 6173 6520   an ideal phase 
-00019cd0: 7368 6966 7465 722a 0d0a 0d0a 2020 2020  shifter*....    
-00019ce0: 2020 2020 2a2a 696e 6465 782a 2a20 2869      **index** (i
-00019cf0: 6e74 2c20 4e6f 6e65 2920 2d20 466f 7263  nt, None) - Forc
-00019d00: 6520 6120 7370 6563 6966 6965 6420 4944  e a specified ID
-00019d10: 2069 6620 6974 2069 7320 6176 6169 6c61   if it is availa
-00019d20: 626c 652e 2049 6620 4e6f 6e65 2c20 7468  ble. If None, th
-00019d30: 6520 696e 6465 7820 6f6e 6520 5c0d 0a20  e index one \.. 
-00019d40: 2020 2020 2020 2020 2020 2068 6967 6865             highe
-00019d50: 7220 7468 616e 2074 6865 2068 6967 6865  r than the highe
-00019d60: 7374 2061 6c72 6561 6479 2065 7869 7374  st already exist
-00019d70: 696e 6720 696e 6465 7820 6973 2073 656c  ing index is sel
-00019d80: 6563 7465 642e 0d0a 0d0a 2020 2020 2020  ected.....      
-00019d90: 2020 2a2a 6d61 785f 6c6f 6164 696e 675f    **max_loading_
-00019da0: 7065 7263 656e 7420 2866 6c6f 6174 292a  percent (float)*
-00019db0: 2a20 2d20 6d61 7869 6d75 6d20 6375 7272  * - maximum curr
-00019dc0: 656e 7420 6c6f 6164 696e 6720 286f 6e6c  ent loading (onl
-00019dd0: 7920 6e65 6564 6564 2066 6f72 204f 5046  y needed for OPF
-00019de0: 290d 0a0d 0a20 2020 2020 2020 202a 2a64  )....        **d
-00019df0: 662a 2a20 2866 6c6f 6174 2920 2d20 6465  f** (float) - de
-00019e00: 7261 7469 6e67 2066 6163 746f 723a 206d  rating factor: m
-00019e10: 6178 696d 616c 2063 7572 7265 6e74 206f  aximal current o
-00019e20: 6620 7472 616e 7366 6f72 6d65 7220 696e  f transformer in
-00019e30: 2072 656c 6174 696f 6e20 746f 206e 6f6d   relation to nom
-00019e40: 696e 616c 205c 0d0a 2020 2020 2020 2020  inal \..        
-00019e50: 2020 2020 6375 7272 656e 7420 6f66 2074      current of t
-00019e60: 7261 6e73 666f 726d 6572 2028 6672 6f6d  ransformer (from
-00019e70: 2030 2074 6f20 3129 0d0a 0d0a 2020 2020   0 to 1)....    
-00019e80: 2020 2020 2a2a 7461 705f 6465 7065 6e64      **tap_depend
-00019e90: 656e 745f 696d 7065 6461 6e63 652a 2a20  ent_impedance** 
-00019ea0: 2862 6f6f 6c65 616e 2920 2d20 5472 7565  (boolean) - True
-00019eb0: 2069 6620 7472 616e 7366 6f72 6d65 7220   if transformer 
-00019ec0: 696d 7065 6461 6e63 6520 6d75 7374 2062  impedance must b
-00019ed0: 6520 6164 6a75 7374 6564 2064 6570 656e  e adjusted depen
-00019ee0: 6465 6e74 205c 0d0a 2020 2020 2020 2020  dent \..        
-00019ef0: 2020 2020 6f6e 2074 6865 2074 6170 2070      on the tap p
-00019f00: 6f73 6974 696f 6e20 6f66 2074 6865 2074  osition of the t
-00019f10: 7261 626e 7366 6f72 6d65 722e 2052 6571  rabnsformer. Req
-00019f20: 7569 7265 7320 7468 6520 6164 6469 7469  uires the additi
-00019f30: 6f6e 616c 2063 6f6c 756d 6e73 205c 0d0a  onal columns \..
-00019f40: 2020 2020 2020 2020 2020 2020 2276 6b5f              "vk_
-00019f50: 7065 7263 656e 745f 6368 6172 6163 7465  percent_characte
-00019f60: 7269 7374 6963 2220 616e 6420 2276 6b72  ristic" and "vkr
-00019f70: 5f70 6572 6365 6e74 5f63 6861 7261 6374  _percent_charact
-00019f80: 6572 6973 7469 6322 2074 6861 7420 7265  eristic" that re
-00019f90: 6665 7265 6e63 6520 7468 6520 696e 6465  ference the inde
-00019fa0: 7820 6f66 2074 6865 205c 0d0a 2020 2020  x of the \..    
-00019fb0: 2020 2020 2020 2020 6368 6172 6163 7465          characte
-00019fc0: 7269 7374 6963 2066 726f 6d20 7468 6520  ristic from the 
-00019fd0: 7461 626c 6520 6e65 742e 6368 6172 6163  table net.charac
-00019fe0: 7465 7269 7374 6963 2e20 4120 636f 6e76  teristic. A conv
-00019ff0: 656e 6965 6e63 6520 6675 6e63 7469 6f6e  enience function
-0001a000: 205c 0d0a 2020 2020 2020 2020 2020 2020   \..            
-0001a010: 7061 6e64 6170 6f77 6572 2e63 6f6e 7472  pandapower.contr
-0001a020: 6f6c 2e63 7265 6174 655f 7472 6166 6f5f  ol.create_trafo_
-0001a030: 6368 6172 6163 7465 7269 7374 6963 7320  characteristics 
-0001a040: 6361 6e20 6265 2075 7365 6420 746f 2063  can be used to c
-0001a050: 7265 6174 6520 7468 6520 5370 6c69 6e65  reate the Spline
-0001a060: 4368 6172 6163 7465 7269 7374 6963 205c  Characteristic \
-0001a070: 0d0a 2020 2020 2020 2020 2020 2020 6f62  ..            ob
-0001a080: 6a65 6374 732c 2061 6464 2074 6865 2072  jects, add the r
-0001a090: 656c 6576 616e 7420 636f 6c75 6d6e 7320  elevant columns 
-0001a0a0: 616e 6420 7365 7420 7570 2074 6865 2072  and set up the r
-0001a0b0: 6566 6572 656e 6365 7320 746f 2074 6865  eferences to the
-0001a0c0: 2063 6861 7261 6374 6572 6973 7469 6373   characteristics
-0001a0d0: 2e20 5c0d 0a20 2020 2020 2020 2020 2020  . \..           
-0001a0e0: 2054 6865 2066 756e 6374 696f 6e20 7061   The function pa
-0001a0f0: 6e64 6170 6f77 6572 2e63 6f6e 7472 6f6c  ndapower.control
-0001a100: 2e74 7261 666f 5f63 6861 7261 6374 6572  .trafo_character
-0001a110: 6973 7469 6373 5f64 6961 676e 6f73 7469  istics_diagnosti
-0001a120: 6320 6361 6e20 6265 2075 7365 6420 666f  c can be used fo
-0001a130: 7220 7361 6e69 7479 2063 6865 636b 732e  r sanity checks.
-0001a140: 0d0a 0d0a 2020 2020 2020 2020 2a2a 766b  ....        **vk
-0001a150: 5f70 6572 6365 6e74 5f63 6861 7261 6374  _percent_charact
-0001a160: 6572 6973 7469 632a 2a20 2869 6e74 2920  eristic** (int) 
-0001a170: 2d20 696e 6465 7820 6f66 2074 6865 2063  - index of the c
-0001a180: 6861 7261 6374 6572 6973 7469 6320 6672  haracteristic fr
-0001a190: 6f6d 206e 6574 2e63 6861 7261 6374 6572  om net.character
-0001a1a0: 6973 7469 6320 666f 7220 5c0d 0a20 2020  istic for \..   
-0001a1b0: 2020 2020 2020 2020 2074 6865 2061 646a           the adj
-0001a1c0: 7573 746d 656e 7420 6f66 2074 6865 2070  ustment of the p
-0001a1d0: 6172 616d 6574 6572 2022 766b 5f70 6572  arameter "vk_per
-0001a1e0: 6365 6e74 2220 666f 7220 7468 6520 6361  cent" for the ca
-0001a1f0: 6c63 756c 6174 696f 6e20 6f66 2074 6170  lculation of tap
-0001a200: 2064 6570 656e 6465 6e74 2069 6d70 6564   dependent imped
-0001a210: 616e 6365 2e0d 0a0d 0a20 2020 2020 2020  ance.....       
-0001a220: 202a 2a76 6b72 5f70 6572 6365 6e74 5f63   **vkr_percent_c
-0001a230: 6861 7261 6374 6572 6973 7469 632a 2a20  haracteristic** 
-0001a240: 2869 6e74 2920 2d20 696e 6465 7820 6f66  (int) - index of
-0001a250: 2074 6865 2063 6861 7261 6374 6572 6973   the characteris
-0001a260: 7469 6320 6672 6f6d 206e 6574 2e63 6861  tic from net.cha
-0001a270: 7261 6374 6572 6973 7469 6320 666f 7220  racteristic for 
-0001a280: 5c0d 0a20 2020 2020 2020 2020 2020 2074  \..            t
-0001a290: 6865 2061 646a 7573 746d 656e 7420 6f66  he adjustment of
-0001a2a0: 2074 6865 2070 6172 616d 6574 6572 2022   the parameter "
-0001a2b0: 766b 5f70 6572 6365 6e74 2220 666f 7220  vk_percent" for 
-0001a2c0: 7468 6520 6361 6c63 756c 6174 696f 6e20  the calculation 
-0001a2d0: 6f66 2074 6170 2064 6570 656e 6465 6e74  of tap dependent
-0001a2e0: 2069 6d70 6564 616e 6365 2e0d 0a0d 0a20   impedance..... 
-0001a2f0: 2020 2020 2020 202a 2a70 745f 7065 7263         **pt_perc
-0001a300: 656e 742a 2a20 2866 6c6f 6174 2c20 6e61  ent** (float, na
-0001a310: 6e29 202d 2028 7368 6f72 7420 6369 7263  n) - (short circ
-0001a320: 7569 7420 6f6e 6c79 290d 0a0d 0a20 2020  uit only)....   
-0001a330: 2020 2020 202a 2a6f 6c74 632a 2a20 2862       **oltc** (b
-0001a340: 6f6f 6c2c 2046 616c 7365 2920 2d20 2873  ool, False) - (s
-0001a350: 686f 7274 2063 6972 6375 6974 206f 6e6c  hort circuit onl
-0001a360: 7929 0d0a 0d0a 2020 2020 2020 2020 2a2a  y)....        **
-0001a370: 206f 6e6c 7920 636f 6e73 6964 6572 6564   only considered
-0001a380: 2069 6e20 6c6f 6164 666c 6f77 2069 6620   in loadflow if 
-0001a390: 6361 6c63 756c 6174 655f 766f 6c74 6167  calculate_voltag
-0001a3a0: 655f 616e 676c 6573 203d 2054 7275 650d  e_angles = True.
-0001a3b0: 0a0d 0a20 2020 204f 5554 5055 543a 0d0a  ...    OUTPUT:..
-0001a3c0: 2020 2020 2020 2020 2a2a 696e 6465 782a          **index*
-0001a3d0: 2a20 2869 6e74 2920 2d20 5468 6520 756e  * (int) - The un
-0001a3e0: 6971 7565 2049 4420 6f66 2074 6865 2063  ique ID of the c
-0001a3f0: 7265 6174 6564 2074 7261 6e73 666f 726d  reated transform
-0001a400: 6572 0d0a 0d0a 2020 2020 4558 414d 504c  er....    EXAMPL
-0001a410: 453a 0d0a 2020 2020 2020 2020 6372 6561  E:..        crea
-0001a420: 7465 5f74 7261 6e73 666f 726d 6572 5f66  te_transformer_f
-0001a430: 726f 6d5f 7061 7261 6d65 7465 7273 286e  rom_parameters(n
-0001a440: 6574 2c20 6876 5f62 7573 3d30 2c20 6c76  et, hv_bus=0, lv
-0001a450: 5f62 7573 3d31 2c20 6e61 6d65 3d22 7472  _bus=1, name="tr
-0001a460: 6166 6f31 222c 2073 6e5f 6d76 613d 3430  afo1", sn_mva=40
-0001a470: 2c20 5c0d 0a20 2020 2020 2020 2020 2020  , \..           
-0001a480: 2076 6e5f 6876 5f6b 763d 3131 302c 2076   vn_hv_kv=110, v
-0001a490: 6e5f 6c76 5f6b 763d 3130 2c20 766b 5f70  n_lv_kv=10, vk_p
-0001a4a0: 6572 6365 6e74 3d31 302c 2076 6b72 5f70  ercent=10, vkr_p
-0001a4b0: 6572 6365 6e74 3d30 2e33 2c20 7066 655f  ercent=0.3, pfe_
-0001a4c0: 6b77 3d33 302c 205c 0d0a 2020 2020 2020  kw=30, \..      
-0001a4d0: 2020 2020 2020 6930 5f70 6572 6365 6e74        i0_percent
-0001a4e0: 3d30 2e31 2c20 7368 6966 745f 6465 6772  =0.1, shift_degr
-0001a4f0: 6565 3d33 3029 0d0a 2020 2020 2222 220d  ee=30)..    """.
-0001a500: 0a0d 0a20 2020 2023 2043 6865 636b 2069  ...    # Check i
-0001a510: 6620 6275 7320 6578 6973 7420 746f 2061  f bus exist to a
-0001a520: 7474 6163 6820 7468 6520 7472 6166 6f20  ttach the trafo 
-0001a530: 746f 0d0a 2020 2020 5f63 6865 636b 5f62  to..    _check_b
-0001a540: 7261 6e63 685f 656c 656d 656e 7428 6e65  ranch_element(ne
-0001a550: 742c 2022 5472 6166 6f22 2c20 696e 6465  t, "Trafo", inde
-0001a560: 782c 2068 765f 6275 732c 206c 765f 6275  x, hv_bus, lv_bu
-0001a570: 7329 0d0a 0d0a 2020 2020 696e 6465 7820  s)....    index 
-0001a580: 3d20 5f67 6574 5f69 6e64 6578 5f77 6974  = _get_index_wit
-0001a590: 685f 6368 6563 6b28 6e65 742c 2022 7472  h_check(net, "tr
-0001a5a0: 6166 6f22 2c20 696e 6465 782c 206e 616d  afo", index, nam
-0001a5b0: 653d 2274 7261 6e73 666f 726d 6572 2229  e="transformer")
-0001a5c0: 0d0a 0d0a 2020 2020 6966 2064 6620 3c3d  ....    if df <=
-0001a5d0: 2030 3a0d 0a20 2020 2020 2020 2072 6169   0:..        rai
-0001a5e0: 7365 2055 7365 7257 6172 6e69 6e67 2822  se UserWarning("
-0001a5f0: 6465 7261 7469 6e67 2066 6163 746f 7220  derating factor 
-0001a600: 6466 206d 7573 7420 6265 2070 6f73 6974  df must be posit
-0001a610: 6976 653a 2064 6620 3d20 252e 3366 2220  ive: df = %.3f" 
-0001a620: 2520 6466 290d 0a0d 0a20 2020 2069 6620  % df)....    if 
-0001a630: 7461 705f 706f 7320 6973 206e 616e 3a0d  tap_pos is nan:.
-0001a640: 0a20 2020 2020 2020 2074 6170 5f70 6f73  .        tap_pos
-0001a650: 203d 2074 6170 5f6e 6575 7472 616c 0d0a   = tap_neutral..
-0001a660: 2020 2020 2020 2020 2320 7374 6f72 6520          # store 
-0001a670: 6474 7970 6573 0d0a 0d0a 2020 2020 7620  dtypes....    v 
-0001a680: 3d20 7b0d 0a20 2020 2020 2020 2022 6e61  = {..        "na
-0001a690: 6d65 223a 206e 616d 652c 2022 6876 5f62  me": name, "hv_b
-0001a6a0: 7573 223a 2068 765f 6275 732c 2022 6c76  us": hv_bus, "lv
-0001a6b0: 5f62 7573 223a 206c 765f 6275 732c 0d0a  _bus": lv_bus,..
-0001a6c0: 2020 2020 2020 2020 2269 6e5f 7365 7276          "in_serv
-0001a6d0: 6963 6522 3a20 626f 6f6c 2869 6e5f 7365  ice": bool(in_se
-0001a6e0: 7276 6963 6529 2c20 2273 7464 5f74 7970  rvice), "std_typ
-0001a6f0: 6522 3a20 4e6f 6e65 2c20 2273 6e5f 6d76  e": None, "sn_mv
-0001a700: 6122 3a20 736e 5f6d 7661 2c20 2276 6e5f  a": sn_mva, "vn_
-0001a710: 6876 5f6b 7622 3a20 766e 5f68 765f 6b76  hv_kv": vn_hv_kv
-0001a720: 2c0d 0a20 2020 2020 2020 2022 766e 5f6c  ,..        "vn_l
-0001a730: 765f 6b76 223a 2076 6e5f 6c76 5f6b 762c  v_kv": vn_lv_kv,
-0001a740: 2022 766b 5f70 6572 6365 6e74 223a 2076   "vk_percent": v
-0001a750: 6b5f 7065 7263 656e 742c 2022 766b 725f  k_percent, "vkr_
-0001a760: 7065 7263 656e 7422 3a20 766b 725f 7065  percent": vkr_pe
-0001a770: 7263 656e 742c 0d0a 2020 2020 2020 2020  rcent,..        
-0001a780: 2270 6665 5f6b 7722 3a20 7066 655f 6b77  "pfe_kw": pfe_kw
-0001a790: 2c20 2269 305f 7065 7263 656e 7422 3a20  , "i0_percent": 
-0001a7a0: 6930 5f70 6572 6365 6e74 2c20 2274 6170  i0_percent, "tap
-0001a7b0: 5f6e 6575 7472 616c 223a 2074 6170 5f6e  _neutral": tap_n
-0001a7c0: 6575 7472 616c 2c0d 0a20 2020 2020 2020  eutral,..       
-0001a7d0: 2022 7461 705f 6d61 7822 3a20 7461 705f   "tap_max": tap_
-0001a7e0: 6d61 782c 2022 7461 705f 6d69 6e22 3a20  max, "tap_min": 
-0001a7f0: 7461 705f 6d69 6e2c 2022 7368 6966 745f  tap_min, "shift_
-0001a800: 6465 6772 6565 223a 2073 6869 6674 5f64  degree": shift_d
-0001a810: 6567 7265 652c 0d0a 2020 2020 2020 2020  egree,..        
-0001a820: 2274 6170 5f73 6964 6522 3a20 7461 705f  "tap_side": tap_
-0001a830: 7369 6465 2c20 2274 6170 5f73 7465 705f  side, "tap_step_
-0001a840: 7065 7263 656e 7422 3a20 7461 705f 7374  percent": tap_st
-0001a850: 6570 5f70 6572 6365 6e74 2c20 2274 6170  ep_percent, "tap
-0001a860: 5f73 7465 705f 6465 6772 6565 223a 2074  _step_degree": t
-0001a870: 6170 5f73 7465 705f 6465 6772 6565 2c0d  ap_step_degree,.
-0001a880: 0a20 2020 2020 2020 2022 7461 705f 7068  .        "tap_ph
-0001a890: 6173 655f 7368 6966 7465 7222 3a20 7461  ase_shifter": ta
-0001a8a0: 705f 7068 6173 655f 7368 6966 7465 722c  p_phase_shifter,
-0001a8b0: 2022 7061 7261 6c6c 656c 223a 2070 6172   "parallel": par
-0001a8c0: 616c 6c65 6c2c 2022 6466 223a 2064 662c  allel, "df": df,
-0001a8d0: 0d0a 2020 2020 2020 2020 2270 745f 7065  ..        "pt_pe
-0001a8e0: 7263 656e 7422 3a20 7074 5f70 6572 6365  rcent": pt_perce
-0001a8f0: 6e74 2c20 226f 6c74 6322 3a20 6f6c 7463  nt, "oltc": oltc
-0001a900: 0d0a 2020 2020 7d0d 0a0d 0a20 2020 2069  ..    }....    i
-0001a910: 6620 2822 7461 705f 6e65 7574 7261 6c22  f ("tap_neutral"
-0001a920: 2069 6e20 7629 2061 6e64 2028 7461 705f   in v) and (tap_
-0001a930: 706f 7320 6973 206e 616e 293a 0d0a 2020  pos is nan):..  
-0001a940: 2020 2020 2020 765b 2274 6170 5f70 6f73        v["tap_pos
-0001a950: 225d 203d 2076 5b22 7461 705f 6e65 7574  "] = v["tap_neut
-0001a960: 7261 6c22 5d0d 0a20 2020 2065 6c73 653a  ral"]..    else:
-0001a970: 0d0a 2020 2020 2020 2020 765b 2274 6170  ..        v["tap
-0001a980: 5f70 6f73 225d 203d 2074 6170 5f70 6f73  _pos"] = tap_pos
-0001a990: 0d0a 2020 2020 2020 2020 6966 2074 7970  ..        if typ
-0001a9a0: 6528 7461 705f 706f 7329 203d 3d20 666c  e(tap_pos) == fl
-0001a9b0: 6f61 743a 0d0a 2020 2020 2020 2020 2020  oat:..          
-0001a9c0: 2020 6e65 742e 7472 6166 6f2e 7461 705f    net.trafo.tap_
-0001a9d0: 706f 7320 3d20 6e65 742e 7472 6166 6f2e  pos = net.trafo.
-0001a9e0: 7461 705f 706f 732e 6173 7479 7065 2866  tap_pos.astype(f
-0001a9f0: 6c6f 6174 290d 0a0d 0a20 2020 205f 7365  loat)....    _se
-0001aa00: 745f 656e 7472 6965 7328 6e65 742c 2022  t_entries(net, "
-0001aa10: 7472 6166 6f22 2c20 696e 6465 782c 202a  trafo", index, *
-0001aa20: 2a76 2c20 2a2a 6b77 6172 6773 290d 0a0d  *v, **kwargs)...
-0001aa30: 0a20 2020 2069 6620 7461 705f 6465 7065  .    if tap_depe
-0001aa40: 6e64 656e 745f 696d 7065 6461 6e63 6520  ndent_impedance 
-0001aa50: 6973 206e 6f74 204e 6f6e 653a 0d0a 2020  is not None:..  
-0001aa60: 2020 2020 2020 5f63 7265 6174 655f 636f        _create_co
-0001aa70: 6c75 6d6e 5f61 6e64 5f73 6574 5f76 616c  lumn_and_set_val
-0001aa80: 7565 286e 6574 2c20 696e 6465 782c 2074  ue(net, index, t
-0001aa90: 6170 5f64 6570 656e 6465 6e74 5f69 6d70  ap_dependent_imp
-0001aaa0: 6564 616e 6365 2c20 2274 6170 5f64 6570  edance, "tap_dep
-0001aab0: 656e 6465 6e74 5f69 6d70 6564 616e 6365  endent_impedance
-0001aac0: 222c 2022 7472 6166 6f22 2c20 626f 6f6c  ", "trafo", bool
-0001aad0: 5f2c 2046 616c 7365 2c20 5472 7565 290d  _, False, True).
-0001aae0: 0a20 2020 2069 6620 766b 5f70 6572 6365  .    if vk_perce
-0001aaf0: 6e74 5f63 6861 7261 6374 6572 6973 7469  nt_characteristi
-0001ab00: 6320 6973 206e 6f74 204e 6f6e 653a 0d0a  c is not None:..
-0001ab10: 2020 2020 2020 2020 5f63 7265 6174 655f          _create_
-0001ab20: 636f 6c75 6d6e 5f61 6e64 5f73 6574 5f76  column_and_set_v
-0001ab30: 616c 7565 286e 6574 2c20 696e 6465 782c  alue(net, index,
-0001ab40: 2076 6b5f 7065 7263 656e 745f 6368 6172   vk_percent_char
-0001ab50: 6163 7465 7269 7374 6963 2c20 2276 6b5f  acteristic, "vk_
-0001ab60: 7065 7263 656e 745f 6368 6172 6163 7465  percent_characte
-0001ab70: 7269 7374 6963 222c 2022 7472 6166 6f22  ristic", "trafo"
-0001ab80: 2c20 2249 6e74 3634 2229 0d0a 2020 2020  , "Int64")..    
-0001ab90: 6966 2076 6b72 5f70 6572 6365 6e74 5f63  if vkr_percent_c
-0001aba0: 6861 7261 6374 6572 6973 7469 6320 6973  haracteristic is
-0001abb0: 206e 6f74 204e 6f6e 653a 0d0a 2020 2020   not None:..    
-0001abc0: 2020 2020 5f63 7265 6174 655f 636f 6c75      _create_colu
-0001abd0: 6d6e 5f61 6e64 5f73 6574 5f76 616c 7565  mn_and_set_value
-0001abe0: 286e 6574 2c20 696e 6465 782c 2076 6b72  (net, index, vkr
-0001abf0: 5f70 6572 6365 6e74 5f63 6861 7261 6374  _percent_charact
-0001ac00: 6572 6973 7469 632c 2022 766b 725f 7065  eristic, "vkr_pe
-0001ac10: 7263 656e 745f 6368 6172 6163 7465 7269  rcent_characteri
-0001ac20: 7374 6963 222c 2022 7472 6166 6f22 2c20  stic", "trafo", 
-0001ac30: 2249 6e74 3634 2229 0d0a 0d0a 2020 2020  "Int64")....    
-0001ac40: 6966 206e 6f74 2028 6973 6e61 6e28 766b  if not (isnan(vk
-0001ac50: 305f 7065 7263 656e 7429 2061 6e64 2069  0_percent) and i
-0001ac60: 736e 616e 2876 6b72 305f 7065 7263 656e  snan(vkr0_percen
-0001ac70: 7429 2061 6e64 2069 736e 616e 286d 6167  t) and isnan(mag
-0001ac80: 305f 7065 7263 656e 7429 0d0a 2020 2020  0_percent)..    
-0001ac90: 2020 2020 2020 2020 616e 6420 6973 6e61          and isna
-0001aca0: 6e28 6d61 6730 5f72 7829 2061 6e64 2069  n(mag0_rx) and i
-0001acb0: 736e 616e 2873 6930 5f68 765f 7061 7274  snan(si0_hv_part
-0001acc0: 6961 6c29 2061 6e64 2076 6563 746f 725f  ial) and vector_
-0001acd0: 6772 6f75 7020 6973 204e 6f6e 6529 3a0d  group is None):.
-0001ace0: 0a20 2020 2020 2020 205f 6372 6561 7465  .        _create
-0001acf0: 5f63 6f6c 756d 6e5f 616e 645f 7365 745f  _column_and_set_
-0001ad00: 7661 6c75 6528 6e65 742c 2069 6e64 6578  value(net, index
-0001ad10: 2c20 766b 305f 7065 7263 656e 742c 2022  , vk0_percent, "
-0001ad20: 766b 305f 7065 7263 656e 7422 2c20 2274  vk0_percent", "t
-0001ad30: 7261 666f 2229 0d0a 2020 2020 2020 2020  rafo")..        
-0001ad40: 5f63 7265 6174 655f 636f 6c75 6d6e 5f61  _create_column_a
-0001ad50: 6e64 5f73 6574 5f76 616c 7565 286e 6574  nd_set_value(net
-0001ad60: 2c20 696e 6465 782c 2076 6b72 305f 7065  , index, vkr0_pe
-0001ad70: 7263 656e 742c 2022 766b 7230 5f70 6572  rcent, "vkr0_per
-0001ad80: 6365 6e74 222c 2022 7472 6166 6f22 290d  cent", "trafo").
-0001ad90: 0a20 2020 2020 2020 205f 6372 6561 7465  .        _create
-0001ada0: 5f63 6f6c 756d 6e5f 616e 645f 7365 745f  _column_and_set_
-0001adb0: 7661 6c75 6528 6e65 742c 2069 6e64 6578  value(net, index
-0001adc0: 2c20 6d61 6730 5f70 6572 6365 6e74 2c20  , mag0_percent, 
-0001add0: 226d 6167 305f 7065 7263 656e 7422 2c20  "mag0_percent", 
-0001ade0: 2274 7261 666f 2229 0d0a 2020 2020 2020  "trafo")..      
-0001adf0: 2020 5f63 7265 6174 655f 636f 6c75 6d6e    _create_column
-0001ae00: 5f61 6e64 5f73 6574 5f76 616c 7565 286e  _and_set_value(n
-0001ae10: 6574 2c20 696e 6465 782c 206d 6167 305f  et, index, mag0_
-0001ae20: 7278 2c20 226d 6167 305f 7278 222c 2022  rx, "mag0_rx", "
-0001ae30: 7472 6166 6f22 290d 0a20 2020 2020 2020  trafo")..       
-0001ae40: 205f 6372 6561 7465 5f63 6f6c 756d 6e5f   _create_column_
-0001ae50: 616e 645f 7365 745f 7661 6c75 6528 6e65  and_set_value(ne
-0001ae60: 742c 2069 6e64 6578 2c20 7369 305f 6876  t, index, si0_hv
-0001ae70: 5f70 6172 7469 616c 2c20 2273 6930 5f68  _partial, "si0_h
-0001ae80: 765f 7061 7274 6961 6c22 2c20 2274 7261  v_partial", "tra
-0001ae90: 666f 2229 0d0a 2020 2020 2020 2020 5f63  fo")..        _c
-0001aea0: 7265 6174 655f 636f 6c75 6d6e 5f61 6e64  reate_column_and
-0001aeb0: 5f73 6574 5f76 616c 7565 286e 6574 2c20  _set_value(net, 
-0001aec0: 696e 6465 782c 2076 6563 746f 725f 6772  index, vector_gr
-0001aed0: 6f75 702c 2022 7665 6374 6f72 5f67 726f  oup, "vector_gro
-0001aee0: 7570 222c 2022 7472 6166 6f22 2c20 6474  up", "trafo", dt
-0001aef0: 7970 3d73 7472 2c0d 0a20 2020 2020 2020  yp=str,..       
-0001af00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001af10: 2020 2020 2020 2020 2020 2020 2020 6465                de
-0001af20: 6661 756c 745f 7661 6c3d 4e6f 6e65 290d  fault_val=None).
-0001af30: 0a20 2020 205f 6372 6561 7465 5f63 6f6c  .    _create_col
-0001af40: 756d 6e5f 616e 645f 7365 745f 7661 6c75  umn_and_set_valu
-0001af50: 6528 6e65 742c 2069 6e64 6578 2c20 7074  e(net, index, pt
-0001af60: 5f70 6572 6365 6e74 2c20 2270 745f 7065  _percent, "pt_pe
-0001af70: 7263 656e 7422 2c20 2274 7261 666f 2229  rcent", "trafo")
-0001af80: 0d0a 2020 2020 5f63 7265 6174 655f 636f  ..    _create_co
-0001af90: 6c75 6d6e 5f61 6e64 5f73 6574 5f76 616c  lumn_and_set_val
-0001afa0: 7565 286e 6574 2c20 696e 6465 782c 206d  ue(net, index, m
-0001afb0: 6178 5f6c 6f61 6469 6e67 5f70 6572 6365  ax_loading_perce
-0001afc0: 6e74 2c20 226d 6178 5f6c 6f61 6469 6e67  nt, "max_loading
-0001afd0: 5f70 6572 6365 6e74 222c 2022 7472 6166  _percent", "traf
-0001afe0: 6f22 290d 0a0d 0a20 2020 2072 6574 7572  o")....    retur
-0001aff0: 6e20 696e 6465 780d 0a0d 0a0d 0a64 6566  n index......def
-0001b000: 2063 7265 6174 655f 7472 616e 7366 6f72   create_transfor
-0001b010: 6d65 7273 5f66 726f 6d5f 7061 7261 6d65  mers_from_parame
-0001b020: 7465 7273 286e 6574 2c20 6876 5f62 7573  ters(net, hv_bus
-0001b030: 6573 2c20 6c76 5f62 7573 6573 2c20 736e  es, lv_buses, sn
-0001b040: 5f6d 7661 2c20 766e 5f68 765f 6b76 2c20  _mva, vn_hv_kv, 
-0001b050: 766e 5f6c 765f 6b76 2c0d 0a20 2020 2020  vn_lv_kv,..     
-0001b060: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000192b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000192c0: 2020 2020 2076 6b72 5f70 6572 6365 6e74       vkr_percent
+000192d0: 5f63 6861 7261 6374 6572 6973 7469 633d  _characteristic=
+000192e0: 4e6f 6e65 2c20 2a2a 6b77 6172 6773 293a  None, **kwargs):
+000192f0: 0d0a 2020 2020 2222 220d 0a20 2020 2043  ..    """..    C
+00019300: 7265 6174 6573 2061 2074 776f 2d77 696e  reates a two-win
+00019310: 6469 6e67 2074 7261 6e73 666f 726d 6572  ding transformer
+00019320: 2069 6e20 7461 626c 6520 6e65 745b 2274   in table net["t
+00019330: 7261 666f 225d 2e0d 0a20 2020 2054 6865  rafo"]...    The
+00019340: 2074 7261 666f 2070 6172 616d 6574 6572   trafo parameter
+00019350: 7320 6172 6520 6465 6669 6e65 6420 7468  s are defined th
+00019360: 726f 7567 6820 7468 6520 7374 616e 6461  rough the standa
+00019370: 7264 2074 7970 6520 6c69 6272 6172 792e  rd type library.
+00019380: 0d0a 0d0a 2020 2020 494e 5055 543a 0d0a  ....    INPUT:..
+00019390: 2020 2020 2020 2020 2a2a 6e65 742a 2a20          **net** 
+000193a0: 2d20 5468 6520 6e65 7420 7769 7468 696e  - The net within
+000193b0: 2074 6869 7320 7472 616e 7366 6f72 6d65   this transforme
+000193c0: 7220 7368 6f75 6c64 2062 6520 6372 6561  r should be crea
+000193d0: 7465 640d 0a0d 0a20 2020 2020 2020 202a  ted....        *
+000193e0: 2a68 765f 6275 732a 2a20 2869 6e74 2920  *hv_bus** (int) 
+000193f0: 2d20 5468 6520 6275 7320 6f6e 2074 6865  - The bus on the
+00019400: 2068 6967 682d 766f 6c74 6167 6520 7369   high-voltage si
+00019410: 6465 206f 6e20 7768 6963 6820 7468 6520  de on which the 
+00019420: 7472 616e 7366 6f72 6d65 7220 7769 6c6c  transformer will
+00019430: 2062 6520 5c0d 0a20 2020 2020 2020 2020   be \..         
+00019440: 2020 2063 6f6e 6e65 6374 6564 2074 6f0d     connected to.
+00019450: 0a0d 0a20 2020 2020 2020 202a 2a6c 765f  ...        **lv_
+00019460: 6275 732a 2a20 2869 6e74 2920 2d20 5468  bus** (int) - Th
+00019470: 6520 6275 7320 6f6e 2074 6865 206c 6f77  e bus on the low
+00019480: 2d76 6f6c 7461 6765 2073 6964 6520 6f6e  -voltage side on
+00019490: 2077 6869 6368 2074 6865 2074 7261 6e73   which the trans
+000194a0: 666f 726d 6572 2077 696c 6c20 6265 205c  former will be \
+000194b0: 0d0a 2020 2020 2020 2020 2020 2020 636f  ..            co
+000194c0: 6e6e 6563 7465 6420 746f 0d0a 0d0a 2020  nnected to....  
+000194d0: 2020 2020 2020 2a2a 736e 5f6d 7661 2a2a        **sn_mva**
+000194e0: 2028 666c 6f61 7429 202d 2072 6174 6564   (float) - rated
+000194f0: 2061 7070 6172 656e 7420 706f 7765 720d   apparent power.
+00019500: 0a0d 0a20 2020 2020 2020 202a 2a76 6e5f  ...        **vn_
+00019510: 6876 5f6b 762a 2a20 2866 6c6f 6174 2920  hv_kv** (float) 
+00019520: 2d20 7261 7465 6420 766f 6c74 6167 6520  - rated voltage 
+00019530: 6f6e 2068 6967 6820 766f 6c74 6167 6520  on high voltage 
+00019540: 7369 6465 0d0a 0d0a 2020 2020 2020 2020  side....        
+00019550: 2a2a 766e 5f6c 765f 6b76 2a2a 2028 666c  **vn_lv_kv** (fl
+00019560: 6f61 7429 202d 2072 6174 6564 2076 6f6c  oat) - rated vol
+00019570: 7461 6765 206f 6e20 6c6f 7720 766f 6c74  tage on low volt
+00019580: 6167 6520 7369 6465 0d0a 0d0a 2020 2020  age side....    
+00019590: 2020 2020 2a2a 766b 725f 7065 7263 656e      **vkr_percen
+000195a0: 742a 2a20 2866 6c6f 6174 2920 2d20 7265  t** (float) - re
+000195b0: 616c 2070 6172 7420 6f66 2072 656c 6174  al part of relat
+000195c0: 6976 6520 7368 6f72 742d 6369 7263 7569  ive short-circui
+000195d0: 7420 766f 6c74 6167 650d 0a0d 0a20 2020  t voltage....   
+000195e0: 2020 2020 202a 2a76 6b5f 7065 7263 656e       **vk_percen
+000195f0: 742a 2a20 2866 6c6f 6174 2920 2d20 7265  t** (float) - re
+00019600: 6c61 7469 7665 2073 686f 7274 2d63 6972  lative short-cir
+00019610: 6375 6974 2076 6f6c 7461 6765 0d0a 0d0a  cuit voltage....
+00019620: 2020 2020 2020 2020 2a2a 7066 655f 6b77          **pfe_kw
+00019630: 2a2a 2028 666c 6f61 7429 2020 2d20 6972  ** (float)  - ir
+00019640: 6f6e 206c 6f73 7365 7320 696e 206b 570d  on losses in kW.
+00019650: 0a0d 0a20 2020 2020 2020 202a 2a69 305f  ...        **i0_
+00019660: 7065 7263 656e 742a 2a20 2866 6c6f 6174  percent** (float
+00019670: 2920 2d20 6f70 656e 206c 6f6f 7020 6c6f  ) - open loop lo
+00019680: 7373 6573 2069 6e20 7065 7263 656e 7420  sses in percent 
+00019690: 6f66 2072 6174 6564 2063 7572 7265 6e74  of rated current
+000196a0: 0d0a 0d0a 2020 2020 2020 2020 2a2a 7665  ....        **ve
+000196b0: 6374 6f72 5f67 726f 7570 2a2a 2028 5374  ctor_group** (St
+000196c0: 7269 6e67 2920 2d20 5665 6374 6f72 2067  ring) - Vector g
+000196d0: 726f 7570 206f 6620 7468 6520 7472 616e  roup of the tran
+000196e0: 7366 6f72 6d65 720d 0a0d 0a20 2020 2020  sformer....     
+000196f0: 2020 2020 2020 2048 5620 7369 6465 2069         HV side i
+00019700: 7320 5570 7065 7263 6173 6520 6c65 7474  s Uppercase lett
+00019710: 6572 730d 0a20 2020 2020 2020 2020 2020  ers..           
+00019720: 2061 6e64 204c 5620 7369 6465 2069 7320   and LV side is 
+00019730: 6c6f 7765 7220 6361 7365 0d0a 0d0a 2020  lower case....  
+00019740: 2020 2020 2020 2a2a 766b 305f 7065 7263        **vk0_perc
+00019750: 656e 742a 2a20 2866 6c6f 6174 2920 2d20  ent** (float) - 
+00019760: 7a65 726f 2073 6571 7565 6e63 6520 7265  zero sequence re
+00019770: 6c61 7469 7665 2073 686f 7274 2d63 6972  lative short-cir
+00019780: 6375 6974 2076 6f6c 7461 6765 0d0a 0d0a  cuit voltage....
+00019790: 2020 2020 2020 2020 2a2a 766b 7230 5f70          **vkr0_p
+000197a0: 6572 6365 6e74 2a2a 202d 2072 6561 6c20  ercent** - real 
+000197b0: 7061 7274 206f 6620 7a65 726f 2073 6571  part of zero seq
+000197c0: 7565 6e63 6520 7265 6c61 7469 7665 2073  uence relative s
+000197d0: 686f 7274 2d63 6972 6375 6974 2076 6f6c  hort-circuit vol
+000197e0: 7461 6765 0d0a 0d0a 2020 2020 2020 2020  tage....        
+000197f0: 2a2a 6d61 6730 5f70 6572 6365 6e74 2a2a  **mag0_percent**
+00019800: 202d 207a 6572 6f20 7365 7175 656e 6365   - zero sequence
+00019810: 206d 6167 6e65 7469 7a69 6e67 2069 6d70   magnetizing imp
+00019820: 6564 616e 6365 2f20 766b 300d 0a0d 0a20  edance/ vk0.... 
+00019830: 2020 2020 2020 202a 2a6d 6167 305f 7278         **mag0_rx
+00019840: 2a2a 2020 2d20 7a65 726f 2073 6571 7565  **  - zero seque
+00019850: 6e63 6520 6d61 676e 6974 697a 696e 6720  nce magnitizing 
+00019860: 522f 5820 7261 7469 6f0d 0a0d 0a20 2020  R/X ratio....   
+00019870: 2020 2020 202a 2a73 6930 5f68 765f 7061       **si0_hv_pa
+00019880: 7274 6961 6c2a 2a20 2d20 4469 7374 7269  rtial** - Distri
+00019890: 6275 7469 6f6e 206f 6620 7a65 726f 2073  bution of zero s
+000198a0: 6571 7565 6e63 6520 6c65 616b 6167 6520  equence leakage 
+000198b0: 696d 7065 6461 6e63 6573 2066 6f72 2048  impedances for H
+000198c0: 5620 7369 6465 0d0a 0d0a 0d0a 2020 2020  V side......    
+000198d0: 4f50 5449 4f4e 414c 3a0d 0a0d 0a20 2020  OPTIONAL:....   
+000198e0: 2020 2020 202a 2a69 6e5f 7365 7276 6963       **in_servic
+000198f0: 652a 2a20 2862 6f6f 6c65 616e 2920 2d20  e** (boolean) - 
+00019900: 5472 7565 2066 6f72 2069 6e5f 7365 7276  True for in_serv
+00019910: 6963 6520 6f72 2046 616c 7365 2066 6f72  ice or False for
+00019920: 206f 7574 206f 6620 7365 7276 6963 650d   out of service.
+00019930: 0a0d 0a20 2020 2020 2020 202a 2a70 6172  ...        **par
+00019940: 616c 6c65 6c2a 2a20 2869 6e74 6567 6572  allel** (integer
+00019950: 2920 2d20 6e75 6d62 6572 206f 6620 7061  ) - number of pa
+00019960: 7261 6c6c 656c 2074 7261 6e73 666f 726d  rallel transform
+00019970: 6572 730d 0a0d 0a20 2020 2020 2020 202a  ers....        *
+00019980: 2a6e 616d 652a 2a20 2873 7472 696e 6729  *name** (string)
+00019990: 202d 2041 2063 7573 746f 6d20 6e61 6d65   - A custom name
+000199a0: 2066 6f72 2074 6869 7320 7472 616e 7366   for this transf
+000199b0: 6f72 6d65 720d 0a0d 0a20 2020 2020 2020  ormer....       
+000199c0: 202a 2a73 6869 6674 5f64 6567 7265 652a   **shift_degree*
+000199d0: 2a20 2866 6c6f 6174 2920 2d20 416e 676c  * (float) - Angl
+000199e0: 6520 7368 6966 7420 6f76 6572 2074 6865  e shift over the
+000199f0: 2074 7261 6e73 666f 726d 6572 2a0d 0a0d   transformer*...
+00019a00: 0a20 2020 2020 2020 202a 2a74 6170 5f73  .        **tap_s
+00019a10: 6964 652a 2a20 2873 7472 696e 6729 202d  ide** (string) -
+00019a20: 2070 6f73 6974 696f 6e20 6f66 2074 6170   position of tap
+00019a30: 2063 6861 6e67 6572 2028 2268 7622 2c20   changer ("hv", 
+00019a40: 226c 7622 290d 0a0d 0a20 2020 2020 2020  "lv")....       
+00019a50: 202a 2a74 6170 5f70 6f73 2a2a 2028 696e   **tap_pos** (in
+00019a60: 742c 206e 616e 2920 2d20 6375 7272 656e  t, nan) - curren
+00019a70: 7420 7461 7020 706f 7369 7469 6f6e 206f  t tap position o
+00019a80: 6620 7468 6520 7472 616e 7366 6f72 6d65  f the transforme
+00019a90: 722e 2044 6566 6175 6c74 7320 746f 2074  r. Defaults to t
+00019aa0: 6865 206d 6564 6975 6d20 5c0d 0a20 2020  he medium \..   
+00019ab0: 2020 2020 2020 2020 2070 6f73 6974 696f           positio
+00019ac0: 6e20 2874 6170 5f6e 6575 7472 616c 290d  n (tap_neutral).
+00019ad0: 0a0d 0a20 2020 2020 2020 202a 2a74 6170  ...        **tap
+00019ae0: 5f6e 6575 7472 616c 2a2a 2028 696e 742c  _neutral** (int,
+00019af0: 206e 616e 2920 2d20 7461 7020 706f 7369   nan) - tap posi
+00019b00: 7469 6f6e 2077 6865 7265 2074 6865 2074  tion where the t
+00019b10: 7261 6e73 666f 726d 6572 2072 6174 696f  ransformer ratio
+00019b20: 2069 7320 6571 7561 6c20 746f 2074 6865   is equal to the
+00019b30: 205c 0d0a 2020 2020 2020 2020 2020 2020   \..            
+00019b40: 7261 7469 6f20 6f66 2074 6865 2072 6174  ratio of the rat
+00019b50: 6564 2076 6f6c 7461 6765 730d 0a0d 0a20  ed voltages.... 
+00019b60: 2020 2020 2020 202a 2a74 6170 5f6d 6178         **tap_max
+00019b70: 2a2a 2028 696e 742c 206e 616e 2920 2d20  ** (int, nan) - 
+00019b80: 6d61 7869 6d61 6c20 616c 6c6f 7765 6420  maximal allowed 
+00019b90: 7461 7020 706f 7369 7469 6f6e 0d0a 0d0a  tap position....
+00019ba0: 2020 2020 2020 2020 2a2a 7461 705f 6d69          **tap_mi
+00019bb0: 6e2a 2a20 2869 6e74 2c20 6e61 6e29 3a20  n** (int, nan): 
+00019bc0: 206d 696e 696d 616c 2061 6c6c 6f77 6564   minimal allowed
+00019bd0: 2074 6170 2070 6f73 6974 696f 6e0d 0a0d   tap position...
+00019be0: 0a20 2020 2020 2020 202a 2a74 6170 5f73  .        **tap_s
+00019bf0: 7465 705f 7065 7263 656e 742a 2a20 2866  tep_percent** (f
+00019c00: 6c6f 6174 2920 2d20 7461 7020 7374 6570  loat) - tap step
+00019c10: 2073 697a 6520 666f 7220 766f 6c74 6167   size for voltag
+00019c20: 6520 6d61 676e 6974 7564 6520 696e 2070  e magnitude in p
+00019c30: 6572 6365 6e74 0d0a 0d0a 2020 2020 2020  ercent....      
+00019c40: 2020 2a2a 7461 705f 7374 6570 5f64 6567    **tap_step_deg
+00019c50: 7265 652a 2a20 2866 6c6f 6174 2920 2d20  ree** (float) - 
+00019c60: 7461 7020 7374 6570 2073 697a 6520 666f  tap step size fo
+00019c70: 7220 766f 6c74 6167 6520 616e 676c 6520  r voltage angle 
+00019c80: 696e 2064 6567 7265 652a 0d0a 0d0a 2020  in degree*....  
+00019c90: 2020 2020 2020 2a2a 7461 705f 7068 6173        **tap_phas
+00019ca0: 655f 7368 6966 7465 722a 2a20 2862 6f6f  e_shifter** (boo
+00019cb0: 6c29 202d 2077 6865 7468 6572 2074 6865  l) - whether the
+00019cc0: 2074 7261 6e73 666f 726d 6572 2069 7320   transformer is 
+00019cd0: 616e 2069 6465 616c 2070 6861 7365 2073  an ideal phase s
+00019ce0: 6869 6674 6572 2a0d 0a0d 0a20 2020 2020  hifter*....     
+00019cf0: 2020 202a 2a69 6e64 6578 2a2a 2028 696e     **index** (in
+00019d00: 742c 204e 6f6e 6529 202d 2046 6f72 6365  t, None) - Force
+00019d10: 2061 2073 7065 6369 6669 6564 2049 4420   a specified ID 
+00019d20: 6966 2069 7420 6973 2061 7661 696c 6162  if it is availab
+00019d30: 6c65 2e20 4966 204e 6f6e 652c 2074 6865  le. If None, the
+00019d40: 2069 6e64 6578 206f 6e65 205c 0d0a 2020   index one \..  
+00019d50: 2020 2020 2020 2020 2020 6869 6768 6572            higher
+00019d60: 2074 6861 6e20 7468 6520 6869 6768 6573   than the highes
+00019d70: 7420 616c 7265 6164 7920 6578 6973 7469  t already existi
+00019d80: 6e67 2069 6e64 6578 2069 7320 7365 6c65  ng index is sele
+00019d90: 6374 6564 2e0d 0a0d 0a20 2020 2020 2020  cted.....       
+00019da0: 202a 2a6d 6178 5f6c 6f61 6469 6e67 5f70   **max_loading_p
+00019db0: 6572 6365 6e74 2028 666c 6f61 7429 2a2a  ercent (float)**
+00019dc0: 202d 206d 6178 696d 756d 2063 7572 7265   - maximum curre
+00019dd0: 6e74 206c 6f61 6469 6e67 2028 6f6e 6c79  nt loading (only
+00019de0: 206e 6565 6465 6420 666f 7220 4f50 4629   needed for OPF)
+00019df0: 0d0a 0d0a 2020 2020 2020 2020 2a2a 6466  ....        **df
+00019e00: 2a2a 2028 666c 6f61 7429 202d 2064 6572  ** (float) - der
+00019e10: 6174 696e 6720 6661 6374 6f72 3a20 6d61  ating factor: ma
+00019e20: 7869 6d61 6c20 6375 7272 656e 7420 6f66  ximal current of
+00019e30: 2074 7261 6e73 666f 726d 6572 2069 6e20   transformer in 
+00019e40: 7265 6c61 7469 6f6e 2074 6f20 6e6f 6d69  relation to nomi
+00019e50: 6e61 6c20 5c0d 0a20 2020 2020 2020 2020  nal \..         
+00019e60: 2020 2063 7572 7265 6e74 206f 6620 7472     current of tr
+00019e70: 616e 7366 6f72 6d65 7220 2866 726f 6d20  ansformer (from 
+00019e80: 3020 746f 2031 290d 0a0d 0a20 2020 2020  0 to 1)....     
+00019e90: 2020 202a 2a74 6170 5f64 6570 656e 6465     **tap_depende
+00019ea0: 6e74 5f69 6d70 6564 616e 6365 2a2a 2028  nt_impedance** (
+00019eb0: 626f 6f6c 6561 6e29 202d 2054 7275 6520  boolean) - True 
+00019ec0: 6966 2074 7261 6e73 666f 726d 6572 2069  if transformer i
+00019ed0: 6d70 6564 616e 6365 206d 7573 7420 6265  mpedance must be
+00019ee0: 2061 646a 7573 7465 6420 6465 7065 6e64   adjusted depend
+00019ef0: 656e 7420 5c0d 0a20 2020 2020 2020 2020  ent \..         
+00019f00: 2020 206f 6e20 7468 6520 7461 7020 706f     on the tap po
+00019f10: 7369 7469 6f6e 206f 6620 7468 6520 7472  sition of the tr
+00019f20: 6162 6e73 666f 726d 6572 2e20 5265 7175  abnsformer. Requ
+00019f30: 6972 6573 2074 6865 2061 6464 6974 696f  ires the additio
+00019f40: 6e61 6c20 636f 6c75 6d6e 7320 5c0d 0a20  nal columns \.. 
+00019f50: 2020 2020 2020 2020 2020 2022 766b 5f70             "vk_p
+00019f60: 6572 6365 6e74 5f63 6861 7261 6374 6572  ercent_character
+00019f70: 6973 7469 6322 2061 6e64 2022 766b 725f  istic" and "vkr_
+00019f80: 7065 7263 656e 745f 6368 6172 6163 7465  percent_characte
+00019f90: 7269 7374 6963 2220 7468 6174 2072 6566  ristic" that ref
+00019fa0: 6572 656e 6365 2074 6865 2069 6e64 6578  erence the index
+00019fb0: 206f 6620 7468 6520 5c0d 0a20 2020 2020   of the \..     
+00019fc0: 2020 2020 2020 2063 6861 7261 6374 6572         character
+00019fd0: 6973 7469 6320 6672 6f6d 2074 6865 2074  istic from the t
+00019fe0: 6162 6c65 206e 6574 2e63 6861 7261 6374  able net.charact
+00019ff0: 6572 6973 7469 632e 2041 2063 6f6e 7665  eristic. A conve
+0001a000: 6e69 656e 6365 2066 756e 6374 696f 6e20  nience function 
+0001a010: 5c0d 0a20 2020 2020 2020 2020 2020 2070  \..            p
+0001a020: 616e 6461 706f 7765 722e 636f 6e74 726f  andapower.contro
+0001a030: 6c2e 6372 6561 7465 5f74 7261 666f 5f63  l.create_trafo_c
+0001a040: 6861 7261 6374 6572 6973 7469 6373 2063  haracteristics c
+0001a050: 616e 2062 6520 7573 6564 2074 6f20 6372  an be used to cr
+0001a060: 6561 7465 2074 6865 2053 706c 696e 6543  eate the SplineC
+0001a070: 6861 7261 6374 6572 6973 7469 6320 5c0d  haracteristic \.
+0001a080: 0a20 2020 2020 2020 2020 2020 206f 626a  .            obj
+0001a090: 6563 7473 2c20 6164 6420 7468 6520 7265  ects, add the re
+0001a0a0: 6c65 7661 6e74 2063 6f6c 756d 6e73 2061  levant columns a
+0001a0b0: 6e64 2073 6574 2075 7020 7468 6520 7265  nd set up the re
+0001a0c0: 6665 7265 6e63 6573 2074 6f20 7468 6520  ferences to the 
+0001a0d0: 6368 6172 6163 7465 7269 7374 6963 732e  characteristics.
+0001a0e0: 205c 0d0a 2020 2020 2020 2020 2020 2020   \..            
+0001a0f0: 5468 6520 6675 6e63 7469 6f6e 2070 616e  The function pan
+0001a100: 6461 706f 7765 722e 636f 6e74 726f 6c2e  dapower.control.
+0001a110: 7472 6166 6f5f 6368 6172 6163 7465 7269  trafo_characteri
+0001a120: 7374 6963 735f 6469 6167 6e6f 7374 6963  stics_diagnostic
+0001a130: 2063 616e 2062 6520 7573 6564 2066 6f72   can be used for
+0001a140: 2073 616e 6974 7920 6368 6563 6b73 2e0d   sanity checks..
+0001a150: 0a0d 0a20 2020 2020 2020 202a 2a76 6b5f  ...        **vk_
+0001a160: 7065 7263 656e 745f 6368 6172 6163 7465  percent_characte
+0001a170: 7269 7374 6963 2a2a 2028 696e 7429 202d  ristic** (int) -
+0001a180: 2069 6e64 6578 206f 6620 7468 6520 6368   index of the ch
+0001a190: 6172 6163 7465 7269 7374 6963 2066 726f  aracteristic fro
+0001a1a0: 6d20 6e65 742e 6368 6172 6163 7465 7269  m net.characteri
+0001a1b0: 7374 6963 2066 6f72 205c 0d0a 2020 2020  stic for \..    
+0001a1c0: 2020 2020 2020 2020 7468 6520 6164 6a75          the adju
+0001a1d0: 7374 6d65 6e74 206f 6620 7468 6520 7061  stment of the pa
+0001a1e0: 7261 6d65 7465 7220 2276 6b5f 7065 7263  rameter "vk_perc
+0001a1f0: 656e 7422 2066 6f72 2074 6865 2063 616c  ent" for the cal
+0001a200: 6375 6c61 7469 6f6e 206f 6620 7461 7020  culation of tap 
+0001a210: 6465 7065 6e64 656e 7420 696d 7065 6461  dependent impeda
+0001a220: 6e63 652e 0d0a 0d0a 2020 2020 2020 2020  nce.....        
+0001a230: 2a2a 766b 725f 7065 7263 656e 745f 6368  **vkr_percent_ch
+0001a240: 6172 6163 7465 7269 7374 6963 2a2a 2028  aracteristic** (
+0001a250: 696e 7429 202d 2069 6e64 6578 206f 6620  int) - index of 
+0001a260: 7468 6520 6368 6172 6163 7465 7269 7374  the characterist
+0001a270: 6963 2066 726f 6d20 6e65 742e 6368 6172  ic from net.char
+0001a280: 6163 7465 7269 7374 6963 2066 6f72 205c  acteristic for \
+0001a290: 0d0a 2020 2020 2020 2020 2020 2020 7468  ..            th
+0001a2a0: 6520 6164 6a75 7374 6d65 6e74 206f 6620  e adjustment of 
+0001a2b0: 7468 6520 7061 7261 6d65 7465 7220 2276  the parameter "v
+0001a2c0: 6b5f 7065 7263 656e 7422 2066 6f72 2074  k_percent" for t
+0001a2d0: 6865 2063 616c 6375 6c61 7469 6f6e 206f  he calculation o
+0001a2e0: 6620 7461 7020 6465 7065 6e64 656e 7420  f tap dependent 
+0001a2f0: 696d 7065 6461 6e63 652e 0d0a 0d0a 2020  impedance.....  
+0001a300: 2020 2020 2020 2a2a 7074 5f70 6572 6365        **pt_perce
+0001a310: 6e74 2a2a 2028 666c 6f61 742c 206e 616e  nt** (float, nan
+0001a320: 2920 2d20 2873 686f 7274 2063 6972 6375  ) - (short circu
+0001a330: 6974 206f 6e6c 7929 0d0a 0d0a 2020 2020  it only)....    
+0001a340: 2020 2020 2a2a 6f6c 7463 2a2a 2028 626f      **oltc** (bo
+0001a350: 6f6c 2c20 4661 6c73 6529 202d 2028 7368  ol, False) - (sh
+0001a360: 6f72 7420 6369 7263 7569 7420 6f6e 6c79  ort circuit only
+0001a370: 290d 0a0d 0a20 2020 2020 2020 202a 2a20  )....        ** 
+0001a380: 6f6e 6c79 2063 6f6e 7369 6465 7265 6420  only considered 
+0001a390: 696e 206c 6f61 6466 6c6f 7720 6966 2063  in loadflow if c
+0001a3a0: 616c 6375 6c61 7465 5f76 6f6c 7461 6765  alculate_voltage
+0001a3b0: 5f61 6e67 6c65 7320 3d20 5472 7565 0d0a  _angles = True..
+0001a3c0: 0d0a 2020 2020 4f55 5450 5554 3a0d 0a20  ..    OUTPUT:.. 
+0001a3d0: 2020 2020 2020 202a 2a69 6e64 6578 2a2a         **index**
+0001a3e0: 2028 696e 7429 202d 2054 6865 2075 6e69   (int) - The uni
+0001a3f0: 7175 6520 4944 206f 6620 7468 6520 6372  que ID of the cr
+0001a400: 6561 7465 6420 7472 616e 7366 6f72 6d65  eated transforme
+0001a410: 720d 0a0d 0a20 2020 2045 5841 4d50 4c45  r....    EXAMPLE
+0001a420: 3a0d 0a20 2020 2020 2020 2063 7265 6174  :..        creat
+0001a430: 655f 7472 616e 7366 6f72 6d65 725f 6672  e_transformer_fr
+0001a440: 6f6d 5f70 6172 616d 6574 6572 7328 6e65  om_parameters(ne
+0001a450: 742c 2068 765f 6275 733d 302c 206c 765f  t, hv_bus=0, lv_
+0001a460: 6275 733d 312c 206e 616d 653d 2274 7261  bus=1, name="tra
+0001a470: 666f 3122 2c20 736e 5f6d 7661 3d34 302c  fo1", sn_mva=40,
+0001a480: 205c 0d0a 2020 2020 2020 2020 2020 2020   \..            
+0001a490: 766e 5f68 765f 6b76 3d31 3130 2c20 766e  vn_hv_kv=110, vn
+0001a4a0: 5f6c 765f 6b76 3d31 302c 2076 6b5f 7065  _lv_kv=10, vk_pe
+0001a4b0: 7263 656e 743d 3130 2c20 766b 725f 7065  rcent=10, vkr_pe
+0001a4c0: 7263 656e 743d 302e 332c 2070 6665 5f6b  rcent=0.3, pfe_k
+0001a4d0: 773d 3330 2c20 5c0d 0a20 2020 2020 2020  w=30, \..       
+0001a4e0: 2020 2020 2069 305f 7065 7263 656e 743d       i0_percent=
+0001a4f0: 302e 312c 2073 6869 6674 5f64 6567 7265  0.1, shift_degre
+0001a500: 653d 3330 290d 0a20 2020 2022 2222 0d0a  e=30)..    """..
+0001a510: 0d0a 2020 2020 2320 4368 6563 6b20 6966  ..    # Check if
+0001a520: 2062 7573 2065 7869 7374 2074 6f20 6174   bus exist to at
+0001a530: 7461 6368 2074 6865 2074 7261 666f 2074  tach the trafo t
+0001a540: 6f0d 0a20 2020 205f 6368 6563 6b5f 6272  o..    _check_br
+0001a550: 616e 6368 5f65 6c65 6d65 6e74 286e 6574  anch_element(net
+0001a560: 2c20 2254 7261 666f 222c 2069 6e64 6578  , "Trafo", index
+0001a570: 2c20 6876 5f62 7573 2c20 6c76 5f62 7573  , hv_bus, lv_bus
+0001a580: 290d 0a0d 0a20 2020 2069 6e64 6578 203d  )....    index =
+0001a590: 205f 6765 745f 696e 6465 785f 7769 7468   _get_index_with
+0001a5a0: 5f63 6865 636b 286e 6574 2c20 2274 7261  _check(net, "tra
+0001a5b0: 666f 222c 2069 6e64 6578 2c20 6e61 6d65  fo", index, name
+0001a5c0: 3d22 7472 616e 7366 6f72 6d65 7222 290d  ="transformer").
+0001a5d0: 0a0d 0a20 2020 2069 6620 6466 203c 3d20  ...    if df <= 
+0001a5e0: 303a 0d0a 2020 2020 2020 2020 7261 6973  0:..        rais
+0001a5f0: 6520 5573 6572 5761 726e 696e 6728 2264  e UserWarning("d
+0001a600: 6572 6174 696e 6720 6661 6374 6f72 2064  erating factor d
+0001a610: 6620 6d75 7374 2062 6520 706f 7369 7469  f must be positi
+0001a620: 7665 3a20 6466 203d 2025 2e33 6622 2025  ve: df = %.3f" %
+0001a630: 2064 6629 0d0a 0d0a 2020 2020 6966 2074   df)....    if t
+0001a640: 6170 5f70 6f73 2069 7320 6e61 6e3a 0d0a  ap_pos is nan:..
+0001a650: 2020 2020 2020 2020 7461 705f 706f 7320          tap_pos 
+0001a660: 3d20 7461 705f 6e65 7574 7261 6c0d 0a20  = tap_neutral.. 
+0001a670: 2020 2020 2020 2023 2073 746f 7265 2064         # store d
+0001a680: 7479 7065 730d 0a0d 0a20 2020 2076 203d  types....    v =
+0001a690: 207b 0d0a 2020 2020 2020 2020 226e 616d   {..        "nam
+0001a6a0: 6522 3a20 6e61 6d65 2c20 2268 765f 6275  e": name, "hv_bu
+0001a6b0: 7322 3a20 6876 5f62 7573 2c20 226c 765f  s": hv_bus, "lv_
+0001a6c0: 6275 7322 3a20 6c76 5f62 7573 2c0d 0a20  bus": lv_bus,.. 
+0001a6d0: 2020 2020 2020 2022 696e 5f73 6572 7669         "in_servi
+0001a6e0: 6365 223a 2062 6f6f 6c28 696e 5f73 6572  ce": bool(in_ser
+0001a6f0: 7669 6365 292c 2022 7374 645f 7479 7065  vice), "std_type
+0001a700: 223a 204e 6f6e 652c 2022 736e 5f6d 7661  ": None, "sn_mva
+0001a710: 223a 2073 6e5f 6d76 612c 2022 766e 5f68  ": sn_mva, "vn_h
+0001a720: 765f 6b76 223a 2076 6e5f 6876 5f6b 762c  v_kv": vn_hv_kv,
+0001a730: 0d0a 2020 2020 2020 2020 2276 6e5f 6c76  ..        "vn_lv
+0001a740: 5f6b 7622 3a20 766e 5f6c 765f 6b76 2c20  _kv": vn_lv_kv, 
+0001a750: 2276 6b5f 7065 7263 656e 7422 3a20 766b  "vk_percent": vk
+0001a760: 5f70 6572 6365 6e74 2c20 2276 6b72 5f70  _percent, "vkr_p
+0001a770: 6572 6365 6e74 223a 2076 6b72 5f70 6572  ercent": vkr_per
+0001a780: 6365 6e74 2c0d 0a20 2020 2020 2020 2022  cent,..        "
+0001a790: 7066 655f 6b77 223a 2070 6665 5f6b 772c  pfe_kw": pfe_kw,
+0001a7a0: 2022 6930 5f70 6572 6365 6e74 223a 2069   "i0_percent": i
+0001a7b0: 305f 7065 7263 656e 742c 2022 7461 705f  0_percent, "tap_
+0001a7c0: 6e65 7574 7261 6c22 3a20 7461 705f 6e65  neutral": tap_ne
+0001a7d0: 7574 7261 6c2c 0d0a 2020 2020 2020 2020  utral,..        
+0001a7e0: 2274 6170 5f6d 6178 223a 2074 6170 5f6d  "tap_max": tap_m
+0001a7f0: 6178 2c20 2274 6170 5f6d 696e 223a 2074  ax, "tap_min": t
+0001a800: 6170 5f6d 696e 2c20 2273 6869 6674 5f64  ap_min, "shift_d
+0001a810: 6567 7265 6522 3a20 7368 6966 745f 6465  egree": shift_de
+0001a820: 6772 6565 2c0d 0a20 2020 2020 2020 2022  gree,..        "
+0001a830: 7461 705f 7369 6465 223a 2074 6170 5f73  tap_side": tap_s
+0001a840: 6964 652c 2022 7461 705f 7374 6570 5f70  ide, "tap_step_p
+0001a850: 6572 6365 6e74 223a 2074 6170 5f73 7465  ercent": tap_ste
+0001a860: 705f 7065 7263 656e 742c 2022 7461 705f  p_percent, "tap_
+0001a870: 7374 6570 5f64 6567 7265 6522 3a20 7461  step_degree": ta
+0001a880: 705f 7374 6570 5f64 6567 7265 652c 0d0a  p_step_degree,..
+0001a890: 2020 2020 2020 2020 2274 6170 5f70 6861          "tap_pha
+0001a8a0: 7365 5f73 6869 6674 6572 223a 2074 6170  se_shifter": tap
+0001a8b0: 5f70 6861 7365 5f73 6869 6674 6572 2c20  _phase_shifter, 
+0001a8c0: 2270 6172 616c 6c65 6c22 3a20 7061 7261  "parallel": para
+0001a8d0: 6c6c 656c 2c20 2264 6622 3a20 6466 2c0d  llel, "df": df,.
+0001a8e0: 0a20 2020 2020 2020 2022 7074 5f70 6572  .        "pt_per
+0001a8f0: 6365 6e74 223a 2070 745f 7065 7263 656e  cent": pt_percen
+0001a900: 742c 2022 6f6c 7463 223a 206f 6c74 630d  t, "oltc": oltc.
+0001a910: 0a20 2020 207d 0d0a 0d0a 2020 2020 6966  .    }....    if
+0001a920: 2028 2274 6170 5f6e 6575 7472 616c 2220   ("tap_neutral" 
+0001a930: 696e 2076 2920 616e 6420 2874 6170 5f70  in v) and (tap_p
+0001a940: 6f73 2069 7320 6e61 6e29 3a0d 0a20 2020  os is nan):..   
+0001a950: 2020 2020 2076 5b22 7461 705f 706f 7322       v["tap_pos"
+0001a960: 5d20 3d20 765b 2274 6170 5f6e 6575 7472  ] = v["tap_neutr
+0001a970: 616c 225d 0d0a 2020 2020 656c 7365 3a0d  al"]..    else:.
+0001a980: 0a20 2020 2020 2020 2076 5b22 7461 705f  .        v["tap_
+0001a990: 706f 7322 5d20 3d20 7461 705f 706f 730d  pos"] = tap_pos.
+0001a9a0: 0a20 2020 2020 2020 2069 6620 7479 7065  .        if type
+0001a9b0: 2874 6170 5f70 6f73 2920 3d3d 2066 6c6f  (tap_pos) == flo
+0001a9c0: 6174 3a0d 0a20 2020 2020 2020 2020 2020  at:..           
+0001a9d0: 206e 6574 2e74 7261 666f 2e74 6170 5f70   net.trafo.tap_p
+0001a9e0: 6f73 203d 206e 6574 2e74 7261 666f 2e74  os = net.trafo.t
+0001a9f0: 6170 5f70 6f73 2e61 7374 7970 6528 666c  ap_pos.astype(fl
+0001aa00: 6f61 7429 0d0a 0d0a 2020 2020 5f73 6574  oat)....    _set
+0001aa10: 5f65 6e74 7269 6573 286e 6574 2c20 2274  _entries(net, "t
+0001aa20: 7261 666f 222c 2069 6e64 6578 2c20 2a2a  rafo", index, **
+0001aa30: 762c 202a 2a6b 7761 7267 7329 0d0a 0d0a  v, **kwargs)....
+0001aa40: 2020 2020 6966 2074 6170 5f64 6570 656e      if tap_depen
+0001aa50: 6465 6e74 5f69 6d70 6564 616e 6365 2069  dent_impedance i
+0001aa60: 7320 6e6f 7420 4e6f 6e65 3a0d 0a20 2020  s not None:..   
+0001aa70: 2020 2020 205f 6372 6561 7465 5f63 6f6c       _create_col
+0001aa80: 756d 6e5f 616e 645f 7365 745f 7661 6c75  umn_and_set_valu
+0001aa90: 6528 6e65 742c 2069 6e64 6578 2c20 7461  e(net, index, ta
+0001aaa0: 705f 6465 7065 6e64 656e 745f 696d 7065  p_dependent_impe
+0001aab0: 6461 6e63 652c 2022 7461 705f 6465 7065  dance, "tap_depe
+0001aac0: 6e64 656e 745f 696d 7065 6461 6e63 6522  ndent_impedance"
+0001aad0: 2c20 2274 7261 666f 222c 2062 6f6f 6c5f  , "trafo", bool_
+0001aae0: 2c20 4661 6c73 652c 2054 7275 6529 0d0a  , False, True)..
+0001aaf0: 2020 2020 6966 2076 6b5f 7065 7263 656e      if vk_percen
+0001ab00: 745f 6368 6172 6163 7465 7269 7374 6963  t_characteristic
+0001ab10: 2069 7320 6e6f 7420 4e6f 6e65 3a0d 0a20   is not None:.. 
+0001ab20: 2020 2020 2020 205f 6372 6561 7465 5f63         _create_c
+0001ab30: 6f6c 756d 6e5f 616e 645f 7365 745f 7661  olumn_and_set_va
+0001ab40: 6c75 6528 6e65 742c 2069 6e64 6578 2c20  lue(net, index, 
+0001ab50: 766b 5f70 6572 6365 6e74 5f63 6861 7261  vk_percent_chara
+0001ab60: 6374 6572 6973 7469 632c 2022 766b 5f70  cteristic, "vk_p
+0001ab70: 6572 6365 6e74 5f63 6861 7261 6374 6572  ercent_character
+0001ab80: 6973 7469 6322 2c20 2274 7261 666f 222c  istic", "trafo",
+0001ab90: 2022 496e 7436 3422 290d 0a20 2020 2069   "Int64")..    i
+0001aba0: 6620 766b 725f 7065 7263 656e 745f 6368  f vkr_percent_ch
+0001abb0: 6172 6163 7465 7269 7374 6963 2069 7320  aracteristic is 
+0001abc0: 6e6f 7420 4e6f 6e65 3a0d 0a20 2020 2020  not None:..     
+0001abd0: 2020 205f 6372 6561 7465 5f63 6f6c 756d     _create_colum
+0001abe0: 6e5f 616e 645f 7365 745f 7661 6c75 6528  n_and_set_value(
+0001abf0: 6e65 742c 2069 6e64 6578 2c20 766b 725f  net, index, vkr_
+0001ac00: 7065 7263 656e 745f 6368 6172 6163 7465  percent_characte
+0001ac10: 7269 7374 6963 2c20 2276 6b72 5f70 6572  ristic, "vkr_per
+0001ac20: 6365 6e74 5f63 6861 7261 6374 6572 6973  cent_characteris
+0001ac30: 7469 6322 2c20 2274 7261 666f 222c 2022  tic", "trafo", "
+0001ac40: 496e 7436 3422 290d 0a0d 0a20 2020 2069  Int64")....    i
+0001ac50: 6620 6e6f 7420 2869 736e 616e 2876 6b30  f not (isnan(vk0
+0001ac60: 5f70 6572 6365 6e74 2920 616e 6420 6973  _percent) and is
+0001ac70: 6e61 6e28 766b 7230 5f70 6572 6365 6e74  nan(vkr0_percent
+0001ac80: 2920 616e 6420 6973 6e61 6e28 6d61 6730  ) and isnan(mag0
+0001ac90: 5f70 6572 6365 6e74 290d 0a20 2020 2020  _percent)..     
+0001aca0: 2020 2020 2020 2061 6e64 2069 736e 616e         and isnan
+0001acb0: 286d 6167 305f 7278 2920 616e 6420 6973  (mag0_rx) and is
+0001acc0: 6e61 6e28 7369 305f 6876 5f70 6172 7469  nan(si0_hv_parti
+0001acd0: 616c 2920 616e 6420 7665 6374 6f72 5f67  al) and vector_g
+0001ace0: 726f 7570 2069 7320 4e6f 6e65 293a 0d0a  roup is None):..
+0001acf0: 2020 2020 2020 2020 5f63 7265 6174 655f          _create_
+0001ad00: 636f 6c75 6d6e 5f61 6e64 5f73 6574 5f76  column_and_set_v
+0001ad10: 616c 7565 286e 6574 2c20 696e 6465 782c  alue(net, index,
+0001ad20: 2076 6b30 5f70 6572 6365 6e74 2c20 2276   vk0_percent, "v
+0001ad30: 6b30 5f70 6572 6365 6e74 222c 2022 7472  k0_percent", "tr
+0001ad40: 6166 6f22 290d 0a20 2020 2020 2020 205f  afo")..        _
+0001ad50: 6372 6561 7465 5f63 6f6c 756d 6e5f 616e  create_column_an
+0001ad60: 645f 7365 745f 7661 6c75 6528 6e65 742c  d_set_value(net,
+0001ad70: 2069 6e64 6578 2c20 766b 7230 5f70 6572   index, vkr0_per
+0001ad80: 6365 6e74 2c20 2276 6b72 305f 7065 7263  cent, "vkr0_perc
+0001ad90: 656e 7422 2c20 2274 7261 666f 2229 0d0a  ent", "trafo")..
+0001ada0: 2020 2020 2020 2020 5f63 7265 6174 655f          _create_
+0001adb0: 636f 6c75 6d6e 5f61 6e64 5f73 6574 5f76  column_and_set_v
+0001adc0: 616c 7565 286e 6574 2c20 696e 6465 782c  alue(net, index,
+0001add0: 206d 6167 305f 7065 7263 656e 742c 2022   mag0_percent, "
+0001ade0: 6d61 6730 5f70 6572 6365 6e74 222c 2022  mag0_percent", "
+0001adf0: 7472 6166 6f22 290d 0a20 2020 2020 2020  trafo")..       
+0001ae00: 205f 6372 6561 7465 5f63 6f6c 756d 6e5f   _create_column_
+0001ae10: 616e 645f 7365 745f 7661 6c75 6528 6e65  and_set_value(ne
+0001ae20: 742c 2069 6e64 6578 2c20 6d61 6730 5f72  t, index, mag0_r
+0001ae30: 782c 2022 6d61 6730 5f72 7822 2c20 2274  x, "mag0_rx", "t
+0001ae40: 7261 666f 2229 0d0a 2020 2020 2020 2020  rafo")..        
+0001ae50: 5f63 7265 6174 655f 636f 6c75 6d6e 5f61  _create_column_a
+0001ae60: 6e64 5f73 6574 5f76 616c 7565 286e 6574  nd_set_value(net
+0001ae70: 2c20 696e 6465 782c 2073 6930 5f68 765f  , index, si0_hv_
+0001ae80: 7061 7274 6961 6c2c 2022 7369 305f 6876  partial, "si0_hv
+0001ae90: 5f70 6172 7469 616c 222c 2022 7472 6166  _partial", "traf
+0001aea0: 6f22 290d 0a20 2020 2020 2020 205f 6372  o")..        _cr
+0001aeb0: 6561 7465 5f63 6f6c 756d 6e5f 616e 645f  eate_column_and_
+0001aec0: 7365 745f 7661 6c75 6528 6e65 742c 2069  set_value(net, i
+0001aed0: 6e64 6578 2c20 7665 6374 6f72 5f67 726f  ndex, vector_gro
+0001aee0: 7570 2c20 2276 6563 746f 725f 6772 6f75  up, "vector_grou
+0001aef0: 7022 2c20 2274 7261 666f 222c 2064 7479  p", "trafo", dty
+0001af00: 703d 7374 722c 0d0a 2020 2020 2020 2020  p=str,..        
+0001af10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001af20: 2020 2020 2020 2020 2020 2020 2064 6566               def
+0001af30: 6175 6c74 5f76 616c 3d4e 6f6e 6529 0d0a  ault_val=None)..
+0001af40: 2020 2020 5f63 7265 6174 655f 636f 6c75      _create_colu
+0001af50: 6d6e 5f61 6e64 5f73 6574 5f76 616c 7565  mn_and_set_value
+0001af60: 286e 6574 2c20 696e 6465 782c 2070 745f  (net, index, pt_
+0001af70: 7065 7263 656e 742c 2022 7074 5f70 6572  percent, "pt_per
+0001af80: 6365 6e74 222c 2022 7472 6166 6f22 290d  cent", "trafo").
+0001af90: 0a20 2020 205f 6372 6561 7465 5f63 6f6c  .    _create_col
+0001afa0: 756d 6e5f 616e 645f 7365 745f 7661 6c75  umn_and_set_valu
+0001afb0: 6528 6e65 742c 2069 6e64 6578 2c20 6d61  e(net, index, ma
+0001afc0: 785f 6c6f 6164 696e 675f 7065 7263 656e  x_loading_percen
+0001afd0: 742c 2022 6d61 785f 6c6f 6164 696e 675f  t, "max_loading_
+0001afe0: 7065 7263 656e 7422 2c20 2274 7261 666f  percent", "trafo
+0001aff0: 2229 0d0a 0d0a 2020 2020 7265 7475 726e  ")....    return
+0001b000: 2069 6e64 6578 0d0a 0d0a 0d0a 6465 6620   index......def 
+0001b010: 6372 6561 7465 5f74 7261 6e73 666f 726d  create_transform
+0001b020: 6572 735f 6672 6f6d 5f70 6172 616d 6574  ers_from_paramet
+0001b030: 6572 7328 6e65 742c 2068 765f 6275 7365  ers(net, hv_buse
+0001b040: 732c 206c 765f 6275 7365 732c 2073 6e5f  s, lv_buses, sn_
+0001b050: 6d76 612c 2076 6e5f 6876 5f6b 762c 2076  mva, vn_hv_kv, v
+0001b060: 6e5f 6c76 5f6b 762c 0d0a 2020 2020 2020  n_lv_kv,..      
 0001b070: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001b080: 2020 2076 6b72 5f70 6572 6365 6e74 2c20     vkr_percent, 
-0001b090: 766b 5f70 6572 6365 6e74 2c20 7066 655f  vk_percent, pfe_
-0001b0a0: 6b77 2c20 6930 5f70 6572 6365 6e74 2c20  kw, i0_percent, 
-0001b0b0: 7368 6966 745f 6465 6772 6565 3d30 2c0d  shift_degree=0,.
-0001b0c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001b080: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b090: 2020 766b 725f 7065 7263 656e 742c 2076    vkr_percent, v
+0001b0a0: 6b5f 7065 7263 656e 742c 2070 6665 5f6b  k_percent, pfe_k
+0001b0b0: 772c 2069 305f 7065 7263 656e 742c 2073  w, i0_percent, s
+0001b0c0: 6869 6674 5f64 6567 7265 653d 302c 0d0a  hift_degree=0,..
 0001b0d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001b0e0: 2020 2020 2020 2020 2074 6170 5f73 6964           tap_sid
-0001b0f0: 653d 4e6f 6e65 2c20 7461 705f 6e65 7574  e=None, tap_neut
-0001b100: 7261 6c3d 6e61 6e2c 2074 6170 5f6d 6178  ral=nan, tap_max
-0001b110: 3d6e 616e 2c20 7461 705f 6d69 6e3d 6e61  =nan, tap_min=na
-0001b120: 6e2c 0d0a 2020 2020 2020 2020 2020 2020  n,..            
-0001b130: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001b140: 2020 2020 2020 2020 2020 2020 7461 705f              tap_
-0001b150: 7374 6570 5f70 6572 6365 6e74 3d6e 616e  step_percent=nan
-0001b160: 2c20 7461 705f 7374 6570 5f64 6567 7265  , tap_step_degre
-0001b170: 653d 6e61 6e2c 2074 6170 5f70 6f73 3d6e  e=nan, tap_pos=n
-0001b180: 616e 2c0d 0a20 2020 2020 2020 2020 2020  an,..           
-0001b190: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001b1a0: 2020 2020 2020 2020 2020 2020 2074 6170               tap
-0001b1b0: 5f70 6861 7365 5f73 6869 6674 6572 3d46  _phase_shifter=F
-0001b1c0: 616c 7365 2c20 696e 5f73 6572 7669 6365  alse, in_service
-0001b1d0: 3d54 7275 652c 206e 616d 653d 4e6f 6e65  =True, name=None
-0001b1e0: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
-0001b1f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001b200: 2020 2020 2020 2020 2020 2076 6563 746f             vecto
-0001b210: 725f 6772 6f75 703d 4e6f 6e65 2c20 696e  r_group=None, in
-0001b220: 6465 783d 4e6f 6e65 2c20 6d61 785f 6c6f  dex=None, max_lo
-0001b230: 6164 696e 675f 7065 7263 656e 743d 4e6f  ading_percent=No
-0001b240: 6e65 2c0d 0a20 2020 2020 2020 2020 2020  ne,..           
-0001b250: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001b260: 2020 2020 2020 2020 2020 2020 2070 6172               par
-0001b270: 616c 6c65 6c3d 312c 2064 663d 312e 2c20  allel=1, df=1., 
-0001b280: 766b 305f 7065 7263 656e 743d 4e6f 6e65  vk0_percent=None
-0001b290: 2c20 766b 7230 5f70 6572 6365 6e74 3d4e  , vkr0_percent=N
-0001b2a0: 6f6e 652c 0d0a 2020 2020 2020 2020 2020  one,..          
-0001b2b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001b2c0: 2020 2020 2020 2020 2020 2020 2020 6d61                ma
-0001b2d0: 6730 5f70 6572 6365 6e74 3d4e 6f6e 652c  g0_percent=None,
-0001b2e0: 206d 6167 305f 7278 3d4e 6f6e 652c 2073   mag0_rx=None, s
-0001b2f0: 6930 5f68 765f 7061 7274 6961 6c3d 4e6f  i0_hv_partial=No
-0001b300: 6e65 2c0d 0a20 2020 2020 2020 2020 2020  ne,..           
-0001b310: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001b320: 2020 2020 2020 2020 2020 2020 2070 745f               pt_
-0001b330: 7065 7263 656e 743d 6e61 6e2c 206f 6c74  percent=nan, olt
-0001b340: 633d 4661 6c73 652c 2074 6170 5f64 6570  c=False, tap_dep
-0001b350: 656e 6465 6e74 5f69 6d70 6564 616e 6365  endent_impedance
-0001b360: 3d4e 6f6e 652c 0d0a 2020 2020 2020 2020  =None,..        
-0001b370: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b0e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b0f0: 2020 2020 2020 2020 7461 705f 7369 6465          tap_side
+0001b100: 3d4e 6f6e 652c 2074 6170 5f6e 6575 7472  =None, tap_neutr
+0001b110: 616c 3d6e 616e 2c20 7461 705f 6d61 783d  al=nan, tap_max=
+0001b120: 6e61 6e2c 2074 6170 5f6d 696e 3d6e 616e  nan, tap_min=nan
+0001b130: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
+0001b140: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b150: 2020 2020 2020 2020 2020 2074 6170 5f73             tap_s
+0001b160: 7465 705f 7065 7263 656e 743d 6e61 6e2c  tep_percent=nan,
+0001b170: 2074 6170 5f73 7465 705f 6465 6772 6565   tap_step_degree
+0001b180: 3d6e 616e 2c20 7461 705f 706f 733d 6e61  =nan, tap_pos=na
+0001b190: 6e2c 0d0a 2020 2020 2020 2020 2020 2020  n,..            
+0001b1a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b1b0: 2020 2020 2020 2020 2020 2020 7461 705f              tap_
+0001b1c0: 7068 6173 655f 7368 6966 7465 723d 4661  phase_shifter=Fa
+0001b1d0: 6c73 652c 2069 6e5f 7365 7276 6963 653d  lse, in_service=
+0001b1e0: 5472 7565 2c20 6e61 6d65 3d4e 6f6e 652c  True, name=None,
+0001b1f0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+0001b200: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b210: 2020 2020 2020 2020 2020 7665 6374 6f72            vector
+0001b220: 5f67 726f 7570 3d4e 6f6e 652c 2069 6e64  _group=None, ind
+0001b230: 6578 3d4e 6f6e 652c 206d 6178 5f6c 6f61  ex=None, max_loa
+0001b240: 6469 6e67 5f70 6572 6365 6e74 3d4e 6f6e  ding_percent=Non
+0001b250: 652c 0d0a 2020 2020 2020 2020 2020 2020  e,..            
+0001b260: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b270: 2020 2020 2020 2020 2020 2020 7061 7261              para
+0001b280: 6c6c 656c 3d31 2c20 6466 3d31 2e2c 2076  llel=1, df=1., v
+0001b290: 6b30 5f70 6572 6365 6e74 3d4e 6f6e 652c  k0_percent=None,
+0001b2a0: 2076 6b72 305f 7065 7263 656e 743d 4e6f   vkr0_percent=No
+0001b2b0: 6e65 2c0d 0a20 2020 2020 2020 2020 2020  ne,..           
+0001b2c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b2d0: 2020 2020 2020 2020 2020 2020 206d 6167               mag
+0001b2e0: 305f 7065 7263 656e 743d 4e6f 6e65 2c20  0_percent=None, 
+0001b2f0: 6d61 6730 5f72 783d 4e6f 6e65 2c20 7369  mag0_rx=None, si
+0001b300: 305f 6876 5f70 6172 7469 616c 3d4e 6f6e  0_hv_partial=Non
+0001b310: 652c 0d0a 2020 2020 2020 2020 2020 2020  e,..            
+0001b320: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b330: 2020 2020 2020 2020 2020 2020 7074 5f70              pt_p
+0001b340: 6572 6365 6e74 3d6e 616e 2c20 6f6c 7463  ercent=nan, oltc
+0001b350: 3d46 616c 7365 2c20 7461 705f 6465 7065  =False, tap_depe
+0001b360: 6e64 656e 745f 696d 7065 6461 6e63 653d  ndent_impedance=
+0001b370: 4e6f 6e65 2c0d 0a20 2020 2020 2020 2020  None,..         
 0001b380: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001b390: 766b 5f70 6572 6365 6e74 5f63 6861 7261  vk_percent_chara
-0001b3a0: 6374 6572 6973 7469 633d 4e6f 6e65 2c0d  cteristic=None,.
-0001b3b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001b390: 2020 2020 2020 2020 2020 2020 2020 2076                 v
+0001b3a0: 6b5f 7065 7263 656e 745f 6368 6172 6163  k_percent_charac
+0001b3b0: 7465 7269 7374 6963 3d4e 6f6e 652c 0d0a  teristic=None,..
 0001b3c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001b3d0: 2020 2020 2020 2020 2076 6b72 5f70 6572           vkr_per
-0001b3e0: 6365 6e74 5f63 6861 7261 6374 6572 6973  cent_characteris
-0001b3f0: 7469 633d 4e6f 6e65 2c20 2a2a 6b77 6172  tic=None, **kwar
-0001b400: 6773 293a 0d0a 2020 2020 2222 220d 0a20  gs):..    """.. 
-0001b410: 2020 2043 7265 6174 6573 2073 6576 6572     Creates sever
-0001b420: 616c 2074 776f 2d77 696e 6469 6e67 2074  al two-winding t
-0001b430: 7261 6e73 666f 726d 6572 7320 696e 2074  ransformers in t
-0001b440: 6162 6c65 206e 6574 5b22 7472 6166 6f22  able net["trafo"
-0001b450: 5d2e 0d0a 2020 2020 5468 6520 7472 6166  ]...    The traf
-0001b460: 6f20 7061 7261 6d65 7465 7273 2061 7265  o parameters are
-0001b470: 2064 6566 696e 6564 2074 6872 6f75 6768   defined through
-0001b480: 2074 6865 2073 7461 6e64 6172 6420 7479   the standard ty
-0001b490: 7065 206c 6962 7261 7279 2e0d 0a0d 0a20  pe library..... 
-0001b4a0: 2020 2049 4e50 5554 3a0d 0a20 2020 2020     INPUT:..     
-0001b4b0: 2020 202a 2a6e 6574 2a2a 202d 2054 6865     **net** - The
-0001b4c0: 206e 6574 2077 6974 6869 6e20 7468 6973   net within this
-0001b4d0: 2074 7261 6e73 666f 726d 6572 2073 686f   transformer sho
-0001b4e0: 756c 6420 6265 2063 7265 6174 6564 0d0a  uld be created..
-0001b4f0: 0d0a 2020 2020 2020 2020 2a2a 6876 5f62  ..        **hv_b
-0001b500: 7573 2a2a 2028 6c69 7374 206f 6620 696e  us** (list of in
-0001b510: 7429 202d 2054 6865 2062 7573 206f 6e20  t) - The bus on 
-0001b520: 7468 6520 6869 6768 2d76 6f6c 7461 6765  the high-voltage
-0001b530: 2073 6964 6520 6f6e 2077 6869 6368 2074   side on which t
-0001b540: 6865 2074 7261 6e73 666f 726d 6572 2077  he transformer w
-0001b550: 696c 6c20 5c0d 0a20 2020 2020 2020 2020  ill \..         
-0001b560: 2020 2062 6520 636f 6e6e 6563 7465 6420     be connected 
-0001b570: 746f 0d0a 0d0a 2020 2020 2020 2020 2a2a  to....        **
-0001b580: 6c76 5f62 7573 2a2a 2028 6c69 7374 206f  lv_bus** (list o
-0001b590: 6620 696e 7429 202d 2054 6865 2062 7573  f int) - The bus
-0001b5a0: 206f 6e20 7468 6520 6c6f 772d 766f 6c74   on the low-volt
-0001b5b0: 6167 6520 7369 6465 206f 6e20 7768 6963  age side on whic
-0001b5c0: 6820 7468 6520 7472 616e 7366 6f72 6d65  h the transforme
-0001b5d0: 7220 7769 6c6c 205c 0d0a 2020 2020 2020  r will \..      
-0001b5e0: 2020 2020 2020 6265 2063 6f6e 6e65 6374        be connect
-0001b5f0: 6564 2074 6f0d 0a0d 0a20 2020 2020 2020  ed to....       
-0001b600: 202a 2a73 6e5f 6d76 612a 2a20 286c 6973   **sn_mva** (lis
-0001b610: 7420 6f66 2066 6c6f 6174 2920 2d20 7261  t of float) - ra
-0001b620: 7465 6420 6170 7061 7265 6e74 2070 6f77  ted apparent pow
-0001b630: 6572 0d0a 0d0a 2020 2020 2020 2020 2a2a  er....        **
-0001b640: 766e 5f68 765f 6b76 2a2a 2028 6c69 7374  vn_hv_kv** (list
-0001b650: 206f 6620 666c 6f61 7429 202d 2072 6174   of float) - rat
-0001b660: 6564 2076 6f6c 7461 6765 206f 6e20 6869  ed voltage on hi
-0001b670: 6768 2076 6f6c 7461 6765 2073 6964 650d  gh voltage side.
-0001b680: 0a0d 0a20 2020 2020 2020 202a 2a76 6e5f  ...        **vn_
-0001b690: 6c76 5f6b 762a 2a20 286c 6973 7420 6f66  lv_kv** (list of
-0001b6a0: 2066 6c6f 6174 2920 2d20 7261 7465 6420   float) - rated 
-0001b6b0: 766f 6c74 6167 6520 6f6e 206c 6f77 2076  voltage on low v
-0001b6c0: 6f6c 7461 6765 2073 6964 650d 0a0d 0a20  oltage side.... 
-0001b6d0: 2020 2020 2020 202a 2a76 6b72 5f70 6572         **vkr_per
-0001b6e0: 6365 6e74 2a2a 2028 6c69 7374 206f 6620  cent** (list of 
-0001b6f0: 666c 6f61 7429 202d 2072 6561 6c20 7061  float) - real pa
-0001b700: 7274 206f 6620 7265 6c61 7469 7665 2073  rt of relative s
-0001b710: 686f 7274 2d63 6972 6375 6974 2076 6f6c  hort-circuit vol
-0001b720: 7461 6765 0d0a 0d0a 2020 2020 2020 2020  tage....        
-0001b730: 2a2a 766b 5f70 6572 6365 6e74 2a2a 2028  **vk_percent** (
-0001b740: 6c69 7374 206f 6620 666c 6f61 7429 202d  list of float) -
-0001b750: 2072 656c 6174 6976 6520 7368 6f72 742d   relative short-
-0001b760: 6369 7263 7569 7420 766f 6c74 6167 650d  circuit voltage.
-0001b770: 0a0d 0a20 2020 2020 2020 202a 2a70 6665  ...        **pfe
-0001b780: 5f6b 772a 2a20 286c 6973 7420 6f66 2066  _kw** (list of f
-0001b790: 6c6f 6174 2920 202d 2069 726f 6e20 6c6f  loat)  - iron lo
-0001b7a0: 7373 6573 2069 6e20 6b57 0d0a 0d0a 2020  sses in kW....  
-0001b7b0: 2020 2020 2020 2a2a 6930 5f70 6572 6365        **i0_perce
-0001b7c0: 6e74 2a2a 2028 6c69 7374 206f 6620 666c  nt** (list of fl
-0001b7d0: 6f61 7429 202d 206f 7065 6e20 6c6f 6f70  oat) - open loop
-0001b7e0: 206c 6f73 7365 7320 696e 2070 6572 6365   losses in perce
-0001b7f0: 6e74 206f 6620 7261 7465 6420 6375 7272  nt of rated curr
-0001b800: 656e 740d 0a0d 0a20 2020 2020 2020 202a  ent....        *
-0001b810: 2a76 6563 746f 725f 6772 6f75 702a 2a20  *vector_group** 
-0001b820: 286c 6973 7420 6f66 2053 7472 696e 6729  (list of String)
-0001b830: 202d 2056 6563 746f 7220 6772 6f75 7020   - Vector group 
-0001b840: 6f66 2074 6865 2074 7261 6e73 666f 726d  of the transform
-0001b850: 6572 0d0a 0d0a 2020 2020 2020 2020 2020  er....          
-0001b860: 2020 4856 2073 6964 6520 6973 2055 7070    HV side is Upp
-0001b870: 6572 6361 7365 206c 6574 7465 7273 0d0a  ercase letters..
-0001b880: 2020 2020 2020 2020 2020 2020 616e 6420              and 
-0001b890: 4c56 2073 6964 6520 6973 206c 6f77 6572  LV side is lower
-0001b8a0: 2063 6173 650d 0a0d 0a20 2020 2020 2020   case....       
-0001b8b0: 202a 2a76 6b30 5f70 6572 6365 6e74 2a2a   **vk0_percent**
-0001b8c0: 2028 6c69 7374 206f 6620 666c 6f61 7429   (list of float)
-0001b8d0: 202d 207a 6572 6f20 7365 7175 656e 6365   - zero sequence
-0001b8e0: 2072 656c 6174 6976 6520 7368 6f72 742d   relative short-
-0001b8f0: 6369 7263 7569 7420 766f 6c74 6167 650d  circuit voltage.
-0001b900: 0a0d 0a20 2020 2020 2020 202a 2a76 6b72  ...        **vkr
-0001b910: 305f 7065 7263 656e 742a 2a20 2d20 286c  0_percent** - (l
-0001b920: 6973 7420 6f66 2066 6c6f 6174 2920 7265  ist of float) re
-0001b930: 616c 2070 6172 7420 6f66 207a 6572 6f20  al part of zero 
-0001b940: 7365 7175 656e 6365 2072 656c 6174 6976  sequence relativ
-0001b950: 6520 7368 6f72 742d 6369 7263 7569 7420  e short-circuit 
-0001b960: 766f 6c74 6167 650d 0a0d 0a20 2020 2020  voltage....     
-0001b970: 2020 202a 2a6d 6167 305f 7065 7263 656e     **mag0_percen
-0001b980: 742a 2a20 2d20 286c 6973 7420 6f66 2066  t** - (list of f
-0001b990: 6c6f 6174 2920 207a 6572 6f20 7365 7175  loat)  zero sequ
-0001b9a0: 656e 6365 206d 6167 6e65 7469 7a69 6e67  ence magnetizing
-0001b9b0: 2069 6d70 6564 616e 6365 2f20 766b 300d   impedance/ vk0.
-0001b9c0: 0a0d 0a20 2020 2020 2020 202a 2a6d 6167  ...        **mag
-0001b9d0: 305f 7278 2a2a 2020 2d20 286c 6973 7420  0_rx**  - (list 
-0001b9e0: 6f66 2066 6c6f 6174 2920 207a 6572 6f20  of float)  zero 
-0001b9f0: 7365 7175 656e 6365 206d 6167 6e69 7469  sequence magniti
-0001ba00: 7a69 6e67 2052 2f58 2072 6174 696f 0d0a  zing R/X ratio..
-0001ba10: 0d0a 2020 2020 2020 2020 2a2a 7369 305f  ..        **si0_
-0001ba20: 6876 5f70 6172 7469 616c 2a2a 202d 2028  hv_partial** - (
-0001ba30: 6c69 7374 206f 6620 666c 6f61 7429 2020  list of float)  
-0001ba40: 4469 7374 7269 6275 7469 6f6e 206f 6620  Distribution of 
-0001ba50: 7a65 726f 2073 6571 7565 6e63 6520 6c65  zero sequence le
-0001ba60: 616b 6167 6520 696d 7065 6461 6e63 6573  akage impedances
-0001ba70: 2066 6f72 205c 0d0a 2020 2020 2020 2020   for \..        
-0001ba80: 2020 2020 4856 2073 6964 650d 0a0d 0a0d      HV side.....
-0001ba90: 0a20 2020 204f 5054 494f 4e41 4c3a 0d0a  .    OPTIONAL:..
-0001baa0: 0d0a 2020 2020 2020 2020 2a2a 696e 5f73  ..        **in_s
-0001bab0: 6572 7669 6365 2a2a 2028 626f 6f6c 6561  ervice** (boolea
-0001bac0: 6e29 202d 2054 7275 6520 666f 7220 696e  n) - True for in
-0001bad0: 5f73 6572 7669 6365 206f 7220 4661 6c73  _service or Fals
-0001bae0: 6520 666f 7220 6f75 7420 6f66 2073 6572  e for out of ser
-0001baf0: 7669 6365 0d0a 0d0a 2020 2020 2020 2020  vice....        
-0001bb00: 2a2a 7061 7261 6c6c 656c 2a2a 2028 696e  **parallel** (in
-0001bb10: 7465 6765 7229 202d 206e 756d 6265 7220  teger) - number 
-0001bb20: 6f66 2070 6172 616c 6c65 6c20 7472 616e  of parallel tran
-0001bb30: 7366 6f72 6d65 7273 0d0a 0d0a 2020 2020  sformers....    
-0001bb40: 2020 2020 2a2a 6e61 6d65 2a2a 2028 7374      **name** (st
-0001bb50: 7269 6e67 2920 2d20 4120 6375 7374 6f6d  ring) - A custom
-0001bb60: 206e 616d 6520 666f 7220 7468 6973 2074   name for this t
-0001bb70: 7261 6e73 666f 726d 6572 0d0a 0d0a 2020  ransformer....  
-0001bb80: 2020 2020 2020 2a2a 7368 6966 745f 6465        **shift_de
-0001bb90: 6772 6565 2a2a 2028 666c 6f61 7429 202d  gree** (float) -
-0001bba0: 2041 6e67 6c65 2073 6869 6674 206f 7665   Angle shift ove
-0001bbb0: 7220 7468 6520 7472 616e 7366 6f72 6d65  r the transforme
-0001bbc0: 722a 0d0a 0d0a 2020 2020 2020 2020 2a2a  r*....        **
-0001bbd0: 7461 705f 7369 6465 2a2a 2028 7374 7269  tap_side** (stri
-0001bbe0: 6e67 2920 2d20 706f 7369 7469 6f6e 206f  ng) - position o
-0001bbf0: 6620 7461 7020 6368 616e 6765 7220 2822  f tap changer ("
-0001bc00: 6876 222c 2022 6c76 2229 0d0a 0d0a 2020  hv", "lv")....  
-0001bc10: 2020 2020 2020 2a2a 7461 705f 706f 732a        **tap_pos*
-0001bc20: 2a20 2869 6e74 2c20 6e61 6e29 202d 2063  * (int, nan) - c
-0001bc30: 7572 7265 6e74 2074 6170 2070 6f73 6974  urrent tap posit
-0001bc40: 696f 6e20 6f66 2074 6865 2074 7261 6e73  ion of the trans
-0001bc50: 666f 726d 6572 2e20 4465 6661 756c 7473  former. Defaults
-0001bc60: 2074 6f20 7468 6520 6d65 6469 756d 205c   to the medium \
-0001bc70: 0d0a 2020 2020 2020 2020 2020 2020 706f  ..            po
-0001bc80: 7369 7469 6f6e 2028 7461 705f 6e65 7574  sition (tap_neut
-0001bc90: 7261 6c29 0d0a 0d0a 2020 2020 2020 2020  ral)....        
-0001bca0: 2a2a 7461 705f 6e65 7574 7261 6c2a 2a20  **tap_neutral** 
-0001bcb0: 2869 6e74 2c20 6e61 6e29 202d 2074 6170  (int, nan) - tap
-0001bcc0: 2070 6f73 6974 696f 6e20 7768 6572 6520   position where 
-0001bcd0: 7468 6520 7472 616e 7366 6f72 6d65 7220  the transformer 
-0001bce0: 7261 7469 6f20 6973 2065 7175 616c 2074  ratio is equal t
-0001bcf0: 6f20 7468 6520 7261 7469 6f5c 0d0a 2020  o the ratio\..  
-0001bd00: 2020 2020 2020 2020 2020 6f66 2074 6865            of the
-0001bd10: 2072 6174 6564 2076 6f6c 7461 6765 730d   rated voltages.
-0001bd20: 0a0d 0a20 2020 2020 2020 202a 2a74 6170  ...        **tap
-0001bd30: 5f6d 6178 2a2a 2028 696e 742c 206e 616e  _max** (int, nan
-0001bd40: 2920 2d20 6d61 7869 6d61 6c20 616c 6c6f  ) - maximal allo
-0001bd50: 7765 6420 7461 7020 706f 7369 7469 6f6e  wed tap position
-0001bd60: 0d0a 0d0a 2020 2020 2020 2020 2a2a 7461  ....        **ta
-0001bd70: 705f 6d69 6e2a 2a20 2869 6e74 2c20 6e61  p_min** (int, na
-0001bd80: 6e29 3a20 206d 696e 696d 616c 2061 6c6c  n):  minimal all
-0001bd90: 6f77 6564 2074 6170 2070 6f73 6974 696f  owed tap positio
-0001bda0: 6e0d 0a0d 0a20 2020 2020 2020 202a 2a74  n....        **t
-0001bdb0: 6170 5f73 7465 705f 7065 7263 656e 742a  ap_step_percent*
-0001bdc0: 2a20 2866 6c6f 6174 2920 2d20 7461 7020  * (float) - tap 
-0001bdd0: 7374 6570 2073 697a 6520 666f 7220 766f  step size for vo
-0001bde0: 6c74 6167 6520 6d61 676e 6974 7564 6520  ltage magnitude 
-0001bdf0: 696e 2070 6572 6365 6e74 0d0a 0d0a 2020  in percent....  
-0001be00: 2020 2020 2020 2a2a 7461 705f 7374 6570        **tap_step
-0001be10: 5f64 6567 7265 652a 2a20 2866 6c6f 6174  _degree** (float
-0001be20: 2920 2d20 7461 7020 7374 6570 2073 697a  ) - tap step siz
-0001be30: 6520 666f 7220 766f 6c74 6167 6520 616e  e for voltage an
-0001be40: 676c 6520 696e 2064 6567 7265 652a 0d0a  gle in degree*..
-0001be50: 0d0a 2020 2020 2020 2020 2a2a 7461 705f  ..        **tap_
-0001be60: 7068 6173 655f 7368 6966 7465 722a 2a20  phase_shifter** 
-0001be70: 2862 6f6f 6c29 202d 2077 6865 7468 6572  (bool) - whether
-0001be80: 2074 6865 2074 7261 6e73 666f 726d 6572   the transformer
-0001be90: 2069 7320 616e 2069 6465 616c 2070 6861   is an ideal pha
-0001bea0: 7365 2073 6869 6674 6572 2a0d 0a0d 0a20  se shifter*.... 
-0001beb0: 2020 2020 2020 202a 2a69 6e64 6578 2a2a         **index**
-0001bec0: 2028 696e 742c 204e 6f6e 6529 202d 2046   (int, None) - F
-0001bed0: 6f72 6365 2061 2073 7065 6369 6669 6564  orce a specified
-0001bee0: 2049 4420 6966 2069 7420 6973 2061 7661   ID if it is ava
-0001bef0: 696c 6162 6c65 2e20 4966 204e 6f6e 652c  ilable. If None,
-0001bf00: 2074 6865 2069 6e64 6578 206f 6e65 205c   the index one \
-0001bf10: 0d0a 2020 2020 2020 2020 2020 2020 6869  ..            hi
-0001bf20: 6768 6572 2074 6861 6e20 7468 6520 6869  gher than the hi
-0001bf30: 6768 6573 7420 616c 7265 6164 7920 6578  ghest already ex
-0001bf40: 6973 7469 6e67 2069 6e64 6578 2069 7320  isting index is 
-0001bf50: 7365 6c65 6374 6564 2e0d 0a0d 0a20 2020  selected.....   
-0001bf60: 2020 2020 202a 2a6d 6178 5f6c 6f61 6469       **max_loadi
-0001bf70: 6e67 5f70 6572 6365 6e74 2028 666c 6f61  ng_percent (floa
-0001bf80: 7429 2a2a 202d 206d 6178 696d 756d 2063  t)** - maximum c
-0001bf90: 7572 7265 6e74 206c 6f61 6469 6e67 2028  urrent loading (
-0001bfa0: 6f6e 6c79 206e 6565 6465 6420 666f 7220  only needed for 
-0001bfb0: 4f50 4629 0d0a 0d0a 2020 2020 2020 2020  OPF)....        
-0001bfc0: 2a2a 6466 2a2a 2028 666c 6f61 7429 202d  **df** (float) -
-0001bfd0: 2064 6572 6174 696e 6720 6661 6374 6f72   derating factor
-0001bfe0: 3a20 6d61 7869 6d61 6c20 6375 7272 656e  : maximal curren
-0001bff0: 7420 6f66 2074 7261 6e73 666f 726d 6572  t of transformer
-0001c000: 2069 6e20 7265 6c61 7469 6f6e 2074 6f20   in relation to 
-0001c010: 6e6f 6d69 6e61 6c20 5c0d 0a20 2020 2020  nominal \..     
-0001c020: 2020 2020 2020 2063 7572 7265 6e74 206f         current o
-0001c030: 6620 7472 616e 7366 6f72 6d65 7220 2866  f transformer (f
-0001c040: 726f 6d20 3020 746f 2031 290d 0a0d 0a20  rom 0 to 1).... 
-0001c050: 2020 2020 2020 202a 2a74 6170 5f64 6570         **tap_dep
-0001c060: 656e 6465 6e74 5f69 6d70 6564 616e 6365  endent_impedance
-0001c070: 2a2a 2028 626f 6f6c 6561 6e29 202d 2054  ** (boolean) - T
-0001c080: 7275 6520 6966 2074 7261 6e73 666f 726d  rue if transform
-0001c090: 6572 2069 6d70 6564 616e 6365 206d 7573  er impedance mus
-0001c0a0: 7420 6265 2061 646a 7573 7465 6420 6465  t be adjusted de
-0001c0b0: 7065 6e64 656e 7420 5c0d 0a20 2020 2020  pendent \..     
-0001c0c0: 2020 2020 2020 206f 6e20 7468 6520 7461         on the ta
-0001c0d0: 7020 706f 7369 7469 6f6e 206f 6620 7468  p position of th
-0001c0e0: 6520 7472 6162 6e73 666f 726d 6572 2e20  e trabnsformer. 
-0001c0f0: 5265 7175 6972 6573 2074 6865 2061 6464  Requires the add
-0001c100: 6974 696f 6e61 6c20 636f 6c75 6d6e 7320  itional columns 
-0001c110: 5c0d 0a20 2020 2020 2020 2020 2020 2022  \..            "
-0001c120: 766b 5f70 6572 6365 6e74 5f63 6861 7261  vk_percent_chara
-0001c130: 6374 6572 6973 7469 6322 2061 6e64 2022  cteristic" and "
-0001c140: 766b 725f 7065 7263 656e 745f 6368 6172  vkr_percent_char
-0001c150: 6163 7465 7269 7374 6963 2220 7468 6174  acteristic" that
-0001c160: 2072 6566 6572 656e 6365 2074 6865 2069   reference the i
-0001c170: 6e64 6578 206f 6620 7468 6520 5c0d 0a20  ndex of the \.. 
-0001c180: 2020 2020 2020 2020 2020 2063 6861 7261             chara
-0001c190: 6374 6572 6973 7469 6320 6672 6f6d 2074  cteristic from t
-0001c1a0: 6865 2074 6162 6c65 206e 6574 2e63 6861  he table net.cha
-0001c1b0: 7261 6374 6572 6973 7469 632e 2041 2063  racteristic. A c
-0001c1c0: 6f6e 7665 6e69 656e 6365 2066 756e 6374  onvenience funct
-0001c1d0: 696f 6e20 5c0d 0a20 2020 2020 2020 2020  ion \..         
-0001c1e0: 2020 2070 616e 6461 706f 7765 722e 636f     pandapower.co
-0001c1f0: 6e74 726f 6c2e 6372 6561 7465 5f74 7261  ntrol.create_tra
-0001c200: 666f 5f63 6861 7261 6374 6572 6973 7469  fo_characteristi
-0001c210: 6373 2063 616e 2062 6520 7573 6564 2074  cs can be used t
-0001c220: 6f20 6372 6561 7465 2074 6865 2053 706c  o create the Spl
-0001c230: 696e 6543 6861 7261 6374 6572 6973 7469  ineCharacteristi
-0001c240: 6320 5c0d 0a20 2020 2020 2020 2020 2020  c \..           
-0001c250: 206f 626a 6563 7473 2c20 6164 6420 7468   objects, add th
-0001c260: 6520 7265 6c65 7661 6e74 2063 6f6c 756d  e relevant colum
-0001c270: 6e73 2061 6e64 2073 6574 2075 7020 7468  ns and set up th
-0001c280: 6520 7265 6665 7265 6e63 6573 2074 6f20  e references to 
-0001c290: 7468 6520 6368 6172 6163 7465 7269 7374  the characterist
-0001c2a0: 6963 732e 205c 0d0a 2020 2020 2020 2020  ics. \..        
-0001c2b0: 2020 2020 5468 6520 6675 6e63 7469 6f6e      The function
-0001c2c0: 2070 616e 6461 706f 7765 722e 636f 6e74   pandapower.cont
-0001c2d0: 726f 6c2e 7472 6166 6f5f 6368 6172 6163  rol.trafo_charac
-0001c2e0: 7465 7269 7374 6963 735f 6469 6167 6e6f  teristics_diagno
-0001c2f0: 7374 6963 2063 616e 2062 6520 7573 6564  stic can be used
-0001c300: 2066 6f72 2073 616e 6974 7920 6368 6563   for sanity chec
-0001c310: 6b73 2e0d 0a0d 0a20 2020 2020 2020 202a  ks.....        *
-0001c320: 2a76 6b5f 7065 7263 656e 745f 6368 6172  *vk_percent_char
-0001c330: 6163 7465 7269 7374 6963 2a2a 2028 696e  acteristic** (in
-0001c340: 7429 202d 2069 6e64 6578 206f 6620 7468  t) - index of th
-0001c350: 6520 6368 6172 6163 7465 7269 7374 6963  e characteristic
-0001c360: 2066 726f 6d20 6e65 742e 6368 6172 6163   from net.charac
-0001c370: 7465 7269 7374 6963 2066 6f72 205c 0d0a  teristic for \..
-0001c380: 2020 2020 2020 2020 2020 2020 7468 6520              the 
-0001c390: 6164 6a75 7374 6d65 6e74 206f 6620 7468  adjustment of th
-0001c3a0: 6520 7061 7261 6d65 7465 7220 2276 6b5f  e parameter "vk_
-0001c3b0: 7065 7263 656e 7422 2066 6f72 2074 6865  percent" for the
-0001c3c0: 2063 616c 6375 6c61 7469 6f6e 206f 6620   calculation of 
-0001c3d0: 7461 7020 6465 7065 6e64 656e 7420 696d  tap dependent im
-0001c3e0: 7065 6461 6e63 652e 0d0a 0d0a 2020 2020  pedance.....    
-0001c3f0: 2020 2020 2a2a 766b 725f 7065 7263 656e      **vkr_percen
-0001c400: 745f 6368 6172 6163 7465 7269 7374 6963  t_characteristic
-0001c410: 2a2a 2028 696e 7429 202d 2069 6e64 6578  ** (int) - index
-0001c420: 206f 6620 7468 6520 6368 6172 6163 7465   of the characte
-0001c430: 7269 7374 6963 2066 726f 6d20 6e65 742e  ristic from net.
-0001c440: 6368 6172 6163 7465 7269 7374 6963 2066  characteristic f
-0001c450: 6f72 205c 0d0a 2020 2020 2020 2020 2020  or \..          
-0001c460: 2020 7468 6520 6164 6a75 7374 6d65 6e74    the adjustment
-0001c470: 206f 6620 7468 6520 7061 7261 6d65 7465   of the paramete
-0001c480: 7220 2276 6b5f 7065 7263 656e 7422 2066  r "vk_percent" f
-0001c490: 6f72 2074 6865 2063 616c 6375 6c61 7469  or the calculati
-0001c4a0: 6f6e 206f 6620 7461 7020 6465 7065 6e64  on of tap depend
-0001c4b0: 656e 7420 696d 7065 6461 6e63 652e 0d0a  ent impedance...
-0001c4c0: 0d0a 2020 2020 2020 2020 2a2a 7074 5f70  ..        **pt_p
-0001c4d0: 6572 6365 6e74 2a2a 2028 666c 6f61 742c  ercent** (float,
-0001c4e0: 206e 616e 2920 2d20 2873 686f 7274 2063   nan) - (short c
-0001c4f0: 6972 6375 6974 206f 6e6c 7929 0d0a 0d0a  ircuit only)....
-0001c500: 2020 2020 2020 2020 2a2a 6f6c 7463 2a2a          **oltc**
-0001c510: 2028 626f 6f6c 2c20 4661 6c73 6529 202d   (bool, False) -
-0001c520: 2028 7368 6f72 7420 6369 7263 7569 7420   (short circuit 
-0001c530: 6f6e 6c79 290d 0a0d 0a20 2020 2020 2020  only)....       
-0001c540: 202a 2a20 6f6e 6c79 2063 6f6e 7369 6465   ** only conside
-0001c550: 7265 6420 696e 206c 6f61 6466 6c6f 7720  red in loadflow 
-0001c560: 6966 2063 616c 6375 6c61 7465 5f76 6f6c  if calculate_vol
-0001c570: 7461 6765 5f61 6e67 6c65 7320 3d20 5472  tage_angles = Tr
-0001c580: 7565 0d0a 0d0a 2020 2020 4f55 5450 5554  ue....    OUTPUT
-0001c590: 3a0d 0a20 2020 2020 2020 202a 2a69 6e64  :..        **ind
-0001c5a0: 6578 2a2a 2028 696e 7429 202d 2054 6865  ex** (int) - The
-0001c5b0: 2075 6e69 7175 6520 4944 206f 6620 7468   unique ID of th
-0001c5c0: 6520 6372 6561 7465 6420 7472 616e 7366  e created transf
-0001c5d0: 6f72 6d65 720d 0a0d 0a20 2020 2045 5841  ormer....    EXA
-0001c5e0: 4d50 4c45 3a0d 0a20 2020 2020 2020 2063  MPLE:..        c
-0001c5f0: 7265 6174 655f 7472 616e 7366 6f72 6d65  reate_transforme
-0001c600: 725f 6672 6f6d 5f70 6172 616d 6574 6572  r_from_parameter
-0001c610: 7328 6e65 742c 2068 765f 6275 733d 302c  s(net, hv_bus=0,
-0001c620: 206c 765f 6275 733d 312c 206e 616d 653d   lv_bus=1, name=
-0001c630: 2274 7261 666f 3122 2c20 736e 5f6d 7661  "trafo1", sn_mva
-0001c640: 3d34 302c 205c 0d0a 2020 2020 2020 2020  =40, \..        
-0001c650: 2020 2020 766e 5f68 765f 6b76 3d31 3130      vn_hv_kv=110
-0001c660: 2c20 766e 5f6c 765f 6b76 3d31 302c 2076  , vn_lv_kv=10, v
-0001c670: 6b5f 7065 7263 656e 743d 3130 2c20 766b  k_percent=10, vk
-0001c680: 725f 7065 7263 656e 743d 302e 332c 2070  r_percent=0.3, p
-0001c690: 6665 5f6b 773d 3330 2c20 5c0d 0a20 2020  fe_kw=30, \..   
-0001c6a0: 2020 2020 2020 2020 2069 305f 7065 7263           i0_perc
-0001c6b0: 656e 743d 302e 312c 2073 6869 6674 5f64  ent=0.1, shift_d
-0001c6c0: 6567 7265 653d 3330 290d 0a20 2020 2022  egree=30)..    "
-0001c6d0: 2222 0d0a 2020 2020 5f63 6865 636b 5f6d  ""..    _check_m
-0001c6e0: 756c 7469 706c 655f 6272 616e 6368 5f65  ultiple_branch_e
-0001c6f0: 6c65 6d65 6e74 7328 6e65 742c 2068 765f  lements(net, hv_
-0001c700: 6275 7365 732c 206c 765f 6275 7365 732c  buses, lv_buses,
-0001c710: 2022 5472 616e 7366 6f72 6d65 7273 2229   "Transformers")
-0001c720: 0d0a 0d0a 2020 2020 696e 6465 7820 3d20  ....    index = 
-0001c730: 5f67 6574 5f6d 756c 7469 706c 655f 696e  _get_multiple_in
-0001c740: 6465 785f 7769 7468 5f63 6865 636b 286e  dex_with_check(n
-0001c750: 6574 2c20 2274 7261 666f 222c 2069 6e64  et, "trafo", ind
-0001c760: 6578 2c20 6c65 6e28 6876 5f62 7573 6573  ex, len(hv_buses
-0001c770: 2929 0d0a 0d0a 2020 2020 7470 5f6e 6575  ))....    tp_neu
-0001c780: 7472 616c 203d 2070 642e 5365 7269 6573  tral = pd.Series
-0001c790: 2874 6170 5f6e 6575 7472 616c 2c20 696e  (tap_neutral, in
-0001c7a0: 6465 783d 696e 6465 782c 2064 7479 7065  dex=index, dtype
-0001c7b0: 3d66 6c6f 6174 3634 290d 0a20 2020 2074  =float64)..    t
-0001c7c0: 705f 706f 7320 3d20 7064 2e53 6572 6965  p_pos = pd.Serie
-0001c7d0: 7328 7461 705f 706f 732c 2069 6e64 6578  s(tap_pos, index
-0001c7e0: 3d69 6e64 6578 2c20 6474 7970 653d 666c  =index, dtype=fl
-0001c7f0: 6f61 7436 3429 2e66 696c 6c6e 6128 7470  oat64).fillna(tp
-0001c800: 5f6e 6575 7472 616c 290d 0a20 2020 2065  _neutral)..    e
-0001c810: 6e74 7269 6573 203d 207b 226e 616d 6522  ntries = {"name"
-0001c820: 3a20 6e61 6d65 2c20 2268 765f 6275 7322  : name, "hv_bus"
-0001c830: 3a20 6876 5f62 7573 6573 2c20 226c 765f  : hv_buses, "lv_
-0001c840: 6275 7322 3a20 6c76 5f62 7573 6573 2c0d  bus": lv_buses,.
-0001c850: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0001c860: 2269 6e5f 7365 7276 6963 6522 3a20 6172  "in_service": ar
-0001c870: 7261 7928 696e 5f73 6572 7669 6365 292e  ray(in_service).
-0001c880: 6173 7479 7065 2862 6f6f 6c5f 292c 2022  astype(bool_), "
-0001c890: 7374 645f 7479 7065 223a 204e 6f6e 652c  std_type": None,
-0001c8a0: 2022 736e 5f6d 7661 223a 2073 6e5f 6d76   "sn_mva": sn_mv
-0001c8b0: 612c 0d0a 2020 2020 2020 2020 2020 2020  a,..            
-0001c8c0: 2020 2022 766e 5f68 765f 6b76 223a 2076     "vn_hv_kv": v
-0001c8d0: 6e5f 6876 5f6b 762c 2022 766e 5f6c 765f  n_hv_kv, "vn_lv_
-0001c8e0: 6b76 223a 2076 6e5f 6c76 5f6b 762c 2022  kv": vn_lv_kv, "
-0001c8f0: 766b 5f70 6572 6365 6e74 223a 2076 6b5f  vk_percent": vk_
-0001c900: 7065 7263 656e 742c 0d0a 2020 2020 2020  percent,..      
-0001c910: 2020 2020 2020 2020 2022 766b 725f 7065           "vkr_pe
-0001c920: 7263 656e 7422 3a20 766b 725f 7065 7263  rcent": vkr_perc
-0001c930: 656e 742c 2022 7066 655f 6b77 223a 2070  ent, "pfe_kw": p
-0001c940: 6665 5f6b 772c 2022 6930 5f70 6572 6365  fe_kw, "i0_perce
-0001c950: 6e74 223a 2069 305f 7065 7263 656e 742c  nt": i0_percent,
-0001c960: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-0001c970: 2022 7461 705f 6e65 7574 7261 6c22 3a20   "tap_neutral": 
-0001c980: 7470 5f6e 6575 7472 616c 2c20 2274 6170  tp_neutral, "tap
-0001c990: 5f6d 6178 223a 2074 6170 5f6d 6178 2c20  _max": tap_max, 
-0001c9a0: 2274 6170 5f6d 696e 223a 2074 6170 5f6d  "tap_min": tap_m
-0001c9b0: 696e 2c0d 0a20 2020 2020 2020 2020 2020  in,..           
-0001c9c0: 2020 2020 2273 6869 6674 5f64 6567 7265      "shift_degre
-0001c9d0: 6522 3a20 7368 6966 745f 6465 6772 6565  e": shift_degree
-0001c9e0: 2c20 2274 6170 5f70 6f73 223a 2074 705f  , "tap_pos": tp_
-0001c9f0: 706f 732c 2022 7461 705f 7369 6465 223a  pos, "tap_side":
-0001ca00: 2074 6170 5f73 6964 652c 0d0a 2020 2020   tap_side,..    
-0001ca10: 2020 2020 2020 2020 2020 2022 7461 705f             "tap_
-0001ca20: 7374 6570 5f70 6572 6365 6e74 223a 2074  step_percent": t
-0001ca30: 6170 5f73 7465 705f 7065 7263 656e 742c  ap_step_percent,
-0001ca40: 2022 7461 705f 7374 6570 5f64 6567 7265   "tap_step_degre
-0001ca50: 6522 3a20 7461 705f 7374 6570 5f64 6567  e": tap_step_deg
-0001ca60: 7265 652c 0d0a 2020 2020 2020 2020 2020  ree,..          
-0001ca70: 2020 2020 2022 7461 705f 7068 6173 655f       "tap_phase_
-0001ca80: 7368 6966 7465 7222 3a20 7461 705f 7068  shifter": tap_ph
-0001ca90: 6173 655f 7368 6966 7465 722c 2022 7061  ase_shifter, "pa
-0001caa0: 7261 6c6c 656c 223a 2070 6172 616c 6c65  rallel": paralle
-0001cab0: 6c2c 2022 6466 223a 2064 662c 0d0a 2020  l, "df": df,..  
-0001cac0: 2020 2020 2020 2020 2020 2020 2022 7074               "pt
-0001cad0: 5f70 6572 6365 6e74 223a 2070 745f 7065  _percent": pt_pe
-0001cae0: 7263 656e 742c 2022 6f6c 7463 223a 206f  rcent, "oltc": o
-0001caf0: 6c74 637d 0d0a 0d0a 2020 2020 6966 2074  ltc}....    if t
-0001cb00: 6170 5f64 6570 656e 6465 6e74 5f69 6d70  ap_dependent_imp
-0001cb10: 6564 616e 6365 2069 7320 6e6f 7420 4e6f  edance is not No
-0001cb20: 6e65 3a0d 0a20 2020 2020 2020 205f 6164  ne:..        _ad
-0001cb30: 645f 7365 7269 6573 5f74 6f5f 656e 7472  d_series_to_entr
-0001cb40: 6965 7328 656e 7472 6965 732c 2069 6e64  ies(entries, ind
-0001cb50: 6578 2c20 2274 6170 5f64 6570 656e 6465  ex, "tap_depende
-0001cb60: 6e74 5f69 6d70 6564 616e 6365 222c 2074  nt_impedance", t
-0001cb70: 6170 5f64 6570 656e 6465 6e74 5f69 6d70  ap_dependent_imp
-0001cb80: 6564 616e 6365 2c20 6474 7970 653d 626f  edance, dtype=bo
-0001cb90: 6f6c 5f2c 2064 6566 6175 6c74 5f76 616c  ol_, default_val
-0001cba0: 3d46 616c 7365 290d 0a20 2020 2069 6620  =False)..    if 
-0001cbb0: 766b 5f70 6572 6365 6e74 5f63 6861 7261  vk_percent_chara
-0001cbc0: 6374 6572 6973 7469 6320 6973 206e 6f74  cteristic is not
-0001cbd0: 204e 6f6e 653a 0d0a 2020 2020 2020 2020   None:..        
-0001cbe0: 5f61 6464 5f73 6572 6965 735f 746f 5f65  _add_series_to_e
-0001cbf0: 6e74 7269 6573 2865 6e74 7269 6573 2c20  ntries(entries, 
-0001cc00: 696e 6465 782c 2022 766b 5f70 6572 6365  index, "vk_perce
-0001cc10: 6e74 5f63 6861 7261 6374 6572 6973 7469  nt_characteristi
-0001cc20: 6322 2c20 2076 6b5f 7065 7263 656e 745f  c",  vk_percent_
-0001cc30: 6368 6172 6163 7465 7269 7374 6963 2c20  characteristic, 
-0001cc40: 2249 6e74 3634 2229 0d0a 2020 2020 6966  "Int64")..    if
-0001cc50: 2076 6b72 5f70 6572 6365 6e74 5f63 6861   vkr_percent_cha
-0001cc60: 7261 6374 6572 6973 7469 6320 6973 206e  racteristic is n
-0001cc70: 6f74 204e 6f6e 653a 0d0a 2020 2020 2020  ot None:..      
-0001cc80: 2020 5f61 6464 5f73 6572 6965 735f 746f    _add_series_to
-0001cc90: 5f65 6e74 7269 6573 2865 6e74 7269 6573  _entries(entries
-0001cca0: 2c20 696e 6465 782c 2022 766b 725f 7065  , index, "vkr_pe
-0001ccb0: 7263 656e 745f 6368 6172 6163 7465 7269  rcent_characteri
-0001ccc0: 7374 6963 222c 2076 6b72 5f70 6572 6365  stic", vkr_perce
-0001ccd0: 6e74 5f63 6861 7261 6374 6572 6973 7469  nt_characteristi
-0001cce0: 632c 2022 496e 7436 3422 290d 0a0d 0a20  c, "Int64").... 
-0001ccf0: 2020 205f 6164 645f 7365 7269 6573 5f74     _add_series_t
-0001cd00: 6f5f 656e 7472 6965 7328 656e 7472 6965  o_entries(entrie
-0001cd10: 732c 2069 6e64 6578 2c20 2276 6b30 5f70  s, index, "vk0_p
-0001cd20: 6572 6365 6e74 222c 2076 6b30 5f70 6572  ercent", vk0_per
-0001cd30: 6365 6e74 290d 0a20 2020 205f 6164 645f  cent)..    _add_
-0001cd40: 7365 7269 6573 5f74 6f5f 656e 7472 6965  series_to_entrie
-0001cd50: 7328 656e 7472 6965 732c 2069 6e64 6578  s(entries, index
-0001cd60: 2c20 2276 6b72 305f 7065 7263 656e 7422  , "vkr0_percent"
-0001cd70: 2c20 766b 7230 5f70 6572 6365 6e74 290d  , vkr0_percent).
-0001cd80: 0a20 2020 205f 6164 645f 7365 7269 6573  .    _add_series
-0001cd90: 5f74 6f5f 656e 7472 6965 7328 656e 7472  _to_entries(entr
-0001cda0: 6965 732c 2069 6e64 6578 2c20 226d 6167  ies, index, "mag
-0001cdb0: 305f 7065 7263 656e 7422 2c20 6d61 6730  0_percent", mag0
-0001cdc0: 5f70 6572 6365 6e74 290d 0a20 2020 205f  _percent)..    _
-0001cdd0: 6164 645f 7365 7269 6573 5f74 6f5f 656e  add_series_to_en
-0001cde0: 7472 6965 7328 656e 7472 6965 732c 2069  tries(entries, i
-0001cdf0: 6e64 6578 2c20 226d 6167 305f 7278 222c  ndex, "mag0_rx",
-0001ce00: 206d 6167 305f 7278 290d 0a20 2020 205f   mag0_rx)..    _
-0001ce10: 6164 645f 7365 7269 6573 5f74 6f5f 656e  add_series_to_en
-0001ce20: 7472 6965 7328 656e 7472 6965 732c 2069  tries(entries, i
-0001ce30: 6e64 6578 2c20 2273 6930 5f68 765f 7061  ndex, "si0_hv_pa
-0001ce40: 7274 6961 6c22 2c20 7369 305f 6876 5f70  rtial", si0_hv_p
-0001ce50: 6172 7469 616c 290d 0a20 2020 205f 6164  artial)..    _ad
-0001ce60: 645f 7365 7269 6573 5f74 6f5f 656e 7472  d_series_to_entr
-0001ce70: 6965 7328 656e 7472 6965 732c 2069 6e64  ies(entries, ind
-0001ce80: 6578 2c20 226d 6178 5f6c 6f61 6469 6e67  ex, "max_loading
-0001ce90: 5f70 6572 6365 6e74 222c 206d 6178 5f6c  _percent", max_l
-0001cea0: 6f61 6469 6e67 5f70 6572 6365 6e74 290d  oading_percent).
-0001ceb0: 0a20 2020 205f 6164 645f 7365 7269 6573  .    _add_series
-0001cec0: 5f74 6f5f 656e 7472 6965 7328 656e 7472  _to_entries(entr
-0001ced0: 6965 732c 2069 6e64 6578 2c20 2276 6563  ies, index, "vec
-0001cee0: 746f 725f 6772 6f75 7022 2c20 7665 6374  tor_group", vect
-0001cef0: 6f72 5f67 726f 7570 2c20 6474 7970 3d73  or_group, dtyp=s
-0001cf00: 7472 290d 0a20 2020 205f 6164 645f 7365  tr)..    _add_se
-0001cf10: 7269 6573 5f74 6f5f 656e 7472 6965 7328  ries_to_entries(
-0001cf20: 656e 7472 6965 732c 2069 6e64 6578 2c20  entries, index, 
-0001cf30: 2270 745f 7065 7263 656e 7422 2c20 7074  "pt_percent", pt
-0001cf40: 5f70 6572 6365 6e74 290d 0a0d 0a20 2020  _percent)....   
-0001cf50: 205f 7365 745f 6d75 6c74 6970 6c65 5f65   _set_multiple_e
-0001cf60: 6e74 7269 6573 286e 6574 2c20 2274 7261  ntries(net, "tra
-0001cf70: 666f 222c 2069 6e64 6578 2c20 2a2a 656e  fo", index, **en
-0001cf80: 7472 6965 732c 202a 2a6b 7761 7267 7329  tries, **kwargs)
-0001cf90: 0d0a 0d0a 2020 2020 7265 7475 726e 2069  ....    return i
-0001cfa0: 6e64 6578 0d0a 0d0a 0d0a 6465 6620 6372  ndex......def cr
-0001cfb0: 6561 7465 5f74 7261 6e73 666f 726d 6572  eate_transformer
-0001cfc0: 3377 286e 6574 2c20 6876 5f62 7573 2c20  3w(net, hv_bus, 
-0001cfd0: 6d76 5f62 7573 2c20 6c76 5f62 7573 2c20  mv_bus, lv_bus, 
-0001cfe0: 7374 645f 7479 7065 2c20 6e61 6d65 3d4e  std_type, name=N
-0001cff0: 6f6e 652c 2074 6170 5f70 6f73 3d6e 616e  one, tap_pos=nan
-0001d000: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
-0001d010: 2020 2020 2020 2020 2020 2020 696e 5f73              in_s
-0001d020: 6572 7669 6365 3d54 7275 652c 2069 6e64  ervice=True, ind
-0001d030: 6578 3d4e 6f6e 652c 206d 6178 5f6c 6f61  ex=None, max_loa
-0001d040: 6469 6e67 5f70 6572 6365 6e74 3d6e 616e  ding_percent=nan
-0001d050: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
-0001d060: 2020 2020 2020 2020 2020 2020 7461 705f              tap_
-0001d070: 6174 5f73 7461 725f 706f 696e 743d 4661  at_star_point=Fa
-0001d080: 6c73 652c 2074 6170 5f64 6570 656e 6465  lse, tap_depende
-0001d090: 6e74 5f69 6d70 6564 616e 6365 3d4e 6f6e  nt_impedance=Non
-0001d0a0: 652c 0d0a 2020 2020 2020 2020 2020 2020  e,..            
-0001d0b0: 2020 2020 2020 2020 2020 2020 2076 6b5f               vk_
-0001d0c0: 6876 5f70 6572 6365 6e74 5f63 6861 7261  hv_percent_chara
-0001d0d0: 6374 6572 6973 7469 633d 4e6f 6e65 2c20  cteristic=None, 
-0001d0e0: 766b 725f 6876 5f70 6572 6365 6e74 5f63  vkr_hv_percent_c
-0001d0f0: 6861 7261 6374 6572 6973 7469 633d 4e6f  haracteristic=No
-0001d100: 6e65 2c0d 0a20 2020 2020 2020 2020 2020  ne,..           
-0001d110: 2020 2020 2020 2020 2020 2020 2020 766b                vk
-0001d120: 5f6d 765f 7065 7263 656e 745f 6368 6172  _mv_percent_char
-0001d130: 6163 7465 7269 7374 6963 3d4e 6f6e 652c  acteristic=None,
-0001d140: 2076 6b72 5f6d 765f 7065 7263 656e 745f   vkr_mv_percent_
-0001d150: 6368 6172 6163 7465 7269 7374 6963 3d4e  characteristic=N
-0001d160: 6f6e 652c 0d0a 2020 2020 2020 2020 2020  one,..          
-0001d170: 2020 2020 2020 2020 2020 2020 2020 2076                 v
-0001d180: 6b5f 6c76 5f70 6572 6365 6e74 5f63 6861  k_lv_percent_cha
-0001d190: 7261 6374 6572 6973 7469 633d 4e6f 6e65  racteristic=None
-0001d1a0: 2c20 766b 725f 6c76 5f70 6572 6365 6e74  , vkr_lv_percent
-0001d1b0: 5f63 6861 7261 6374 6572 6973 7469 633d  _characteristic=
-0001d1c0: 4e6f 6e65 293a 0d0a 2020 2020 2222 220d  None):..    """.
-0001d1d0: 0a20 2020 2043 7265 6174 6573 2061 2074  .    Creates a t
-0001d1e0: 6872 6565 2d77 696e 6469 6e67 2074 7261  hree-winding tra
-0001d1f0: 6e73 666f 726d 6572 2069 6e20 7461 626c  nsformer in tabl
-0001d200: 6520 6e65 745b 2274 7261 666f 3377 225d  e net["trafo3w"]
-0001d210: 2e0d 0a20 2020 2054 6865 2074 7261 666f  ...    The trafo
-0001d220: 2070 6172 616d 6574 6572 7320 6172 6520   parameters are 
-0001d230: 6465 6669 6e65 6420 7468 726f 7567 6820  defined through 
-0001d240: 7468 6520 7374 616e 6461 7264 2074 7970  the standard typ
-0001d250: 6520 6c69 6272 6172 792e 0d0a 0d0a 2020  e library.....  
-0001d260: 2020 494e 5055 543a 0d0a 2020 2020 2020    INPUT:..      
-0001d270: 2020 2a2a 6e65 742a 2a20 2d20 5468 6520    **net** - The 
-0001d280: 6e65 7420 7769 7468 696e 2074 6869 7320  net within this 
-0001d290: 7472 616e 7366 6f72 6d65 7220 7368 6f75  transformer shou
-0001d2a0: 6c64 2062 6520 6372 6561 7465 640d 0a0d  ld be created...
-0001d2b0: 0a20 2020 2020 2020 202a 2a68 765f 6275  .        **hv_bu
-0001d2c0: 732a 2a20 2869 6e74 2920 2d20 5468 6520  s** (int) - The 
-0001d2d0: 6275 7320 6f6e 2074 6865 2068 6967 682d  bus on the high-
-0001d2e0: 766f 6c74 6167 6520 7369 6465 206f 6e20  voltage side on 
-0001d2f0: 7768 6963 6820 7468 6520 7472 616e 7366  which the transf
-0001d300: 6f72 6d65 7220 7769 6c6c 2062 6520 5c0d  ormer will be \.
-0001d310: 0a20 2020 2020 2020 2020 2020 2063 6f6e  .            con
-0001d320: 6e65 6374 6564 2074 6f0d 0a0d 0a20 2020  nected to....   
-0001d330: 2020 2020 202a 2a6d 765f 6275 732a 2a20       **mv_bus** 
-0001d340: 2869 6e74 2920 2d20 5468 6520 6d65 6469  (int) - The medi
-0001d350: 756d 2076 6f6c 7461 6765 2062 7573 206f  um voltage bus o
-0001d360: 6e20 7768 6963 6820 7468 6520 7472 616e  n which the tran
-0001d370: 7366 6f72 6d65 7220 7769 6c6c 2062 6520  sformer will be 
-0001d380: 636f 6e6e 6563 7465 6420 746f 0d0a 0d0a  connected to....
-0001d390: 2020 2020 2020 2020 2a2a 6c76 5f62 7573          **lv_bus
-0001d3a0: 2a2a 2028 696e 7429 202d 2054 6865 2062  ** (int) - The b
-0001d3b0: 7573 206f 6e20 7468 6520 6c6f 772d 766f  us on the low-vo
-0001d3c0: 6c74 6167 6520 7369 6465 206f 6e20 7768  ltage side on wh
-0001d3d0: 6963 6820 7468 6520 7472 616e 7366 6f72  ich the transfor
-0001d3e0: 6d65 7220 7769 6c6c 2062 6520 5c0d 0a20  mer will be \.. 
-0001d3f0: 2020 2020 2020 2020 2020 2063 6f6e 6e65             conne
-0001d400: 6374 6564 2074 6f0d 0a0d 0a20 2020 2020  cted to....     
-0001d410: 2020 202a 2a73 7464 5f74 7970 652a 2a20     **std_type** 
-0001d420: 2d20 2054 6865 2075 7365 6420 7374 616e  -  The used stan
-0001d430: 6461 7264 2074 7970 6520 6672 6f6d 2074  dard type from t
-0001d440: 6865 2073 7461 6e64 6172 6420 7479 7065  he standard type
-0001d450: 206c 6962 7261 7279 0d0a 0d0a 2020 2020   library....    
-0001d460: 4f50 5449 4f4e 414c 3a0d 0a20 2020 2020  OPTIONAL:..     
-0001d470: 2020 202a 2a6e 616d 652a 2a20 2873 7472     **name** (str
-0001d480: 696e 6729 202d 2041 2063 7573 746f 6d20  ing) - A custom 
-0001d490: 6e61 6d65 2066 6f72 2074 6869 7320 7472  name for this tr
-0001d4a0: 616e 7366 6f72 6d65 720d 0a0d 0a20 2020  ansformer....   
-0001d4b0: 2020 2020 202a 2a74 6170 5f70 6f73 2a2a       **tap_pos**
-0001d4c0: 2028 696e 742c 206e 616e 2920 2d20 6375   (int, nan) - cu
-0001d4d0: 7272 656e 7420 7461 7020 706f 7369 7469  rrent tap positi
-0001d4e0: 6f6e 206f 6620 7468 6520 7472 616e 7366  on of the transf
-0001d4f0: 6f72 6d65 722e 2044 6566 6175 6c74 7320  ormer. Defaults 
-0001d500: 746f 2074 6865 206d 6564 6975 6d20 5c0d  to the medium \.
-0001d510: 0a20 2020 2020 2020 2020 2020 2070 6f73  .            pos
-0001d520: 6974 696f 6e20 2874 6170 5f6e 6575 7472  ition (tap_neutr
-0001d530: 616c 290d 0a0d 0a20 2020 2020 2020 202a  al)....        *
-0001d540: 2a74 6170 5f61 745f 7374 6172 5f70 6f69  *tap_at_star_poi
-0001d550: 6e74 2a2a 2028 626f 6f6c 6561 6e29 202d  nt** (boolean) -
-0001d560: 2057 6865 7468 6572 2074 6170 2063 6861   Whether tap cha
-0001d570: 6e67 6572 2069 7320 6c6f 6361 7465 6420  nger is located 
-0001d580: 6174 2074 6865 2073 7461 7220 706f 696e  at the star poin
-0001d590: 7420 6f66 2074 6865 205c 0d0a 2020 2020  t of the \..    
-0001d5a0: 2020 2020 2020 2020 3357 2d74 7261 6e73          3W-trans
-0001d5b0: 666f 726d 6572 206f 7220 6174 2074 6865  former or at the
-0001d5c0: 2062 7573 0d0a 0d0a 2020 2020 2020 2020   bus....        
-0001d5d0: 2a2a 696e 5f73 6572 7669 6365 2a2a 2028  **in_service** (
-0001d5e0: 626f 6f6c 6561 6e29 202d 2054 7275 6520  boolean) - True 
-0001d5f0: 666f 7220 696e 5f73 6572 7669 6365 206f  for in_service o
-0001d600: 7220 4661 6c73 6520 666f 7220 6f75 7420  r False for out 
-0001d610: 6f66 2073 6572 7669 6365 0d0a 0d0a 2020  of service....  
-0001d620: 2020 2020 2020 2a2a 696e 6465 782a 2a20        **index** 
-0001d630: 2869 6e74 2c20 4e6f 6e65 2920 2d20 466f  (int, None) - Fo
-0001d640: 7263 6520 6120 7370 6563 6966 6965 6420  rce a specified 
-0001d650: 4944 2069 6620 6974 2069 7320 6176 6169  ID if it is avai
-0001d660: 6c61 626c 652e 2049 6620 4e6f 6e65 2c20  lable. If None, 
-0001d670: 7468 6520 696e 6465 7820 6f6e 6520 5c0d  the index one \.
-0001d680: 0a20 2020 2020 2020 2020 2020 2068 6967  .            hig
-0001d690: 6865 7220 7468 616e 2074 6865 2068 6967  her than the hig
-0001d6a0: 6865 7374 2061 6c72 6561 6479 2065 7869  hest already exi
-0001d6b0: 7374 696e 6720 696e 6465 7820 6973 2073  sting index is s
-0001d6c0: 656c 6563 7465 642e 0d0a 0d0a 2020 2020  elected.....    
-0001d6d0: 2020 2020 2a2a 6d61 785f 6c6f 6164 696e      **max_loadin
-0001d6e0: 675f 7065 7263 656e 7420 2866 6c6f 6174  g_percent (float
-0001d6f0: 292a 2a20 2d20 6d61 7869 6d75 6d20 6375  )** - maximum cu
-0001d700: 7272 656e 7420 6c6f 6164 696e 6720 286f  rrent loading (o
-0001d710: 6e6c 7920 6e65 6564 6564 2066 6f72 204f  nly needed for O
-0001d720: 5046 290d 0a0d 0a20 2020 2020 2020 202a  PF)....        *
-0001d730: 2a74 6170 5f61 745f 7374 6172 5f70 6f69  *tap_at_star_poi
-0001d740: 6e74 2028 626f 6f6c 292a 2a20 2d20 7768  nt (bool)** - wh
-0001d750: 6574 6865 7220 7461 7020 6368 616e 6765  ether tap change
-0001d760: 7220 6973 206d 6f64 656c 6c65 6420 6174  r is modelled at
-0001d770: 2073 7461 7220 706f 696e 7420 6f72 2061   star point or a
-0001d780: 7420 7468 6520 6275 730d 0a0d 0a20 2020  t the bus....   
-0001d790: 2020 2020 202a 2a74 6170 5f64 6570 656e       **tap_depen
-0001d7a0: 6465 6e74 5f69 6d70 6564 616e 6365 2a2a  dent_impedance**
-0001d7b0: 2028 626f 6f6c 6561 6e29 202d 2054 7275   (boolean) - Tru
-0001d7c0: 6520 6966 2074 7261 6e73 666f 726d 6572  e if transformer
-0001d7d0: 2069 6d70 6564 616e 6365 206d 7573 7420   impedance must 
-0001d7e0: 6265 2061 646a 7573 7465 6420 6465 7065  be adjusted depe
-0001d7f0: 6e64 656e 7420 5c0d 0a20 2020 2020 2020  ndent \..       
-0001d800: 2020 2020 206f 6e20 7468 6520 7461 7020       on the tap 
-0001d810: 706f 7369 7469 6f6e 206f 6620 7468 6520  position of the 
-0001d820: 7472 6162 6e73 666f 726d 6572 2e20 5265  trabnsformer. Re
-0001d830: 7175 6972 6573 2074 6865 2061 6464 6974  quires the addit
-0001d840: 696f 6e61 6c20 636f 6c75 6d6e 7320 5c0d  ional columns \.
-0001d850: 0a20 2020 2020 2020 2020 2020 2022 766b  .            "vk
-0001d860: 5f70 6572 6365 6e74 5f63 6861 7261 6374  _percent_charact
-0001d870: 6572 6973 7469 6322 2061 6e64 2022 766b  eristic" and "vk
-0001d880: 725f 7065 7263 656e 745f 6368 6172 6163  r_percent_charac
-0001d890: 7465 7269 7374 6963 2220 7468 6174 2072  teristic" that r
-0001d8a0: 6566 6572 656e 6365 2074 6865 2069 6e64  eference the ind
-0001d8b0: 6578 206f 6620 7468 6520 5c0d 0a20 2020  ex of the \..   
-0001d8c0: 2020 2020 2020 2020 2063 6861 7261 6374           charact
-0001d8d0: 6572 6973 7469 6320 6672 6f6d 2074 6865  eristic from the
-0001d8e0: 2074 6162 6c65 206e 6574 2e63 6861 7261   table net.chara
-0001d8f0: 6374 6572 6973 7469 632e 2041 2063 6f6e  cteristic. A con
-0001d900: 7665 6e69 656e 6365 2066 756e 6374 696f  venience functio
-0001d910: 6e20 5c0d 0a20 2020 2020 2020 2020 2020  n \..           
-0001d920: 2070 616e 6461 706f 7765 722e 636f 6e74   pandapower.cont
-0001d930: 726f 6c2e 6372 6561 7465 5f74 7261 666f  rol.create_trafo
-0001d940: 5f63 6861 7261 6374 6572 6973 7469 6373  _characteristics
-0001d950: 2063 616e 2062 6520 7573 6564 2074 6f20   can be used to 
-0001d960: 6372 6561 7465 2074 6865 2053 706c 696e  create the Splin
-0001d970: 6543 6861 7261 6374 6572 6973 7469 6320  eCharacteristic 
-0001d980: 5c0d 0a20 2020 2020 2020 2020 2020 206f  \..            o
-0001d990: 626a 6563 7473 2c20 6164 6420 7468 6520  bjects, add the 
-0001d9a0: 7265 6c65 7661 6e74 2063 6f6c 756d 6e73  relevant columns
-0001d9b0: 2061 6e64 2073 6574 2075 7020 7468 6520   and set up the 
-0001d9c0: 7265 6665 7265 6e63 6573 2074 6f20 7468  references to th
-0001d9d0: 6520 6368 6172 6163 7465 7269 7374 6963  e characteristic
-0001d9e0: 732e 205c 0d0a 2020 2020 2020 2020 2020  s. \..          
-0001d9f0: 2020 5468 6520 6675 6e63 7469 6f6e 2070    The function p
-0001da00: 616e 6461 706f 7765 722e 636f 6e74 726f  andapower.contro
-0001da10: 6c2e 7472 6166 6f5f 6368 6172 6163 7465  l.trafo_characte
-0001da20: 7269 7374 6963 735f 6469 6167 6e6f 7374  ristics_diagnost
-0001da30: 6963 2063 616e 2062 6520 7573 6564 2066  ic can be used f
-0001da40: 6f72 2073 616e 6974 7920 6368 6563 6b73  or sanity checks
-0001da50: 2e0d 0a0d 0a20 2020 2020 2020 202a 2a76  .....        **v
-0001da60: 6b5f 6876 5f70 6572 6365 6e74 5f63 6861  k_hv_percent_cha
-0001da70: 7261 6374 6572 6973 7469 632a 2a20 2869  racteristic** (i
-0001da80: 6e74 2920 2d20 696e 6465 7820 6f66 2074  nt) - index of t
-0001da90: 6865 2063 6861 7261 6374 6572 6973 7469  he characteristi
-0001daa0: 6320 6672 6f6d 206e 6574 2e63 6861 7261  c from net.chara
-0001dab0: 6374 6572 6973 7469 6320 666f 7220 5c0d  cteristic for \.
-0001dac0: 0a20 2020 2020 2020 2020 2020 2074 6865  .            the
-0001dad0: 2061 646a 7573 746d 656e 7420 6f66 2074   adjustment of t
-0001dae0: 6865 2070 6172 616d 6574 6572 2022 766b  he parameter "vk
-0001daf0: 5f70 6572 6365 6e74 2220 666f 7220 7468  _percent" for th
-0001db00: 6520 6361 6c63 756c 6174 696f 6e20 6f66  e calculation of
-0001db10: 2074 6170 2064 6570 656e 6465 6e74 2069   tap dependent i
-0001db20: 6d70 6564 616e 6365 2e0d 0a0d 0a20 2020  mpedance.....   
-0001db30: 2020 2020 202a 2a76 6b72 5f68 765f 7065       **vkr_hv_pe
-0001db40: 7263 656e 745f 6368 6172 6163 7465 7269  rcent_characteri
-0001db50: 7374 6963 2a2a 2028 696e 7429 202d 2069  stic** (int) - i
-0001db60: 6e64 6578 206f 6620 7468 6520 6368 6172  ndex of the char
-0001db70: 6163 7465 7269 7374 6963 2066 726f 6d20  acteristic from 
-0001db80: 6e65 742e 6368 6172 6163 7465 7269 7374  net.characterist
-0001db90: 6963 2066 6f72 205c 0d0a 2020 2020 2020  ic for \..      
-0001dba0: 2020 2020 2020 7468 6520 6164 6a75 7374        the adjust
-0001dbb0: 6d65 6e74 206f 6620 7468 6520 7061 7261  ment of the para
-0001dbc0: 6d65 7465 7220 2276 6b5f 7065 7263 656e  meter "vk_percen
-0001dbd0: 7422 2066 6f72 2074 6865 2063 616c 6375  t" for the calcu
-0001dbe0: 6c61 7469 6f6e 206f 6620 7461 7020 6465  lation of tap de
-0001dbf0: 7065 6e64 656e 7420 696d 7065 6461 6e63  pendent impedanc
-0001dc00: 652e 0d0a 0d0a 2020 2020 2020 2020 2a2a  e.....        **
-0001dc10: 766b 5f6d 765f 7065 7263 656e 745f 6368  vk_mv_percent_ch
-0001dc20: 6172 6163 7465 7269 7374 6963 2a2a 2028  aracteristic** (
-0001dc30: 696e 7429 202d 2069 6e64 6578 206f 6620  int) - index of 
-0001dc40: 7468 6520 6368 6172 6163 7465 7269 7374  the characterist
-0001dc50: 6963 2066 726f 6d20 6e65 742e 6368 6172  ic from net.char
-0001dc60: 6163 7465 7269 7374 6963 2066 6f72 205c  acteristic for \
-0001dc70: 0d0a 2020 2020 2020 2020 2020 2020 7468  ..            th
-0001dc80: 6520 6164 6a75 7374 6d65 6e74 206f 6620  e adjustment of 
-0001dc90: 7468 6520 7061 7261 6d65 7465 7220 2276  the parameter "v
-0001dca0: 6b5f 7065 7263 656e 7422 2066 6f72 2074  k_percent" for t
-0001dcb0: 6865 2063 616c 6375 6c61 7469 6f6e 206f  he calculation o
-0001dcc0: 6620 7461 7020 6465 7065 6e64 656e 7420  f tap dependent 
-0001dcd0: 696d 7065 6461 6e63 652e 0d0a 0d0a 2020  impedance.....  
-0001dce0: 2020 2020 2020 2a2a 766b 725f 6d76 5f70        **vkr_mv_p
-0001dcf0: 6572 6365 6e74 5f63 6861 7261 6374 6572  ercent_character
-0001dd00: 6973 7469 632a 2a20 2869 6e74 2920 2d20  istic** (int) - 
-0001dd10: 696e 6465 7820 6f66 2074 6865 2063 6861  index of the cha
-0001dd20: 7261 6374 6572 6973 7469 6320 6672 6f6d  racteristic from
-0001dd30: 206e 6574 2e63 6861 7261 6374 6572 6973   net.characteris
-0001dd40: 7469 6320 666f 7220 5c0d 0a20 2020 2020  tic for \..     
-0001dd50: 2020 2020 2020 2074 6865 2061 646a 7573         the adjus
-0001dd60: 746d 656e 7420 6f66 2074 6865 2070 6172  tment of the par
-0001dd70: 616d 6574 6572 2022 766b 5f70 6572 6365  ameter "vk_perce
-0001dd80: 6e74 2220 666f 7220 7468 6520 6361 6c63  nt" for the calc
-0001dd90: 756c 6174 696f 6e20 6f66 2074 6170 2064  ulation of tap d
-0001dda0: 6570 656e 6465 6e74 2069 6d70 6564 616e  ependent impedan
-0001ddb0: 6365 2e0d 0a0d 0a20 2020 2020 2020 202a  ce.....        *
-0001ddc0: 2a76 6b5f 6c76 5f70 6572 6365 6e74 5f63  *vk_lv_percent_c
-0001ddd0: 6861 7261 6374 6572 6973 7469 632a 2a20  haracteristic** 
-0001dde0: 2869 6e74 2920 2d20 696e 6465 7820 6f66  (int) - index of
-0001ddf0: 2074 6865 2063 6861 7261 6374 6572 6973   the characteris
-0001de00: 7469 6320 6672 6f6d 206e 6574 2e63 6861  tic from net.cha
-0001de10: 7261 6374 6572 6973 7469 6320 666f 7220  racteristic for 
-0001de20: 5c0d 0a20 2020 2020 2020 2020 2020 2074  \..            t
-0001de30: 6865 2061 646a 7573 746d 656e 7420 6f66  he adjustment of
-0001de40: 2074 6865 2070 6172 616d 6574 6572 2022   the parameter "
-0001de50: 766b 5f70 6572 6365 6e74 2220 666f 7220  vk_percent" for 
-0001de60: 7468 6520 6361 6c63 756c 6174 696f 6e20  the calculation 
-0001de70: 6f66 2074 6170 2064 6570 656e 6465 6e74  of tap dependent
-0001de80: 2069 6d70 6564 616e 6365 2e0d 0a0d 0a20   impedance..... 
-0001de90: 2020 2020 2020 202a 2a76 6b72 5f6c 765f         **vkr_lv_
-0001dea0: 7065 7263 656e 745f 6368 6172 6163 7465  percent_characte
-0001deb0: 7269 7374 6963 2a2a 2028 696e 7429 202d  ristic** (int) -
-0001dec0: 2069 6e64 6578 206f 6620 7468 6520 6368   index of the ch
-0001ded0: 6172 6163 7465 7269 7374 6963 2066 726f  aracteristic fro
-0001dee0: 6d20 6e65 742e 6368 6172 6163 7465 7269  m net.characteri
-0001def0: 7374 6963 2066 6f72 205c 0d0a 2020 2020  stic for \..    
-0001df00: 2020 2020 2020 2020 7468 6520 6164 6a75          the adju
-0001df10: 7374 6d65 6e74 206f 6620 7468 6520 7061  stment of the pa
-0001df20: 7261 6d65 7465 7220 2276 6b5f 7065 7263  rameter "vk_perc
-0001df30: 656e 7422 2066 6f72 2074 6865 2063 616c  ent" for the cal
-0001df40: 6375 6c61 7469 6f6e 206f 6620 7461 7020  culation of tap 
-0001df50: 6465 7065 6e64 656e 7420 696d 7065 6461  dependent impeda
-0001df60: 6e63 652e 0d0a 0d0a 2020 2020 4f55 5450  nce.....    OUTP
-0001df70: 5554 3a0d 0a20 2020 2020 2020 202a 2a69  UT:..        **i
-0001df80: 6e64 6578 2a2a 2028 696e 7429 202d 2054  ndex** (int) - T
-0001df90: 6865 2075 6e69 7175 6520 4944 206f 6620  he unique ID of 
-0001dfa0: 7468 6520 6372 6561 7465 6420 7472 616e  the created tran
-0001dfb0: 7366 6f72 6d65 720d 0a0d 0a20 2020 2045  sformer....    E
-0001dfc0: 5841 4d50 4c45 3a0d 0a20 2020 2020 2020  XAMPLE:..       
-0001dfd0: 2063 7265 6174 655f 7472 616e 7366 6f72   create_transfor
-0001dfe0: 6d65 7233 7728 6e65 742c 2068 765f 6275  mer3w(net, hv_bu
-0001dff0: 7320 3d20 302c 206d 765f 6275 7320 3d20  s = 0, mv_bus = 
-0001e000: 312c 206c 765f 6275 7320 3d20 322c 206e  1, lv_bus = 2, n
-0001e010: 616d 6520 3d20 2274 7261 666f 3122 2c20  ame = "trafo1", 
-0001e020: 7374 645f 7479 7065 203d 205c 0d0a 2020  std_type = \..  
-0001e030: 2020 2020 2020 2020 2020 2236 332f 3235            "63/25
-0001e040: 2f33 3820 4d56 4120 3131 302f 3230 2f31  /38 MVA 110/20/1
-0001e050: 3020 6b56 2229 0d0a 2020 2020 2222 220d  0 kV")..    """.
-0001e060: 0a0d 0a20 2020 2023 2043 6865 636b 2069  ...    # Check i
-0001e070: 6620 6275 7320 6578 6973 7420 746f 2061  f bus exist to a
-0001e080: 7474 6163 6820 7468 6520 7472 6166 6f20  ttach the trafo 
-0001e090: 746f 0d0a 2020 2020 666f 7220 6220 696e  to..    for b in
-0001e0a0: 205b 6876 5f62 7573 2c20 6d76 5f62 7573   [hv_bus, mv_bus
-0001e0b0: 2c20 6c76 5f62 7573 5d3a 0d0a 2020 2020  , lv_bus]:..    
-0001e0c0: 2020 2020 6966 2062 206e 6f74 2069 6e20      if b not in 
-0001e0d0: 6e65 745b 2262 7573 225d 2e69 6e64 6578  net["bus"].index
-0001e0e0: 2e76 616c 7565 733a 0d0a 2020 2020 2020  .values:..      
-0001e0f0: 2020 2020 2020 7261 6973 6520 5573 6572        raise User
-0001e100: 5761 726e 696e 6728 2254 7261 666f 2074  Warning("Trafo t
-0001e110: 7269 6573 2074 6f20 6174 7461 6368 2074  ries to attach t
-0001e120: 6f20 6275 7320 2573 2220 2520 6229 0d0a  o bus %s" % b)..
-0001e130: 0d0a 2020 2020 7620 3d20 7b0d 0a20 2020  ..    v = {..   
-0001e140: 2020 2020 2022 6e61 6d65 223a 206e 616d       "name": nam
-0001e150: 652c 2022 6876 5f62 7573 223a 2068 765f  e, "hv_bus": hv_
-0001e160: 6275 732c 2022 6d76 5f62 7573 223a 206d  bus, "mv_bus": m
-0001e170: 765f 6275 732c 2022 6c76 5f62 7573 223a  v_bus, "lv_bus":
-0001e180: 206c 765f 6275 732c 0d0a 2020 2020 2020   lv_bus,..      
-0001e190: 2020 2269 6e5f 7365 7276 6963 6522 3a20    "in_service": 
-0001e1a0: 626f 6f6c 2869 6e5f 7365 7276 6963 6529  bool(in_service)
-0001e1b0: 2c20 2273 7464 5f74 7970 6522 3a20 7374  , "std_type": st
-0001e1c0: 645f 7479 7065 0d0a 2020 2020 7d0d 0a20  d_type..    }.. 
-0001e1d0: 2020 2074 6920 3d20 6c6f 6164 5f73 7464     ti = load_std
-0001e1e0: 5f74 7970 6528 6e65 742c 2073 7464 5f74  _type(net, std_t
-0001e1f0: 7970 652c 2022 7472 6166 6f33 7722 290d  ype, "trafo3w").
-0001e200: 0a0d 0a20 2020 2069 6e64 6578 203d 205f  ...    index = _
-0001e210: 6765 745f 696e 6465 785f 7769 7468 5f63  get_index_with_c
-0001e220: 6865 636b 286e 6574 2c20 2274 7261 666f  heck(net, "trafo
-0001e230: 3377 222c 2069 6e64 6578 2c20 2274 6872  3w", index, "thr
-0001e240: 6565 2077 696e 6469 6e67 2074 7261 6e73  ee winding trans
-0001e250: 666f 726d 6572 2229 0d0a 0d0a 2020 2020  former")....    
-0001e260: 762e 7570 6461 7465 287b 0d0a 2020 2020  v.update({..    
-0001e270: 2020 2020 2273 6e5f 6876 5f6d 7661 223a      "sn_hv_mva":
-0001e280: 2074 695b 2273 6e5f 6876 5f6d 7661 225d   ti["sn_hv_mva"]
-0001e290: 2c0d 0a20 2020 2020 2020 2022 736e 5f6d  ,..        "sn_m
-0001e2a0: 765f 6d76 6122 3a20 7469 5b22 736e 5f6d  v_mva": ti["sn_m
-0001e2b0: 765f 6d76 6122 5d2c 0d0a 2020 2020 2020  v_mva"],..      
-0001e2c0: 2020 2273 6e5f 6c76 5f6d 7661 223a 2074    "sn_lv_mva": t
-0001e2d0: 695b 2273 6e5f 6c76 5f6d 7661 225d 2c0d  i["sn_lv_mva"],.
-0001e2e0: 0a20 2020 2020 2020 2022 766e 5f68 765f  .        "vn_hv_
-0001e2f0: 6b76 223a 2074 695b 2276 6e5f 6876 5f6b  kv": ti["vn_hv_k
-0001e300: 7622 5d2c 0d0a 2020 2020 2020 2020 2276  v"],..        "v
-0001e310: 6e5f 6d76 5f6b 7622 3a20 7469 5b22 766e  n_mv_kv": ti["vn
-0001e320: 5f6d 765f 6b76 225d 2c0d 0a20 2020 2020  _mv_kv"],..     
-0001e330: 2020 2022 766e 5f6c 765f 6b76 223a 2074     "vn_lv_kv": t
-0001e340: 695b 2276 6e5f 6c76 5f6b 7622 5d2c 0d0a  i["vn_lv_kv"],..
-0001e350: 2020 2020 2020 2020 2276 6b5f 6876 5f70          "vk_hv_p
-0001e360: 6572 6365 6e74 223a 2074 695b 2276 6b5f  ercent": ti["vk_
-0001e370: 6876 5f70 6572 6365 6e74 225d 2c0d 0a20  hv_percent"],.. 
-0001e380: 2020 2020 2020 2022 766b 5f6d 765f 7065         "vk_mv_pe
-0001e390: 7263 656e 7422 3a20 7469 5b22 766b 5f6d  rcent": ti["vk_m
-0001e3a0: 765f 7065 7263 656e 7422 5d2c 0d0a 2020  v_percent"],..  
-0001e3b0: 2020 2020 2020 2276 6b5f 6c76 5f70 6572        "vk_lv_per
-0001e3c0: 6365 6e74 223a 2074 695b 2276 6b5f 6c76  cent": ti["vk_lv
-0001e3d0: 5f70 6572 6365 6e74 225d 2c0d 0a20 2020  _percent"],..   
-0001e3e0: 2020 2020 2022 766b 725f 6876 5f70 6572       "vkr_hv_per
-0001e3f0: 6365 6e74 223a 2074 695b 2276 6b72 5f68  cent": ti["vkr_h
-0001e400: 765f 7065 7263 656e 7422 5d2c 0d0a 2020  v_percent"],..  
-0001e410: 2020 2020 2020 2276 6b72 5f6d 765f 7065        "vkr_mv_pe
-0001e420: 7263 656e 7422 3a20 7469 5b22 766b 725f  rcent": ti["vkr_
-0001e430: 6d76 5f70 6572 6365 6e74 225d 2c0d 0a20  mv_percent"],.. 
-0001e440: 2020 2020 2020 2022 766b 725f 6c76 5f70         "vkr_lv_p
-0001e450: 6572 6365 6e74 223a 2074 695b 2276 6b72  ercent": ti["vkr
-0001e460: 5f6c 765f 7065 7263 656e 7422 5d2c 0d0a  _lv_percent"],..
-0001e470: 2020 2020 2020 2020 2270 6665 5f6b 7722          "pfe_kw"
-0001e480: 3a20 7469 5b22 7066 655f 6b77 225d 2c0d  : ti["pfe_kw"],.
-0001e490: 0a20 2020 2020 2020 2022 6930 5f70 6572  .        "i0_per
-0001e4a0: 6365 6e74 223a 2074 695b 2269 305f 7065  cent": ti["i0_pe
-0001e4b0: 7263 656e 7422 5d2c 0d0a 2020 2020 2020  rcent"],..      
-0001e4c0: 2020 2273 6869 6674 5f6d 765f 6465 6772    "shift_mv_degr
-0001e4d0: 6565 223a 2074 695b 2273 6869 6674 5f6d  ee": ti["shift_m
-0001e4e0: 765f 6465 6772 6565 225d 2069 6620 2273  v_degree"] if "s
-0001e4f0: 6869 6674 5f6d 765f 6465 6772 6565 2220  hift_mv_degree" 
-0001e500: 696e 2074 6920 656c 7365 2030 2c0d 0a20  in ti else 0,.. 
-0001e510: 2020 2020 2020 2022 7368 6966 745f 6c76         "shift_lv
-0001e520: 5f64 6567 7265 6522 3a20 7469 5b22 7368  _degree": ti["sh
-0001e530: 6966 745f 6c76 5f64 6567 7265 6522 5d20  ift_lv_degree"] 
-0001e540: 6966 2022 7368 6966 745f 6c76 5f64 6567  if "shift_lv_deg
-0001e550: 7265 6522 2069 6e20 7469 2065 6c73 6520  ree" in ti else 
-0001e560: 302c 0d0a 2020 2020 2020 2020 2274 6170  0,..        "tap
-0001e570: 5f61 745f 7374 6172 5f70 6f69 6e74 223a  _at_star_point":
-0001e580: 2074 6170 5f61 745f 7374 6172 5f70 6f69   tap_at_star_poi
-0001e590: 6e74 0d0a 2020 2020 7d29 0d0a 2020 2020  nt..    })..    
-0001e5a0: 666f 7220 7470 2069 6e20 280d 0a20 2020  for tp in (..   
-0001e5b0: 2020 2020 2020 2020 2022 7461 705f 6e65           "tap_ne
-0001e5c0: 7574 7261 6c22 2c20 2274 6170 5f6d 6178  utral", "tap_max
-0001e5d0: 222c 2022 7461 705f 6d69 6e22 2c20 2274  ", "tap_min", "t
-0001e5e0: 6170 5f73 6964 6522 2c20 2274 6170 5f73  ap_side", "tap_s
-0001e5f0: 7465 705f 7065 7263 656e 7422 2c20 2274  tep_percent", "t
-0001e600: 6170 5f73 7465 705f 6465 6772 6565 2229  ap_step_degree")
-0001e610: 3a0d 0a20 2020 2020 2020 2069 6620 7470  :..        if tp
-0001e620: 2069 6e20 7469 3a0d 0a20 2020 2020 2020   in ti:..       
-0001e630: 2020 2020 2076 2e75 7064 6174 6528 7b74       v.update({t
-0001e640: 703a 2074 695b 7470 5d7d 290d 0a0d 0a20  p: ti[tp]}).... 
-0001e650: 2020 2069 6620 2822 7461 705f 6e65 7574     if ("tap_neut
-0001e660: 7261 6c22 2069 6e20 7629 2061 6e64 2028  ral" in v) and (
-0001e670: 7461 705f 706f 7320 6973 206e 616e 293a  tap_pos is nan):
-0001e680: 0d0a 2020 2020 2020 2020 765b 2274 6170  ..        v["tap
-0001e690: 5f70 6f73 225d 203d 2076 5b22 7461 705f  _pos"] = v["tap_
-0001e6a0: 6e65 7574 7261 6c22 5d0d 0a20 2020 2065  neutral"]..    e
-0001e6b0: 6c73 653a 0d0a 2020 2020 2020 2020 765b  lse:..        v[
-0001e6c0: 2274 6170 5f70 6f73 225d 203d 2074 6170  "tap_pos"] = tap
-0001e6d0: 5f70 6f73 0d0a 2020 2020 2020 2020 6966  _pos..        if
-0001e6e0: 2074 7970 6528 7461 705f 706f 7329 203d   type(tap_pos) =
-0001e6f0: 3d20 666c 6f61 743a 0d0a 2020 2020 2020  = float:..      
-0001e700: 2020 2020 2020 6e65 742e 7472 6166 6f33        net.trafo3
-0001e710: 772e 7461 705f 706f 7320 3d20 6e65 742e  w.tap_pos = net.
-0001e720: 7472 6166 6f33 772e 7461 705f 706f 732e  trafo3w.tap_pos.
-0001e730: 6173 7479 7065 2866 6c6f 6174 290d 0a0d  astype(float)...
-0001e740: 0a20 2020 2064 6420 3d20 7064 2e44 6174  .    dd = pd.Dat
-0001e750: 6146 7261 6d65 2876 2c20 696e 6465 783d  aFrame(v, index=
-0001e760: 5b69 6e64 6578 5d29 0d0a 2020 2020 2320  [index])..    # 
-0001e770: 746f 646f 3a20 6472 6f70 205f 5f76 6572  todo: drop __ver
-0001e780: 7369 6f6e 5f5f 2063 6865 636b 730d 0a20  sion__ checks.. 
-0001e790: 2020 2069 6620 7665 7273 696f 6e2e 7061     if version.pa
-0001e7a0: 7273 6528 7064 2e5f 5f76 6572 7369 6f6e  rse(pd.__version
-0001e7b0: 5f5f 2920 3c20 7665 7273 696f 6e2e 7061  __) < version.pa
-0001e7c0: 7273 6528 2230 2e32 3122 293a 0d0a 2020  rse("0.21"):..  
-0001e7d0: 2020 2020 2020 6e65 745b 2274 7261 666f        net["trafo
-0001e7e0: 3377 225d 203d 206e 6574 5b22 7472 6166  3w"] = net["traf
-0001e7f0: 6f33 7722 5d2e 6170 7065 6e64 2864 6429  o3w"].append(dd)
-0001e800: 2e72 6569 6e64 6578 5f61 7869 7328 6e65  .reindex_axis(ne
-0001e810: 745b 2274 7261 666f 3377 225d 2e63 6f6c  t["trafo3w"].col
-0001e820: 756d 6e73 2c20 6178 6973 3d31 290d 0a20  umns, axis=1).. 
-0001e830: 2020 2065 6c69 6620 7665 7273 696f 6e2e     elif version.
-0001e840: 7061 7273 6528 7064 2e5f 5f76 6572 7369  parse(pd.__versi
-0001e850: 6f6e 5f5f 2920 3c20 7665 7273 696f 6e2e  on__) < version.
-0001e860: 7061 7273 6528 2230 2e32 3322 293a 0d0a  parse("0.23"):..
-0001e870: 2020 2020 2020 2020 6e65 745b 2274 7261          net["tra
-0001e880: 666f 3377 225d 203d 206e 6574 5b22 7472  fo3w"] = net["tr
-0001e890: 6166 6f33 7722 5d2e 6170 7065 6e64 2864  afo3w"].append(d
-0001e8a0: 6429 2e72 6569 6e64 6578 286e 6574 5b22  d).reindex(net["
-0001e8b0: 7472 6166 6f33 7722 5d2e 636f 6c75 6d6e  trafo3w"].column
-0001e8c0: 732c 2061 7869 733d 3129 0d0a 2020 2020  s, axis=1)..    
-0001e8d0: 656c 7365 3a0d 0a20 2020 2020 2020 206e  else:..        n
-0001e8e0: 6574 5b22 7472 6166 6f33 7722 5d20 3d20  et["trafo3w"] = 
-0001e8f0: 6e65 745b 2274 7261 666f 3377 225d 2e61  net["trafo3w"].a
-0001e900: 7070 656e 6428 6464 2c20 736f 7274 3d54  ppend(dd, sort=T
-0001e910: 7275 6529 2e72 6569 6e64 6578 286e 6574  rue).reindex(net
-0001e920: 5b22 7472 6166 6f33 7722 5d2e 636f 6c75  ["trafo3w"].colu
-0001e930: 6d6e 732c 0d0a 2020 2020 2020 2020 2020  mns,..          
-0001e940: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b3d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b3e0: 2020 2020 2020 2020 766b 725f 7065 7263          vkr_perc
+0001b3f0: 656e 745f 6368 6172 6163 7465 7269 7374  ent_characterist
+0001b400: 6963 3d4e 6f6e 652c 202a 2a6b 7761 7267  ic=None, **kwarg
+0001b410: 7329 3a0d 0a20 2020 2022 2222 0d0a 2020  s):..    """..  
+0001b420: 2020 4372 6561 7465 7320 7365 7665 7261    Creates severa
+0001b430: 6c20 7477 6f2d 7769 6e64 696e 6720 7472  l two-winding tr
+0001b440: 616e 7366 6f72 6d65 7273 2069 6e20 7461  ansformers in ta
+0001b450: 626c 6520 6e65 745b 2274 7261 666f 225d  ble net["trafo"]
+0001b460: 2e0d 0a20 2020 2054 6865 2074 7261 666f  ...    The trafo
+0001b470: 2070 6172 616d 6574 6572 7320 6172 6520   parameters are 
+0001b480: 6465 6669 6e65 6420 7468 726f 7567 6820  defined through 
+0001b490: 7468 6520 7374 616e 6461 7264 2074 7970  the standard typ
+0001b4a0: 6520 6c69 6272 6172 792e 0d0a 0d0a 2020  e library.....  
+0001b4b0: 2020 494e 5055 543a 0d0a 2020 2020 2020    INPUT:..      
+0001b4c0: 2020 2a2a 6e65 742a 2a20 2d20 5468 6520    **net** - The 
+0001b4d0: 6e65 7420 7769 7468 696e 2074 6869 7320  net within this 
+0001b4e0: 7472 616e 7366 6f72 6d65 7220 7368 6f75  transformer shou
+0001b4f0: 6c64 2062 6520 6372 6561 7465 640d 0a0d  ld be created...
+0001b500: 0a20 2020 2020 2020 202a 2a68 765f 6275  .        **hv_bu
+0001b510: 732a 2a20 286c 6973 7420 6f66 2069 6e74  s** (list of int
+0001b520: 2920 2d20 5468 6520 6275 7320 6f6e 2074  ) - The bus on t
+0001b530: 6865 2068 6967 682d 766f 6c74 6167 6520  he high-voltage 
+0001b540: 7369 6465 206f 6e20 7768 6963 6820 7468  side on which th
+0001b550: 6520 7472 616e 7366 6f72 6d65 7220 7769  e transformer wi
+0001b560: 6c6c 205c 0d0a 2020 2020 2020 2020 2020  ll \..          
+0001b570: 2020 6265 2063 6f6e 6e65 6374 6564 2074    be connected t
+0001b580: 6f0d 0a0d 0a20 2020 2020 2020 202a 2a6c  o....        **l
+0001b590: 765f 6275 732a 2a20 286c 6973 7420 6f66  v_bus** (list of
+0001b5a0: 2069 6e74 2920 2d20 5468 6520 6275 7320   int) - The bus 
+0001b5b0: 6f6e 2074 6865 206c 6f77 2d76 6f6c 7461  on the low-volta
+0001b5c0: 6765 2073 6964 6520 6f6e 2077 6869 6368  ge side on which
+0001b5d0: 2074 6865 2074 7261 6e73 666f 726d 6572   the transformer
+0001b5e0: 2077 696c 6c20 5c0d 0a20 2020 2020 2020   will \..       
+0001b5f0: 2020 2020 2062 6520 636f 6e6e 6563 7465       be connecte
+0001b600: 6420 746f 0d0a 0d0a 2020 2020 2020 2020  d to....        
+0001b610: 2a2a 736e 5f6d 7661 2a2a 2028 6c69 7374  **sn_mva** (list
+0001b620: 206f 6620 666c 6f61 7429 202d 2072 6174   of float) - rat
+0001b630: 6564 2061 7070 6172 656e 7420 706f 7765  ed apparent powe
+0001b640: 720d 0a0d 0a20 2020 2020 2020 202a 2a76  r....        **v
+0001b650: 6e5f 6876 5f6b 762a 2a20 286c 6973 7420  n_hv_kv** (list 
+0001b660: 6f66 2066 6c6f 6174 2920 2d20 7261 7465  of float) - rate
+0001b670: 6420 766f 6c74 6167 6520 6f6e 2068 6967  d voltage on hig
+0001b680: 6820 766f 6c74 6167 6520 7369 6465 0d0a  h voltage side..
+0001b690: 0d0a 2020 2020 2020 2020 2a2a 766e 5f6c  ..        **vn_l
+0001b6a0: 765f 6b76 2a2a 2028 6c69 7374 206f 6620  v_kv** (list of 
+0001b6b0: 666c 6f61 7429 202d 2072 6174 6564 2076  float) - rated v
+0001b6c0: 6f6c 7461 6765 206f 6e20 6c6f 7720 766f  oltage on low vo
+0001b6d0: 6c74 6167 6520 7369 6465 0d0a 0d0a 2020  ltage side....  
+0001b6e0: 2020 2020 2020 2a2a 766b 725f 7065 7263        **vkr_perc
+0001b6f0: 656e 742a 2a20 286c 6973 7420 6f66 2066  ent** (list of f
+0001b700: 6c6f 6174 2920 2d20 7265 616c 2070 6172  loat) - real par
+0001b710: 7420 6f66 2072 656c 6174 6976 6520 7368  t of relative sh
+0001b720: 6f72 742d 6369 7263 7569 7420 766f 6c74  ort-circuit volt
+0001b730: 6167 650d 0a0d 0a20 2020 2020 2020 202a  age....        *
+0001b740: 2a76 6b5f 7065 7263 656e 742a 2a20 286c  *vk_percent** (l
+0001b750: 6973 7420 6f66 2066 6c6f 6174 2920 2d20  ist of float) - 
+0001b760: 7265 6c61 7469 7665 2073 686f 7274 2d63  relative short-c
+0001b770: 6972 6375 6974 2076 6f6c 7461 6765 0d0a  ircuit voltage..
+0001b780: 0d0a 2020 2020 2020 2020 2a2a 7066 655f  ..        **pfe_
+0001b790: 6b77 2a2a 2028 6c69 7374 206f 6620 666c  kw** (list of fl
+0001b7a0: 6f61 7429 2020 2d20 6972 6f6e 206c 6f73  oat)  - iron los
+0001b7b0: 7365 7320 696e 206b 570d 0a0d 0a20 2020  ses in kW....   
+0001b7c0: 2020 2020 202a 2a69 305f 7065 7263 656e       **i0_percen
+0001b7d0: 742a 2a20 286c 6973 7420 6f66 2066 6c6f  t** (list of flo
+0001b7e0: 6174 2920 2d20 6f70 656e 206c 6f6f 7020  at) - open loop 
+0001b7f0: 6c6f 7373 6573 2069 6e20 7065 7263 656e  losses in percen
+0001b800: 7420 6f66 2072 6174 6564 2063 7572 7265  t of rated curre
+0001b810: 6e74 0d0a 0d0a 2020 2020 2020 2020 2a2a  nt....        **
+0001b820: 7665 6374 6f72 5f67 726f 7570 2a2a 2028  vector_group** (
+0001b830: 6c69 7374 206f 6620 5374 7269 6e67 2920  list of String) 
+0001b840: 2d20 5665 6374 6f72 2067 726f 7570 206f  - Vector group o
+0001b850: 6620 7468 6520 7472 616e 7366 6f72 6d65  f the transforme
+0001b860: 720d 0a0d 0a20 2020 2020 2020 2020 2020  r....           
+0001b870: 2048 5620 7369 6465 2069 7320 5570 7065   HV side is Uppe
+0001b880: 7263 6173 6520 6c65 7474 6572 730d 0a20  rcase letters.. 
+0001b890: 2020 2020 2020 2020 2020 2061 6e64 204c             and L
+0001b8a0: 5620 7369 6465 2069 7320 6c6f 7765 7220  V side is lower 
+0001b8b0: 6361 7365 0d0a 0d0a 2020 2020 2020 2020  case....        
+0001b8c0: 2a2a 766b 305f 7065 7263 656e 742a 2a20  **vk0_percent** 
+0001b8d0: 286c 6973 7420 6f66 2066 6c6f 6174 2920  (list of float) 
+0001b8e0: 2d20 7a65 726f 2073 6571 7565 6e63 6520  - zero sequence 
+0001b8f0: 7265 6c61 7469 7665 2073 686f 7274 2d63  relative short-c
+0001b900: 6972 6375 6974 2076 6f6c 7461 6765 0d0a  ircuit voltage..
+0001b910: 0d0a 2020 2020 2020 2020 2a2a 766b 7230  ..        **vkr0
+0001b920: 5f70 6572 6365 6e74 2a2a 202d 2028 6c69  _percent** - (li
+0001b930: 7374 206f 6620 666c 6f61 7429 2072 6561  st of float) rea
+0001b940: 6c20 7061 7274 206f 6620 7a65 726f 2073  l part of zero s
+0001b950: 6571 7565 6e63 6520 7265 6c61 7469 7665  equence relative
+0001b960: 2073 686f 7274 2d63 6972 6375 6974 2076   short-circuit v
+0001b970: 6f6c 7461 6765 0d0a 0d0a 2020 2020 2020  oltage....      
+0001b980: 2020 2a2a 6d61 6730 5f70 6572 6365 6e74    **mag0_percent
+0001b990: 2a2a 202d 2028 6c69 7374 206f 6620 666c  ** - (list of fl
+0001b9a0: 6f61 7429 2020 7a65 726f 2073 6571 7565  oat)  zero seque
+0001b9b0: 6e63 6520 6d61 676e 6574 697a 696e 6720  nce magnetizing 
+0001b9c0: 696d 7065 6461 6e63 652f 2076 6b30 0d0a  impedance/ vk0..
+0001b9d0: 0d0a 2020 2020 2020 2020 2a2a 6d61 6730  ..        **mag0
+0001b9e0: 5f72 782a 2a20 202d 2028 6c69 7374 206f  _rx**  - (list o
+0001b9f0: 6620 666c 6f61 7429 2020 7a65 726f 2073  f float)  zero s
+0001ba00: 6571 7565 6e63 6520 6d61 676e 6974 697a  equence magnitiz
+0001ba10: 696e 6720 522f 5820 7261 7469 6f0d 0a0d  ing R/X ratio...
+0001ba20: 0a20 2020 2020 2020 202a 2a73 6930 5f68  .        **si0_h
+0001ba30: 765f 7061 7274 6961 6c2a 2a20 2d20 286c  v_partial** - (l
+0001ba40: 6973 7420 6f66 2066 6c6f 6174 2920 2044  ist of float)  D
+0001ba50: 6973 7472 6962 7574 696f 6e20 6f66 207a  istribution of z
+0001ba60: 6572 6f20 7365 7175 656e 6365 206c 6561  ero sequence lea
+0001ba70: 6b61 6765 2069 6d70 6564 616e 6365 7320  kage impedances 
+0001ba80: 666f 7220 5c0d 0a20 2020 2020 2020 2020  for \..         
+0001ba90: 2020 2048 5620 7369 6465 0d0a 0d0a 0d0a     HV side......
+0001baa0: 2020 2020 4f50 5449 4f4e 414c 3a0d 0a0d      OPTIONAL:...
+0001bab0: 0a20 2020 2020 2020 202a 2a69 6e5f 7365  .        **in_se
+0001bac0: 7276 6963 652a 2a20 2862 6f6f 6c65 616e  rvice** (boolean
+0001bad0: 2920 2d20 5472 7565 2066 6f72 2069 6e5f  ) - True for in_
+0001bae0: 7365 7276 6963 6520 6f72 2046 616c 7365  service or False
+0001baf0: 2066 6f72 206f 7574 206f 6620 7365 7276   for out of serv
+0001bb00: 6963 650d 0a0d 0a20 2020 2020 2020 202a  ice....        *
+0001bb10: 2a70 6172 616c 6c65 6c2a 2a20 2869 6e74  *parallel** (int
+0001bb20: 6567 6572 2920 2d20 6e75 6d62 6572 206f  eger) - number o
+0001bb30: 6620 7061 7261 6c6c 656c 2074 7261 6e73  f parallel trans
+0001bb40: 666f 726d 6572 730d 0a0d 0a20 2020 2020  formers....     
+0001bb50: 2020 202a 2a6e 616d 652a 2a20 2873 7472     **name** (str
+0001bb60: 696e 6729 202d 2041 2063 7573 746f 6d20  ing) - A custom 
+0001bb70: 6e61 6d65 2066 6f72 2074 6869 7320 7472  name for this tr
+0001bb80: 616e 7366 6f72 6d65 720d 0a0d 0a20 2020  ansformer....   
+0001bb90: 2020 2020 202a 2a73 6869 6674 5f64 6567       **shift_deg
+0001bba0: 7265 652a 2a20 2866 6c6f 6174 2920 2d20  ree** (float) - 
+0001bbb0: 416e 676c 6520 7368 6966 7420 6f76 6572  Angle shift over
+0001bbc0: 2074 6865 2074 7261 6e73 666f 726d 6572   the transformer
+0001bbd0: 2a0d 0a0d 0a20 2020 2020 2020 202a 2a74  *....        **t
+0001bbe0: 6170 5f73 6964 652a 2a20 2873 7472 696e  ap_side** (strin
+0001bbf0: 6729 202d 2070 6f73 6974 696f 6e20 6f66  g) - position of
+0001bc00: 2074 6170 2063 6861 6e67 6572 2028 2268   tap changer ("h
+0001bc10: 7622 2c20 226c 7622 290d 0a0d 0a20 2020  v", "lv")....   
+0001bc20: 2020 2020 202a 2a74 6170 5f70 6f73 2a2a       **tap_pos**
+0001bc30: 2028 696e 742c 206e 616e 2920 2d20 6375   (int, nan) - cu
+0001bc40: 7272 656e 7420 7461 7020 706f 7369 7469  rrent tap positi
+0001bc50: 6f6e 206f 6620 7468 6520 7472 616e 7366  on of the transf
+0001bc60: 6f72 6d65 722e 2044 6566 6175 6c74 7320  ormer. Defaults 
+0001bc70: 746f 2074 6865 206d 6564 6975 6d20 5c0d  to the medium \.
+0001bc80: 0a20 2020 2020 2020 2020 2020 2070 6f73  .            pos
+0001bc90: 6974 696f 6e20 2874 6170 5f6e 6575 7472  ition (tap_neutr
+0001bca0: 616c 290d 0a0d 0a20 2020 2020 2020 202a  al)....        *
+0001bcb0: 2a74 6170 5f6e 6575 7472 616c 2a2a 2028  *tap_neutral** (
+0001bcc0: 696e 742c 206e 616e 2920 2d20 7461 7020  int, nan) - tap 
+0001bcd0: 706f 7369 7469 6f6e 2077 6865 7265 2074  position where t
+0001bce0: 6865 2074 7261 6e73 666f 726d 6572 2072  he transformer r
+0001bcf0: 6174 696f 2069 7320 6571 7561 6c20 746f  atio is equal to
+0001bd00: 2074 6865 2072 6174 696f 5c0d 0a20 2020   the ratio\..   
+0001bd10: 2020 2020 2020 2020 206f 6620 7468 6520           of the 
+0001bd20: 7261 7465 6420 766f 6c74 6167 6573 0d0a  rated voltages..
+0001bd30: 0d0a 2020 2020 2020 2020 2a2a 7461 705f  ..        **tap_
+0001bd40: 6d61 782a 2a20 2869 6e74 2c20 6e61 6e29  max** (int, nan)
+0001bd50: 202d 206d 6178 696d 616c 2061 6c6c 6f77   - maximal allow
+0001bd60: 6564 2074 6170 2070 6f73 6974 696f 6e0d  ed tap position.
+0001bd70: 0a0d 0a20 2020 2020 2020 202a 2a74 6170  ...        **tap
+0001bd80: 5f6d 696e 2a2a 2028 696e 742c 206e 616e  _min** (int, nan
+0001bd90: 293a 2020 6d69 6e69 6d61 6c20 616c 6c6f  ):  minimal allo
+0001bda0: 7765 6420 7461 7020 706f 7369 7469 6f6e  wed tap position
+0001bdb0: 0d0a 0d0a 2020 2020 2020 2020 2a2a 7461  ....        **ta
+0001bdc0: 705f 7374 6570 5f70 6572 6365 6e74 2a2a  p_step_percent**
+0001bdd0: 2028 666c 6f61 7429 202d 2074 6170 2073   (float) - tap s
+0001bde0: 7465 7020 7369 7a65 2066 6f72 2076 6f6c  tep size for vol
+0001bdf0: 7461 6765 206d 6167 6e69 7475 6465 2069  tage magnitude i
+0001be00: 6e20 7065 7263 656e 740d 0a0d 0a20 2020  n percent....   
+0001be10: 2020 2020 202a 2a74 6170 5f73 7465 705f       **tap_step_
+0001be20: 6465 6772 6565 2a2a 2028 666c 6f61 7429  degree** (float)
+0001be30: 202d 2074 6170 2073 7465 7020 7369 7a65   - tap step size
+0001be40: 2066 6f72 2076 6f6c 7461 6765 2061 6e67   for voltage ang
+0001be50: 6c65 2069 6e20 6465 6772 6565 2a0d 0a0d  le in degree*...
+0001be60: 0a20 2020 2020 2020 202a 2a74 6170 5f70  .        **tap_p
+0001be70: 6861 7365 5f73 6869 6674 6572 2a2a 2028  hase_shifter** (
+0001be80: 626f 6f6c 2920 2d20 7768 6574 6865 7220  bool) - whether 
+0001be90: 7468 6520 7472 616e 7366 6f72 6d65 7220  the transformer 
+0001bea0: 6973 2061 6e20 6964 6561 6c20 7068 6173  is an ideal phas
+0001beb0: 6520 7368 6966 7465 722a 0d0a 0d0a 2020  e shifter*....  
+0001bec0: 2020 2020 2020 2a2a 696e 6465 782a 2a20        **index** 
+0001bed0: 2869 6e74 2c20 4e6f 6e65 2920 2d20 466f  (int, None) - Fo
+0001bee0: 7263 6520 6120 7370 6563 6966 6965 6420  rce a specified 
+0001bef0: 4944 2069 6620 6974 2069 7320 6176 6169  ID if it is avai
+0001bf00: 6c61 626c 652e 2049 6620 4e6f 6e65 2c20  lable. If None, 
+0001bf10: 7468 6520 696e 6465 7820 6f6e 6520 5c0d  the index one \.
+0001bf20: 0a20 2020 2020 2020 2020 2020 2068 6967  .            hig
+0001bf30: 6865 7220 7468 616e 2074 6865 2068 6967  her than the hig
+0001bf40: 6865 7374 2061 6c72 6561 6479 2065 7869  hest already exi
+0001bf50: 7374 696e 6720 696e 6465 7820 6973 2073  sting index is s
+0001bf60: 656c 6563 7465 642e 0d0a 0d0a 2020 2020  elected.....    
+0001bf70: 2020 2020 2a2a 6d61 785f 6c6f 6164 696e      **max_loadin
+0001bf80: 675f 7065 7263 656e 7420 2866 6c6f 6174  g_percent (float
+0001bf90: 292a 2a20 2d20 6d61 7869 6d75 6d20 6375  )** - maximum cu
+0001bfa0: 7272 656e 7420 6c6f 6164 696e 6720 286f  rrent loading (o
+0001bfb0: 6e6c 7920 6e65 6564 6564 2066 6f72 204f  nly needed for O
+0001bfc0: 5046 290d 0a0d 0a20 2020 2020 2020 202a  PF)....        *
+0001bfd0: 2a64 662a 2a20 2866 6c6f 6174 2920 2d20  *df** (float) - 
+0001bfe0: 6465 7261 7469 6e67 2066 6163 746f 723a  derating factor:
+0001bff0: 206d 6178 696d 616c 2063 7572 7265 6e74   maximal current
+0001c000: 206f 6620 7472 616e 7366 6f72 6d65 7220   of transformer 
+0001c010: 696e 2072 656c 6174 696f 6e20 746f 206e  in relation to n
+0001c020: 6f6d 696e 616c 205c 0d0a 2020 2020 2020  ominal \..      
+0001c030: 2020 2020 2020 6375 7272 656e 7420 6f66        current of
+0001c040: 2074 7261 6e73 666f 726d 6572 2028 6672   transformer (fr
+0001c050: 6f6d 2030 2074 6f20 3129 0d0a 0d0a 2020  om 0 to 1)....  
+0001c060: 2020 2020 2020 2a2a 7461 705f 6465 7065        **tap_depe
+0001c070: 6e64 656e 745f 696d 7065 6461 6e63 652a  ndent_impedance*
+0001c080: 2a20 2862 6f6f 6c65 616e 2920 2d20 5472  * (boolean) - Tr
+0001c090: 7565 2069 6620 7472 616e 7366 6f72 6d65  ue if transforme
+0001c0a0: 7220 696d 7065 6461 6e63 6520 6d75 7374  r impedance must
+0001c0b0: 2062 6520 6164 6a75 7374 6564 2064 6570   be adjusted dep
+0001c0c0: 656e 6465 6e74 205c 0d0a 2020 2020 2020  endent \..      
+0001c0d0: 2020 2020 2020 6f6e 2074 6865 2074 6170        on the tap
+0001c0e0: 2070 6f73 6974 696f 6e20 6f66 2074 6865   position of the
+0001c0f0: 2074 7261 626e 7366 6f72 6d65 722e 2052   trabnsformer. R
+0001c100: 6571 7569 7265 7320 7468 6520 6164 6469  equires the addi
+0001c110: 7469 6f6e 616c 2063 6f6c 756d 6e73 205c  tional columns \
+0001c120: 0d0a 2020 2020 2020 2020 2020 2020 2276  ..            "v
+0001c130: 6b5f 7065 7263 656e 745f 6368 6172 6163  k_percent_charac
+0001c140: 7465 7269 7374 6963 2220 616e 6420 2276  teristic" and "v
+0001c150: 6b72 5f70 6572 6365 6e74 5f63 6861 7261  kr_percent_chara
+0001c160: 6374 6572 6973 7469 6322 2074 6861 7420  cteristic" that 
+0001c170: 7265 6665 7265 6e63 6520 7468 6520 696e  reference the in
+0001c180: 6465 7820 6f66 2074 6865 205c 0d0a 2020  dex of the \..  
+0001c190: 2020 2020 2020 2020 2020 6368 6172 6163            charac
+0001c1a0: 7465 7269 7374 6963 2066 726f 6d20 7468  teristic from th
+0001c1b0: 6520 7461 626c 6520 6e65 742e 6368 6172  e table net.char
+0001c1c0: 6163 7465 7269 7374 6963 2e20 4120 636f  acteristic. A co
+0001c1d0: 6e76 656e 6965 6e63 6520 6675 6e63 7469  nvenience functi
+0001c1e0: 6f6e 205c 0d0a 2020 2020 2020 2020 2020  on \..          
+0001c1f0: 2020 7061 6e64 6170 6f77 6572 2e63 6f6e    pandapower.con
+0001c200: 7472 6f6c 2e63 7265 6174 655f 7472 6166  trol.create_traf
+0001c210: 6f5f 6368 6172 6163 7465 7269 7374 6963  o_characteristic
+0001c220: 7320 6361 6e20 6265 2075 7365 6420 746f  s can be used to
+0001c230: 2063 7265 6174 6520 7468 6520 5370 6c69   create the Spli
+0001c240: 6e65 4368 6172 6163 7465 7269 7374 6963  neCharacteristic
+0001c250: 205c 0d0a 2020 2020 2020 2020 2020 2020   \..            
+0001c260: 6f62 6a65 6374 732c 2061 6464 2074 6865  objects, add the
+0001c270: 2072 656c 6576 616e 7420 636f 6c75 6d6e   relevant column
+0001c280: 7320 616e 6420 7365 7420 7570 2074 6865  s and set up the
+0001c290: 2072 6566 6572 656e 6365 7320 746f 2074   references to t
+0001c2a0: 6865 2063 6861 7261 6374 6572 6973 7469  he characteristi
+0001c2b0: 6373 2e20 5c0d 0a20 2020 2020 2020 2020  cs. \..         
+0001c2c0: 2020 2054 6865 2066 756e 6374 696f 6e20     The function 
+0001c2d0: 7061 6e64 6170 6f77 6572 2e63 6f6e 7472  pandapower.contr
+0001c2e0: 6f6c 2e74 7261 666f 5f63 6861 7261 6374  ol.trafo_charact
+0001c2f0: 6572 6973 7469 6373 5f64 6961 676e 6f73  eristics_diagnos
+0001c300: 7469 6320 6361 6e20 6265 2075 7365 6420  tic can be used 
+0001c310: 666f 7220 7361 6e69 7479 2063 6865 636b  for sanity check
+0001c320: 732e 0d0a 0d0a 2020 2020 2020 2020 2a2a  s.....        **
+0001c330: 766b 5f70 6572 6365 6e74 5f63 6861 7261  vk_percent_chara
+0001c340: 6374 6572 6973 7469 632a 2a20 2869 6e74  cteristic** (int
+0001c350: 2920 2d20 696e 6465 7820 6f66 2074 6865  ) - index of the
+0001c360: 2063 6861 7261 6374 6572 6973 7469 6320   characteristic 
+0001c370: 6672 6f6d 206e 6574 2e63 6861 7261 6374  from net.charact
+0001c380: 6572 6973 7469 6320 666f 7220 5c0d 0a20  eristic for \.. 
+0001c390: 2020 2020 2020 2020 2020 2074 6865 2061             the a
+0001c3a0: 646a 7573 746d 656e 7420 6f66 2074 6865  djustment of the
+0001c3b0: 2070 6172 616d 6574 6572 2022 766b 5f70   parameter "vk_p
+0001c3c0: 6572 6365 6e74 2220 666f 7220 7468 6520  ercent" for the 
+0001c3d0: 6361 6c63 756c 6174 696f 6e20 6f66 2074  calculation of t
+0001c3e0: 6170 2064 6570 656e 6465 6e74 2069 6d70  ap dependent imp
+0001c3f0: 6564 616e 6365 2e0d 0a0d 0a20 2020 2020  edance.....     
+0001c400: 2020 202a 2a76 6b72 5f70 6572 6365 6e74     **vkr_percent
+0001c410: 5f63 6861 7261 6374 6572 6973 7469 632a  _characteristic*
+0001c420: 2a20 2869 6e74 2920 2d20 696e 6465 7820  * (int) - index 
+0001c430: 6f66 2074 6865 2063 6861 7261 6374 6572  of the character
+0001c440: 6973 7469 6320 6672 6f6d 206e 6574 2e63  istic from net.c
+0001c450: 6861 7261 6374 6572 6973 7469 6320 666f  haracteristic fo
+0001c460: 7220 5c0d 0a20 2020 2020 2020 2020 2020  r \..           
+0001c470: 2074 6865 2061 646a 7573 746d 656e 7420   the adjustment 
+0001c480: 6f66 2074 6865 2070 6172 616d 6574 6572  of the parameter
+0001c490: 2022 766b 5f70 6572 6365 6e74 2220 666f   "vk_percent" fo
+0001c4a0: 7220 7468 6520 6361 6c63 756c 6174 696f  r the calculatio
+0001c4b0: 6e20 6f66 2074 6170 2064 6570 656e 6465  n of tap depende
+0001c4c0: 6e74 2069 6d70 6564 616e 6365 2e0d 0a0d  nt impedance....
+0001c4d0: 0a20 2020 2020 2020 202a 2a70 745f 7065  .        **pt_pe
+0001c4e0: 7263 656e 742a 2a20 2866 6c6f 6174 2c20  rcent** (float, 
+0001c4f0: 6e61 6e29 202d 2028 7368 6f72 7420 6369  nan) - (short ci
+0001c500: 7263 7569 7420 6f6e 6c79 290d 0a0d 0a20  rcuit only).... 
+0001c510: 2020 2020 2020 202a 2a6f 6c74 632a 2a20         **oltc** 
+0001c520: 2862 6f6f 6c2c 2046 616c 7365 2920 2d20  (bool, False) - 
+0001c530: 2873 686f 7274 2063 6972 6375 6974 206f  (short circuit o
+0001c540: 6e6c 7929 0d0a 0d0a 2020 2020 2020 2020  nly)....        
+0001c550: 2a2a 206f 6e6c 7920 636f 6e73 6964 6572  ** only consider
+0001c560: 6564 2069 6e20 6c6f 6164 666c 6f77 2069  ed in loadflow i
+0001c570: 6620 6361 6c63 756c 6174 655f 766f 6c74  f calculate_volt
+0001c580: 6167 655f 616e 676c 6573 203d 2054 7275  age_angles = Tru
+0001c590: 650d 0a0d 0a20 2020 204f 5554 5055 543a  e....    OUTPUT:
+0001c5a0: 0d0a 2020 2020 2020 2020 2a2a 696e 6465  ..        **inde
+0001c5b0: 782a 2a20 2869 6e74 2920 2d20 5468 6520  x** (int) - The 
+0001c5c0: 756e 6971 7565 2049 4420 6f66 2074 6865  unique ID of the
+0001c5d0: 2063 7265 6174 6564 2074 7261 6e73 666f   created transfo
+0001c5e0: 726d 6572 0d0a 0d0a 2020 2020 4558 414d  rmer....    EXAM
+0001c5f0: 504c 453a 0d0a 2020 2020 2020 2020 6372  PLE:..        cr
+0001c600: 6561 7465 5f74 7261 6e73 666f 726d 6572  eate_transformer
+0001c610: 5f66 726f 6d5f 7061 7261 6d65 7465 7273  _from_parameters
+0001c620: 286e 6574 2c20 6876 5f62 7573 3d30 2c20  (net, hv_bus=0, 
+0001c630: 6c76 5f62 7573 3d31 2c20 6e61 6d65 3d22  lv_bus=1, name="
+0001c640: 7472 6166 6f31 222c 2073 6e5f 6d76 613d  trafo1", sn_mva=
+0001c650: 3430 2c20 5c0d 0a20 2020 2020 2020 2020  40, \..         
+0001c660: 2020 2076 6e5f 6876 5f6b 763d 3131 302c     vn_hv_kv=110,
+0001c670: 2076 6e5f 6c76 5f6b 763d 3130 2c20 766b   vn_lv_kv=10, vk
+0001c680: 5f70 6572 6365 6e74 3d31 302c 2076 6b72  _percent=10, vkr
+0001c690: 5f70 6572 6365 6e74 3d30 2e33 2c20 7066  _percent=0.3, pf
+0001c6a0: 655f 6b77 3d33 302c 205c 0d0a 2020 2020  e_kw=30, \..    
+0001c6b0: 2020 2020 2020 2020 6930 5f70 6572 6365          i0_perce
+0001c6c0: 6e74 3d30 2e31 2c20 7368 6966 745f 6465  nt=0.1, shift_de
+0001c6d0: 6772 6565 3d33 3029 0d0a 2020 2020 2222  gree=30)..    ""
+0001c6e0: 220d 0a20 2020 205f 6368 6563 6b5f 6d75  "..    _check_mu
+0001c6f0: 6c74 6970 6c65 5f62 7261 6e63 685f 656c  ltiple_branch_el
+0001c700: 656d 656e 7473 286e 6574 2c20 6876 5f62  ements(net, hv_b
+0001c710: 7573 6573 2c20 6c76 5f62 7573 6573 2c20  uses, lv_buses, 
+0001c720: 2254 7261 6e73 666f 726d 6572 7322 290d  "Transformers").
+0001c730: 0a0d 0a20 2020 2069 6e64 6578 203d 205f  ...    index = _
+0001c740: 6765 745f 6d75 6c74 6970 6c65 5f69 6e64  get_multiple_ind
+0001c750: 6578 5f77 6974 685f 6368 6563 6b28 6e65  ex_with_check(ne
+0001c760: 742c 2022 7472 6166 6f22 2c20 696e 6465  t, "trafo", inde
+0001c770: 782c 206c 656e 2868 765f 6275 7365 7329  x, len(hv_buses)
+0001c780: 290d 0a0d 0a20 2020 2074 705f 6e65 7574  )....    tp_neut
+0001c790: 7261 6c20 3d20 7064 2e53 6572 6965 7328  ral = pd.Series(
+0001c7a0: 7461 705f 6e65 7574 7261 6c2c 2069 6e64  tap_neutral, ind
+0001c7b0: 6578 3d69 6e64 6578 2c20 6474 7970 653d  ex=index, dtype=
+0001c7c0: 666c 6f61 7436 3429 0d0a 2020 2020 7470  float64)..    tp
+0001c7d0: 5f70 6f73 203d 2070 642e 5365 7269 6573  _pos = pd.Series
+0001c7e0: 2874 6170 5f70 6f73 2c20 696e 6465 783d  (tap_pos, index=
+0001c7f0: 696e 6465 782c 2064 7479 7065 3d66 6c6f  index, dtype=flo
+0001c800: 6174 3634 292e 6669 6c6c 6e61 2874 705f  at64).fillna(tp_
+0001c810: 6e65 7574 7261 6c29 0d0a 2020 2020 656e  neutral)..    en
+0001c820: 7472 6965 7320 3d20 7b22 6e61 6d65 223a  tries = {"name":
+0001c830: 206e 616d 652c 2022 6876 5f62 7573 223a   name, "hv_bus":
+0001c840: 2068 765f 6275 7365 732c 2022 6c76 5f62   hv_buses, "lv_b
+0001c850: 7573 223a 206c 765f 6275 7365 732c 0d0a  us": lv_buses,..
+0001c860: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+0001c870: 696e 5f73 6572 7669 6365 223a 2061 7272  in_service": arr
+0001c880: 6179 2869 6e5f 7365 7276 6963 6529 2e61  ay(in_service).a
+0001c890: 7374 7970 6528 626f 6f6c 5f29 2c20 2273  stype(bool_), "s
+0001c8a0: 7464 5f74 7970 6522 3a20 4e6f 6e65 2c20  td_type": None, 
+0001c8b0: 2273 6e5f 6d76 6122 3a20 736e 5f6d 7661  "sn_mva": sn_mva
+0001c8c0: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
+0001c8d0: 2020 2276 6e5f 6876 5f6b 7622 3a20 766e    "vn_hv_kv": vn
+0001c8e0: 5f68 765f 6b76 2c20 2276 6e5f 6c76 5f6b  _hv_kv, "vn_lv_k
+0001c8f0: 7622 3a20 766e 5f6c 765f 6b76 2c20 2276  v": vn_lv_kv, "v
+0001c900: 6b5f 7065 7263 656e 7422 3a20 766b 5f70  k_percent": vk_p
+0001c910: 6572 6365 6e74 2c0d 0a20 2020 2020 2020  ercent,..       
+0001c920: 2020 2020 2020 2020 2276 6b72 5f70 6572          "vkr_per
+0001c930: 6365 6e74 223a 2076 6b72 5f70 6572 6365  cent": vkr_perce
+0001c940: 6e74 2c20 2270 6665 5f6b 7722 3a20 7066  nt, "pfe_kw": pf
+0001c950: 655f 6b77 2c20 2269 305f 7065 7263 656e  e_kw, "i0_percen
+0001c960: 7422 3a20 6930 5f70 6572 6365 6e74 2c0d  t": i0_percent,.
+0001c970: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001c980: 2274 6170 5f6e 6575 7472 616c 223a 2074  "tap_neutral": t
+0001c990: 705f 6e65 7574 7261 6c2c 2022 7461 705f  p_neutral, "tap_
+0001c9a0: 6d61 7822 3a20 7461 705f 6d61 782c 2022  max": tap_max, "
+0001c9b0: 7461 705f 6d69 6e22 3a20 7461 705f 6d69  tap_min": tap_mi
+0001c9c0: 6e2c 0d0a 2020 2020 2020 2020 2020 2020  n,..            
+0001c9d0: 2020 2022 7368 6966 745f 6465 6772 6565     "shift_degree
+0001c9e0: 223a 2073 6869 6674 5f64 6567 7265 652c  ": shift_degree,
+0001c9f0: 2022 7461 705f 706f 7322 3a20 7470 5f70   "tap_pos": tp_p
+0001ca00: 6f73 2c20 2274 6170 5f73 6964 6522 3a20  os, "tap_side": 
+0001ca10: 7461 705f 7369 6465 2c0d 0a20 2020 2020  tap_side,..     
+0001ca20: 2020 2020 2020 2020 2020 2274 6170 5f73            "tap_s
+0001ca30: 7465 705f 7065 7263 656e 7422 3a20 7461  tep_percent": ta
+0001ca40: 705f 7374 6570 5f70 6572 6365 6e74 2c20  p_step_percent, 
+0001ca50: 2274 6170 5f73 7465 705f 6465 6772 6565  "tap_step_degree
+0001ca60: 223a 2074 6170 5f73 7465 705f 6465 6772  ": tap_step_degr
+0001ca70: 6565 2c0d 0a20 2020 2020 2020 2020 2020  ee,..           
+0001ca80: 2020 2020 2274 6170 5f70 6861 7365 5f73      "tap_phase_s
+0001ca90: 6869 6674 6572 223a 2074 6170 5f70 6861  hifter": tap_pha
+0001caa0: 7365 5f73 6869 6674 6572 2c20 2270 6172  se_shifter, "par
+0001cab0: 616c 6c65 6c22 3a20 7061 7261 6c6c 656c  allel": parallel
+0001cac0: 2c20 2264 6622 3a20 6466 2c0d 0a20 2020  , "df": df,..   
+0001cad0: 2020 2020 2020 2020 2020 2020 2270 745f              "pt_
+0001cae0: 7065 7263 656e 7422 3a20 7074 5f70 6572  percent": pt_per
+0001caf0: 6365 6e74 2c20 226f 6c74 6322 3a20 6f6c  cent, "oltc": ol
+0001cb00: 7463 7d0d 0a0d 0a20 2020 2069 6620 7461  tc}....    if ta
+0001cb10: 705f 6465 7065 6e64 656e 745f 696d 7065  p_dependent_impe
+0001cb20: 6461 6e63 6520 6973 206e 6f74 204e 6f6e  dance is not Non
+0001cb30: 653a 0d0a 2020 2020 2020 2020 5f61 6464  e:..        _add
+0001cb40: 5f73 6572 6965 735f 746f 5f65 6e74 7269  _series_to_entri
+0001cb50: 6573 2865 6e74 7269 6573 2c20 696e 6465  es(entries, inde
+0001cb60: 782c 2022 7461 705f 6465 7065 6e64 656e  x, "tap_dependen
+0001cb70: 745f 696d 7065 6461 6e63 6522 2c20 7461  t_impedance", ta
+0001cb80: 705f 6465 7065 6e64 656e 745f 696d 7065  p_dependent_impe
+0001cb90: 6461 6e63 652c 2064 7479 7065 3d62 6f6f  dance, dtype=boo
+0001cba0: 6c5f 2c20 6465 6661 756c 745f 7661 6c3d  l_, default_val=
+0001cbb0: 4661 6c73 6529 0d0a 2020 2020 6966 2076  False)..    if v
+0001cbc0: 6b5f 7065 7263 656e 745f 6368 6172 6163  k_percent_charac
+0001cbd0: 7465 7269 7374 6963 2069 7320 6e6f 7420  teristic is not 
+0001cbe0: 4e6f 6e65 3a0d 0a20 2020 2020 2020 205f  None:..        _
+0001cbf0: 6164 645f 7365 7269 6573 5f74 6f5f 656e  add_series_to_en
+0001cc00: 7472 6965 7328 656e 7472 6965 732c 2069  tries(entries, i
+0001cc10: 6e64 6578 2c20 2276 6b5f 7065 7263 656e  ndex, "vk_percen
+0001cc20: 745f 6368 6172 6163 7465 7269 7374 6963  t_characteristic
+0001cc30: 222c 2020 766b 5f70 6572 6365 6e74 5f63  ",  vk_percent_c
+0001cc40: 6861 7261 6374 6572 6973 7469 632c 2022  haracteristic, "
+0001cc50: 496e 7436 3422 290d 0a20 2020 2069 6620  Int64")..    if 
+0001cc60: 766b 725f 7065 7263 656e 745f 6368 6172  vkr_percent_char
+0001cc70: 6163 7465 7269 7374 6963 2069 7320 6e6f  acteristic is no
+0001cc80: 7420 4e6f 6e65 3a0d 0a20 2020 2020 2020  t None:..       
+0001cc90: 205f 6164 645f 7365 7269 6573 5f74 6f5f   _add_series_to_
+0001cca0: 656e 7472 6965 7328 656e 7472 6965 732c  entries(entries,
+0001ccb0: 2069 6e64 6578 2c20 2276 6b72 5f70 6572   index, "vkr_per
+0001ccc0: 6365 6e74 5f63 6861 7261 6374 6572 6973  cent_characteris
+0001ccd0: 7469 6322 2c20 766b 725f 7065 7263 656e  tic", vkr_percen
+0001cce0: 745f 6368 6172 6163 7465 7269 7374 6963  t_characteristic
+0001ccf0: 2c20 2249 6e74 3634 2229 0d0a 0d0a 2020  , "Int64")....  
+0001cd00: 2020 5f61 6464 5f73 6572 6965 735f 746f    _add_series_to
+0001cd10: 5f65 6e74 7269 6573 2865 6e74 7269 6573  _entries(entries
+0001cd20: 2c20 696e 6465 782c 2022 766b 305f 7065  , index, "vk0_pe
+0001cd30: 7263 656e 7422 2c20 766b 305f 7065 7263  rcent", vk0_perc
+0001cd40: 656e 7429 0d0a 2020 2020 5f61 6464 5f73  ent)..    _add_s
+0001cd50: 6572 6965 735f 746f 5f65 6e74 7269 6573  eries_to_entries
+0001cd60: 2865 6e74 7269 6573 2c20 696e 6465 782c  (entries, index,
+0001cd70: 2022 766b 7230 5f70 6572 6365 6e74 222c   "vkr0_percent",
+0001cd80: 2076 6b72 305f 7065 7263 656e 7429 0d0a   vkr0_percent)..
+0001cd90: 2020 2020 5f61 6464 5f73 6572 6965 735f      _add_series_
+0001cda0: 746f 5f65 6e74 7269 6573 2865 6e74 7269  to_entries(entri
+0001cdb0: 6573 2c20 696e 6465 782c 2022 6d61 6730  es, index, "mag0
+0001cdc0: 5f70 6572 6365 6e74 222c 206d 6167 305f  _percent", mag0_
+0001cdd0: 7065 7263 656e 7429 0d0a 2020 2020 5f61  percent)..    _a
+0001cde0: 6464 5f73 6572 6965 735f 746f 5f65 6e74  dd_series_to_ent
+0001cdf0: 7269 6573 2865 6e74 7269 6573 2c20 696e  ries(entries, in
+0001ce00: 6465 782c 2022 6d61 6730 5f72 7822 2c20  dex, "mag0_rx", 
+0001ce10: 6d61 6730 5f72 7829 0d0a 2020 2020 5f61  mag0_rx)..    _a
+0001ce20: 6464 5f73 6572 6965 735f 746f 5f65 6e74  dd_series_to_ent
+0001ce30: 7269 6573 2865 6e74 7269 6573 2c20 696e  ries(entries, in
+0001ce40: 6465 782c 2022 7369 305f 6876 5f70 6172  dex, "si0_hv_par
+0001ce50: 7469 616c 222c 2073 6930 5f68 765f 7061  tial", si0_hv_pa
+0001ce60: 7274 6961 6c29 0d0a 2020 2020 5f61 6464  rtial)..    _add
+0001ce70: 5f73 6572 6965 735f 746f 5f65 6e74 7269  _series_to_entri
+0001ce80: 6573 2865 6e74 7269 6573 2c20 696e 6465  es(entries, inde
+0001ce90: 782c 2022 6d61 785f 6c6f 6164 696e 675f  x, "max_loading_
+0001cea0: 7065 7263 656e 7422 2c20 6d61 785f 6c6f  percent", max_lo
+0001ceb0: 6164 696e 675f 7065 7263 656e 7429 0d0a  ading_percent)..
+0001cec0: 2020 2020 5f61 6464 5f73 6572 6965 735f      _add_series_
+0001ced0: 746f 5f65 6e74 7269 6573 2865 6e74 7269  to_entries(entri
+0001cee0: 6573 2c20 696e 6465 782c 2022 7665 6374  es, index, "vect
+0001cef0: 6f72 5f67 726f 7570 222c 2076 6563 746f  or_group", vecto
+0001cf00: 725f 6772 6f75 702c 2064 7479 703d 7374  r_group, dtyp=st
+0001cf10: 7229 0d0a 2020 2020 5f61 6464 5f73 6572  r)..    _add_ser
+0001cf20: 6965 735f 746f 5f65 6e74 7269 6573 2865  ies_to_entries(e
+0001cf30: 6e74 7269 6573 2c20 696e 6465 782c 2022  ntries, index, "
+0001cf40: 7074 5f70 6572 6365 6e74 222c 2070 745f  pt_percent", pt_
+0001cf50: 7065 7263 656e 7429 0d0a 0d0a 2020 2020  percent)....    
+0001cf60: 5f73 6574 5f6d 756c 7469 706c 655f 656e  _set_multiple_en
+0001cf70: 7472 6965 7328 6e65 742c 2022 7472 6166  tries(net, "traf
+0001cf80: 6f22 2c20 696e 6465 782c 202a 2a65 6e74  o", index, **ent
+0001cf90: 7269 6573 2c20 2a2a 6b77 6172 6773 290d  ries, **kwargs).
+0001cfa0: 0a0d 0a20 2020 2072 6574 7572 6e20 696e  ...    return in
+0001cfb0: 6465 780d 0a0d 0a0d 0a64 6566 2063 7265  dex......def cre
+0001cfc0: 6174 655f 7472 616e 7366 6f72 6d65 7233  ate_transformer3
+0001cfd0: 7728 6e65 742c 2068 765f 6275 732c 206d  w(net, hv_bus, m
+0001cfe0: 765f 6275 732c 206c 765f 6275 732c 2073  v_bus, lv_bus, s
+0001cff0: 7464 5f74 7970 652c 206e 616d 653d 4e6f  td_type, name=No
+0001d000: 6e65 2c20 7461 705f 706f 733d 6e61 6e2c  ne, tap_pos=nan,
+0001d010: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+0001d020: 2020 2020 2020 2020 2020 2069 6e5f 7365             in_se
+0001d030: 7276 6963 653d 5472 7565 2c20 696e 6465  rvice=True, inde
+0001d040: 783d 4e6f 6e65 2c20 6d61 785f 6c6f 6164  x=None, max_load
+0001d050: 696e 675f 7065 7263 656e 743d 6e61 6e2c  ing_percent=nan,
+0001d060: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+0001d070: 2020 2020 2020 2020 2020 2074 6170 5f61             tap_a
+0001d080: 745f 7374 6172 5f70 6f69 6e74 3d46 616c  t_star_point=Fal
+0001d090: 7365 2c20 7461 705f 6465 7065 6e64 656e  se, tap_dependen
+0001d0a0: 745f 696d 7065 6461 6e63 653d 4e6f 6e65  t_impedance=None
+0001d0b0: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
+0001d0c0: 2020 2020 2020 2020 2020 2020 766b 5f68              vk_h
+0001d0d0: 765f 7065 7263 656e 745f 6368 6172 6163  v_percent_charac
+0001d0e0: 7465 7269 7374 6963 3d4e 6f6e 652c 2076  teristic=None, v
+0001d0f0: 6b72 5f68 765f 7065 7263 656e 745f 6368  kr_hv_percent_ch
+0001d100: 6172 6163 7465 7269 7374 6963 3d4e 6f6e  aracteristic=Non
+0001d110: 652c 0d0a 2020 2020 2020 2020 2020 2020  e,..            
+0001d120: 2020 2020 2020 2020 2020 2020 2076 6b5f               vk_
+0001d130: 6d76 5f70 6572 6365 6e74 5f63 6861 7261  mv_percent_chara
+0001d140: 6374 6572 6973 7469 633d 4e6f 6e65 2c20  cteristic=None, 
+0001d150: 766b 725f 6d76 5f70 6572 6365 6e74 5f63  vkr_mv_percent_c
+0001d160: 6861 7261 6374 6572 6973 7469 633d 4e6f  haracteristic=No
+0001d170: 6e65 2c0d 0a20 2020 2020 2020 2020 2020  ne,..           
+0001d180: 2020 2020 2020 2020 2020 2020 2020 766b                vk
+0001d190: 5f6c 765f 7065 7263 656e 745f 6368 6172  _lv_percent_char
+0001d1a0: 6163 7465 7269 7374 6963 3d4e 6f6e 652c  acteristic=None,
+0001d1b0: 2076 6b72 5f6c 765f 7065 7263 656e 745f   vkr_lv_percent_
+0001d1c0: 6368 6172 6163 7465 7269 7374 6963 3d4e  characteristic=N
+0001d1d0: 6f6e 6529 3a0d 0a20 2020 2022 2222 0d0a  one):..    """..
+0001d1e0: 2020 2020 4372 6561 7465 7320 6120 7468      Creates a th
+0001d1f0: 7265 652d 7769 6e64 696e 6720 7472 616e  ree-winding tran
+0001d200: 7366 6f72 6d65 7220 696e 2074 6162 6c65  sformer in table
+0001d210: 206e 6574 5b22 7472 6166 6f33 7722 5d2e   net["trafo3w"].
+0001d220: 0d0a 2020 2020 5468 6520 7472 6166 6f20  ..    The trafo 
+0001d230: 7061 7261 6d65 7465 7273 2061 7265 2064  parameters are d
+0001d240: 6566 696e 6564 2074 6872 6f75 6768 2074  efined through t
+0001d250: 6865 2073 7461 6e64 6172 6420 7479 7065  he standard type
+0001d260: 206c 6962 7261 7279 2e0d 0a0d 0a20 2020   library.....   
+0001d270: 2049 4e50 5554 3a0d 0a20 2020 2020 2020   INPUT:..       
+0001d280: 202a 2a6e 6574 2a2a 202d 2054 6865 206e   **net** - The n
+0001d290: 6574 2077 6974 6869 6e20 7468 6973 2074  et within this t
+0001d2a0: 7261 6e73 666f 726d 6572 2073 686f 756c  ransformer shoul
+0001d2b0: 6420 6265 2063 7265 6174 6564 0d0a 0d0a  d be created....
+0001d2c0: 2020 2020 2020 2020 2a2a 6876 5f62 7573          **hv_bus
+0001d2d0: 2a2a 2028 696e 7429 202d 2054 6865 2062  ** (int) - The b
+0001d2e0: 7573 206f 6e20 7468 6520 6869 6768 2d76  us on the high-v
+0001d2f0: 6f6c 7461 6765 2073 6964 6520 6f6e 2077  oltage side on w
+0001d300: 6869 6368 2074 6865 2074 7261 6e73 666f  hich the transfo
+0001d310: 726d 6572 2077 696c 6c20 6265 205c 0d0a  rmer will be \..
+0001d320: 2020 2020 2020 2020 2020 2020 636f 6e6e              conn
+0001d330: 6563 7465 6420 746f 0d0a 0d0a 2020 2020  ected to....    
+0001d340: 2020 2020 2a2a 6d76 5f62 7573 2a2a 2028      **mv_bus** (
+0001d350: 696e 7429 202d 2054 6865 206d 6564 6975  int) - The mediu
+0001d360: 6d20 766f 6c74 6167 6520 6275 7320 6f6e  m voltage bus on
+0001d370: 2077 6869 6368 2074 6865 2074 7261 6e73   which the trans
+0001d380: 666f 726d 6572 2077 696c 6c20 6265 2063  former will be c
+0001d390: 6f6e 6e65 6374 6564 2074 6f0d 0a0d 0a20  onnected to.... 
+0001d3a0: 2020 2020 2020 202a 2a6c 765f 6275 732a         **lv_bus*
+0001d3b0: 2a20 2869 6e74 2920 2d20 5468 6520 6275  * (int) - The bu
+0001d3c0: 7320 6f6e 2074 6865 206c 6f77 2d76 6f6c  s on the low-vol
+0001d3d0: 7461 6765 2073 6964 6520 6f6e 2077 6869  tage side on whi
+0001d3e0: 6368 2074 6865 2074 7261 6e73 666f 726d  ch the transform
+0001d3f0: 6572 2077 696c 6c20 6265 205c 0d0a 2020  er will be \..  
+0001d400: 2020 2020 2020 2020 2020 636f 6e6e 6563            connec
+0001d410: 7465 6420 746f 0d0a 0d0a 2020 2020 2020  ted to....      
+0001d420: 2020 2a2a 7374 645f 7479 7065 2a2a 202d    **std_type** -
+0001d430: 2020 5468 6520 7573 6564 2073 7461 6e64    The used stand
+0001d440: 6172 6420 7479 7065 2066 726f 6d20 7468  ard type from th
+0001d450: 6520 7374 616e 6461 7264 2074 7970 6520  e standard type 
+0001d460: 6c69 6272 6172 790d 0a0d 0a20 2020 204f  library....    O
+0001d470: 5054 494f 4e41 4c3a 0d0a 2020 2020 2020  PTIONAL:..      
+0001d480: 2020 2a2a 6e61 6d65 2a2a 2028 7374 7269    **name** (stri
+0001d490: 6e67 2920 2d20 4120 6375 7374 6f6d 206e  ng) - A custom n
+0001d4a0: 616d 6520 666f 7220 7468 6973 2074 7261  ame for this tra
+0001d4b0: 6e73 666f 726d 6572 0d0a 0d0a 2020 2020  nsformer....    
+0001d4c0: 2020 2020 2a2a 7461 705f 706f 732a 2a20      **tap_pos** 
+0001d4d0: 2869 6e74 2c20 6e61 6e29 202d 2063 7572  (int, nan) - cur
+0001d4e0: 7265 6e74 2074 6170 2070 6f73 6974 696f  rent tap positio
+0001d4f0: 6e20 6f66 2074 6865 2074 7261 6e73 666f  n of the transfo
+0001d500: 726d 6572 2e20 4465 6661 756c 7473 2074  rmer. Defaults t
+0001d510: 6f20 7468 6520 6d65 6469 756d 205c 0d0a  o the medium \..
+0001d520: 2020 2020 2020 2020 2020 2020 706f 7369              posi
+0001d530: 7469 6f6e 2028 7461 705f 6e65 7574 7261  tion (tap_neutra
+0001d540: 6c29 0d0a 0d0a 2020 2020 2020 2020 2a2a  l)....        **
+0001d550: 7461 705f 6174 5f73 7461 725f 706f 696e  tap_at_star_poin
+0001d560: 742a 2a20 2862 6f6f 6c65 616e 2920 2d20  t** (boolean) - 
+0001d570: 5768 6574 6865 7220 7461 7020 6368 616e  Whether tap chan
+0001d580: 6765 7220 6973 206c 6f63 6174 6564 2061  ger is located a
+0001d590: 7420 7468 6520 7374 6172 2070 6f69 6e74  t the star point
+0001d5a0: 206f 6620 7468 6520 5c0d 0a20 2020 2020   of the \..     
+0001d5b0: 2020 2020 2020 2033 572d 7472 616e 7366         3W-transf
+0001d5c0: 6f72 6d65 7220 6f72 2061 7420 7468 6520  ormer or at the 
+0001d5d0: 6275 730d 0a0d 0a20 2020 2020 2020 202a  bus....        *
+0001d5e0: 2a69 6e5f 7365 7276 6963 652a 2a20 2862  *in_service** (b
+0001d5f0: 6f6f 6c65 616e 2920 2d20 5472 7565 2066  oolean) - True f
+0001d600: 6f72 2069 6e5f 7365 7276 6963 6520 6f72  or in_service or
+0001d610: 2046 616c 7365 2066 6f72 206f 7574 206f   False for out o
+0001d620: 6620 7365 7276 6963 650d 0a0d 0a20 2020  f service....   
+0001d630: 2020 2020 202a 2a69 6e64 6578 2a2a 2028       **index** (
+0001d640: 696e 742c 204e 6f6e 6529 202d 2046 6f72  int, None) - For
+0001d650: 6365 2061 2073 7065 6369 6669 6564 2049  ce a specified I
+0001d660: 4420 6966 2069 7420 6973 2061 7661 696c  D if it is avail
+0001d670: 6162 6c65 2e20 4966 204e 6f6e 652c 2074  able. If None, t
+0001d680: 6865 2069 6e64 6578 206f 6e65 205c 0d0a  he index one \..
+0001d690: 2020 2020 2020 2020 2020 2020 6869 6768              high
+0001d6a0: 6572 2074 6861 6e20 7468 6520 6869 6768  er than the high
+0001d6b0: 6573 7420 616c 7265 6164 7920 6578 6973  est already exis
+0001d6c0: 7469 6e67 2069 6e64 6578 2069 7320 7365  ting index is se
+0001d6d0: 6c65 6374 6564 2e0d 0a0d 0a20 2020 2020  lected.....     
+0001d6e0: 2020 202a 2a6d 6178 5f6c 6f61 6469 6e67     **max_loading
+0001d6f0: 5f70 6572 6365 6e74 2028 666c 6f61 7429  _percent (float)
+0001d700: 2a2a 202d 206d 6178 696d 756d 2063 7572  ** - maximum cur
+0001d710: 7265 6e74 206c 6f61 6469 6e67 2028 6f6e  rent loading (on
+0001d720: 6c79 206e 6565 6465 6420 666f 7220 4f50  ly needed for OP
+0001d730: 4629 0d0a 0d0a 2020 2020 2020 2020 2a2a  F)....        **
+0001d740: 7461 705f 6174 5f73 7461 725f 706f 696e  tap_at_star_poin
+0001d750: 7420 2862 6f6f 6c29 2a2a 202d 2077 6865  t (bool)** - whe
+0001d760: 7468 6572 2074 6170 2063 6861 6e67 6572  ther tap changer
+0001d770: 2069 7320 6d6f 6465 6c6c 6564 2061 7420   is modelled at 
+0001d780: 7374 6172 2070 6f69 6e74 206f 7220 6174  star point or at
+0001d790: 2074 6865 2062 7573 0d0a 0d0a 2020 2020   the bus....    
+0001d7a0: 2020 2020 2a2a 7461 705f 6465 7065 6e64      **tap_depend
+0001d7b0: 656e 745f 696d 7065 6461 6e63 652a 2a20  ent_impedance** 
+0001d7c0: 2862 6f6f 6c65 616e 2920 2d20 5472 7565  (boolean) - True
+0001d7d0: 2069 6620 7472 616e 7366 6f72 6d65 7220   if transformer 
+0001d7e0: 696d 7065 6461 6e63 6520 6d75 7374 2062  impedance must b
+0001d7f0: 6520 6164 6a75 7374 6564 2064 6570 656e  e adjusted depen
+0001d800: 6465 6e74 205c 0d0a 2020 2020 2020 2020  dent \..        
+0001d810: 2020 2020 6f6e 2074 6865 2074 6170 2070      on the tap p
+0001d820: 6f73 6974 696f 6e20 6f66 2074 6865 2074  osition of the t
+0001d830: 7261 626e 7366 6f72 6d65 722e 2052 6571  rabnsformer. Req
+0001d840: 7569 7265 7320 7468 6520 6164 6469 7469  uires the additi
+0001d850: 6f6e 616c 2063 6f6c 756d 6e73 205c 0d0a  onal columns \..
+0001d860: 2020 2020 2020 2020 2020 2020 2276 6b5f              "vk_
+0001d870: 7065 7263 656e 745f 6368 6172 6163 7465  percent_characte
+0001d880: 7269 7374 6963 2220 616e 6420 2276 6b72  ristic" and "vkr
+0001d890: 5f70 6572 6365 6e74 5f63 6861 7261 6374  _percent_charact
+0001d8a0: 6572 6973 7469 6322 2074 6861 7420 7265  eristic" that re
+0001d8b0: 6665 7265 6e63 6520 7468 6520 696e 6465  ference the inde
+0001d8c0: 7820 6f66 2074 6865 205c 0d0a 2020 2020  x of the \..    
+0001d8d0: 2020 2020 2020 2020 6368 6172 6163 7465          characte
+0001d8e0: 7269 7374 6963 2066 726f 6d20 7468 6520  ristic from the 
+0001d8f0: 7461 626c 6520 6e65 742e 6368 6172 6163  table net.charac
+0001d900: 7465 7269 7374 6963 2e20 4120 636f 6e76  teristic. A conv
+0001d910: 656e 6965 6e63 6520 6675 6e63 7469 6f6e  enience function
+0001d920: 205c 0d0a 2020 2020 2020 2020 2020 2020   \..            
+0001d930: 7061 6e64 6170 6f77 6572 2e63 6f6e 7472  pandapower.contr
+0001d940: 6f6c 2e63 7265 6174 655f 7472 6166 6f5f  ol.create_trafo_
+0001d950: 6368 6172 6163 7465 7269 7374 6963 7320  characteristics 
+0001d960: 6361 6e20 6265 2075 7365 6420 746f 2063  can be used to c
+0001d970: 7265 6174 6520 7468 6520 5370 6c69 6e65  reate the Spline
+0001d980: 4368 6172 6163 7465 7269 7374 6963 205c  Characteristic \
+0001d990: 0d0a 2020 2020 2020 2020 2020 2020 6f62  ..            ob
+0001d9a0: 6a65 6374 732c 2061 6464 2074 6865 2072  jects, add the r
+0001d9b0: 656c 6576 616e 7420 636f 6c75 6d6e 7320  elevant columns 
+0001d9c0: 616e 6420 7365 7420 7570 2074 6865 2072  and set up the r
+0001d9d0: 6566 6572 656e 6365 7320 746f 2074 6865  eferences to the
+0001d9e0: 2063 6861 7261 6374 6572 6973 7469 6373   characteristics
+0001d9f0: 2e20 5c0d 0a20 2020 2020 2020 2020 2020  . \..           
+0001da00: 2054 6865 2066 756e 6374 696f 6e20 7061   The function pa
+0001da10: 6e64 6170 6f77 6572 2e63 6f6e 7472 6f6c  ndapower.control
+0001da20: 2e74 7261 666f 5f63 6861 7261 6374 6572  .trafo_character
+0001da30: 6973 7469 6373 5f64 6961 676e 6f73 7469  istics_diagnosti
+0001da40: 6320 6361 6e20 6265 2075 7365 6420 666f  c can be used fo
+0001da50: 7220 7361 6e69 7479 2063 6865 636b 732e  r sanity checks.
+0001da60: 0d0a 0d0a 2020 2020 2020 2020 2a2a 766b  ....        **vk
+0001da70: 5f68 765f 7065 7263 656e 745f 6368 6172  _hv_percent_char
+0001da80: 6163 7465 7269 7374 6963 2a2a 2028 696e  acteristic** (in
+0001da90: 7429 202d 2069 6e64 6578 206f 6620 7468  t) - index of th
+0001daa0: 6520 6368 6172 6163 7465 7269 7374 6963  e characteristic
+0001dab0: 2066 726f 6d20 6e65 742e 6368 6172 6163   from net.charac
+0001dac0: 7465 7269 7374 6963 2066 6f72 205c 0d0a  teristic for \..
+0001dad0: 2020 2020 2020 2020 2020 2020 7468 6520              the 
+0001dae0: 6164 6a75 7374 6d65 6e74 206f 6620 7468  adjustment of th
+0001daf0: 6520 7061 7261 6d65 7465 7220 2276 6b5f  e parameter "vk_
+0001db00: 7065 7263 656e 7422 2066 6f72 2074 6865  percent" for the
+0001db10: 2063 616c 6375 6c61 7469 6f6e 206f 6620   calculation of 
+0001db20: 7461 7020 6465 7065 6e64 656e 7420 696d  tap dependent im
+0001db30: 7065 6461 6e63 652e 0d0a 0d0a 2020 2020  pedance.....    
+0001db40: 2020 2020 2a2a 766b 725f 6876 5f70 6572      **vkr_hv_per
+0001db50: 6365 6e74 5f63 6861 7261 6374 6572 6973  cent_characteris
+0001db60: 7469 632a 2a20 2869 6e74 2920 2d20 696e  tic** (int) - in
+0001db70: 6465 7820 6f66 2074 6865 2063 6861 7261  dex of the chara
+0001db80: 6374 6572 6973 7469 6320 6672 6f6d 206e  cteristic from n
+0001db90: 6574 2e63 6861 7261 6374 6572 6973 7469  et.characteristi
+0001dba0: 6320 666f 7220 5c0d 0a20 2020 2020 2020  c for \..       
+0001dbb0: 2020 2020 2074 6865 2061 646a 7573 746d       the adjustm
+0001dbc0: 656e 7420 6f66 2074 6865 2070 6172 616d  ent of the param
+0001dbd0: 6574 6572 2022 766b 5f70 6572 6365 6e74  eter "vk_percent
+0001dbe0: 2220 666f 7220 7468 6520 6361 6c63 756c  " for the calcul
+0001dbf0: 6174 696f 6e20 6f66 2074 6170 2064 6570  ation of tap dep
+0001dc00: 656e 6465 6e74 2069 6d70 6564 616e 6365  endent impedance
+0001dc10: 2e0d 0a0d 0a20 2020 2020 2020 202a 2a76  .....        **v
+0001dc20: 6b5f 6d76 5f70 6572 6365 6e74 5f63 6861  k_mv_percent_cha
+0001dc30: 7261 6374 6572 6973 7469 632a 2a20 2869  racteristic** (i
+0001dc40: 6e74 2920 2d20 696e 6465 7820 6f66 2074  nt) - index of t
+0001dc50: 6865 2063 6861 7261 6374 6572 6973 7469  he characteristi
+0001dc60: 6320 6672 6f6d 206e 6574 2e63 6861 7261  c from net.chara
+0001dc70: 6374 6572 6973 7469 6320 666f 7220 5c0d  cteristic for \.
+0001dc80: 0a20 2020 2020 2020 2020 2020 2074 6865  .            the
+0001dc90: 2061 646a 7573 746d 656e 7420 6f66 2074   adjustment of t
+0001dca0: 6865 2070 6172 616d 6574 6572 2022 766b  he parameter "vk
+0001dcb0: 5f70 6572 6365 6e74 2220 666f 7220 7468  _percent" for th
+0001dcc0: 6520 6361 6c63 756c 6174 696f 6e20 6f66  e calculation of
+0001dcd0: 2074 6170 2064 6570 656e 6465 6e74 2069   tap dependent i
+0001dce0: 6d70 6564 616e 6365 2e0d 0a0d 0a20 2020  mpedance.....   
+0001dcf0: 2020 2020 202a 2a76 6b72 5f6d 765f 7065       **vkr_mv_pe
+0001dd00: 7263 656e 745f 6368 6172 6163 7465 7269  rcent_characteri
+0001dd10: 7374 6963 2a2a 2028 696e 7429 202d 2069  stic** (int) - i
+0001dd20: 6e64 6578 206f 6620 7468 6520 6368 6172  ndex of the char
+0001dd30: 6163 7465 7269 7374 6963 2066 726f 6d20  acteristic from 
+0001dd40: 6e65 742e 6368 6172 6163 7465 7269 7374  net.characterist
+0001dd50: 6963 2066 6f72 205c 0d0a 2020 2020 2020  ic for \..      
+0001dd60: 2020 2020 2020 7468 6520 6164 6a75 7374        the adjust
+0001dd70: 6d65 6e74 206f 6620 7468 6520 7061 7261  ment of the para
+0001dd80: 6d65 7465 7220 2276 6b5f 7065 7263 656e  meter "vk_percen
+0001dd90: 7422 2066 6f72 2074 6865 2063 616c 6375  t" for the calcu
+0001dda0: 6c61 7469 6f6e 206f 6620 7461 7020 6465  lation of tap de
+0001ddb0: 7065 6e64 656e 7420 696d 7065 6461 6e63  pendent impedanc
+0001ddc0: 652e 0d0a 0d0a 2020 2020 2020 2020 2a2a  e.....        **
+0001ddd0: 766b 5f6c 765f 7065 7263 656e 745f 6368  vk_lv_percent_ch
+0001dde0: 6172 6163 7465 7269 7374 6963 2a2a 2028  aracteristic** (
+0001ddf0: 696e 7429 202d 2069 6e64 6578 206f 6620  int) - index of 
+0001de00: 7468 6520 6368 6172 6163 7465 7269 7374  the characterist
+0001de10: 6963 2066 726f 6d20 6e65 742e 6368 6172  ic from net.char
+0001de20: 6163 7465 7269 7374 6963 2066 6f72 205c  acteristic for \
+0001de30: 0d0a 2020 2020 2020 2020 2020 2020 7468  ..            th
+0001de40: 6520 6164 6a75 7374 6d65 6e74 206f 6620  e adjustment of 
+0001de50: 7468 6520 7061 7261 6d65 7465 7220 2276  the parameter "v
+0001de60: 6b5f 7065 7263 656e 7422 2066 6f72 2074  k_percent" for t
+0001de70: 6865 2063 616c 6375 6c61 7469 6f6e 206f  he calculation o
+0001de80: 6620 7461 7020 6465 7065 6e64 656e 7420  f tap dependent 
+0001de90: 696d 7065 6461 6e63 652e 0d0a 0d0a 2020  impedance.....  
+0001dea0: 2020 2020 2020 2a2a 766b 725f 6c76 5f70        **vkr_lv_p
+0001deb0: 6572 6365 6e74 5f63 6861 7261 6374 6572  ercent_character
+0001dec0: 6973 7469 632a 2a20 2869 6e74 2920 2d20  istic** (int) - 
+0001ded0: 696e 6465 7820 6f66 2074 6865 2063 6861  index of the cha
+0001dee0: 7261 6374 6572 6973 7469 6320 6672 6f6d  racteristic from
+0001def0: 206e 6574 2e63 6861 7261 6374 6572 6973   net.characteris
+0001df00: 7469 6320 666f 7220 5c0d 0a20 2020 2020  tic for \..     
+0001df10: 2020 2020 2020 2074 6865 2061 646a 7573         the adjus
+0001df20: 746d 656e 7420 6f66 2074 6865 2070 6172  tment of the par
+0001df30: 616d 6574 6572 2022 766b 5f70 6572 6365  ameter "vk_perce
+0001df40: 6e74 2220 666f 7220 7468 6520 6361 6c63  nt" for the calc
+0001df50: 756c 6174 696f 6e20 6f66 2074 6170 2064  ulation of tap d
+0001df60: 6570 656e 6465 6e74 2069 6d70 6564 616e  ependent impedan
+0001df70: 6365 2e0d 0a0d 0a20 2020 204f 5554 5055  ce.....    OUTPU
+0001df80: 543a 0d0a 2020 2020 2020 2020 2a2a 696e  T:..        **in
+0001df90: 6465 782a 2a20 2869 6e74 2920 2d20 5468  dex** (int) - Th
+0001dfa0: 6520 756e 6971 7565 2049 4420 6f66 2074  e unique ID of t
+0001dfb0: 6865 2063 7265 6174 6564 2074 7261 6e73  he created trans
+0001dfc0: 666f 726d 6572 0d0a 0d0a 2020 2020 4558  former....    EX
+0001dfd0: 414d 504c 453a 0d0a 2020 2020 2020 2020  AMPLE:..        
+0001dfe0: 6372 6561 7465 5f74 7261 6e73 666f 726d  create_transform
+0001dff0: 6572 3377 286e 6574 2c20 6876 5f62 7573  er3w(net, hv_bus
+0001e000: 203d 2030 2c20 6d76 5f62 7573 203d 2031   = 0, mv_bus = 1
+0001e010: 2c20 6c76 5f62 7573 203d 2032 2c20 6e61  , lv_bus = 2, na
+0001e020: 6d65 203d 2022 7472 6166 6f31 222c 2073  me = "trafo1", s
+0001e030: 7464 5f74 7970 6520 3d20 5c0d 0a20 2020  td_type = \..   
+0001e040: 2020 2020 2020 2020 2022 3633 2f32 352f           "63/25/
+0001e050: 3338 204d 5641 2031 3130 2f32 302f 3130  38 MVA 110/20/10
+0001e060: 206b 5622 290d 0a20 2020 2022 2222 0d0a   kV")..    """..
+0001e070: 0d0a 2020 2020 2320 4368 6563 6b20 6966  ..    # Check if
+0001e080: 2062 7573 2065 7869 7374 2074 6f20 6174   bus exist to at
+0001e090: 7461 6368 2074 6865 2074 7261 666f 2074  tach the trafo t
+0001e0a0: 6f0d 0a20 2020 2066 6f72 2062 2069 6e20  o..    for b in 
+0001e0b0: 5b68 765f 6275 732c 206d 765f 6275 732c  [hv_bus, mv_bus,
+0001e0c0: 206c 765f 6275 735d 3a0d 0a20 2020 2020   lv_bus]:..     
+0001e0d0: 2020 2069 6620 6220 6e6f 7420 696e 206e     if b not in n
+0001e0e0: 6574 5b22 6275 7322 5d2e 696e 6465 782e  et["bus"].index.
+0001e0f0: 7661 6c75 6573 3a0d 0a20 2020 2020 2020  values:..       
+0001e100: 2020 2020 2072 6169 7365 2055 7365 7257       raise UserW
+0001e110: 6172 6e69 6e67 2822 5472 6166 6f20 7472  arning("Trafo tr
+0001e120: 6965 7320 746f 2061 7474 6163 6820 746f  ies to attach to
+0001e130: 2062 7573 2025 7322 2025 2062 290d 0a0d   bus %s" % b)...
+0001e140: 0a20 2020 2076 203d 207b 0d0a 2020 2020  .    v = {..    
+0001e150: 2020 2020 226e 616d 6522 3a20 6e61 6d65      "name": name
+0001e160: 2c20 2268 765f 6275 7322 3a20 6876 5f62  , "hv_bus": hv_b
+0001e170: 7573 2c20 226d 765f 6275 7322 3a20 6d76  us, "mv_bus": mv
+0001e180: 5f62 7573 2c20 226c 765f 6275 7322 3a20  _bus, "lv_bus": 
+0001e190: 6c76 5f62 7573 2c0d 0a20 2020 2020 2020  lv_bus,..       
+0001e1a0: 2022 696e 5f73 6572 7669 6365 223a 2062   "in_service": b
+0001e1b0: 6f6f 6c28 696e 5f73 6572 7669 6365 292c  ool(in_service),
+0001e1c0: 2022 7374 645f 7479 7065 223a 2073 7464   "std_type": std
+0001e1d0: 5f74 7970 650d 0a20 2020 207d 0d0a 2020  _type..    }..  
+0001e1e0: 2020 7469 203d 206c 6f61 645f 7374 645f    ti = load_std_
+0001e1f0: 7479 7065 286e 6574 2c20 7374 645f 7479  type(net, std_ty
+0001e200: 7065 2c20 2274 7261 666f 3377 2229 0d0a  pe, "trafo3w")..
+0001e210: 0d0a 2020 2020 696e 6465 7820 3d20 5f67  ..    index = _g
+0001e220: 6574 5f69 6e64 6578 5f77 6974 685f 6368  et_index_with_ch
+0001e230: 6563 6b28 6e65 742c 2022 7472 6166 6f33  eck(net, "trafo3
+0001e240: 7722 2c20 696e 6465 782c 2022 7468 7265  w", index, "thre
+0001e250: 6520 7769 6e64 696e 6720 7472 616e 7366  e winding transf
+0001e260: 6f72 6d65 7222 290d 0a0d 0a20 2020 2076  ormer")....    v
+0001e270: 2e75 7064 6174 6528 7b0d 0a20 2020 2020  .update({..     
+0001e280: 2020 2022 736e 5f68 765f 6d76 6122 3a20     "sn_hv_mva": 
+0001e290: 7469 5b22 736e 5f68 765f 6d76 6122 5d2c  ti["sn_hv_mva"],
+0001e2a0: 0d0a 2020 2020 2020 2020 2273 6e5f 6d76  ..        "sn_mv
+0001e2b0: 5f6d 7661 223a 2074 695b 2273 6e5f 6d76  _mva": ti["sn_mv
+0001e2c0: 5f6d 7661 225d 2c0d 0a20 2020 2020 2020  _mva"],..       
+0001e2d0: 2022 736e 5f6c 765f 6d76 6122 3a20 7469   "sn_lv_mva": ti
+0001e2e0: 5b22 736e 5f6c 765f 6d76 6122 5d2c 0d0a  ["sn_lv_mva"],..
+0001e2f0: 2020 2020 2020 2020 2276 6e5f 6876 5f6b          "vn_hv_k
+0001e300: 7622 3a20 7469 5b22 766e 5f68 765f 6b76  v": ti["vn_hv_kv
+0001e310: 225d 2c0d 0a20 2020 2020 2020 2022 766e  "],..        "vn
+0001e320: 5f6d 765f 6b76 223a 2074 695b 2276 6e5f  _mv_kv": ti["vn_
+0001e330: 6d76 5f6b 7622 5d2c 0d0a 2020 2020 2020  mv_kv"],..      
+0001e340: 2020 2276 6e5f 6c76 5f6b 7622 3a20 7469    "vn_lv_kv": ti
+0001e350: 5b22 766e 5f6c 765f 6b76 225d 2c0d 0a20  ["vn_lv_kv"],.. 
+0001e360: 2020 2020 2020 2022 766b 5f68 765f 7065         "vk_hv_pe
+0001e370: 7263 656e 7422 3a20 7469 5b22 766b 5f68  rcent": ti["vk_h
+0001e380: 765f 7065 7263 656e 7422 5d2c 0d0a 2020  v_percent"],..  
+0001e390: 2020 2020 2020 2276 6b5f 6d76 5f70 6572        "vk_mv_per
+0001e3a0: 6365 6e74 223a 2074 695b 2276 6b5f 6d76  cent": ti["vk_mv
+0001e3b0: 5f70 6572 6365 6e74 225d 2c0d 0a20 2020  _percent"],..   
+0001e3c0: 2020 2020 2022 766b 5f6c 765f 7065 7263       "vk_lv_perc
+0001e3d0: 656e 7422 3a20 7469 5b22 766b 5f6c 765f  ent": ti["vk_lv_
+0001e3e0: 7065 7263 656e 7422 5d2c 0d0a 2020 2020  percent"],..    
+0001e3f0: 2020 2020 2276 6b72 5f68 765f 7065 7263      "vkr_hv_perc
+0001e400: 656e 7422 3a20 7469 5b22 766b 725f 6876  ent": ti["vkr_hv
+0001e410: 5f70 6572 6365 6e74 225d 2c0d 0a20 2020  _percent"],..   
+0001e420: 2020 2020 2022 766b 725f 6d76 5f70 6572       "vkr_mv_per
+0001e430: 6365 6e74 223a 2074 695b 2276 6b72 5f6d  cent": ti["vkr_m
+0001e440: 765f 7065 7263 656e 7422 5d2c 0d0a 2020  v_percent"],..  
+0001e450: 2020 2020 2020 2276 6b72 5f6c 765f 7065        "vkr_lv_pe
+0001e460: 7263 656e 7422 3a20 7469 5b22 766b 725f  rcent": ti["vkr_
+0001e470: 6c76 5f70 6572 6365 6e74 225d 2c0d 0a20  lv_percent"],.. 
+0001e480: 2020 2020 2020 2022 7066 655f 6b77 223a         "pfe_kw":
+0001e490: 2074 695b 2270 6665 5f6b 7722 5d2c 0d0a   ti["pfe_kw"],..
+0001e4a0: 2020 2020 2020 2020 2269 305f 7065 7263          "i0_perc
+0001e4b0: 656e 7422 3a20 7469 5b22 6930 5f70 6572  ent": ti["i0_per
+0001e4c0: 6365 6e74 225d 2c0d 0a20 2020 2020 2020  cent"],..       
+0001e4d0: 2022 7368 6966 745f 6d76 5f64 6567 7265   "shift_mv_degre
+0001e4e0: 6522 3a20 7469 5b22 7368 6966 745f 6d76  e": ti["shift_mv
+0001e4f0: 5f64 6567 7265 6522 5d20 6966 2022 7368  _degree"] if "sh
+0001e500: 6966 745f 6d76 5f64 6567 7265 6522 2069  ift_mv_degree" i
+0001e510: 6e20 7469 2065 6c73 6520 302c 0d0a 2020  n ti else 0,..  
+0001e520: 2020 2020 2020 2273 6869 6674 5f6c 765f        "shift_lv_
+0001e530: 6465 6772 6565 223a 2074 695b 2273 6869  degree": ti["shi
+0001e540: 6674 5f6c 765f 6465 6772 6565 225d 2069  ft_lv_degree"] i
+0001e550: 6620 2273 6869 6674 5f6c 765f 6465 6772  f "shift_lv_degr
+0001e560: 6565 2220 696e 2074 6920 656c 7365 2030  ee" in ti else 0
+0001e570: 2c0d 0a20 2020 2020 2020 2022 7461 705f  ,..        "tap_
+0001e580: 6174 5f73 7461 725f 706f 696e 7422 3a20  at_star_point": 
+0001e590: 7461 705f 6174 5f73 7461 725f 706f 696e  tap_at_star_poin
+0001e5a0: 740d 0a20 2020 207d 290d 0a20 2020 2066  t..    })..    f
+0001e5b0: 6f72 2074 7020 696e 2028 0d0a 2020 2020  or tp in (..    
+0001e5c0: 2020 2020 2020 2020 2274 6170 5f6e 6575          "tap_neu
+0001e5d0: 7472 616c 222c 2022 7461 705f 6d61 7822  tral", "tap_max"
+0001e5e0: 2c20 2274 6170 5f6d 696e 222c 2022 7461  , "tap_min", "ta
+0001e5f0: 705f 7369 6465 222c 2022 7461 705f 7374  p_side", "tap_st
+0001e600: 6570 5f70 6572 6365 6e74 222c 2022 7461  ep_percent", "ta
+0001e610: 705f 7374 6570 5f64 6567 7265 6522 293a  p_step_degree"):
+0001e620: 0d0a 2020 2020 2020 2020 6966 2074 7020  ..        if tp 
+0001e630: 696e 2074 693a 0d0a 2020 2020 2020 2020  in ti:..        
+0001e640: 2020 2020 762e 7570 6461 7465 287b 7470      v.update({tp
+0001e650: 3a20 7469 5b74 705d 7d29 0d0a 0d0a 2020  : ti[tp]})....  
+0001e660: 2020 6966 2028 2274 6170 5f6e 6575 7472    if ("tap_neutr
+0001e670: 616c 2220 696e 2076 2920 616e 6420 2874  al" in v) and (t
+0001e680: 6170 5f70 6f73 2069 7320 6e61 6e29 3a0d  ap_pos is nan):.
+0001e690: 0a20 2020 2020 2020 2076 5b22 7461 705f  .        v["tap_
+0001e6a0: 706f 7322 5d20 3d20 765b 2274 6170 5f6e  pos"] = v["tap_n
+0001e6b0: 6575 7472 616c 225d 0d0a 2020 2020 656c  eutral"]..    el
+0001e6c0: 7365 3a0d 0a20 2020 2020 2020 2076 5b22  se:..        v["
+0001e6d0: 7461 705f 706f 7322 5d20 3d20 7461 705f  tap_pos"] = tap_
+0001e6e0: 706f 730d 0a20 2020 2020 2020 2069 6620  pos..        if 
+0001e6f0: 7479 7065 2874 6170 5f70 6f73 2920 3d3d  type(tap_pos) ==
+0001e700: 2066 6c6f 6174 3a0d 0a20 2020 2020 2020   float:..       
+0001e710: 2020 2020 206e 6574 2e74 7261 666f 3377       net.trafo3w
+0001e720: 2e74 6170 5f70 6f73 203d 206e 6574 2e74  .tap_pos = net.t
+0001e730: 7261 666f 3377 2e74 6170 5f70 6f73 2e61  rafo3w.tap_pos.a
+0001e740: 7374 7970 6528 666c 6f61 7429 0d0a 0d0a  stype(float)....
+0001e750: 2020 2020 6464 203d 2070 642e 4461 7461      dd = pd.Data
+0001e760: 4672 616d 6528 762c 2069 6e64 6578 3d5b  Frame(v, index=[
+0001e770: 696e 6465 785d 290d 0a20 2020 2023 2074  index])..    # t
+0001e780: 6f64 6f3a 2064 726f 7020 5f5f 7665 7273  odo: drop __vers
+0001e790: 696f 6e5f 5f20 6368 6563 6b73 0d0a 2020  ion__ checks..  
+0001e7a0: 2020 6966 2076 6572 7369 6f6e 2e70 6172    if version.par
+0001e7b0: 7365 2870 642e 5f5f 7665 7273 696f 6e5f  se(pd.__version_
+0001e7c0: 5f29 203c 2076 6572 7369 6f6e 2e70 6172  _) < version.par
+0001e7d0: 7365 2822 302e 3231 2229 3a0d 0a20 2020  se("0.21"):..   
+0001e7e0: 2020 2020 206e 6574 5b22 7472 6166 6f33       net["trafo3
+0001e7f0: 7722 5d20 3d20 6e65 745b 2274 7261 666f  w"] = net["trafo
+0001e800: 3377 225d 2e61 7070 656e 6428 6464 292e  3w"].append(dd).
+0001e810: 7265 696e 6465 785f 6178 6973 286e 6574  reindex_axis(net
+0001e820: 5b22 7472 6166 6f33 7722 5d2e 636f 6c75  ["trafo3w"].colu
+0001e830: 6d6e 732c 2061 7869 733d 3129 0d0a 2020  mns, axis=1)..  
+0001e840: 2020 656c 6966 2076 6572 7369 6f6e 2e70    elif version.p
+0001e850: 6172 7365 2870 642e 5f5f 7665 7273 696f  arse(pd.__versio
+0001e860: 6e5f 5f29 203c 2076 6572 7369 6f6e 2e70  n__) < version.p
+0001e870: 6172 7365 2822 302e 3233 2229 3a0d 0a20  arse("0.23"):.. 
+0001e880: 2020 2020 2020 206e 6574 5b22 7472 6166         net["traf
+0001e890: 6f33 7722 5d20 3d20 6e65 745b 2274 7261  o3w"] = net["tra
+0001e8a0: 666f 3377 225d 2e61 7070 656e 6428 6464  fo3w"].append(dd
+0001e8b0: 292e 7265 696e 6465 7828 6e65 745b 2274  ).reindex(net["t
+0001e8c0: 7261 666f 3377 225d 2e63 6f6c 756d 6e73  rafo3w"].columns
+0001e8d0: 2c20 6178 6973 3d31 290d 0a20 2020 2065  , axis=1)..    e
+0001e8e0: 6c73 653a 0d0a 2020 2020 2020 2020 6e65  lse:..        ne
+0001e8f0: 745b 2274 7261 666f 3377 225d 203d 206e  t["trafo3w"] = n
+0001e900: 6574 5b22 7472 6166 6f33 7722 5d2e 6170  et["trafo3w"].ap
+0001e910: 7065 6e64 2864 642c 2073 6f72 743d 5472  pend(dd, sort=Tr
+0001e920: 7565 292e 7265 696e 6465 7828 6e65 745b  ue).reindex(net[
+0001e930: 2274 7261 666f 3377 225d 2e63 6f6c 756d  "trafo3w"].colum
+0001e940: 6e73 2c0d 0a20 2020 2020 2020 2020 2020  ns,..           
 0001e950: 2020 2020 2020 2020 2020 2020 2020 2020                  
 0001e960: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001e970: 2020 2020 2020 2020 2020 2020 6178 6973              axis
-0001e980: 3d31 290d 0a20 2020 2020 2020 2023 2074  =1)..        # t
-0001e990: 6f64 6f3a 2061 7070 656e 6420 2d3e 2063  odo: append -> c
-0001e9a0: 6f6e 6361 743a 0d0a 2020 2020 2020 2020  oncat:..        
-0001e9b0: 2320 6e65 745b 2274 7261 666f 3377 225d  # net["trafo3w"]
-0001e9c0: 203d 2070 642e 636f 6e63 6174 285b 6e65   = pd.concat([ne
-0001e9d0: 745b 2274 7261 666f 3377 225d 2c20 6464  t["trafo3w"], dd
-0001e9e0: 5d2c 2073 6f72 743d 5472 7565 292e 7265  ], sort=True).re
-0001e9f0: 696e 6465 7828 6e65 745b 2274 7261 666f  index(net["trafo
-0001ea00: 3377 225d 2e63 6f6c 756d 6e73 2c20 6178  3w"].columns, ax
-0001ea10: 6973 3d31 290d 0a0d 0a20 2020 205f 6372  is=1)....    _cr
-0001ea20: 6561 7465 5f63 6f6c 756d 6e5f 616e 645f  eate_column_and_
-0001ea30: 7365 745f 7661 6c75 6528 6e65 742c 2069  set_value(net, i
-0001ea40: 6e64 6578 2c20 6d61 785f 6c6f 6164 696e  ndex, max_loadin
-0001ea50: 675f 7065 7263 656e 742c 2022 6d61 785f  g_percent, "max_
-0001ea60: 6c6f 6164 696e 675f 7065 7263 656e 7422  loading_percent"
-0001ea70: 2c20 2274 7261 666f 3377 2229 0d0a 0d0a  , "trafo3w")....
-0001ea80: 2020 2020 6966 2074 6170 5f64 6570 656e      if tap_depen
-0001ea90: 6465 6e74 5f69 6d70 6564 616e 6365 2069  dent_impedance i
-0001eaa0: 7320 6e6f 7420 4e6f 6e65 3a0d 0a20 2020  s not None:..   
-0001eab0: 2020 2020 205f 6372 6561 7465 5f63 6f6c       _create_col
-0001eac0: 756d 6e5f 616e 645f 7365 745f 7661 6c75  umn_and_set_valu
-0001ead0: 6528 6e65 742c 2069 6e64 6578 2c20 7461  e(net, index, ta
-0001eae0: 705f 6465 7065 6e64 656e 745f 696d 7065  p_dependent_impe
-0001eaf0: 6461 6e63 652c 2022 7461 705f 6465 7065  dance, "tap_depe
-0001eb00: 6e64 656e 745f 696d 7065 6461 6e63 6522  ndent_impedance"
-0001eb10: 2c20 2274 7261 666f 222c 2062 6f6f 6c5f  , "trafo", bool_
-0001eb20: 2c20 4661 6c73 652c 2054 7275 6529 0d0a  , False, True)..
-0001eb30: 2020 2020 6966 2076 6b5f 6876 5f70 6572      if vk_hv_per
-0001eb40: 6365 6e74 5f63 6861 7261 6374 6572 6973  cent_characteris
-0001eb50: 7469 6320 6973 206e 6f74 204e 6f6e 653a  tic is not None:
-0001eb60: 0d0a 2020 2020 2020 2020 5f63 7265 6174  ..        _creat
-0001eb70: 655f 636f 6c75 6d6e 5f61 6e64 5f73 6574  e_column_and_set
-0001eb80: 5f76 616c 7565 286e 6574 2c20 696e 6465  _value(net, inde
-0001eb90: 782c 2076 6b5f 6876 5f70 6572 6365 6e74  x, vk_hv_percent
-0001eba0: 5f63 6861 7261 6374 6572 6973 7469 632c  _characteristic,
-0001ebb0: 2022 766b 5f68 765f 7065 7263 656e 745f   "vk_hv_percent_
-0001ebc0: 6368 6172 6163 7465 7269 7374 6963 222c  characteristic",
-0001ebd0: 2022 7472 6166 6f22 2c20 2249 6e74 3634   "trafo", "Int64
-0001ebe0: 2229 0d0a 2020 2020 6966 2076 6b72 5f68  ")..    if vkr_h
-0001ebf0: 765f 7065 7263 656e 745f 6368 6172 6163  v_percent_charac
-0001ec00: 7465 7269 7374 6963 2069 7320 6e6f 7420  teristic is not 
-0001ec10: 4e6f 6e65 3a0d 0a20 2020 2020 2020 205f  None:..        _
-0001ec20: 6372 6561 7465 5f63 6f6c 756d 6e5f 616e  create_column_an
-0001ec30: 645f 7365 745f 7661 6c75 6528 6e65 742c  d_set_value(net,
-0001ec40: 2069 6e64 6578 2c20 766b 725f 6876 5f70   index, vkr_hv_p
-0001ec50: 6572 6365 6e74 5f63 6861 7261 6374 6572  ercent_character
-0001ec60: 6973 7469 632c 2022 766b 725f 6876 5f70  istic, "vkr_hv_p
-0001ec70: 6572 6365 6e74 5f63 6861 7261 6374 6572  ercent_character
-0001ec80: 6973 7469 6322 2c20 2274 7261 666f 222c  istic", "trafo",
-0001ec90: 2022 496e 7436 3422 290d 0a20 2020 2069   "Int64")..    i
-0001eca0: 6620 766b 5f6d 765f 7065 7263 656e 745f  f vk_mv_percent_
-0001ecb0: 6368 6172 6163 7465 7269 7374 6963 2069  characteristic i
-0001ecc0: 7320 6e6f 7420 4e6f 6e65 3a0d 0a20 2020  s not None:..   
-0001ecd0: 2020 2020 205f 6372 6561 7465 5f63 6f6c       _create_col
-0001ece0: 756d 6e5f 616e 645f 7365 745f 7661 6c75  umn_and_set_valu
-0001ecf0: 6528 6e65 742c 2069 6e64 6578 2c20 766b  e(net, index, vk
-0001ed00: 5f6d 765f 7065 7263 656e 745f 6368 6172  _mv_percent_char
-0001ed10: 6163 7465 7269 7374 6963 2c20 2276 6b5f  acteristic, "vk_
-0001ed20: 6d76 5f70 6572 6365 6e74 5f63 6861 7261  mv_percent_chara
-0001ed30: 6374 6572 6973 7469 6322 2c20 2274 7261  cteristic", "tra
-0001ed40: 666f 222c 2022 496e 7436 3422 290d 0a20  fo", "Int64").. 
-0001ed50: 2020 2069 6620 766b 725f 6d76 5f70 6572     if vkr_mv_per
-0001ed60: 6365 6e74 5f63 6861 7261 6374 6572 6973  cent_characteris
-0001ed70: 7469 6320 6973 206e 6f74 204e 6f6e 653a  tic is not None:
-0001ed80: 0d0a 2020 2020 2020 2020 5f63 7265 6174  ..        _creat
-0001ed90: 655f 636f 6c75 6d6e 5f61 6e64 5f73 6574  e_column_and_set
-0001eda0: 5f76 616c 7565 286e 6574 2c20 696e 6465  _value(net, inde
-0001edb0: 782c 2076 6b72 5f6d 765f 7065 7263 656e  x, vkr_mv_percen
-0001edc0: 745f 6368 6172 6163 7465 7269 7374 6963  t_characteristic
-0001edd0: 2c20 2276 6b72 5f6d 765f 7065 7263 656e  , "vkr_mv_percen
-0001ede0: 745f 6368 6172 6163 7465 7269 7374 6963  t_characteristic
-0001edf0: 222c 2022 7472 6166 6f22 2c20 2249 6e74  ", "trafo", "Int
-0001ee00: 3634 2229 0d0a 2020 2020 6966 2076 6b5f  64")..    if vk_
-0001ee10: 6c76 5f70 6572 6365 6e74 5f63 6861 7261  lv_percent_chara
-0001ee20: 6374 6572 6973 7469 6320 6973 206e 6f74  cteristic is not
-0001ee30: 204e 6f6e 653a 0d0a 2020 2020 2020 2020   None:..        
-0001ee40: 5f63 7265 6174 655f 636f 6c75 6d6e 5f61  _create_column_a
-0001ee50: 6e64 5f73 6574 5f76 616c 7565 286e 6574  nd_set_value(net
-0001ee60: 2c20 696e 6465 782c 2076 6b5f 6c76 5f70  , index, vk_lv_p
-0001ee70: 6572 6365 6e74 5f63 6861 7261 6374 6572  ercent_character
-0001ee80: 6973 7469 632c 2022 766b 5f6c 765f 7065  istic, "vk_lv_pe
-0001ee90: 7263 656e 745f 6368 6172 6163 7465 7269  rcent_characteri
-0001eea0: 7374 6963 222c 2022 7472 6166 6f22 2c20  stic", "trafo", 
-0001eeb0: 2249 6e74 3634 2229 0d0a 2020 2020 6966  "Int64")..    if
-0001eec0: 2076 6b72 5f6c 765f 7065 7263 656e 745f   vkr_lv_percent_
-0001eed0: 6368 6172 6163 7465 7269 7374 6963 2069  characteristic i
-0001eee0: 7320 6e6f 7420 4e6f 6e65 3a0d 0a20 2020  s not None:..   
-0001eef0: 2020 2020 205f 6372 6561 7465 5f63 6f6c       _create_col
-0001ef00: 756d 6e5f 616e 645f 7365 745f 7661 6c75  umn_and_set_valu
-0001ef10: 6528 6e65 742c 2069 6e64 6578 2c20 766b  e(net, index, vk
-0001ef20: 725f 6c76 5f70 6572 6365 6e74 5f63 6861  r_lv_percent_cha
-0001ef30: 7261 6374 6572 6973 7469 632c 2022 766b  racteristic, "vk
-0001ef40: 725f 6c76 5f70 6572 6365 6e74 5f63 6861  r_lv_percent_cha
-0001ef50: 7261 6374 6572 6973 7469 6322 2c20 2274  racteristic", "t
-0001ef60: 7261 666f 222c 2022 496e 7436 3422 290d  rafo", "Int64").
-0001ef70: 0a0d 0a20 2020 2072 6574 7572 6e20 696e  ...    return in
-0001ef80: 6465 780d 0a0d 0a0d 0a64 6566 2063 7265  dex......def cre
-0001ef90: 6174 655f 7472 616e 7366 6f72 6d65 7233  ate_transformer3
-0001efa0: 775f 6672 6f6d 5f70 6172 616d 6574 6572  w_from_parameter
-0001efb0: 7328 6e65 742c 2068 765f 6275 732c 206d  s(net, hv_bus, m
-0001efc0: 765f 6275 732c 206c 765f 6275 732c 2076  v_bus, lv_bus, v
-0001efd0: 6e5f 6876 5f6b 762c 2076 6e5f 6d76 5f6b  n_hv_kv, vn_mv_k
-0001efe0: 762c 2076 6e5f 6c76 5f6b 762c 0d0a 2020  v, vn_lv_kv,..  
-0001eff0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001e970: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001e980: 2020 2020 2020 2020 2020 2061 7869 733d             axis=
+0001e990: 3129 0d0a 2020 2020 2020 2020 2320 746f  1)..        # to
+0001e9a0: 646f 3a20 6170 7065 6e64 202d 3e20 636f  do: append -> co
+0001e9b0: 6e63 6174 3a0d 0a20 2020 2020 2020 2023  ncat:..        #
+0001e9c0: 206e 6574 5b22 7472 6166 6f33 7722 5d20   net["trafo3w"] 
+0001e9d0: 3d20 7064 2e63 6f6e 6361 7428 5b6e 6574  = pd.concat([net
+0001e9e0: 5b22 7472 6166 6f33 7722 5d2c 2064 645d  ["trafo3w"], dd]
+0001e9f0: 2c20 736f 7274 3d54 7275 6529 2e72 6569  , sort=True).rei
+0001ea00: 6e64 6578 286e 6574 5b22 7472 6166 6f33  ndex(net["trafo3
+0001ea10: 7722 5d2e 636f 6c75 6d6e 732c 2061 7869  w"].columns, axi
+0001ea20: 733d 3129 0d0a 0d0a 2020 2020 5f63 7265  s=1)....    _cre
+0001ea30: 6174 655f 636f 6c75 6d6e 5f61 6e64 5f73  ate_column_and_s
+0001ea40: 6574 5f76 616c 7565 286e 6574 2c20 696e  et_value(net, in
+0001ea50: 6465 782c 206d 6178 5f6c 6f61 6469 6e67  dex, max_loading
+0001ea60: 5f70 6572 6365 6e74 2c20 226d 6178 5f6c  _percent, "max_l
+0001ea70: 6f61 6469 6e67 5f70 6572 6365 6e74 222c  oading_percent",
+0001ea80: 2022 7472 6166 6f33 7722 290d 0a0d 0a20   "trafo3w").... 
+0001ea90: 2020 2069 6620 7461 705f 6465 7065 6e64     if tap_depend
+0001eaa0: 656e 745f 696d 7065 6461 6e63 6520 6973  ent_impedance is
+0001eab0: 206e 6f74 204e 6f6e 653a 0d0a 2020 2020   not None:..    
+0001eac0: 2020 2020 5f63 7265 6174 655f 636f 6c75      _create_colu
+0001ead0: 6d6e 5f61 6e64 5f73 6574 5f76 616c 7565  mn_and_set_value
+0001eae0: 286e 6574 2c20 696e 6465 782c 2074 6170  (net, index, tap
+0001eaf0: 5f64 6570 656e 6465 6e74 5f69 6d70 6564  _dependent_imped
+0001eb00: 616e 6365 2c20 2274 6170 5f64 6570 656e  ance, "tap_depen
+0001eb10: 6465 6e74 5f69 6d70 6564 616e 6365 222c  dent_impedance",
+0001eb20: 2022 7472 6166 6f22 2c20 626f 6f6c 5f2c   "trafo", bool_,
+0001eb30: 2046 616c 7365 2c20 5472 7565 290d 0a20   False, True).. 
+0001eb40: 2020 2069 6620 766b 5f68 765f 7065 7263     if vk_hv_perc
+0001eb50: 656e 745f 6368 6172 6163 7465 7269 7374  ent_characterist
+0001eb60: 6963 2069 7320 6e6f 7420 4e6f 6e65 3a0d  ic is not None:.
+0001eb70: 0a20 2020 2020 2020 205f 6372 6561 7465  .        _create
+0001eb80: 5f63 6f6c 756d 6e5f 616e 645f 7365 745f  _column_and_set_
+0001eb90: 7661 6c75 6528 6e65 742c 2069 6e64 6578  value(net, index
+0001eba0: 2c20 766b 5f68 765f 7065 7263 656e 745f  , vk_hv_percent_
+0001ebb0: 6368 6172 6163 7465 7269 7374 6963 2c20  characteristic, 
+0001ebc0: 2276 6b5f 6876 5f70 6572 6365 6e74 5f63  "vk_hv_percent_c
+0001ebd0: 6861 7261 6374 6572 6973 7469 6322 2c20  haracteristic", 
+0001ebe0: 2274 7261 666f 222c 2022 496e 7436 3422  "trafo", "Int64"
+0001ebf0: 290d 0a20 2020 2069 6620 766b 725f 6876  )..    if vkr_hv
+0001ec00: 5f70 6572 6365 6e74 5f63 6861 7261 6374  _percent_charact
+0001ec10: 6572 6973 7469 6320 6973 206e 6f74 204e  eristic is not N
+0001ec20: 6f6e 653a 0d0a 2020 2020 2020 2020 5f63  one:..        _c
+0001ec30: 7265 6174 655f 636f 6c75 6d6e 5f61 6e64  reate_column_and
+0001ec40: 5f73 6574 5f76 616c 7565 286e 6574 2c20  _set_value(net, 
+0001ec50: 696e 6465 782c 2076 6b72 5f68 765f 7065  index, vkr_hv_pe
+0001ec60: 7263 656e 745f 6368 6172 6163 7465 7269  rcent_characteri
+0001ec70: 7374 6963 2c20 2276 6b72 5f68 765f 7065  stic, "vkr_hv_pe
+0001ec80: 7263 656e 745f 6368 6172 6163 7465 7269  rcent_characteri
+0001ec90: 7374 6963 222c 2022 7472 6166 6f22 2c20  stic", "trafo", 
+0001eca0: 2249 6e74 3634 2229 0d0a 2020 2020 6966  "Int64")..    if
+0001ecb0: 2076 6b5f 6d76 5f70 6572 6365 6e74 5f63   vk_mv_percent_c
+0001ecc0: 6861 7261 6374 6572 6973 7469 6320 6973  haracteristic is
+0001ecd0: 206e 6f74 204e 6f6e 653a 0d0a 2020 2020   not None:..    
+0001ece0: 2020 2020 5f63 7265 6174 655f 636f 6c75      _create_colu
+0001ecf0: 6d6e 5f61 6e64 5f73 6574 5f76 616c 7565  mn_and_set_value
+0001ed00: 286e 6574 2c20 696e 6465 782c 2076 6b5f  (net, index, vk_
+0001ed10: 6d76 5f70 6572 6365 6e74 5f63 6861 7261  mv_percent_chara
+0001ed20: 6374 6572 6973 7469 632c 2022 766b 5f6d  cteristic, "vk_m
+0001ed30: 765f 7065 7263 656e 745f 6368 6172 6163  v_percent_charac
+0001ed40: 7465 7269 7374 6963 222c 2022 7472 6166  teristic", "traf
+0001ed50: 6f22 2c20 2249 6e74 3634 2229 0d0a 2020  o", "Int64")..  
+0001ed60: 2020 6966 2076 6b72 5f6d 765f 7065 7263    if vkr_mv_perc
+0001ed70: 656e 745f 6368 6172 6163 7465 7269 7374  ent_characterist
+0001ed80: 6963 2069 7320 6e6f 7420 4e6f 6e65 3a0d  ic is not None:.
+0001ed90: 0a20 2020 2020 2020 205f 6372 6561 7465  .        _create
+0001eda0: 5f63 6f6c 756d 6e5f 616e 645f 7365 745f  _column_and_set_
+0001edb0: 7661 6c75 6528 6e65 742c 2069 6e64 6578  value(net, index
+0001edc0: 2c20 766b 725f 6d76 5f70 6572 6365 6e74  , vkr_mv_percent
+0001edd0: 5f63 6861 7261 6374 6572 6973 7469 632c  _characteristic,
+0001ede0: 2022 766b 725f 6d76 5f70 6572 6365 6e74   "vkr_mv_percent
+0001edf0: 5f63 6861 7261 6374 6572 6973 7469 6322  _characteristic"
+0001ee00: 2c20 2274 7261 666f 222c 2022 496e 7436  , "trafo", "Int6
+0001ee10: 3422 290d 0a20 2020 2069 6620 766b 5f6c  4")..    if vk_l
+0001ee20: 765f 7065 7263 656e 745f 6368 6172 6163  v_percent_charac
+0001ee30: 7465 7269 7374 6963 2069 7320 6e6f 7420  teristic is not 
+0001ee40: 4e6f 6e65 3a0d 0a20 2020 2020 2020 205f  None:..        _
+0001ee50: 6372 6561 7465 5f63 6f6c 756d 6e5f 616e  create_column_an
+0001ee60: 645f 7365 745f 7661 6c75 6528 6e65 742c  d_set_value(net,
+0001ee70: 2069 6e64 6578 2c20 766b 5f6c 765f 7065   index, vk_lv_pe
+0001ee80: 7263 656e 745f 6368 6172 6163 7465 7269  rcent_characteri
+0001ee90: 7374 6963 2c20 2276 6b5f 6c76 5f70 6572  stic, "vk_lv_per
+0001eea0: 6365 6e74 5f63 6861 7261 6374 6572 6973  cent_characteris
+0001eeb0: 7469 6322 2c20 2274 7261 666f 222c 2022  tic", "trafo", "
+0001eec0: 496e 7436 3422 290d 0a20 2020 2069 6620  Int64")..    if 
+0001eed0: 766b 725f 6c76 5f70 6572 6365 6e74 5f63  vkr_lv_percent_c
+0001eee0: 6861 7261 6374 6572 6973 7469 6320 6973  haracteristic is
+0001eef0: 206e 6f74 204e 6f6e 653a 0d0a 2020 2020   not None:..    
+0001ef00: 2020 2020 5f63 7265 6174 655f 636f 6c75      _create_colu
+0001ef10: 6d6e 5f61 6e64 5f73 6574 5f76 616c 7565  mn_and_set_value
+0001ef20: 286e 6574 2c20 696e 6465 782c 2076 6b72  (net, index, vkr
+0001ef30: 5f6c 765f 7065 7263 656e 745f 6368 6172  _lv_percent_char
+0001ef40: 6163 7465 7269 7374 6963 2c20 2276 6b72  acteristic, "vkr
+0001ef50: 5f6c 765f 7065 7263 656e 745f 6368 6172  _lv_percent_char
+0001ef60: 6163 7465 7269 7374 6963 222c 2022 7472  acteristic", "tr
+0001ef70: 6166 6f22 2c20 2249 6e74 3634 2229 0d0a  afo", "Int64")..
+0001ef80: 0d0a 2020 2020 7265 7475 726e 2069 6e64  ..    return ind
+0001ef90: 6578 0d0a 0d0a 0d0a 6465 6620 6372 6561  ex......def crea
+0001efa0: 7465 5f74 7261 6e73 666f 726d 6572 3377  te_transformer3w
+0001efb0: 5f66 726f 6d5f 7061 7261 6d65 7465 7273  _from_parameters
+0001efc0: 286e 6574 2c20 6876 5f62 7573 2c20 6d76  (net, hv_bus, mv
+0001efd0: 5f62 7573 2c20 6c76 5f62 7573 2c20 766e  _bus, lv_bus, vn
+0001efe0: 5f68 765f 6b76 2c20 766e 5f6d 765f 6b76  _hv_kv, vn_mv_kv
+0001eff0: 2c20 766e 5f6c 765f 6b76 2c0d 0a20 2020  , vn_lv_kv,..   
 0001f000: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f010: 2020 2020 2020 2073 6e5f 6876 5f6d 7661         sn_hv_mva
-0001f020: 2c20 736e 5f6d 765f 6d76 612c 2073 6e5f  , sn_mv_mva, sn_
-0001f030: 6c76 5f6d 7661 2c20 766b 5f68 765f 7065  lv_mva, vk_hv_pe
-0001f040: 7263 656e 742c 0d0a 2020 2020 2020 2020  rcent,..        
-0001f050: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f010: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f020: 2020 2020 2020 736e 5f68 765f 6d76 612c        sn_hv_mva,
+0001f030: 2073 6e5f 6d76 5f6d 7661 2c20 736e 5f6c   sn_mv_mva, sn_l
+0001f040: 765f 6d76 612c 2076 6b5f 6876 5f70 6572  v_mva, vk_hv_per
+0001f050: 6365 6e74 2c0d 0a20 2020 2020 2020 2020  cent,..         
 0001f060: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f070: 2076 6b5f 6d76 5f70 6572 6365 6e74 2c20   vk_mv_percent, 
-0001f080: 766b 5f6c 765f 7065 7263 656e 742c 2076  vk_lv_percent, v
-0001f090: 6b72 5f68 765f 7065 7263 656e 742c 0d0a  kr_hv_percent,..
-0001f0a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f070: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f080: 766b 5f6d 765f 7065 7263 656e 742c 2076  vk_mv_percent, v
+0001f090: 6b5f 6c76 5f70 6572 6365 6e74 2c20 766b  k_lv_percent, vk
+0001f0a0: 725f 6876 5f70 6572 6365 6e74 2c0d 0a20  r_hv_percent,.. 
 0001f0b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f0c0: 2020 2020 2020 2020 2076 6b72 5f6d 765f           vkr_mv_
-0001f0d0: 7065 7263 656e 742c 2076 6b72 5f6c 765f  percent, vkr_lv_
-0001f0e0: 7065 7263 656e 742c 2070 6665 5f6b 772c  percent, pfe_kw,
-0001f0f0: 2069 305f 7065 7263 656e 742c 0d0a 2020   i0_percent,..  
-0001f100: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f0c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f0d0: 2020 2020 2020 2020 766b 725f 6d76 5f70          vkr_mv_p
+0001f0e0: 6572 6365 6e74 2c20 766b 725f 6c76 5f70  ercent, vkr_lv_p
+0001f0f0: 6572 6365 6e74 2c20 7066 655f 6b77 2c20  ercent, pfe_kw, 
+0001f100: 6930 5f70 6572 6365 6e74 2c0d 0a20 2020  i0_percent,..   
 0001f110: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f120: 2020 2020 2020 2073 6869 6674 5f6d 765f         shift_mv_
-0001f130: 6465 6772 6565 3d30 2e2c 2073 6869 6674  degree=0., shift
-0001f140: 5f6c 765f 6465 6772 6565 3d30 2e2c 2074  _lv_degree=0., t
-0001f150: 6170 5f73 6964 653d 4e6f 6e65 2c0d 0a20  ap_side=None,.. 
-0001f160: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f120: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f130: 2020 2020 2020 7368 6966 745f 6d76 5f64        shift_mv_d
+0001f140: 6567 7265 653d 302e 2c20 7368 6966 745f  egree=0., shift_
+0001f150: 6c76 5f64 6567 7265 653d 302e 2c20 7461  lv_degree=0., ta
+0001f160: 705f 7369 6465 3d4e 6f6e 652c 0d0a 2020  p_side=None,..  
 0001f170: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f180: 2020 2020 2020 2020 7461 705f 7374 6570          tap_step
-0001f190: 5f70 6572 6365 6e74 3d6e 616e 2c20 7461  _percent=nan, ta
-0001f1a0: 705f 7374 6570 5f64 6567 7265 653d 6e61  p_step_degree=na
-0001f1b0: 6e2c 2074 6170 5f70 6f73 3d6e 616e 2c0d  n, tap_pos=nan,.
-0001f1c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001f180: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f190: 2020 2020 2020 2074 6170 5f73 7465 705f         tap_step_
+0001f1a0: 7065 7263 656e 743d 6e61 6e2c 2074 6170  percent=nan, tap
+0001f1b0: 5f73 7465 705f 6465 6772 6565 3d6e 616e  _step_degree=nan
+0001f1c0: 2c20 7461 705f 706f 733d 6e61 6e2c 0d0a  , tap_pos=nan,..
 0001f1d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f1e0: 2020 2020 2020 2020 2020 7461 705f 6e65            tap_ne
-0001f1f0: 7574 7261 6c3d 6e61 6e2c 2074 6170 5f6d  utral=nan, tap_m
-0001f200: 6178 3d6e 616e 2c0d 0a20 2020 2020 2020  ax=nan,..       
-0001f210: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f1e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f1f0: 2020 2020 2020 2020 2074 6170 5f6e 6575           tap_neu
+0001f200: 7472 616c 3d6e 616e 2c20 7461 705f 6d61  tral=nan, tap_ma
+0001f210: 783d 6e61 6e2c 0d0a 2020 2020 2020 2020  x=nan,..        
 0001f220: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f230: 2020 7461 705f 6d69 6e3d 6e61 6e2c 206e    tap_min=nan, n
-0001f240: 616d 653d 4e6f 6e65 2c20 696e 5f73 6572  ame=None, in_ser
-0001f250: 7669 6365 3d54 7275 652c 2069 6e64 6578  vice=True, index
-0001f260: 3d4e 6f6e 652c 0d0a 2020 2020 2020 2020  =None,..        
-0001f270: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f230: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f240: 2074 6170 5f6d 696e 3d6e 616e 2c20 6e61   tap_min=nan, na
+0001f250: 6d65 3d4e 6f6e 652c 2069 6e5f 7365 7276  me=None, in_serv
+0001f260: 6963 653d 5472 7565 2c20 696e 6465 783d  ice=True, index=
+0001f270: 4e6f 6e65 2c0d 0a20 2020 2020 2020 2020  None,..         
 0001f280: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f290: 206d 6178 5f6c 6f61 6469 6e67 5f70 6572   max_loading_per
-0001f2a0: 6365 6e74 3d6e 616e 2c20 7461 705f 6174  cent=nan, tap_at
-0001f2b0: 5f73 7461 725f 706f 696e 743d 4661 6c73  _star_point=Fals
-0001f2c0: 652c 0d0a 2020 2020 2020 2020 2020 2020  e,..            
-0001f2d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f2e0: 2020 2020 2020 2020 2020 2020 2076 6b30               vk0
-0001f2f0: 5f68 765f 7065 7263 656e 743d 6e61 6e2c  _hv_percent=nan,
-0001f300: 2076 6b30 5f6d 765f 7065 7263 656e 743d   vk0_mv_percent=
-0001f310: 6e61 6e2c 2076 6b30 5f6c 765f 7065 7263  nan, vk0_lv_perc
-0001f320: 656e 743d 6e61 6e2c 0d0a 2020 2020 2020  ent=nan,..      
-0001f330: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f290: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f2a0: 6d61 785f 6c6f 6164 696e 675f 7065 7263  max_loading_perc
+0001f2b0: 656e 743d 6e61 6e2c 2074 6170 5f61 745f  ent=nan, tap_at_
+0001f2c0: 7374 6172 5f70 6f69 6e74 3d46 616c 7365  star_point=False
+0001f2d0: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
+0001f2e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f2f0: 2020 2020 2020 2020 2020 2020 766b 305f              vk0_
+0001f300: 6876 5f70 6572 6365 6e74 3d6e 616e 2c20  hv_percent=nan, 
+0001f310: 766b 305f 6d76 5f70 6572 6365 6e74 3d6e  vk0_mv_percent=n
+0001f320: 616e 2c20 766b 305f 6c76 5f70 6572 6365  an, vk0_lv_perce
+0001f330: 6e74 3d6e 616e 2c0d 0a20 2020 2020 2020  nt=nan,..       
 0001f340: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f350: 2020 2076 6b72 305f 6876 5f70 6572 6365     vkr0_hv_perce
-0001f360: 6e74 3d6e 616e 2c20 766b 7230 5f6d 765f  nt=nan, vkr0_mv_
-0001f370: 7065 7263 656e 743d 6e61 6e2c 2076 6b72  percent=nan, vkr
-0001f380: 305f 6c76 5f70 6572 6365 6e74 3d6e 616e  0_lv_percent=nan
-0001f390: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
-0001f3a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f3b0: 2020 2020 2020 2020 2020 2020 7665 6374              vect
-0001f3c0: 6f72 5f67 726f 7570 3d4e 6f6e 652c 2074  or_group=None, t
-0001f3d0: 6170 5f64 6570 656e 6465 6e74 5f69 6d70  ap_dependent_imp
-0001f3e0: 6564 616e 6365 3d4e 6f6e 652c 0d0a 2020  edance=None,..  
-0001f3f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f350: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f360: 2020 766b 7230 5f68 765f 7065 7263 656e    vkr0_hv_percen
+0001f370: 743d 6e61 6e2c 2076 6b72 305f 6d76 5f70  t=nan, vkr0_mv_p
+0001f380: 6572 6365 6e74 3d6e 616e 2c20 766b 7230  ercent=nan, vkr0
+0001f390: 5f6c 765f 7065 7263 656e 743d 6e61 6e2c  _lv_percent=nan,
+0001f3a0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+0001f3b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f3c0: 2020 2020 2020 2020 2020 2076 6563 746f             vecto
+0001f3d0: 725f 6772 6f75 703d 4e6f 6e65 2c20 7461  r_group=None, ta
+0001f3e0: 705f 6465 7065 6e64 656e 745f 696d 7065  p_dependent_impe
+0001f3f0: 6461 6e63 653d 4e6f 6e65 2c0d 0a20 2020  dance=None,..   
 0001f400: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f410: 2020 2020 2020 2076 6b5f 6876 5f70 6572         vk_hv_per
-0001f420: 6365 6e74 5f63 6861 7261 6374 6572 6973  cent_characteris
-0001f430: 7469 633d 4e6f 6e65 2c20 766b 725f 6876  tic=None, vkr_hv
-0001f440: 5f70 6572 6365 6e74 5f63 6861 7261 6374  _percent_charact
-0001f450: 6572 6973 7469 633d 4e6f 6e65 2c0d 0a20  eristic=None,.. 
-0001f460: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f410: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f420: 2020 2020 2020 766b 5f68 765f 7065 7263        vk_hv_perc
+0001f430: 656e 745f 6368 6172 6163 7465 7269 7374  ent_characterist
+0001f440: 6963 3d4e 6f6e 652c 2076 6b72 5f68 765f  ic=None, vkr_hv_
+0001f450: 7065 7263 656e 745f 6368 6172 6163 7465  percent_characte
+0001f460: 7269 7374 6963 3d4e 6f6e 652c 0d0a 2020  ristic=None,..  
 0001f470: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f480: 2020 2020 2020 2020 766b 5f6d 765f 7065          vk_mv_pe
-0001f490: 7263 656e 745f 6368 6172 6163 7465 7269  rcent_characteri
-0001f4a0: 7374 6963 3d4e 6f6e 652c 2076 6b72 5f6d  stic=None, vkr_m
-0001f4b0: 765f 7065 7263 656e 745f 6368 6172 6163  v_percent_charac
-0001f4c0: 7465 7269 7374 6963 3d4e 6f6e 652c 0d0a  teristic=None,..
-0001f4d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f480: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f490: 2020 2020 2020 2076 6b5f 6d76 5f70 6572         vk_mv_per
+0001f4a0: 6365 6e74 5f63 6861 7261 6374 6572 6973  cent_characteris
+0001f4b0: 7469 633d 4e6f 6e65 2c20 766b 725f 6d76  tic=None, vkr_mv
+0001f4c0: 5f70 6572 6365 6e74 5f63 6861 7261 6374  _percent_charact
+0001f4d0: 6572 6973 7469 633d 4e6f 6e65 2c0d 0a20  eristic=None,.. 
 0001f4e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f4f0: 2020 2020 2020 2020 2076 6b5f 6c76 5f70           vk_lv_p
-0001f500: 6572 6365 6e74 5f63 6861 7261 6374 6572  ercent_character
-0001f510: 6973 7469 633d 4e6f 6e65 2c20 766b 725f  istic=None, vkr_
-0001f520: 6c76 5f70 6572 6365 6e74 5f63 6861 7261  lv_percent_chara
-0001f530: 6374 6572 6973 7469 633d 4e6f 6e65 293a  cteristic=None):
-0001f540: 0d0a 2020 2020 2222 220d 0a20 2020 2041  ..    """..    A
-0001f550: 6464 7320 6120 7468 7265 652d 7769 6e64  dds a three-wind
-0001f560: 696e 6720 7472 616e 7366 6f72 6d65 7220  ing transformer 
-0001f570: 696e 2074 6162 6c65 206e 6574 5b22 7472  in table net["tr
-0001f580: 6166 6f33 7722 5d2e 0d0a 2020 2020 5468  afo3w"]...    Th
-0001f590: 6520 6d6f 6465 6c20 6375 7272 656e 746c  e model currentl
-0001f5a0: 7920 6f6e 6c79 2073 7570 706f 7274 7320  y only supports 
-0001f5b0: 6f6e 6520 7461 702d 6368 616e 6765 7220  one tap-changer 
-0001f5c0: 7065 7220 3357 2054 7261 6e73 666f 726d  per 3W Transform
-0001f5d0: 6572 2e0d 0a0d 0a20 2020 2049 6e70 7574  er.....    Input
-0001f5e0: 3a0d 0a20 2020 2020 2020 202a 2a6e 6574  :..        **net
-0001f5f0: 2a2a 2028 7061 6e64 6170 6f77 6572 4e65  ** (pandapowerNe
-0001f600: 7429 202d 2054 6865 206e 6574 2077 6974  t) - The net wit
-0001f610: 6869 6e20 7468 6973 2074 7261 6e73 666f  hin this transfo
-0001f620: 726d 6572 2073 686f 756c 6420 6265 2063  rmer should be c
-0001f630: 7265 6174 6564 0d0a 0d0a 2020 2020 2020  reated....      
-0001f640: 2020 2a2a 6876 5f62 7573 2a2a 2028 696e    **hv_bus** (in
-0001f650: 7429 202d 2054 6865 2062 7573 206f 6e20  t) - The bus on 
-0001f660: 7468 6520 6869 6768 2d76 6f6c 7461 6765  the high-voltage
-0001f670: 2073 6964 6520 6f6e 2077 6869 6368 2074   side on which t
-0001f680: 6865 2074 7261 6e73 666f 726d 6572 2077  he transformer w
-0001f690: 696c 6c20 6265 205c 0d0a 2020 2020 2020  ill be \..      
-0001f6a0: 2020 2020 2020 636f 6e6e 6563 7465 6420        connected 
-0001f6b0: 746f 0d0a 0d0a 2020 2020 2020 2020 2a2a  to....        **
-0001f6c0: 6d76 5f62 7573 2a2a 2028 696e 7429 202d  mv_bus** (int) -
-0001f6d0: 2054 6865 2062 7573 206f 6e20 7468 6520   The bus on the 
-0001f6e0: 6d69 6464 6c65 2d76 6f6c 7461 6765 2073  middle-voltage s
-0001f6f0: 6964 6520 6f6e 2077 6869 6368 2074 6865  ide on which the
-0001f700: 2074 7261 6e73 666f 726d 6572 2077 696c   transformer wil
-0001f710: 6c20 6265 205c 0d0a 2020 2020 2020 2020  l be \..        
-0001f720: 2020 2020 636f 6e6e 6563 7465 6420 746f      connected to
-0001f730: 0d0a 0d0a 2020 2020 2020 2020 2a2a 6c76  ....        **lv
-0001f740: 5f62 7573 2a2a 2028 696e 7429 202d 2054  _bus** (int) - T
-0001f750: 6865 2062 7573 206f 6e20 7468 6520 6c6f  he bus on the lo
-0001f760: 772d 766f 6c74 6167 6520 7369 6465 206f  w-voltage side o
-0001f770: 6e20 7768 6963 6820 7468 6520 7472 616e  n which the tran
-0001f780: 7366 6f72 6d65 7220 7769 6c6c 2062 6520  sformer will be 
-0001f790: 5c0d 0a20 2020 2020 2020 2020 2020 2063  \..            c
-0001f7a0: 6f6e 6e65 6374 6564 2074 6f0d 0a0d 0a20  onnected to.... 
-0001f7b0: 2020 2020 2020 202a 2a76 6e5f 6876 5f6b         **vn_hv_k
-0001f7c0: 762a 2a20 2866 6c6f 6174 2920 7261 7465  v** (float) rate
-0001f7d0: 6420 766f 6c74 6167 6520 6f6e 2068 6967  d voltage on hig
-0001f7e0: 6820 766f 6c74 6167 6520 7369 6465 0d0a  h voltage side..
-0001f7f0: 0d0a 2020 2020 2020 2020 2a2a 766e 5f6d  ..        **vn_m
-0001f800: 765f 6b76 2a2a 2028 666c 6f61 7429 2072  v_kv** (float) r
-0001f810: 6174 6564 2076 6f6c 7461 6765 206f 6e20  ated voltage on 
-0001f820: 6d65 6469 756d 2076 6f6c 7461 6765 2073  medium voltage s
-0001f830: 6964 650d 0a0d 0a20 2020 2020 2020 202a  ide....        *
-0001f840: 2a76 6e5f 6c76 5f6b 762a 2a20 2866 6c6f  *vn_lv_kv** (flo
-0001f850: 6174 2920 7261 7465 6420 766f 6c74 6167  at) rated voltag
-0001f860: 6520 6f6e 206c 6f77 2076 6f6c 7461 6765  e on low voltage
-0001f870: 2073 6964 650d 0a0d 0a20 2020 2020 2020   side....       
-0001f880: 202a 2a73 6e5f 6876 5f6d 7661 2a2a 2028   **sn_hv_mva** (
-0001f890: 666c 6f61 7429 202d 2072 6174 6564 2061  float) - rated a
-0001f8a0: 7070 6172 656e 7420 706f 7765 7220 6f6e  pparent power on
-0001f8b0: 2068 6967 6820 766f 6c74 6167 6520 7369   high voltage si
-0001f8c0: 6465 0d0a 0d0a 2020 2020 2020 2020 2a2a  de....        **
-0001f8d0: 736e 5f6d 765f 6d76 612a 2a20 2866 6c6f  sn_mv_mva** (flo
-0001f8e0: 6174 2920 2d20 7261 7465 6420 6170 7061  at) - rated appa
-0001f8f0: 7265 6e74 2070 6f77 6572 206f 6e20 6d65  rent power on me
-0001f900: 6469 756d 2076 6f6c 7461 6765 2073 6964  dium voltage sid
-0001f910: 650d 0a0d 0a20 2020 2020 2020 202a 2a73  e....        **s
-0001f920: 6e5f 6c76 5f6d 7661 2a2a 2028 666c 6f61  n_lv_mva** (floa
-0001f930: 7429 202d 2072 6174 6564 2061 7070 6172  t) - rated appar
-0001f940: 656e 7420 706f 7765 7220 6f6e 206c 6f77  ent power on low
-0001f950: 2076 6f6c 7461 6765 2073 6964 650d 0a0d   voltage side...
-0001f960: 0a20 2020 2020 2020 202a 2a76 6b5f 6876  .        **vk_hv
-0001f970: 5f70 6572 6365 6e74 2a2a 2028 666c 6f61  _percent** (floa
-0001f980: 7429 202d 2073 686f 7274 2063 6972 6375  t) - short circu
-0001f990: 6974 2076 6f6c 7461 6765 2066 726f 6d20  it voltage from 
-0001f9a0: 6869 6768 2074 6f20 6d65 6469 756d 2076  high to medium v
-0001f9b0: 6f6c 7461 6765 0d0a 0d0a 2020 2020 2020  oltage....      
-0001f9c0: 2020 2a2a 766b 5f6d 765f 7065 7263 656e    **vk_mv_percen
-0001f9d0: 742a 2a20 2866 6c6f 6174 2920 2d20 7368  t** (float) - sh
-0001f9e0: 6f72 7420 6369 7263 7569 7420 766f 6c74  ort circuit volt
-0001f9f0: 6167 6520 6672 6f6d 206d 6564 6975 6d20  age from medium 
-0001fa00: 746f 206c 6f77 2076 6f6c 7461 6765 0d0a  to low voltage..
-0001fa10: 0d0a 2020 2020 2020 2020 2a2a 766b 5f6c  ..        **vk_l
-0001fa20: 765f 7065 7263 656e 742a 2a20 2866 6c6f  v_percent** (flo
-0001fa30: 6174 2920 2d20 7368 6f72 7420 6369 7263  at) - short circ
-0001fa40: 7569 7420 766f 6c74 6167 6520 6672 6f6d  uit voltage from
-0001fa50: 2068 6967 6820 746f 206c 6f77 2076 6f6c   high to low vol
-0001fa60: 7461 6765 0d0a 0d0a 2020 2020 2020 2020  tage....        
-0001fa70: 2a2a 766b 725f 6876 5f70 6572 6365 6e74  **vkr_hv_percent
-0001fa80: 2a2a 2028 666c 6f61 7429 202d 2072 6561  ** (float) - rea
-0001fa90: 6c20 7061 7274 206f 6620 7368 6f72 7420  l part of short 
-0001faa0: 6369 7263 7569 7420 766f 6c74 6167 6520  circuit voltage 
-0001fab0: 6672 6f6d 2068 6967 6820 746f 206d 6564  from high to med
-0001fac0: 6975 6d20 766f 6c74 6167 650d 0a0d 0a20  ium voltage.... 
-0001fad0: 2020 2020 2020 202a 2a76 6b72 5f6d 765f         **vkr_mv_
-0001fae0: 7065 7263 656e 742a 2a20 2866 6c6f 6174  percent** (float
-0001faf0: 2920 2d20 7265 616c 2070 6172 7420 6f66  ) - real part of
-0001fb00: 2073 686f 7274 2063 6972 6375 6974 2076   short circuit v
-0001fb10: 6f6c 7461 6765 2066 726f 6d20 6d65 6469  oltage from medi
-0001fb20: 756d 2074 6f20 6c6f 7720 766f 6c74 6167  um to low voltag
-0001fb30: 650d 0a0d 0a20 2020 2020 2020 202a 2a76  e....        **v
-0001fb40: 6b72 5f6c 765f 7065 7263 656e 742a 2a20  kr_lv_percent** 
-0001fb50: 2866 6c6f 6174 2920 2d20 7265 616c 2070  (float) - real p
-0001fb60: 6172 7420 6f66 2073 686f 7274 2063 6972  art of short cir
-0001fb70: 6375 6974 2076 6f6c 7461 6765 2066 726f  cuit voltage fro
-0001fb80: 6d20 6869 6768 2074 6f20 6c6f 7720 766f  m high to low vo
-0001fb90: 6c74 6167 650d 0a0d 0a20 2020 2020 2020  ltage....       
-0001fba0: 202a 2a70 6665 5f6b 772a 2a20 2866 6c6f   **pfe_kw** (flo
-0001fbb0: 6174 2920 2d20 6972 6f6e 206c 6f73 7365  at) - iron losse
-0001fbc0: 7320 696e 206b 570d 0a0d 0a20 2020 2020  s in kW....     
-0001fbd0: 2020 202a 2a69 305f 7065 7263 656e 742a     **i0_percent*
-0001fbe0: 2a20 2866 6c6f 6174 2920 2d20 6f70 656e  * (float) - open
-0001fbf0: 206c 6f6f 7020 6c6f 7373 6573 0d0a 0d0a   loop losses....
-0001fc00: 2020 2020 4f50 5449 4f4e 414c 3a0d 0a20      OPTIONAL:.. 
-0001fc10: 2020 2020 2020 202a 2a73 6869 6674 5f6d         **shift_m
-0001fc20: 765f 6465 6772 6565 2a2a 2028 666c 6f61  v_degree** (floa
-0001fc30: 742c 2030 2920 2d20 616e 676c 6520 7368  t, 0) - angle sh
-0001fc40: 6966 7420 746f 206d 6564 6975 6d20 766f  ift to medium vo
-0001fc50: 6c74 6167 6520 7369 6465 2a0d 0a0d 0a20  ltage side*.... 
-0001fc60: 2020 2020 2020 202a 2a73 6869 6674 5f6c         **shift_l
-0001fc70: 765f 6465 6772 6565 2a2a 2028 666c 6f61  v_degree** (floa
-0001fc80: 742c 2030 2920 2d20 616e 676c 6520 7368  t, 0) - angle sh
-0001fc90: 6966 7420 746f 206c 6f77 2076 6f6c 7461  ift to low volta
-0001fca0: 6765 2073 6964 652a 0d0a 0d0a 2020 2020  ge side*....    
-0001fcb0: 2020 2020 2a2a 7461 705f 7374 6570 5f70      **tap_step_p
-0001fcc0: 6572 6365 6e74 2a2a 2028 666c 6f61 7429  ercent** (float)
-0001fcd0: 202d 2054 6170 2073 7465 7020 696e 2070   - Tap step in p
-0001fce0: 6572 6365 6e74 0d0a 0d0a 2020 2020 2020  ercent....      
-0001fcf0: 2020 2a2a 7461 705f 7374 6570 5f64 6567    **tap_step_deg
-0001fd00: 7265 652a 2a20 2866 6c6f 6174 2920 2d20  ree** (float) - 
-0001fd10: 5461 7020 7068 6173 6520 7368 6966 7420  Tap phase shift 
-0001fd20: 616e 676c 6520 696e 2064 6567 7265 6573  angle in degrees
-0001fd30: 0d0a 0d0a 2020 2020 2020 2020 2a2a 7461  ....        **ta
-0001fd40: 705f 7369 6465 2a2a 2028 7374 7269 6e67  p_side** (string
-0001fd50: 2c20 4e6f 6e65 2920 2d20 2268 7622 2c20  , None) - "hv", 
-0001fd60: 226d 7622 2c20 226c 7622 0d0a 0d0a 2020  "mv", "lv"....  
-0001fd70: 2020 2020 2020 2a2a 7461 705f 6e65 7574        **tap_neut
-0001fd80: 7261 6c2a 2a20 2869 6e74 2c20 6e61 6e29  ral** (int, nan)
-0001fd90: 202d 2064 6566 6175 6c74 2074 6170 2070   - default tap p
-0001fda0: 6f73 6974 696f 6e0d 0a0d 0a20 2020 2020  osition....     
-0001fdb0: 2020 202a 2a74 6170 5f6d 696e 2a2a 2028     **tap_min** (
-0001fdc0: 696e 742c 206e 616e 2920 2d20 4d69 6e69  int, nan) - Mini
-0001fdd0: 6d75 6d20 7461 7020 706f 7369 7469 6f6e  mum tap position
-0001fde0: 0d0a 0d0a 2020 2020 2020 2020 2a2a 7461  ....        **ta
-0001fdf0: 705f 6d61 782a 2a20 2869 6e74 2c20 6e61  p_max** (int, na
-0001fe00: 6e29 202d 204d 6178 696d 756d 2074 6170  n) - Maximum tap
-0001fe10: 2070 6f73 6974 696f 6e0d 0a0d 0a20 2020   position....   
-0001fe20: 2020 2020 202a 2a74 6170 5f70 6f73 2a2a       **tap_pos**
-0001fe30: 2028 696e 742c 206e 616e 2920 2d20 6375   (int, nan) - cu
-0001fe40: 7272 656e 7420 7461 7020 706f 7369 7469  rrent tap positi
-0001fe50: 6f6e 206f 6620 7468 6520 7472 616e 7366  on of the transf
-0001fe60: 6f72 6d65 722e 2044 6566 6175 6c74 7320  ormer. Defaults 
-0001fe70: 746f 2074 6865 205c 0d0a 2020 2020 2020  to the \..      
-0001fe80: 2020 2020 2020 6d65 6469 756d 2070 6f73        medium pos
-0001fe90: 6974 696f 6e20 2874 6170 5f6e 6575 7472  ition (tap_neutr
-0001fea0: 616c 290d 0a0d 0a20 2020 2020 2020 202a  al)....        *
-0001feb0: 2a74 6170 5f61 745f 7374 6172 5f70 6f69  *tap_at_star_poi
-0001fec0: 6e74 2a2a 2028 626f 6f6c 6561 6e29 202d  nt** (boolean) -
-0001fed0: 2057 6865 7468 6572 2074 6170 2063 6861   Whether tap cha
-0001fee0: 6e67 6572 2069 7320 6c6f 6361 7465 6420  nger is located 
-0001fef0: 6174 2074 6865 2073 7461 7220 706f 696e  at the star poin
-0001ff00: 7420 6f66 2074 6865 205c 0d0a 2020 2020  t of the \..    
-0001ff10: 2020 2020 2020 2020 3357 2d74 7261 6e73          3W-trans
-0001ff20: 666f 726d 6572 206f 7220 6174 2074 6865  former or at the
-0001ff30: 2062 7573 0d0a 0d0a 2020 2020 2020 2020   bus....        
-0001ff40: 2a2a 6e61 6d65 2a2a 2028 7374 7269 6e67  **name** (string
-0001ff50: 2c20 4e6f 6e65 2920 2d20 4e61 6d65 206f  , None) - Name o
-0001ff60: 6620 7468 6520 332d 7769 6e64 696e 6720  f the 3-winding 
-0001ff70: 7472 616e 7366 6f72 6d65 720d 0a0d 0a20  transformer.... 
-0001ff80: 2020 2020 2020 202a 2a69 6e5f 7365 7276         **in_serv
-0001ff90: 6963 652a 2a20 2862 6f6f 6c65 616e 2c20  ice** (boolean, 
-0001ffa0: 5472 7565 2920 2d20 5472 7565 2066 6f72  True) - True for
-0001ffb0: 2069 6e5f 7365 7276 6963 6520 6f72 2046   in_service or F
-0001ffc0: 616c 7365 2066 6f72 206f 7574 206f 6620  alse for out of 
-0001ffd0: 7365 7276 6963 650d 0a0d 0a20 2020 2020  service....     
-0001ffe0: 2020 202a 2a6d 6178 5f6c 6f61 6469 6e67     **max_loading
-0001fff0: 5f70 6572 6365 6e74 2028 666c 6f61 7429  _percent (float)
-00020000: 2a2a 202d 206d 6178 696d 756d 2063 7572  ** - maximum cur
-00020010: 7265 6e74 206c 6f61 6469 6e67 2028 6f6e  rent loading (on
-00020020: 6c79 206e 6565 6465 6420 666f 7220 4f50  ly needed for OP
-00020030: 4629 0d0a 0d0a 2020 2020 2020 2020 2a2a  F)....        **
-00020040: 7461 705f 6465 7065 6e64 656e 745f 696d  tap_dependent_im
-00020050: 7065 6461 6e63 652a 2a20 2862 6f6f 6c65  pedance** (boole
-00020060: 616e 2920 2d20 5472 7565 2069 6620 7472  an) - True if tr
-00020070: 616e 7366 6f72 6d65 7220 696d 7065 6461  ansformer impeda
-00020080: 6e63 6520 6d75 7374 2062 6520 6164 6a75  nce must be adju
-00020090: 7374 6564 2064 6570 656e 6465 6e74 205c  sted dependent \
-000200a0: 0d0a 2020 2020 2020 2020 2020 2020 6f6e  ..            on
-000200b0: 2074 6865 2074 6170 2070 6f73 6974 696f   the tap positio
-000200c0: 6e20 6f66 2074 6865 2074 7261 626e 7366  n of the trabnsf
-000200d0: 6f72 6d65 722e 2052 6571 7569 7265 7320  ormer. Requires 
-000200e0: 7468 6520 6164 6469 7469 6f6e 616c 2063  the additional c
-000200f0: 6f6c 756d 6e73 205c 0d0a 2020 2020 2020  olumns \..      
-00020100: 2020 2020 2020 2276 6b5f 7065 7263 656e        "vk_percen
-00020110: 745f 6368 6172 6163 7465 7269 7374 6963  t_characteristic
-00020120: 2220 616e 6420 2276 6b72 5f70 6572 6365  " and "vkr_perce
-00020130: 6e74 5f63 6861 7261 6374 6572 6973 7469  nt_characteristi
-00020140: 6322 2074 6861 7420 7265 6665 7265 6e63  c" that referenc
-00020150: 6520 7468 6520 696e 6465 7820 6f66 2074  e the index of t
-00020160: 6865 205c 0d0a 2020 2020 2020 2020 2020  he \..          
-00020170: 2020 6368 6172 6163 7465 7269 7374 6963    characteristic
-00020180: 2066 726f 6d20 7468 6520 7461 626c 6520   from the table 
-00020190: 6e65 742e 6368 6172 6163 7465 7269 7374  net.characterist
-000201a0: 6963 2e20 4120 636f 6e76 656e 6965 6e63  ic. A convenienc
-000201b0: 6520 6675 6e63 7469 6f6e 205c 0d0a 2020  e function \..  
-000201c0: 2020 2020 2020 2020 2020 7061 6e64 6170            pandap
-000201d0: 6f77 6572 2e63 6f6e 7472 6f6c 2e63 7265  ower.control.cre
-000201e0: 6174 655f 7472 6166 6f5f 6368 6172 6163  ate_trafo_charac
-000201f0: 7465 7269 7374 6963 7320 6361 6e20 6265  teristics can be
-00020200: 2075 7365 6420 746f 2063 7265 6174 6520   used to create 
-00020210: 7468 6520 5370 6c69 6e65 4368 6172 6163  the SplineCharac
-00020220: 7465 7269 7374 6963 205c 0d0a 2020 2020  teristic \..    
-00020230: 2020 2020 2020 2020 6f62 6a65 6374 732c          objects,
-00020240: 2061 6464 2074 6865 2072 656c 6576 616e   add the relevan
-00020250: 7420 636f 6c75 6d6e 7320 616e 6420 7365  t columns and se
-00020260: 7420 7570 2074 6865 2072 6566 6572 656e  t up the referen
-00020270: 6365 7320 746f 2074 6865 2063 6861 7261  ces to the chara
-00020280: 6374 6572 6973 7469 6373 2e20 5c0d 0a20  cteristics. \.. 
-00020290: 2020 2020 2020 2020 2020 2054 6865 2066             The f
-000202a0: 756e 6374 696f 6e20 7061 6e64 6170 6f77  unction pandapow
-000202b0: 6572 2e63 6f6e 7472 6f6c 2e74 7261 666f  er.control.trafo
-000202c0: 5f63 6861 7261 6374 6572 6973 7469 6373  _characteristics
-000202d0: 5f64 6961 676e 6f73 7469 6320 6361 6e20  _diagnostic can 
-000202e0: 6265 2075 7365 6420 666f 7220 7361 6e69  be used for sani
-000202f0: 7479 2063 6865 636b 732e 0d0a 0d0a 2020  ty checks.....  
-00020300: 2020 2020 2020 2a2a 766b 5f68 765f 7065        **vk_hv_pe
-00020310: 7263 656e 745f 6368 6172 6163 7465 7269  rcent_characteri
-00020320: 7374 6963 2a2a 2028 696e 7429 202d 2069  stic** (int) - i
-00020330: 6e64 6578 206f 6620 7468 6520 6368 6172  ndex of the char
-00020340: 6163 7465 7269 7374 6963 2066 726f 6d20  acteristic from 
-00020350: 6e65 742e 6368 6172 6163 7465 7269 7374  net.characterist
-00020360: 6963 2066 6f72 205c 0d0a 2020 2020 2020  ic for \..      
-00020370: 2020 2020 2020 7468 6520 6164 6a75 7374        the adjust
-00020380: 6d65 6e74 206f 6620 7468 6520 7061 7261  ment of the para
-00020390: 6d65 7465 7220 2276 6b5f 7065 7263 656e  meter "vk_percen
-000203a0: 7422 2066 6f72 2074 6865 2063 616c 6375  t" for the calcu
-000203b0: 6c61 7469 6f6e 206f 6620 7461 7020 6465  lation of tap de
-000203c0: 7065 6e64 656e 7420 696d 7065 6461 6e63  pendent impedanc
-000203d0: 652e 0d0a 0d0a 2020 2020 2020 2020 2a2a  e.....        **
-000203e0: 766b 725f 6876 5f70 6572 6365 6e74 5f63  vkr_hv_percent_c
-000203f0: 6861 7261 6374 6572 6973 7469 632a 2a20  haracteristic** 
-00020400: 2869 6e74 2920 2d20 696e 6465 7820 6f66  (int) - index of
-00020410: 2074 6865 2063 6861 7261 6374 6572 6973   the characteris
-00020420: 7469 6320 6672 6f6d 206e 6574 2e63 6861  tic from net.cha
-00020430: 7261 6374 6572 6973 7469 6320 666f 7220  racteristic for 
-00020440: 5c0d 0a20 2020 2020 2020 2020 2020 2074  \..            t
-00020450: 6865 2061 646a 7573 746d 656e 7420 6f66  he adjustment of
-00020460: 2074 6865 2070 6172 616d 6574 6572 2022   the parameter "
-00020470: 766b 5f70 6572 6365 6e74 2220 666f 7220  vk_percent" for 
-00020480: 7468 6520 6361 6c63 756c 6174 696f 6e20  the calculation 
-00020490: 6f66 2074 6170 2064 6570 656e 6465 6e74  of tap dependent
-000204a0: 2069 6d70 6564 616e 6365 2e0d 0a0d 0a20   impedance..... 
-000204b0: 2020 2020 2020 202a 2a76 6b5f 6d76 5f70         **vk_mv_p
-000204c0: 6572 6365 6e74 5f63 6861 7261 6374 6572  ercent_character
-000204d0: 6973 7469 632a 2a20 2869 6e74 2920 2d20  istic** (int) - 
-000204e0: 696e 6465 7820 6f66 2074 6865 2063 6861  index of the cha
-000204f0: 7261 6374 6572 6973 7469 6320 6672 6f6d  racteristic from
-00020500: 206e 6574 2e63 6861 7261 6374 6572 6973   net.characteris
-00020510: 7469 6320 666f 7220 5c0d 0a20 2020 2020  tic for \..     
-00020520: 2020 2020 2020 2074 6865 2061 646a 7573         the adjus
-00020530: 746d 656e 7420 6f66 2074 6865 2070 6172  tment of the par
-00020540: 616d 6574 6572 2022 766b 5f70 6572 6365  ameter "vk_perce
-00020550: 6e74 2220 666f 7220 7468 6520 6361 6c63  nt" for the calc
-00020560: 756c 6174 696f 6e20 6f66 2074 6170 2064  ulation of tap d
-00020570: 6570 656e 6465 6e74 2069 6d70 6564 616e  ependent impedan
-00020580: 6365 2e0d 0a0d 0a20 2020 2020 2020 202a  ce.....        *
-00020590: 2a76 6b72 5f6d 765f 7065 7263 656e 745f  *vkr_mv_percent_
-000205a0: 6368 6172 6163 7465 7269 7374 6963 2a2a  characteristic**
-000205b0: 2028 696e 7429 202d 2069 6e64 6578 206f   (int) - index o
-000205c0: 6620 7468 6520 6368 6172 6163 7465 7269  f the characteri
-000205d0: 7374 6963 2066 726f 6d20 6e65 742e 6368  stic from net.ch
-000205e0: 6172 6163 7465 7269 7374 6963 2066 6f72  aracteristic for
-000205f0: 205c 0d0a 2020 2020 2020 2020 2020 2020   \..            
-00020600: 7468 6520 6164 6a75 7374 6d65 6e74 206f  the adjustment o
-00020610: 6620 7468 6520 7061 7261 6d65 7465 7220  f the parameter 
-00020620: 2276 6b5f 7065 7263 656e 7422 2066 6f72  "vk_percent" for
-00020630: 2074 6865 2063 616c 6375 6c61 7469 6f6e   the calculation
-00020640: 206f 6620 7461 7020 6465 7065 6e64 656e   of tap dependen
-00020650: 7420 696d 7065 6461 6e63 652e 0d0a 0d0a  t impedance.....
-00020660: 2020 2020 2020 2020 2a2a 766b 5f6c 765f          **vk_lv_
-00020670: 7065 7263 656e 745f 6368 6172 6163 7465  percent_characte
-00020680: 7269 7374 6963 2a2a 2028 696e 7429 202d  ristic** (int) -
-00020690: 2069 6e64 6578 206f 6620 7468 6520 6368   index of the ch
-000206a0: 6172 6163 7465 7269 7374 6963 2066 726f  aracteristic fro
-000206b0: 6d20 6e65 742e 6368 6172 6163 7465 7269  m net.characteri
-000206c0: 7374 6963 2066 6f72 205c 0d0a 2020 2020  stic for \..    
-000206d0: 2020 2020 2020 2020 7468 6520 6164 6a75          the adju
-000206e0: 7374 6d65 6e74 206f 6620 7468 6520 7061  stment of the pa
-000206f0: 7261 6d65 7465 7220 2276 6b5f 7065 7263  rameter "vk_perc
-00020700: 656e 7422 2066 6f72 2074 6865 2063 616c  ent" for the cal
-00020710: 6375 6c61 7469 6f6e 206f 6620 7461 7020  culation of tap 
-00020720: 6465 7065 6e64 656e 7420 696d 7065 6461  dependent impeda
-00020730: 6e63 652e 0d0a 0d0a 2020 2020 2020 2020  nce.....        
-00020740: 2a2a 766b 725f 6c76 5f70 6572 6365 6e74  **vkr_lv_percent
-00020750: 5f63 6861 7261 6374 6572 6973 7469 632a  _characteristic*
-00020760: 2a20 2869 6e74 2920 2d20 696e 6465 7820  * (int) - index 
-00020770: 6f66 2074 6865 2063 6861 7261 6374 6572  of the character
-00020780: 6973 7469 6320 6672 6f6d 206e 6574 2e63  istic from net.c
-00020790: 6861 7261 6374 6572 6973 7469 6320 666f  haracteristic fo
-000207a0: 7220 5c0d 0a20 2020 2020 2020 2020 2020  r \..           
-000207b0: 2074 6865 2061 646a 7573 746d 656e 7420   the adjustment 
-000207c0: 6f66 2074 6865 2070 6172 616d 6574 6572  of the parameter
-000207d0: 2022 766b 5f70 6572 6365 6e74 2220 666f   "vk_percent" fo
-000207e0: 7220 7468 6520 6361 6c63 756c 6174 696f  r the calculatio
-000207f0: 6e20 6f66 2074 6170 2064 6570 656e 6465  n of tap depende
-00020800: 6e74 2069 6d70 6564 616e 6365 2e0d 0a0d  nt impedance....
-00020810: 0a20 2020 2020 2020 202a 2a76 6b30 5f68  .        **vk0_h
-00020820: 765f 7065 7263 656e 742a 2a20 2866 6c6f  v_percent** (flo
-00020830: 6174 2920 2d20 7a65 726f 2073 6571 7565  at) - zero seque
-00020840: 6e63 6520 7368 6f72 7420 6369 7263 7569  nce short circui
-00020850: 7420 766f 6c74 6167 6520 6672 6f6d 2068  t voltage from h
-00020860: 6967 6820 746f 206d 6564 6975 6d20 766f  igh to medium vo
-00020870: 6c74 6167 650d 0a0d 0a20 2020 2020 2020  ltage....       
-00020880: 202a 2a76 6b30 5f6d 765f 7065 7263 656e   **vk0_mv_percen
-00020890: 742a 2a20 2866 6c6f 6174 2920 2d20 7a65  t** (float) - ze
-000208a0: 726f 2073 6571 7565 6e63 6520 7368 6f72  ro sequence shor
-000208b0: 7420 6369 7263 7569 7420 766f 6c74 6167  t circuit voltag
-000208c0: 6520 6672 6f6d 206d 6564 6975 6d20 746f  e from medium to
-000208d0: 206c 6f77 2076 6f6c 7461 6765 0d0a 0d0a   low voltage....
-000208e0: 2020 2020 2020 2020 2a2a 766b 305f 6c76          **vk0_lv
-000208f0: 5f70 6572 6365 6e74 2a2a 2028 666c 6f61  _percent** (floa
-00020900: 7429 202d 207a 6572 6f20 7365 7175 656e  t) - zero sequen
-00020910: 6365 2073 686f 7274 2063 6972 6375 6974  ce short circuit
-00020920: 2076 6f6c 7461 6765 2066 726f 6d20 6869   voltage from hi
-00020930: 6768 2074 6f20 6c6f 7720 766f 6c74 6167  gh to low voltag
-00020940: 650d 0a0d 0a20 2020 2020 2020 202a 2a76  e....        **v
-00020950: 6b72 305f 6876 5f70 6572 6365 6e74 2a2a  kr0_hv_percent**
-00020960: 2028 666c 6f61 7429 202d 207a 6572 6f20   (float) - zero 
-00020970: 7365 7175 656e 6365 2072 6561 6c20 7061  sequence real pa
-00020980: 7274 206f 6620 7368 6f72 7420 6369 7263  rt of short circ
-00020990: 7569 7420 766f 6c74 6167 6520 6672 6f6d  uit voltage from
-000209a0: 2068 6967 6820 746f 206d 6564 6975 6d20   high to medium 
-000209b0: 766f 6c74 6167 650d 0a0d 0a20 2020 2020  voltage....     
-000209c0: 2020 202a 2a76 6b72 305f 6d76 5f70 6572     **vkr0_mv_per
-000209d0: 6365 6e74 2a2a 2028 666c 6f61 7429 202d  cent** (float) -
-000209e0: 207a 6572 6f20 7365 7175 656e 6365 2072   zero sequence r
-000209f0: 6561 6c20 7061 7274 206f 6620 7368 6f72  eal part of shor
-00020a00: 7420 6369 7263 7569 7420 766f 6c74 6167  t circuit voltag
-00020a10: 6520 6672 6f6d 206d 6564 6975 6d20 746f  e from medium to
-00020a20: 206c 6f77 2076 6f6c 7461 6765 0d0a 0d0a   low voltage....
-00020a30: 2020 2020 2020 2020 2a2a 766b 7230 5f6c          **vkr0_l
-00020a40: 765f 7065 7263 656e 742a 2a20 2866 6c6f  v_percent** (flo
-00020a50: 6174 2920 2d20 7a65 726f 2073 6571 7565  at) - zero seque
-00020a60: 6e63 6520 7265 616c 2070 6172 7420 6f66  nce real part of
-00020a70: 2073 686f 7274 2063 6972 6375 6974 2076   short circuit v
-00020a80: 6f6c 7461 6765 2066 726f 6d20 6869 6768  oltage from high
-00020a90: 2074 6f20 6c6f 7720 766f 6c74 6167 650d   to low voltage.
-00020aa0: 0a0d 0a20 2020 2020 2020 202a 2a76 6563  ...        **vec
-00020ab0: 746f 725f 6772 6f75 702a 2a20 286c 6973  tor_group** (lis
-00020ac0: 7420 6f66 2053 7472 696e 6729 202d 2056  t of String) - V
-00020ad0: 6563 746f 7220 6772 6f75 7020 6f66 2074  ector group of t
-00020ae0: 6865 2074 7261 6e73 666f 726d 6572 3377  he transformer3w
-00020af0: 0d0a 0d0a 2020 2020 4f55 5450 5554 3a0d  ....    OUTPUT:.
-00020b00: 0a20 2020 2020 2020 202a 2a74 7261 666f  .        **trafo
-00020b10: 5f69 642a 2a20 2d20 5468 6520 756e 6971  _id** - The uniq
-00020b20: 7565 2074 7261 666f 5f69 6420 6f66 2074  ue trafo_id of t
-00020b30: 6865 2063 7265 6174 6564 2033 5720 7472  he created 3W tr
-00020b40: 616e 7366 6f72 6d65 720d 0a0d 0a20 2020  ansformer....   
-00020b50: 2045 7861 6d70 6c65 3a0d 0a20 2020 2020   Example:..     
-00020b60: 2020 2063 7265 6174 655f 7472 616e 7366     create_transf
-00020b70: 6f72 6d65 7233 775f 6672 6f6d 5f70 6172  ormer3w_from_par
-00020b80: 616d 6574 6572 7328 6e65 742c 2068 765f  ameters(net, hv_
-00020b90: 6275 733d 302c 206d 765f 6275 733d 312c  bus=0, mv_bus=1,
-00020ba0: 206c 765f 6275 733d 322c 206e 616d 653d   lv_bus=2, name=
-00020bb0: 2274 7261 666f 3122 2c0d 0a20 2020 2020  "trafo1",..     
-00020bc0: 2020 2073 6e5f 6876 5f6d 7661 3d34 302c     sn_hv_mva=40,
-00020bd0: 2073 6e5f 6d76 5f6d 7661 3d32 302c 2073   sn_mv_mva=20, s
-00020be0: 6e5f 6c76 5f6d 7661 3d32 302c 2076 6e5f  n_lv_mva=20, vn_
-00020bf0: 6876 5f6b 763d 3131 302c 2076 6e5f 6d76  hv_kv=110, vn_mv
-00020c00: 5f6b 763d 3230 2c20 766e 5f6c 765f 6b76  _kv=20, vn_lv_kv
-00020c10: 3d31 302c 0d0a 2020 2020 2020 2020 766b  =10,..        vk
-00020c20: 5f68 765f 7065 7263 656e 743d 3130 2c76  _hv_percent=10,v
-00020c30: 6b5f 6d76 5f70 6572 6365 6e74 3d31 312c  k_mv_percent=11,
-00020c40: 2076 6b5f 6c76 5f70 6572 6365 6e74 3d31   vk_lv_percent=1
-00020c50: 322c 2076 6b72 5f68 765f 7065 7263 656e  2, vkr_hv_percen
-00020c60: 743d 302e 332c 0d0a 2020 2020 2020 2020  t=0.3,..        
-00020c70: 766b 725f 6d76 5f70 6572 6365 6e74 3d30  vkr_mv_percent=0
-00020c80: 2e33 312c 2076 6b72 5f6c 765f 7065 7263  .31, vkr_lv_perc
-00020c90: 656e 743d 302e 3332 2c20 7066 655f 6b77  ent=0.32, pfe_kw
-00020ca0: 3d33 302c 2069 305f 7065 7263 656e 743d  =30, i0_percent=
-00020cb0: 302e 312c 2073 6869 6674 5f6d 765f 6465  0.1, shift_mv_de
-00020cc0: 6772 6565 3d33 302c 0d0a 2020 2020 2020  gree=30,..      
-00020cd0: 2020 7368 6966 745f 6c76 5f64 6567 7265    shift_lv_degre
-00020ce0: 653d 3330 290d 0a0d 0a20 2020 2022 2222  e=30)....    """
-00020cf0: 0d0a 0d0a 2020 2020 2320 4368 6563 6b20  ....    # Check 
-00020d00: 6966 2062 7573 2065 7869 7374 2074 6f20  if bus exist to 
-00020d10: 6174 7461 6368 2074 6865 2074 7261 666f  attach the trafo
-00020d20: 2074 6f0d 0a20 2020 2066 6f72 2062 2069   to..    for b i
-00020d30: 6e20 5b68 765f 6275 732c 206d 765f 6275  n [hv_bus, mv_bu
-00020d40: 732c 206c 765f 6275 735d 3a0d 0a20 2020  s, lv_bus]:..   
-00020d50: 2020 2020 2069 6620 6220 6e6f 7420 696e       if b not in
-00020d60: 206e 6574 5b22 6275 7322 5d2e 696e 6465   net["bus"].inde
-00020d70: 782e 7661 6c75 6573 3a0d 0a20 2020 2020  x.values:..     
-00020d80: 2020 2020 2020 2072 6169 7365 2055 7365         raise Use
-00020d90: 7257 6172 6e69 6e67 2822 5472 6166 6f20  rWarning("Trafo 
-00020da0: 7472 6965 7320 746f 2061 7474 6163 6820  tries to attach 
-00020db0: 746f 206e 6f6e 2d65 7869 7374 656e 7420  to non-existent 
-00020dc0: 6275 7320 2573 2220 2520 6229 0d0a 0d0a  bus %s" % b)....
-00020dd0: 2020 2020 696e 6465 7820 3d20 5f67 6574      index = _get
-00020de0: 5f69 6e64 6578 5f77 6974 685f 6368 6563  _index_with_chec
-00020df0: 6b28 6e65 742c 2022 7472 6166 6f33 7722  k(net, "trafo3w"
-00020e00: 2c20 696e 6465 782c 2022 7468 7265 6520  , index, "three 
-00020e10: 7769 6e64 696e 6720 7472 616e 7366 6f72  winding transfor
-00020e20: 6d65 7222 290d 0a0d 0a20 2020 2069 6620  mer")....    if 
-00020e30: 7461 705f 706f 7320 6973 206e 616e 3a0d  tap_pos is nan:.
-00020e40: 0a20 2020 2020 2020 2074 6170 5f70 6f73  .        tap_pos
-00020e50: 203d 2074 6170 5f6e 6575 7472 616c 0d0a   = tap_neutral..
-00020e60: 0d0a 2020 2020 636f 6c75 6d6e 7320 3d20  ..    columns = 
-00020e70: 5b22 6c76 5f62 7573 222c 2022 6d76 5f62  ["lv_bus", "mv_b
-00020e80: 7573 222c 2022 6876 5f62 7573 222c 2022  us", "hv_bus", "
-00020e90: 766e 5f68 765f 6b76 222c 2022 766e 5f6d  vn_hv_kv", "vn_m
-00020ea0: 765f 6b76 222c 2022 766e 5f6c 765f 6b76  v_kv", "vn_lv_kv
-00020eb0: 222c 2022 736e 5f68 765f 6d76 6122 2c0d  ", "sn_hv_mva",.
-00020ec0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00020ed0: 2273 6e5f 6d76 5f6d 7661 222c 2022 736e  "sn_mv_mva", "sn
-00020ee0: 5f6c 765f 6d76 6122 2c20 2276 6b5f 6876  _lv_mva", "vk_hv
-00020ef0: 5f70 6572 6365 6e74 222c 2022 766b 5f6d  _percent", "vk_m
-00020f00: 765f 7065 7263 656e 7422 2c20 2276 6b5f  v_percent", "vk_
-00020f10: 6c76 5f70 6572 6365 6e74 222c 0d0a 2020  lv_percent",..  
-00020f20: 2020 2020 2020 2020 2020 2020 2022 766b               "vk
-00020f30: 725f 6876 5f70 6572 6365 6e74 222c 2022  r_hv_percent", "
-00020f40: 766b 725f 6d76 5f70 6572 6365 6e74 222c  vkr_mv_percent",
-00020f50: 2022 766b 725f 6c76 5f70 6572 6365 6e74   "vkr_lv_percent
-00020f60: 222c 2022 7066 655f 6b77 222c 2022 6930  ", "pfe_kw", "i0
-00020f70: 5f70 6572 6365 6e74 222c 0d0a 2020 2020  _percent",..    
-00020f80: 2020 2020 2020 2020 2020 2022 7368 6966             "shif
-00020f90: 745f 6d76 5f64 6567 7265 6522 2c20 2273  t_mv_degree", "s
-00020fa0: 6869 6674 5f6c 765f 6465 6772 6565 222c  hift_lv_degree",
-00020fb0: 2022 7461 705f 7369 6465 222c 2022 7461   "tap_side", "ta
-00020fc0: 705f 7374 6570 5f70 6572 6365 6e74 222c  p_step_percent",
-00020fd0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00020fe0: 2022 7461 705f 7374 6570 5f64 6567 7265   "tap_step_degre
-00020ff0: 6522 2c20 2274 6170 5f70 6f73 222c 2022  e", "tap_pos", "
-00021000: 7461 705f 6e65 7574 7261 6c22 2c20 2274  tap_neutral", "t
-00021010: 6170 5f6d 6178 222c 2022 7461 705f 6d69  ap_max", "tap_mi
-00021020: 6e22 2c20 2269 6e5f 7365 7276 6963 6522  n", "in_service"
-00021030: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
-00021040: 2020 226e 616d 6522 2c20 2273 7464 5f74    "name", "std_t
-00021050: 7970 6522 2c20 2274 6170 5f61 745f 7374  ype", "tap_at_st
-00021060: 6172 5f70 6f69 6e74 222c 2022 766b 305f  ar_point", "vk0_
-00021070: 6876 5f70 6572 6365 6e74 222c 2022 766b  hv_percent", "vk
-00021080: 305f 6d76 5f70 6572 6365 6e74 222c 2022  0_mv_percent", "
-00021090: 766b 305f 6c76 5f70 6572 6365 6e74 222c  vk0_lv_percent",
-000210a0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-000210b0: 2022 766b 7230 5f68 765f 7065 7263 656e   "vkr0_hv_percen
-000210c0: 7422 2c20 2276 6b72 305f 6d76 5f70 6572  t", "vkr0_mv_per
-000210d0: 6365 6e74 222c 2022 766b 7230 5f6c 765f  cent", "vkr0_lv_
-000210e0: 7065 7263 656e 7422 2c20 2276 6563 746f  percent", "vecto
-000210f0: 725f 6772 6f75 7022 5d0d 0a20 2020 2076  r_group"]..    v
-00021100: 616c 7565 7320 3d20 5b6c 765f 6275 732c  alues = [lv_bus,
-00021110: 206d 765f 6275 732c 2068 765f 6275 732c   mv_bus, hv_bus,
-00021120: 2076 6e5f 6876 5f6b 762c 2076 6e5f 6d76   vn_hv_kv, vn_mv
-00021130: 5f6b 762c 2076 6e5f 6c76 5f6b 762c 2073  _kv, vn_lv_kv, s
-00021140: 6e5f 6876 5f6d 7661 2c20 736e 5f6d 765f  n_hv_mva, sn_mv_
-00021150: 6d76 612c 2073 6e5f 6c76 5f6d 7661 2c0d  mva, sn_lv_mva,.
-00021160: 0a20 2020 2020 2020 2020 2020 2020 2076  .              v
-00021170: 6b5f 6876 5f70 6572 6365 6e74 2c20 766b  k_hv_percent, vk
-00021180: 5f6d 765f 7065 7263 656e 742c 2076 6b5f  _mv_percent, vk_
-00021190: 6c76 5f70 6572 6365 6e74 2c20 766b 725f  lv_percent, vkr_
-000211a0: 6876 5f70 6572 6365 6e74 2c20 766b 725f  hv_percent, vkr_
-000211b0: 6d76 5f70 6572 6365 6e74 2c0d 0a20 2020  mv_percent,..   
-000211c0: 2020 2020 2020 2020 2020 2076 6b72 5f6c             vkr_l
-000211d0: 765f 7065 7263 656e 742c 2070 6665 5f6b  v_percent, pfe_k
-000211e0: 772c 2069 305f 7065 7263 656e 742c 2073  w, i0_percent, s
-000211f0: 6869 6674 5f6d 765f 6465 6772 6565 2c20  hift_mv_degree, 
-00021200: 7368 6966 745f 6c76 5f64 6567 7265 652c  shift_lv_degree,
-00021210: 2074 6170 5f73 6964 652c 0d0a 2020 2020   tap_side,..    
-00021220: 2020 2020 2020 2020 2020 7461 705f 7374            tap_st
-00021230: 6570 5f70 6572 6365 6e74 2c20 7461 705f  ep_percent, tap_
-00021240: 7374 6570 5f64 6567 7265 652c 2074 6170  step_degree, tap
-00021250: 5f70 6f73 2c20 7461 705f 6e65 7574 7261  _pos, tap_neutra
-00021260: 6c2c 2074 6170 5f6d 6178 2c20 7461 705f  l, tap_max, tap_
-00021270: 6d69 6e2c 0d0a 2020 2020 2020 2020 2020  min,..          
-00021280: 2020 2020 626f 6f6c 2869 6e5f 7365 7276      bool(in_serv
-00021290: 6963 6529 2c20 6e61 6d65 2c20 4e6f 6e65  ice), name, None
-000212a0: 2c20 7461 705f 6174 5f73 7461 725f 706f  , tap_at_star_po
-000212b0: 696e 742c 0d0a 2020 2020 2020 2020 2020  int,..          
-000212c0: 2020 2020 766b 305f 6876 5f70 6572 6365      vk0_hv_perce
-000212d0: 6e74 2c20 766b 305f 6d76 5f70 6572 6365  nt, vk0_mv_perce
-000212e0: 6e74 2c20 766b 305f 6c76 5f70 6572 6365  nt, vk0_lv_perce
-000212f0: 6e74 2c0d 0a20 2020 2020 2020 2020 2020  nt,..           
-00021300: 2020 2076 6b72 305f 6876 5f70 6572 6365     vkr0_hv_perce
-00021310: 6e74 2c20 766b 7230 5f6d 765f 7065 7263  nt, vkr0_mv_perc
-00021320: 656e 742c 2076 6b72 305f 6c76 5f70 6572  ent, vkr0_lv_per
-00021330: 6365 6e74 2c20 7665 6374 6f72 5f67 726f  cent, vector_gro
-00021340: 7570 5d0d 0a0d 0a20 2020 205f 7365 745f  up]....    _set_
-00021350: 656e 7472 6965 7328 6e65 742c 2022 7472  entries(net, "tr
-00021360: 6166 6f33 7722 2c20 696e 6465 782c 202a  afo3w", index, *
-00021370: 2a64 6963 7428 7a69 7028 636f 6c75 6d6e  *dict(zip(column
-00021380: 732c 2076 616c 7565 7329 2929 0d0a 0d0a  s, values)))....
-00021390: 2020 2020 5f63 7265 6174 655f 636f 6c75      _create_colu
-000213a0: 6d6e 5f61 6e64 5f73 6574 5f76 616c 7565  mn_and_set_value
-000213b0: 286e 6574 2c20 696e 6465 782c 206d 6178  (net, index, max
-000213c0: 5f6c 6f61 6469 6e67 5f70 6572 6365 6e74  _loading_percent
-000213d0: 2c20 226d 6178 5f6c 6f61 6469 6e67 5f70  , "max_loading_p
-000213e0: 6572 6365 6e74 222c 2022 7472 6166 6f33  ercent", "trafo3
-000213f0: 7722 290d 0a0d 0a20 2020 2069 6620 7461  w")....    if ta
-00021400: 705f 6465 7065 6e64 656e 745f 696d 7065  p_dependent_impe
-00021410: 6461 6e63 6520 6973 206e 6f74 204e 6f6e  dance is not Non
-00021420: 653a 0d0a 2020 2020 2020 2020 5f63 7265  e:..        _cre
-00021430: 6174 655f 636f 6c75 6d6e 5f61 6e64 5f73  ate_column_and_s
-00021440: 6574 5f76 616c 7565 286e 6574 2c20 696e  et_value(net, in
-00021450: 6465 782c 2074 6170 5f64 6570 656e 6465  dex, tap_depende
-00021460: 6e74 5f69 6d70 6564 616e 6365 2c20 2274  nt_impedance, "t
-00021470: 6170 5f64 6570 656e 6465 6e74 5f69 6d70  ap_dependent_imp
-00021480: 6564 616e 6365 222c 2022 7472 6166 6f22  edance", "trafo"
-00021490: 2c20 626f 6f6c 5f2c 2046 616c 7365 2c20  , bool_, False, 
-000214a0: 5472 7565 290d 0a20 2020 2069 6620 766b  True)..    if vk
-000214b0: 5f68 765f 7065 7263 656e 745f 6368 6172  _hv_percent_char
-000214c0: 6163 7465 7269 7374 6963 2069 7320 6e6f  acteristic is no
-000214d0: 7420 4e6f 6e65 3a0d 0a20 2020 2020 2020  t None:..       
-000214e0: 205f 6372 6561 7465 5f63 6f6c 756d 6e5f   _create_column_
-000214f0: 616e 645f 7365 745f 7661 6c75 6528 6e65  and_set_value(ne
-00021500: 742c 2069 6e64 6578 2c20 766b 5f68 765f  t, index, vk_hv_
-00021510: 7065 7263 656e 745f 6368 6172 6163 7465  percent_characte
-00021520: 7269 7374 6963 2c20 2276 6b5f 6876 5f70  ristic, "vk_hv_p
-00021530: 6572 6365 6e74 5f63 6861 7261 6374 6572  ercent_character
-00021540: 6973 7469 6322 2c20 2274 7261 666f 222c  istic", "trafo",
-00021550: 2022 496e 7436 3422 290d 0a20 2020 2069   "Int64")..    i
-00021560: 6620 766b 725f 6876 5f70 6572 6365 6e74  f vkr_hv_percent
-00021570: 5f63 6861 7261 6374 6572 6973 7469 6320  _characteristic 
-00021580: 6973 206e 6f74 204e 6f6e 653a 0d0a 2020  is not None:..  
-00021590: 2020 2020 2020 5f63 7265 6174 655f 636f        _create_co
-000215a0: 6c75 6d6e 5f61 6e64 5f73 6574 5f76 616c  lumn_and_set_val
-000215b0: 7565 286e 6574 2c20 696e 6465 782c 2076  ue(net, index, v
-000215c0: 6b72 5f68 765f 7065 7263 656e 745f 6368  kr_hv_percent_ch
-000215d0: 6172 6163 7465 7269 7374 6963 2c20 2276  aracteristic, "v
-000215e0: 6b72 5f68 765f 7065 7263 656e 745f 6368  kr_hv_percent_ch
-000215f0: 6172 6163 7465 7269 7374 6963 222c 2022  aracteristic", "
-00021600: 7472 6166 6f22 2c20 2249 6e74 3634 2229  trafo", "Int64")
-00021610: 0d0a 2020 2020 6966 2076 6b5f 6d76 5f70  ..    if vk_mv_p
-00021620: 6572 6365 6e74 5f63 6861 7261 6374 6572  ercent_character
-00021630: 6973 7469 6320 6973 206e 6f74 204e 6f6e  istic is not Non
-00021640: 653a 0d0a 2020 2020 2020 2020 5f63 7265  e:..        _cre
-00021650: 6174 655f 636f 6c75 6d6e 5f61 6e64 5f73  ate_column_and_s
-00021660: 6574 5f76 616c 7565 286e 6574 2c20 696e  et_value(net, in
-00021670: 6465 782c 2076 6b5f 6d76 5f70 6572 6365  dex, vk_mv_perce
-00021680: 6e74 5f63 6861 7261 6374 6572 6973 7469  nt_characteristi
-00021690: 632c 2022 766b 5f6d 765f 7065 7263 656e  c, "vk_mv_percen
-000216a0: 745f 6368 6172 6163 7465 7269 7374 6963  t_characteristic
-000216b0: 222c 2022 7472 6166 6f22 2c20 2249 6e74  ", "trafo", "Int
-000216c0: 3634 2229 0d0a 2020 2020 6966 2076 6b72  64")..    if vkr
-000216d0: 5f6d 765f 7065 7263 656e 745f 6368 6172  _mv_percent_char
-000216e0: 6163 7465 7269 7374 6963 2069 7320 6e6f  acteristic is no
-000216f0: 7420 4e6f 6e65 3a0d 0a20 2020 2020 2020  t None:..       
-00021700: 205f 6372 6561 7465 5f63 6f6c 756d 6e5f   _create_column_
-00021710: 616e 645f 7365 745f 7661 6c75 6528 6e65  and_set_value(ne
-00021720: 742c 2069 6e64 6578 2c20 766b 725f 6d76  t, index, vkr_mv
-00021730: 5f70 6572 6365 6e74 5f63 6861 7261 6374  _percent_charact
-00021740: 6572 6973 7469 632c 2022 766b 725f 6d76  eristic, "vkr_mv
-00021750: 5f70 6572 6365 6e74 5f63 6861 7261 6374  _percent_charact
-00021760: 6572 6973 7469 6322 2c20 2274 7261 666f  eristic", "trafo
-00021770: 222c 2022 496e 7436 3422 290d 0a20 2020  ", "Int64")..   
-00021780: 2069 6620 766b 5f6c 765f 7065 7263 656e   if vk_lv_percen
-00021790: 745f 6368 6172 6163 7465 7269 7374 6963  t_characteristic
-000217a0: 2069 7320 6e6f 7420 4e6f 6e65 3a0d 0a20   is not None:.. 
-000217b0: 2020 2020 2020 205f 6372 6561 7465 5f63         _create_c
-000217c0: 6f6c 756d 6e5f 616e 645f 7365 745f 7661  olumn_and_set_va
-000217d0: 6c75 6528 6e65 742c 2069 6e64 6578 2c20  lue(net, index, 
-000217e0: 766b 5f6c 765f 7065 7263 656e 745f 6368  vk_lv_percent_ch
-000217f0: 6172 6163 7465 7269 7374 6963 2c20 2276  aracteristic, "v
-00021800: 6b5f 6c76 5f70 6572 6365 6e74 5f63 6861  k_lv_percent_cha
-00021810: 7261 6374 6572 6973 7469 6322 2c20 2274  racteristic", "t
-00021820: 7261 666f 222c 2022 496e 7436 3422 290d  rafo", "Int64").
-00021830: 0a20 2020 2069 6620 766b 725f 6c76 5f70  .    if vkr_lv_p
-00021840: 6572 6365 6e74 5f63 6861 7261 6374 6572  ercent_character
-00021850: 6973 7469 6320 6973 206e 6f74 204e 6f6e  istic is not Non
-00021860: 653a 0d0a 2020 2020 2020 2020 5f63 7265  e:..        _cre
-00021870: 6174 655f 636f 6c75 6d6e 5f61 6e64 5f73  ate_column_and_s
-00021880: 6574 5f76 616c 7565 286e 6574 2c20 696e  et_value(net, in
-00021890: 6465 782c 2076 6b72 5f6c 765f 7065 7263  dex, vkr_lv_perc
-000218a0: 656e 745f 6368 6172 6163 7465 7269 7374  ent_characterist
-000218b0: 6963 2c20 2276 6b72 5f6c 765f 7065 7263  ic, "vkr_lv_perc
-000218c0: 656e 745f 6368 6172 6163 7465 7269 7374  ent_characterist
-000218d0: 6963 222c 2022 7472 6166 6f22 2c20 2249  ic", "trafo", "I
-000218e0: 6e74 3634 2229 0d0a 0d0a 2020 2020 7265  nt64")....    re
-000218f0: 7475 726e 2069 6e64 6578 0d0a 0d0a 0d0a  turn index......
-00021900: 6465 6620 6372 6561 7465 5f74 7261 6e73  def create_trans
-00021910: 666f 726d 6572 7333 775f 6672 6f6d 5f70  formers3w_from_p
-00021920: 6172 616d 6574 6572 7328 6e65 742c 2068  arameters(net, h
-00021930: 765f 6275 7365 732c 206d 765f 6275 7365  v_buses, mv_buse
-00021940: 732c 206c 765f 6275 7365 732c 2076 6e5f  s, lv_buses, vn_
-00021950: 6876 5f6b 762c 2076 6e5f 6d76 5f6b 762c  hv_kv, vn_mv_kv,
-00021960: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00021970: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00021980: 2020 2020 2020 2020 2020 2020 766e 5f6c              vn_l
-00021990: 765f 6b76 2c20 736e 5f68 765f 6d76 612c  v_kv, sn_hv_mva,
-000219a0: 2073 6e5f 6d76 5f6d 7661 2c20 736e 5f6c   sn_mv_mva, sn_l
-000219b0: 765f 6d76 612c 2076 6b5f 6876 5f70 6572  v_mva, vk_hv_per
-000219c0: 6365 6e74 2c0d 0a20 2020 2020 2020 2020  cent,..         
-000219d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f4f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f500: 2020 2020 2020 2020 766b 5f6c 765f 7065          vk_lv_pe
+0001f510: 7263 656e 745f 6368 6172 6163 7465 7269  rcent_characteri
+0001f520: 7374 6963 3d4e 6f6e 652c 2076 6b72 5f6c  stic=None, vkr_l
+0001f530: 765f 7065 7263 656e 745f 6368 6172 6163  v_percent_charac
+0001f540: 7465 7269 7374 6963 3d4e 6f6e 6529 3a0d  teristic=None):.
+0001f550: 0a20 2020 2022 2222 0d0a 2020 2020 4164  .    """..    Ad
+0001f560: 6473 2061 2074 6872 6565 2d77 696e 6469  ds a three-windi
+0001f570: 6e67 2074 7261 6e73 666f 726d 6572 2069  ng transformer i
+0001f580: 6e20 7461 626c 6520 6e65 745b 2274 7261  n table net["tra
+0001f590: 666f 3377 225d 2e0d 0a20 2020 2054 6865  fo3w"]...    The
+0001f5a0: 206d 6f64 656c 2063 7572 7265 6e74 6c79   model currently
+0001f5b0: 206f 6e6c 7920 7375 7070 6f72 7473 206f   only supports o
+0001f5c0: 6e65 2074 6170 2d63 6861 6e67 6572 2070  ne tap-changer p
+0001f5d0: 6572 2033 5720 5472 616e 7366 6f72 6d65  er 3W Transforme
+0001f5e0: 722e 0d0a 0d0a 2020 2020 496e 7075 743a  r.....    Input:
+0001f5f0: 0d0a 2020 2020 2020 2020 2a2a 6e65 742a  ..        **net*
+0001f600: 2a20 2870 616e 6461 706f 7765 724e 6574  * (pandapowerNet
+0001f610: 2920 2d20 5468 6520 6e65 7420 7769 7468  ) - The net with
+0001f620: 696e 2074 6869 7320 7472 616e 7366 6f72  in this transfor
+0001f630: 6d65 7220 7368 6f75 6c64 2062 6520 6372  mer should be cr
+0001f640: 6561 7465 640d 0a0d 0a20 2020 2020 2020  eated....       
+0001f650: 202a 2a68 765f 6275 732a 2a20 2869 6e74   **hv_bus** (int
+0001f660: 2920 2d20 5468 6520 6275 7320 6f6e 2074  ) - The bus on t
+0001f670: 6865 2068 6967 682d 766f 6c74 6167 6520  he high-voltage 
+0001f680: 7369 6465 206f 6e20 7768 6963 6820 7468  side on which th
+0001f690: 6520 7472 616e 7366 6f72 6d65 7220 7769  e transformer wi
+0001f6a0: 6c6c 2062 6520 5c0d 0a20 2020 2020 2020  ll be \..       
+0001f6b0: 2020 2020 2063 6f6e 6e65 6374 6564 2074       connected t
+0001f6c0: 6f0d 0a0d 0a20 2020 2020 2020 202a 2a6d  o....        **m
+0001f6d0: 765f 6275 732a 2a20 2869 6e74 2920 2d20  v_bus** (int) - 
+0001f6e0: 5468 6520 6275 7320 6f6e 2074 6865 206d  The bus on the m
+0001f6f0: 6964 646c 652d 766f 6c74 6167 6520 7369  iddle-voltage si
+0001f700: 6465 206f 6e20 7768 6963 6820 7468 6520  de on which the 
+0001f710: 7472 616e 7366 6f72 6d65 7220 7769 6c6c  transformer will
+0001f720: 2062 6520 5c0d 0a20 2020 2020 2020 2020   be \..         
+0001f730: 2020 2063 6f6e 6e65 6374 6564 2074 6f0d     connected to.
+0001f740: 0a0d 0a20 2020 2020 2020 202a 2a6c 765f  ...        **lv_
+0001f750: 6275 732a 2a20 2869 6e74 2920 2d20 5468  bus** (int) - Th
+0001f760: 6520 6275 7320 6f6e 2074 6865 206c 6f77  e bus on the low
+0001f770: 2d76 6f6c 7461 6765 2073 6964 6520 6f6e  -voltage side on
+0001f780: 2077 6869 6368 2074 6865 2074 7261 6e73   which the trans
+0001f790: 666f 726d 6572 2077 696c 6c20 6265 205c  former will be \
+0001f7a0: 0d0a 2020 2020 2020 2020 2020 2020 636f  ..            co
+0001f7b0: 6e6e 6563 7465 6420 746f 0d0a 0d0a 2020  nnected to....  
+0001f7c0: 2020 2020 2020 2a2a 766e 5f68 765f 6b76        **vn_hv_kv
+0001f7d0: 2a2a 2028 666c 6f61 7429 2072 6174 6564  ** (float) rated
+0001f7e0: 2076 6f6c 7461 6765 206f 6e20 6869 6768   voltage on high
+0001f7f0: 2076 6f6c 7461 6765 2073 6964 650d 0a0d   voltage side...
+0001f800: 0a20 2020 2020 2020 202a 2a76 6e5f 6d76  .        **vn_mv
+0001f810: 5f6b 762a 2a20 2866 6c6f 6174 2920 7261  _kv** (float) ra
+0001f820: 7465 6420 766f 6c74 6167 6520 6f6e 206d  ted voltage on m
+0001f830: 6564 6975 6d20 766f 6c74 6167 6520 7369  edium voltage si
+0001f840: 6465 0d0a 0d0a 2020 2020 2020 2020 2a2a  de....        **
+0001f850: 766e 5f6c 765f 6b76 2a2a 2028 666c 6f61  vn_lv_kv** (floa
+0001f860: 7429 2072 6174 6564 2076 6f6c 7461 6765  t) rated voltage
+0001f870: 206f 6e20 6c6f 7720 766f 6c74 6167 6520   on low voltage 
+0001f880: 7369 6465 0d0a 0d0a 2020 2020 2020 2020  side....        
+0001f890: 2a2a 736e 5f68 765f 6d76 612a 2a20 2866  **sn_hv_mva** (f
+0001f8a0: 6c6f 6174 2920 2d20 7261 7465 6420 6170  loat) - rated ap
+0001f8b0: 7061 7265 6e74 2070 6f77 6572 206f 6e20  parent power on 
+0001f8c0: 6869 6768 2076 6f6c 7461 6765 2073 6964  high voltage sid
+0001f8d0: 650d 0a0d 0a20 2020 2020 2020 202a 2a73  e....        **s
+0001f8e0: 6e5f 6d76 5f6d 7661 2a2a 2028 666c 6f61  n_mv_mva** (floa
+0001f8f0: 7429 202d 2072 6174 6564 2061 7070 6172  t) - rated appar
+0001f900: 656e 7420 706f 7765 7220 6f6e 206d 6564  ent power on med
+0001f910: 6975 6d20 766f 6c74 6167 6520 7369 6465  ium voltage side
+0001f920: 0d0a 0d0a 2020 2020 2020 2020 2a2a 736e  ....        **sn
+0001f930: 5f6c 765f 6d76 612a 2a20 2866 6c6f 6174  _lv_mva** (float
+0001f940: 2920 2d20 7261 7465 6420 6170 7061 7265  ) - rated appare
+0001f950: 6e74 2070 6f77 6572 206f 6e20 6c6f 7720  nt power on low 
+0001f960: 766f 6c74 6167 6520 7369 6465 0d0a 0d0a  voltage side....
+0001f970: 2020 2020 2020 2020 2a2a 766b 5f68 765f          **vk_hv_
+0001f980: 7065 7263 656e 742a 2a20 2866 6c6f 6174  percent** (float
+0001f990: 2920 2d20 7368 6f72 7420 6369 7263 7569  ) - short circui
+0001f9a0: 7420 766f 6c74 6167 6520 6672 6f6d 2068  t voltage from h
+0001f9b0: 6967 6820 746f 206d 6564 6975 6d20 766f  igh to medium vo
+0001f9c0: 6c74 6167 650d 0a0d 0a20 2020 2020 2020  ltage....       
+0001f9d0: 202a 2a76 6b5f 6d76 5f70 6572 6365 6e74   **vk_mv_percent
+0001f9e0: 2a2a 2028 666c 6f61 7429 202d 2073 686f  ** (float) - sho
+0001f9f0: 7274 2063 6972 6375 6974 2076 6f6c 7461  rt circuit volta
+0001fa00: 6765 2066 726f 6d20 6d65 6469 756d 2074  ge from medium t
+0001fa10: 6f20 6c6f 7720 766f 6c74 6167 650d 0a0d  o low voltage...
+0001fa20: 0a20 2020 2020 2020 202a 2a76 6b5f 6c76  .        **vk_lv
+0001fa30: 5f70 6572 6365 6e74 2a2a 2028 666c 6f61  _percent** (floa
+0001fa40: 7429 202d 2073 686f 7274 2063 6972 6375  t) - short circu
+0001fa50: 6974 2076 6f6c 7461 6765 2066 726f 6d20  it voltage from 
+0001fa60: 6869 6768 2074 6f20 6c6f 7720 766f 6c74  high to low volt
+0001fa70: 6167 650d 0a0d 0a20 2020 2020 2020 202a  age....        *
+0001fa80: 2a76 6b72 5f68 765f 7065 7263 656e 742a  *vkr_hv_percent*
+0001fa90: 2a20 2866 6c6f 6174 2920 2d20 7265 616c  * (float) - real
+0001faa0: 2070 6172 7420 6f66 2073 686f 7274 2063   part of short c
+0001fab0: 6972 6375 6974 2076 6f6c 7461 6765 2066  ircuit voltage f
+0001fac0: 726f 6d20 6869 6768 2074 6f20 6d65 6469  rom high to medi
+0001fad0: 756d 2076 6f6c 7461 6765 0d0a 0d0a 2020  um voltage....  
+0001fae0: 2020 2020 2020 2a2a 766b 725f 6d76 5f70        **vkr_mv_p
+0001faf0: 6572 6365 6e74 2a2a 2028 666c 6f61 7429  ercent** (float)
+0001fb00: 202d 2072 6561 6c20 7061 7274 206f 6620   - real part of 
+0001fb10: 7368 6f72 7420 6369 7263 7569 7420 766f  short circuit vo
+0001fb20: 6c74 6167 6520 6672 6f6d 206d 6564 6975  ltage from mediu
+0001fb30: 6d20 746f 206c 6f77 2076 6f6c 7461 6765  m to low voltage
+0001fb40: 0d0a 0d0a 2020 2020 2020 2020 2a2a 766b  ....        **vk
+0001fb50: 725f 6c76 5f70 6572 6365 6e74 2a2a 2028  r_lv_percent** (
+0001fb60: 666c 6f61 7429 202d 2072 6561 6c20 7061  float) - real pa
+0001fb70: 7274 206f 6620 7368 6f72 7420 6369 7263  rt of short circ
+0001fb80: 7569 7420 766f 6c74 6167 6520 6672 6f6d  uit voltage from
+0001fb90: 2068 6967 6820 746f 206c 6f77 2076 6f6c   high to low vol
+0001fba0: 7461 6765 0d0a 0d0a 2020 2020 2020 2020  tage....        
+0001fbb0: 2a2a 7066 655f 6b77 2a2a 2028 666c 6f61  **pfe_kw** (floa
+0001fbc0: 7429 202d 2069 726f 6e20 6c6f 7373 6573  t) - iron losses
+0001fbd0: 2069 6e20 6b57 0d0a 0d0a 2020 2020 2020   in kW....      
+0001fbe0: 2020 2a2a 6930 5f70 6572 6365 6e74 2a2a    **i0_percent**
+0001fbf0: 2028 666c 6f61 7429 202d 206f 7065 6e20   (float) - open 
+0001fc00: 6c6f 6f70 206c 6f73 7365 730d 0a0d 0a20  loop losses.... 
+0001fc10: 2020 204f 5054 494f 4e41 4c3a 0d0a 2020     OPTIONAL:..  
+0001fc20: 2020 2020 2020 2a2a 7368 6966 745f 6d76        **shift_mv
+0001fc30: 5f64 6567 7265 652a 2a20 2866 6c6f 6174  _degree** (float
+0001fc40: 2c20 3029 202d 2061 6e67 6c65 2073 6869  , 0) - angle shi
+0001fc50: 6674 2074 6f20 6d65 6469 756d 2076 6f6c  ft to medium vol
+0001fc60: 7461 6765 2073 6964 652a 0d0a 0d0a 2020  tage side*....  
+0001fc70: 2020 2020 2020 2a2a 7368 6966 745f 6c76        **shift_lv
+0001fc80: 5f64 6567 7265 652a 2a20 2866 6c6f 6174  _degree** (float
+0001fc90: 2c20 3029 202d 2061 6e67 6c65 2073 6869  , 0) - angle shi
+0001fca0: 6674 2074 6f20 6c6f 7720 766f 6c74 6167  ft to low voltag
+0001fcb0: 6520 7369 6465 2a0d 0a0d 0a20 2020 2020  e side*....     
+0001fcc0: 2020 202a 2a74 6170 5f73 7465 705f 7065     **tap_step_pe
+0001fcd0: 7263 656e 742a 2a20 2866 6c6f 6174 2920  rcent** (float) 
+0001fce0: 2d20 5461 7020 7374 6570 2069 6e20 7065  - Tap step in pe
+0001fcf0: 7263 656e 740d 0a0d 0a20 2020 2020 2020  rcent....       
+0001fd00: 202a 2a74 6170 5f73 7465 705f 6465 6772   **tap_step_degr
+0001fd10: 6565 2a2a 2028 666c 6f61 7429 202d 2054  ee** (float) - T
+0001fd20: 6170 2070 6861 7365 2073 6869 6674 2061  ap phase shift a
+0001fd30: 6e67 6c65 2069 6e20 6465 6772 6565 730d  ngle in degrees.
+0001fd40: 0a0d 0a20 2020 2020 2020 202a 2a74 6170  ...        **tap
+0001fd50: 5f73 6964 652a 2a20 2873 7472 696e 672c  _side** (string,
+0001fd60: 204e 6f6e 6529 202d 2022 6876 222c 2022   None) - "hv", "
+0001fd70: 6d76 222c 2022 6c76 220d 0a0d 0a20 2020  mv", "lv"....   
+0001fd80: 2020 2020 202a 2a74 6170 5f6e 6575 7472       **tap_neutr
+0001fd90: 616c 2a2a 2028 696e 742c 206e 616e 2920  al** (int, nan) 
+0001fda0: 2d20 6465 6661 756c 7420 7461 7020 706f  - default tap po
+0001fdb0: 7369 7469 6f6e 0d0a 0d0a 2020 2020 2020  sition....      
+0001fdc0: 2020 2a2a 7461 705f 6d69 6e2a 2a20 2869    **tap_min** (i
+0001fdd0: 6e74 2c20 6e61 6e29 202d 204d 696e 696d  nt, nan) - Minim
+0001fde0: 756d 2074 6170 2070 6f73 6974 696f 6e0d  um tap position.
+0001fdf0: 0a0d 0a20 2020 2020 2020 202a 2a74 6170  ...        **tap
+0001fe00: 5f6d 6178 2a2a 2028 696e 742c 206e 616e  _max** (int, nan
+0001fe10: 2920 2d20 4d61 7869 6d75 6d20 7461 7020  ) - Maximum tap 
+0001fe20: 706f 7369 7469 6f6e 0d0a 0d0a 2020 2020  position....    
+0001fe30: 2020 2020 2a2a 7461 705f 706f 732a 2a20      **tap_pos** 
+0001fe40: 2869 6e74 2c20 6e61 6e29 202d 2063 7572  (int, nan) - cur
+0001fe50: 7265 6e74 2074 6170 2070 6f73 6974 696f  rent tap positio
+0001fe60: 6e20 6f66 2074 6865 2074 7261 6e73 666f  n of the transfo
+0001fe70: 726d 6572 2e20 4465 6661 756c 7473 2074  rmer. Defaults t
+0001fe80: 6f20 7468 6520 5c0d 0a20 2020 2020 2020  o the \..       
+0001fe90: 2020 2020 206d 6564 6975 6d20 706f 7369       medium posi
+0001fea0: 7469 6f6e 2028 7461 705f 6e65 7574 7261  tion (tap_neutra
+0001feb0: 6c29 0d0a 0d0a 2020 2020 2020 2020 2a2a  l)....        **
+0001fec0: 7461 705f 6174 5f73 7461 725f 706f 696e  tap_at_star_poin
+0001fed0: 742a 2a20 2862 6f6f 6c65 616e 2920 2d20  t** (boolean) - 
+0001fee0: 5768 6574 6865 7220 7461 7020 6368 616e  Whether tap chan
+0001fef0: 6765 7220 6973 206c 6f63 6174 6564 2061  ger is located a
+0001ff00: 7420 7468 6520 7374 6172 2070 6f69 6e74  t the star point
+0001ff10: 206f 6620 7468 6520 5c0d 0a20 2020 2020   of the \..     
+0001ff20: 2020 2020 2020 2033 572d 7472 616e 7366         3W-transf
+0001ff30: 6f72 6d65 7220 6f72 2061 7420 7468 6520  ormer or at the 
+0001ff40: 6275 730d 0a0d 0a20 2020 2020 2020 202a  bus....        *
+0001ff50: 2a6e 616d 652a 2a20 2873 7472 696e 672c  *name** (string,
+0001ff60: 204e 6f6e 6529 202d 204e 616d 6520 6f66   None) - Name of
+0001ff70: 2074 6865 2033 2d77 696e 6469 6e67 2074   the 3-winding t
+0001ff80: 7261 6e73 666f 726d 6572 0d0a 0d0a 2020  ransformer....  
+0001ff90: 2020 2020 2020 2a2a 696e 5f73 6572 7669        **in_servi
+0001ffa0: 6365 2a2a 2028 626f 6f6c 6561 6e2c 2054  ce** (boolean, T
+0001ffb0: 7275 6529 202d 2054 7275 6520 666f 7220  rue) - True for 
+0001ffc0: 696e 5f73 6572 7669 6365 206f 7220 4661  in_service or Fa
+0001ffd0: 6c73 6520 666f 7220 6f75 7420 6f66 2073  lse for out of s
+0001ffe0: 6572 7669 6365 0d0a 0d0a 2020 2020 2020  ervice....      
+0001fff0: 2020 2a2a 6d61 785f 6c6f 6164 696e 675f    **max_loading_
+00020000: 7065 7263 656e 7420 2866 6c6f 6174 292a  percent (float)*
+00020010: 2a20 2d20 6d61 7869 6d75 6d20 6375 7272  * - maximum curr
+00020020: 656e 7420 6c6f 6164 696e 6720 286f 6e6c  ent loading (onl
+00020030: 7920 6e65 6564 6564 2066 6f72 204f 5046  y needed for OPF
+00020040: 290d 0a0d 0a20 2020 2020 2020 202a 2a74  )....        **t
+00020050: 6170 5f64 6570 656e 6465 6e74 5f69 6d70  ap_dependent_imp
+00020060: 6564 616e 6365 2a2a 2028 626f 6f6c 6561  edance** (boolea
+00020070: 6e29 202d 2054 7275 6520 6966 2074 7261  n) - True if tra
+00020080: 6e73 666f 726d 6572 2069 6d70 6564 616e  nsformer impedan
+00020090: 6365 206d 7573 7420 6265 2061 646a 7573  ce must be adjus
+000200a0: 7465 6420 6465 7065 6e64 656e 7420 5c0d  ted dependent \.
+000200b0: 0a20 2020 2020 2020 2020 2020 206f 6e20  .            on 
+000200c0: 7468 6520 7461 7020 706f 7369 7469 6f6e  the tap position
+000200d0: 206f 6620 7468 6520 7472 6162 6e73 666f   of the trabnsfo
+000200e0: 726d 6572 2e20 5265 7175 6972 6573 2074  rmer. Requires t
+000200f0: 6865 2061 6464 6974 696f 6e61 6c20 636f  he additional co
+00020100: 6c75 6d6e 7320 5c0d 0a20 2020 2020 2020  lumns \..       
+00020110: 2020 2020 2022 766b 5f70 6572 6365 6e74       "vk_percent
+00020120: 5f63 6861 7261 6374 6572 6973 7469 6322  _characteristic"
+00020130: 2061 6e64 2022 766b 725f 7065 7263 656e   and "vkr_percen
+00020140: 745f 6368 6172 6163 7465 7269 7374 6963  t_characteristic
+00020150: 2220 7468 6174 2072 6566 6572 656e 6365  " that reference
+00020160: 2074 6865 2069 6e64 6578 206f 6620 7468   the index of th
+00020170: 6520 5c0d 0a20 2020 2020 2020 2020 2020  e \..           
+00020180: 2063 6861 7261 6374 6572 6973 7469 6320   characteristic 
+00020190: 6672 6f6d 2074 6865 2074 6162 6c65 206e  from the table n
+000201a0: 6574 2e63 6861 7261 6374 6572 6973 7469  et.characteristi
+000201b0: 632e 2041 2063 6f6e 7665 6e69 656e 6365  c. A convenience
+000201c0: 2066 756e 6374 696f 6e20 5c0d 0a20 2020   function \..   
+000201d0: 2020 2020 2020 2020 2070 616e 6461 706f           pandapo
+000201e0: 7765 722e 636f 6e74 726f 6c2e 6372 6561  wer.control.crea
+000201f0: 7465 5f74 7261 666f 5f63 6861 7261 6374  te_trafo_charact
+00020200: 6572 6973 7469 6373 2063 616e 2062 6520  eristics can be 
+00020210: 7573 6564 2074 6f20 6372 6561 7465 2074  used to create t
+00020220: 6865 2053 706c 696e 6543 6861 7261 6374  he SplineCharact
+00020230: 6572 6973 7469 6320 5c0d 0a20 2020 2020  eristic \..     
+00020240: 2020 2020 2020 206f 626a 6563 7473 2c20         objects, 
+00020250: 6164 6420 7468 6520 7265 6c65 7661 6e74  add the relevant
+00020260: 2063 6f6c 756d 6e73 2061 6e64 2073 6574   columns and set
+00020270: 2075 7020 7468 6520 7265 6665 7265 6e63   up the referenc
+00020280: 6573 2074 6f20 7468 6520 6368 6172 6163  es to the charac
+00020290: 7465 7269 7374 6963 732e 205c 0d0a 2020  teristics. \..  
+000202a0: 2020 2020 2020 2020 2020 5468 6520 6675            The fu
+000202b0: 6e63 7469 6f6e 2070 616e 6461 706f 7765  nction pandapowe
+000202c0: 722e 636f 6e74 726f 6c2e 7472 6166 6f5f  r.control.trafo_
+000202d0: 6368 6172 6163 7465 7269 7374 6963 735f  characteristics_
+000202e0: 6469 6167 6e6f 7374 6963 2063 616e 2062  diagnostic can b
+000202f0: 6520 7573 6564 2066 6f72 2073 616e 6974  e used for sanit
+00020300: 7920 6368 6563 6b73 2e0d 0a0d 0a20 2020  y checks.....   
+00020310: 2020 2020 202a 2a76 6b5f 6876 5f70 6572       **vk_hv_per
+00020320: 6365 6e74 5f63 6861 7261 6374 6572 6973  cent_characteris
+00020330: 7469 632a 2a20 2869 6e74 2920 2d20 696e  tic** (int) - in
+00020340: 6465 7820 6f66 2074 6865 2063 6861 7261  dex of the chara
+00020350: 6374 6572 6973 7469 6320 6672 6f6d 206e  cteristic from n
+00020360: 6574 2e63 6861 7261 6374 6572 6973 7469  et.characteristi
+00020370: 6320 666f 7220 5c0d 0a20 2020 2020 2020  c for \..       
+00020380: 2020 2020 2074 6865 2061 646a 7573 746d       the adjustm
+00020390: 656e 7420 6f66 2074 6865 2070 6172 616d  ent of the param
+000203a0: 6574 6572 2022 766b 5f70 6572 6365 6e74  eter "vk_percent
+000203b0: 2220 666f 7220 7468 6520 6361 6c63 756c  " for the calcul
+000203c0: 6174 696f 6e20 6f66 2074 6170 2064 6570  ation of tap dep
+000203d0: 656e 6465 6e74 2069 6d70 6564 616e 6365  endent impedance
+000203e0: 2e0d 0a0d 0a20 2020 2020 2020 202a 2a76  .....        **v
+000203f0: 6b72 5f68 765f 7065 7263 656e 745f 6368  kr_hv_percent_ch
+00020400: 6172 6163 7465 7269 7374 6963 2a2a 2028  aracteristic** (
+00020410: 696e 7429 202d 2069 6e64 6578 206f 6620  int) - index of 
+00020420: 7468 6520 6368 6172 6163 7465 7269 7374  the characterist
+00020430: 6963 2066 726f 6d20 6e65 742e 6368 6172  ic from net.char
+00020440: 6163 7465 7269 7374 6963 2066 6f72 205c  acteristic for \
+00020450: 0d0a 2020 2020 2020 2020 2020 2020 7468  ..            th
+00020460: 6520 6164 6a75 7374 6d65 6e74 206f 6620  e adjustment of 
+00020470: 7468 6520 7061 7261 6d65 7465 7220 2276  the parameter "v
+00020480: 6b5f 7065 7263 656e 7422 2066 6f72 2074  k_percent" for t
+00020490: 6865 2063 616c 6375 6c61 7469 6f6e 206f  he calculation o
+000204a0: 6620 7461 7020 6465 7065 6e64 656e 7420  f tap dependent 
+000204b0: 696d 7065 6461 6e63 652e 0d0a 0d0a 2020  impedance.....  
+000204c0: 2020 2020 2020 2a2a 766b 5f6d 765f 7065        **vk_mv_pe
+000204d0: 7263 656e 745f 6368 6172 6163 7465 7269  rcent_characteri
+000204e0: 7374 6963 2a2a 2028 696e 7429 202d 2069  stic** (int) - i
+000204f0: 6e64 6578 206f 6620 7468 6520 6368 6172  ndex of the char
+00020500: 6163 7465 7269 7374 6963 2066 726f 6d20  acteristic from 
+00020510: 6e65 742e 6368 6172 6163 7465 7269 7374  net.characterist
+00020520: 6963 2066 6f72 205c 0d0a 2020 2020 2020  ic for \..      
+00020530: 2020 2020 2020 7468 6520 6164 6a75 7374        the adjust
+00020540: 6d65 6e74 206f 6620 7468 6520 7061 7261  ment of the para
+00020550: 6d65 7465 7220 2276 6b5f 7065 7263 656e  meter "vk_percen
+00020560: 7422 2066 6f72 2074 6865 2063 616c 6375  t" for the calcu
+00020570: 6c61 7469 6f6e 206f 6620 7461 7020 6465  lation of tap de
+00020580: 7065 6e64 656e 7420 696d 7065 6461 6e63  pendent impedanc
+00020590: 652e 0d0a 0d0a 2020 2020 2020 2020 2a2a  e.....        **
+000205a0: 766b 725f 6d76 5f70 6572 6365 6e74 5f63  vkr_mv_percent_c
+000205b0: 6861 7261 6374 6572 6973 7469 632a 2a20  haracteristic** 
+000205c0: 2869 6e74 2920 2d20 696e 6465 7820 6f66  (int) - index of
+000205d0: 2074 6865 2063 6861 7261 6374 6572 6973   the characteris
+000205e0: 7469 6320 6672 6f6d 206e 6574 2e63 6861  tic from net.cha
+000205f0: 7261 6374 6572 6973 7469 6320 666f 7220  racteristic for 
+00020600: 5c0d 0a20 2020 2020 2020 2020 2020 2074  \..            t
+00020610: 6865 2061 646a 7573 746d 656e 7420 6f66  he adjustment of
+00020620: 2074 6865 2070 6172 616d 6574 6572 2022   the parameter "
+00020630: 766b 5f70 6572 6365 6e74 2220 666f 7220  vk_percent" for 
+00020640: 7468 6520 6361 6c63 756c 6174 696f 6e20  the calculation 
+00020650: 6f66 2074 6170 2064 6570 656e 6465 6e74  of tap dependent
+00020660: 2069 6d70 6564 616e 6365 2e0d 0a0d 0a20   impedance..... 
+00020670: 2020 2020 2020 202a 2a76 6b5f 6c76 5f70         **vk_lv_p
+00020680: 6572 6365 6e74 5f63 6861 7261 6374 6572  ercent_character
+00020690: 6973 7469 632a 2a20 2869 6e74 2920 2d20  istic** (int) - 
+000206a0: 696e 6465 7820 6f66 2074 6865 2063 6861  index of the cha
+000206b0: 7261 6374 6572 6973 7469 6320 6672 6f6d  racteristic from
+000206c0: 206e 6574 2e63 6861 7261 6374 6572 6973   net.characteris
+000206d0: 7469 6320 666f 7220 5c0d 0a20 2020 2020  tic for \..     
+000206e0: 2020 2020 2020 2074 6865 2061 646a 7573         the adjus
+000206f0: 746d 656e 7420 6f66 2074 6865 2070 6172  tment of the par
+00020700: 616d 6574 6572 2022 766b 5f70 6572 6365  ameter "vk_perce
+00020710: 6e74 2220 666f 7220 7468 6520 6361 6c63  nt" for the calc
+00020720: 756c 6174 696f 6e20 6f66 2074 6170 2064  ulation of tap d
+00020730: 6570 656e 6465 6e74 2069 6d70 6564 616e  ependent impedan
+00020740: 6365 2e0d 0a0d 0a20 2020 2020 2020 202a  ce.....        *
+00020750: 2a76 6b72 5f6c 765f 7065 7263 656e 745f  *vkr_lv_percent_
+00020760: 6368 6172 6163 7465 7269 7374 6963 2a2a  characteristic**
+00020770: 2028 696e 7429 202d 2069 6e64 6578 206f   (int) - index o
+00020780: 6620 7468 6520 6368 6172 6163 7465 7269  f the characteri
+00020790: 7374 6963 2066 726f 6d20 6e65 742e 6368  stic from net.ch
+000207a0: 6172 6163 7465 7269 7374 6963 2066 6f72  aracteristic for
+000207b0: 205c 0d0a 2020 2020 2020 2020 2020 2020   \..            
+000207c0: 7468 6520 6164 6a75 7374 6d65 6e74 206f  the adjustment o
+000207d0: 6620 7468 6520 7061 7261 6d65 7465 7220  f the parameter 
+000207e0: 2276 6b5f 7065 7263 656e 7422 2066 6f72  "vk_percent" for
+000207f0: 2074 6865 2063 616c 6375 6c61 7469 6f6e   the calculation
+00020800: 206f 6620 7461 7020 6465 7065 6e64 656e   of tap dependen
+00020810: 7420 696d 7065 6461 6e63 652e 0d0a 0d0a  t impedance.....
+00020820: 2020 2020 2020 2020 2a2a 766b 305f 6876          **vk0_hv
+00020830: 5f70 6572 6365 6e74 2a2a 2028 666c 6f61  _percent** (floa
+00020840: 7429 202d 207a 6572 6f20 7365 7175 656e  t) - zero sequen
+00020850: 6365 2073 686f 7274 2063 6972 6375 6974  ce short circuit
+00020860: 2076 6f6c 7461 6765 2066 726f 6d20 6869   voltage from hi
+00020870: 6768 2074 6f20 6d65 6469 756d 2076 6f6c  gh to medium vol
+00020880: 7461 6765 0d0a 0d0a 2020 2020 2020 2020  tage....        
+00020890: 2a2a 766b 305f 6d76 5f70 6572 6365 6e74  **vk0_mv_percent
+000208a0: 2a2a 2028 666c 6f61 7429 202d 207a 6572  ** (float) - zer
+000208b0: 6f20 7365 7175 656e 6365 2073 686f 7274  o sequence short
+000208c0: 2063 6972 6375 6974 2076 6f6c 7461 6765   circuit voltage
+000208d0: 2066 726f 6d20 6d65 6469 756d 2074 6f20   from medium to 
+000208e0: 6c6f 7720 766f 6c74 6167 650d 0a0d 0a20  low voltage.... 
+000208f0: 2020 2020 2020 202a 2a76 6b30 5f6c 765f         **vk0_lv_
+00020900: 7065 7263 656e 742a 2a20 2866 6c6f 6174  percent** (float
+00020910: 2920 2d20 7a65 726f 2073 6571 7565 6e63  ) - zero sequenc
+00020920: 6520 7368 6f72 7420 6369 7263 7569 7420  e short circuit 
+00020930: 766f 6c74 6167 6520 6672 6f6d 2068 6967  voltage from hig
+00020940: 6820 746f 206c 6f77 2076 6f6c 7461 6765  h to low voltage
+00020950: 0d0a 0d0a 2020 2020 2020 2020 2a2a 766b  ....        **vk
+00020960: 7230 5f68 765f 7065 7263 656e 742a 2a20  r0_hv_percent** 
+00020970: 2866 6c6f 6174 2920 2d20 7a65 726f 2073  (float) - zero s
+00020980: 6571 7565 6e63 6520 7265 616c 2070 6172  equence real par
+00020990: 7420 6f66 2073 686f 7274 2063 6972 6375  t of short circu
+000209a0: 6974 2076 6f6c 7461 6765 2066 726f 6d20  it voltage from 
+000209b0: 6869 6768 2074 6f20 6d65 6469 756d 2076  high to medium v
+000209c0: 6f6c 7461 6765 0d0a 0d0a 2020 2020 2020  oltage....      
+000209d0: 2020 2a2a 766b 7230 5f6d 765f 7065 7263    **vkr0_mv_perc
+000209e0: 656e 742a 2a20 2866 6c6f 6174 2920 2d20  ent** (float) - 
+000209f0: 7a65 726f 2073 6571 7565 6e63 6520 7265  zero sequence re
+00020a00: 616c 2070 6172 7420 6f66 2073 686f 7274  al part of short
+00020a10: 2063 6972 6375 6974 2076 6f6c 7461 6765   circuit voltage
+00020a20: 2066 726f 6d20 6d65 6469 756d 2074 6f20   from medium to 
+00020a30: 6c6f 7720 766f 6c74 6167 650d 0a0d 0a20  low voltage.... 
+00020a40: 2020 2020 2020 202a 2a76 6b72 305f 6c76         **vkr0_lv
+00020a50: 5f70 6572 6365 6e74 2a2a 2028 666c 6f61  _percent** (floa
+00020a60: 7429 202d 207a 6572 6f20 7365 7175 656e  t) - zero sequen
+00020a70: 6365 2072 6561 6c20 7061 7274 206f 6620  ce real part of 
+00020a80: 7368 6f72 7420 6369 7263 7569 7420 766f  short circuit vo
+00020a90: 6c74 6167 6520 6672 6f6d 2068 6967 6820  ltage from high 
+00020aa0: 746f 206c 6f77 2076 6f6c 7461 6765 0d0a  to low voltage..
+00020ab0: 0d0a 2020 2020 2020 2020 2a2a 7665 6374  ..        **vect
+00020ac0: 6f72 5f67 726f 7570 2a2a 2028 6c69 7374  or_group** (list
+00020ad0: 206f 6620 5374 7269 6e67 2920 2d20 5665   of String) - Ve
+00020ae0: 6374 6f72 2067 726f 7570 206f 6620 7468  ctor group of th
+00020af0: 6520 7472 616e 7366 6f72 6d65 7233 770d  e transformer3w.
+00020b00: 0a0d 0a20 2020 204f 5554 5055 543a 0d0a  ...    OUTPUT:..
+00020b10: 2020 2020 2020 2020 2a2a 7472 6166 6f5f          **trafo_
+00020b20: 6964 2a2a 202d 2054 6865 2075 6e69 7175  id** - The uniqu
+00020b30: 6520 7472 6166 6f5f 6964 206f 6620 7468  e trafo_id of th
+00020b40: 6520 6372 6561 7465 6420 3357 2074 7261  e created 3W tra
+00020b50: 6e73 666f 726d 6572 0d0a 0d0a 2020 2020  nsformer....    
+00020b60: 4578 616d 706c 653a 0d0a 2020 2020 2020  Example:..      
+00020b70: 2020 6372 6561 7465 5f74 7261 6e73 666f    create_transfo
+00020b80: 726d 6572 3377 5f66 726f 6d5f 7061 7261  rmer3w_from_para
+00020b90: 6d65 7465 7273 286e 6574 2c20 6876 5f62  meters(net, hv_b
+00020ba0: 7573 3d30 2c20 6d76 5f62 7573 3d31 2c20  us=0, mv_bus=1, 
+00020bb0: 6c76 5f62 7573 3d32 2c20 6e61 6d65 3d22  lv_bus=2, name="
+00020bc0: 7472 6166 6f31 222c 0d0a 2020 2020 2020  trafo1",..      
+00020bd0: 2020 736e 5f68 765f 6d76 613d 3430 2c20    sn_hv_mva=40, 
+00020be0: 736e 5f6d 765f 6d76 613d 3230 2c20 736e  sn_mv_mva=20, sn
+00020bf0: 5f6c 765f 6d76 613d 3230 2c20 766e 5f68  _lv_mva=20, vn_h
+00020c00: 765f 6b76 3d31 3130 2c20 766e 5f6d 765f  v_kv=110, vn_mv_
+00020c10: 6b76 3d32 302c 2076 6e5f 6c76 5f6b 763d  kv=20, vn_lv_kv=
+00020c20: 3130 2c0d 0a20 2020 2020 2020 2076 6b5f  10,..        vk_
+00020c30: 6876 5f70 6572 6365 6e74 3d31 302c 766b  hv_percent=10,vk
+00020c40: 5f6d 765f 7065 7263 656e 743d 3131 2c20  _mv_percent=11, 
+00020c50: 766b 5f6c 765f 7065 7263 656e 743d 3132  vk_lv_percent=12
+00020c60: 2c20 766b 725f 6876 5f70 6572 6365 6e74  , vkr_hv_percent
+00020c70: 3d30 2e33 2c0d 0a20 2020 2020 2020 2076  =0.3,..        v
+00020c80: 6b72 5f6d 765f 7065 7263 656e 743d 302e  kr_mv_percent=0.
+00020c90: 3331 2c20 766b 725f 6c76 5f70 6572 6365  31, vkr_lv_perce
+00020ca0: 6e74 3d30 2e33 322c 2070 6665 5f6b 773d  nt=0.32, pfe_kw=
+00020cb0: 3330 2c20 6930 5f70 6572 6365 6e74 3d30  30, i0_percent=0
+00020cc0: 2e31 2c20 7368 6966 745f 6d76 5f64 6567  .1, shift_mv_deg
+00020cd0: 7265 653d 3330 2c0d 0a20 2020 2020 2020  ree=30,..       
+00020ce0: 2073 6869 6674 5f6c 765f 6465 6772 6565   shift_lv_degree
+00020cf0: 3d33 3029 0d0a 0d0a 2020 2020 2222 220d  =30)....    """.
+00020d00: 0a0d 0a20 2020 2023 2043 6865 636b 2069  ...    # Check i
+00020d10: 6620 6275 7320 6578 6973 7420 746f 2061  f bus exist to a
+00020d20: 7474 6163 6820 7468 6520 7472 6166 6f20  ttach the trafo 
+00020d30: 746f 0d0a 2020 2020 666f 7220 6220 696e  to..    for b in
+00020d40: 205b 6876 5f62 7573 2c20 6d76 5f62 7573   [hv_bus, mv_bus
+00020d50: 2c20 6c76 5f62 7573 5d3a 0d0a 2020 2020  , lv_bus]:..    
+00020d60: 2020 2020 6966 2062 206e 6f74 2069 6e20      if b not in 
+00020d70: 6e65 745b 2262 7573 225d 2e69 6e64 6578  net["bus"].index
+00020d80: 2e76 616c 7565 733a 0d0a 2020 2020 2020  .values:..      
+00020d90: 2020 2020 2020 7261 6973 6520 5573 6572        raise User
+00020da0: 5761 726e 696e 6728 2254 7261 666f 2074  Warning("Trafo t
+00020db0: 7269 6573 2074 6f20 6174 7461 6368 2074  ries to attach t
+00020dc0: 6f20 6e6f 6e2d 6578 6973 7465 6e74 2062  o non-existent b
+00020dd0: 7573 2025 7322 2025 2062 290d 0a0d 0a20  us %s" % b).... 
+00020de0: 2020 2069 6e64 6578 203d 205f 6765 745f     index = _get_
+00020df0: 696e 6465 785f 7769 7468 5f63 6865 636b  index_with_check
+00020e00: 286e 6574 2c20 2274 7261 666f 3377 222c  (net, "trafo3w",
+00020e10: 2069 6e64 6578 2c20 2274 6872 6565 2077   index, "three w
+00020e20: 696e 6469 6e67 2074 7261 6e73 666f 726d  inding transform
+00020e30: 6572 2229 0d0a 0d0a 2020 2020 6966 2074  er")....    if t
+00020e40: 6170 5f70 6f73 2069 7320 6e61 6e3a 0d0a  ap_pos is nan:..
+00020e50: 2020 2020 2020 2020 7461 705f 706f 7320          tap_pos 
+00020e60: 3d20 7461 705f 6e65 7574 7261 6c0d 0a0d  = tap_neutral...
+00020e70: 0a20 2020 2063 6f6c 756d 6e73 203d 205b  .    columns = [
+00020e80: 226c 765f 6275 7322 2c20 226d 765f 6275  "lv_bus", "mv_bu
+00020e90: 7322 2c20 2268 765f 6275 7322 2c20 2276  s", "hv_bus", "v
+00020ea0: 6e5f 6876 5f6b 7622 2c20 2276 6e5f 6d76  n_hv_kv", "vn_mv
+00020eb0: 5f6b 7622 2c20 2276 6e5f 6c76 5f6b 7622  _kv", "vn_lv_kv"
+00020ec0: 2c20 2273 6e5f 6876 5f6d 7661 222c 0d0a  , "sn_hv_mva",..
+00020ed0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00020ee0: 736e 5f6d 765f 6d76 6122 2c20 2273 6e5f  sn_mv_mva", "sn_
+00020ef0: 6c76 5f6d 7661 222c 2022 766b 5f68 765f  lv_mva", "vk_hv_
+00020f00: 7065 7263 656e 7422 2c20 2276 6b5f 6d76  percent", "vk_mv
+00020f10: 5f70 6572 6365 6e74 222c 2022 766b 5f6c  _percent", "vk_l
+00020f20: 765f 7065 7263 656e 7422 2c0d 0a20 2020  v_percent",..   
+00020f30: 2020 2020 2020 2020 2020 2020 2276 6b72              "vkr
+00020f40: 5f68 765f 7065 7263 656e 7422 2c20 2276  _hv_percent", "v
+00020f50: 6b72 5f6d 765f 7065 7263 656e 7422 2c20  kr_mv_percent", 
+00020f60: 2276 6b72 5f6c 765f 7065 7263 656e 7422  "vkr_lv_percent"
+00020f70: 2c20 2270 6665 5f6b 7722 2c20 2269 305f  , "pfe_kw", "i0_
+00020f80: 7065 7263 656e 7422 2c0d 0a20 2020 2020  percent",..     
+00020f90: 2020 2020 2020 2020 2020 2273 6869 6674            "shift
+00020fa0: 5f6d 765f 6465 6772 6565 222c 2022 7368  _mv_degree", "sh
+00020fb0: 6966 745f 6c76 5f64 6567 7265 6522 2c20  ift_lv_degree", 
+00020fc0: 2274 6170 5f73 6964 6522 2c20 2274 6170  "tap_side", "tap
+00020fd0: 5f73 7465 705f 7065 7263 656e 7422 2c0d  _step_percent",.
+00020fe0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00020ff0: 2274 6170 5f73 7465 705f 6465 6772 6565  "tap_step_degree
+00021000: 222c 2022 7461 705f 706f 7322 2c20 2274  ", "tap_pos", "t
+00021010: 6170 5f6e 6575 7472 616c 222c 2022 7461  ap_neutral", "ta
+00021020: 705f 6d61 7822 2c20 2274 6170 5f6d 696e  p_max", "tap_min
+00021030: 222c 2022 696e 5f73 6572 7669 6365 222c  ", "in_service",
+00021040: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00021050: 2022 6e61 6d65 222c 2022 7374 645f 7479   "name", "std_ty
+00021060: 7065 222c 2022 7461 705f 6174 5f73 7461  pe", "tap_at_sta
+00021070: 725f 706f 696e 7422 2c20 2276 6b30 5f68  r_point", "vk0_h
+00021080: 765f 7065 7263 656e 7422 2c20 2276 6b30  v_percent", "vk0
+00021090: 5f6d 765f 7065 7263 656e 7422 2c20 2276  _mv_percent", "v
+000210a0: 6b30 5f6c 765f 7065 7263 656e 7422 2c0d  k0_lv_percent",.
+000210b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000210c0: 2276 6b72 305f 6876 5f70 6572 6365 6e74  "vkr0_hv_percent
+000210d0: 222c 2022 766b 7230 5f6d 765f 7065 7263  ", "vkr0_mv_perc
+000210e0: 656e 7422 2c20 2276 6b72 305f 6c76 5f70  ent", "vkr0_lv_p
+000210f0: 6572 6365 6e74 222c 2022 7665 6374 6f72  ercent", "vector
+00021100: 5f67 726f 7570 225d 0d0a 2020 2020 7661  _group"]..    va
+00021110: 6c75 6573 203d 205b 6c76 5f62 7573 2c20  lues = [lv_bus, 
+00021120: 6d76 5f62 7573 2c20 6876 5f62 7573 2c20  mv_bus, hv_bus, 
+00021130: 766e 5f68 765f 6b76 2c20 766e 5f6d 765f  vn_hv_kv, vn_mv_
+00021140: 6b76 2c20 766e 5f6c 765f 6b76 2c20 736e  kv, vn_lv_kv, sn
+00021150: 5f68 765f 6d76 612c 2073 6e5f 6d76 5f6d  _hv_mva, sn_mv_m
+00021160: 7661 2c20 736e 5f6c 765f 6d76 612c 0d0a  va, sn_lv_mva,..
+00021170: 2020 2020 2020 2020 2020 2020 2020 766b                vk
+00021180: 5f68 765f 7065 7263 656e 742c 2076 6b5f  _hv_percent, vk_
+00021190: 6d76 5f70 6572 6365 6e74 2c20 766b 5f6c  mv_percent, vk_l
+000211a0: 765f 7065 7263 656e 742c 2076 6b72 5f68  v_percent, vkr_h
+000211b0: 765f 7065 7263 656e 742c 2076 6b72 5f6d  v_percent, vkr_m
+000211c0: 765f 7065 7263 656e 742c 0d0a 2020 2020  v_percent,..    
+000211d0: 2020 2020 2020 2020 2020 766b 725f 6c76            vkr_lv
+000211e0: 5f70 6572 6365 6e74 2c20 7066 655f 6b77  _percent, pfe_kw
+000211f0: 2c20 6930 5f70 6572 6365 6e74 2c20 7368  , i0_percent, sh
+00021200: 6966 745f 6d76 5f64 6567 7265 652c 2073  ift_mv_degree, s
+00021210: 6869 6674 5f6c 765f 6465 6772 6565 2c20  hift_lv_degree, 
+00021220: 7461 705f 7369 6465 2c0d 0a20 2020 2020  tap_side,..     
+00021230: 2020 2020 2020 2020 2074 6170 5f73 7465           tap_ste
+00021240: 705f 7065 7263 656e 742c 2074 6170 5f73  p_percent, tap_s
+00021250: 7465 705f 6465 6772 6565 2c20 7461 705f  tep_degree, tap_
+00021260: 706f 732c 2074 6170 5f6e 6575 7472 616c  pos, tap_neutral
+00021270: 2c20 7461 705f 6d61 782c 2074 6170 5f6d  , tap_max, tap_m
+00021280: 696e 2c0d 0a20 2020 2020 2020 2020 2020  in,..           
+00021290: 2020 2062 6f6f 6c28 696e 5f73 6572 7669     bool(in_servi
+000212a0: 6365 292c 206e 616d 652c 204e 6f6e 652c  ce), name, None,
+000212b0: 2074 6170 5f61 745f 7374 6172 5f70 6f69   tap_at_star_poi
+000212c0: 6e74 2c0d 0a20 2020 2020 2020 2020 2020  nt,..           
+000212d0: 2020 2076 6b30 5f68 765f 7065 7263 656e     vk0_hv_percen
+000212e0: 742c 2076 6b30 5f6d 765f 7065 7263 656e  t, vk0_mv_percen
+000212f0: 742c 2076 6b30 5f6c 765f 7065 7263 656e  t, vk0_lv_percen
+00021300: 742c 0d0a 2020 2020 2020 2020 2020 2020  t,..            
+00021310: 2020 766b 7230 5f68 765f 7065 7263 656e    vkr0_hv_percen
+00021320: 742c 2076 6b72 305f 6d76 5f70 6572 6365  t, vkr0_mv_perce
+00021330: 6e74 2c20 766b 7230 5f6c 765f 7065 7263  nt, vkr0_lv_perc
+00021340: 656e 742c 2076 6563 746f 725f 6772 6f75  ent, vector_grou
+00021350: 705d 0d0a 0d0a 2020 2020 5f73 6574 5f65  p]....    _set_e
+00021360: 6e74 7269 6573 286e 6574 2c20 2274 7261  ntries(net, "tra
+00021370: 666f 3377 222c 2069 6e64 6578 2c20 2a2a  fo3w", index, **
+00021380: 6469 6374 287a 6970 2863 6f6c 756d 6e73  dict(zip(columns
+00021390: 2c20 7661 6c75 6573 2929 290d 0a0d 0a20  , values))).... 
+000213a0: 2020 205f 6372 6561 7465 5f63 6f6c 756d     _create_colum
+000213b0: 6e5f 616e 645f 7365 745f 7661 6c75 6528  n_and_set_value(
+000213c0: 6e65 742c 2069 6e64 6578 2c20 6d61 785f  net, index, max_
+000213d0: 6c6f 6164 696e 675f 7065 7263 656e 742c  loading_percent,
+000213e0: 2022 6d61 785f 6c6f 6164 696e 675f 7065   "max_loading_pe
+000213f0: 7263 656e 7422 2c20 2274 7261 666f 3377  rcent", "trafo3w
+00021400: 2229 0d0a 0d0a 2020 2020 6966 2074 6170  ")....    if tap
+00021410: 5f64 6570 656e 6465 6e74 5f69 6d70 6564  _dependent_imped
+00021420: 616e 6365 2069 7320 6e6f 7420 4e6f 6e65  ance is not None
+00021430: 3a0d 0a20 2020 2020 2020 205f 6372 6561  :..        _crea
+00021440: 7465 5f63 6f6c 756d 6e5f 616e 645f 7365  te_column_and_se
+00021450: 745f 7661 6c75 6528 6e65 742c 2069 6e64  t_value(net, ind
+00021460: 6578 2c20 7461 705f 6465 7065 6e64 656e  ex, tap_dependen
+00021470: 745f 696d 7065 6461 6e63 652c 2022 7461  t_impedance, "ta
+00021480: 705f 6465 7065 6e64 656e 745f 696d 7065  p_dependent_impe
+00021490: 6461 6e63 6522 2c20 2274 7261 666f 222c  dance", "trafo",
+000214a0: 2062 6f6f 6c5f 2c20 4661 6c73 652c 2054   bool_, False, T
+000214b0: 7275 6529 0d0a 2020 2020 6966 2076 6b5f  rue)..    if vk_
+000214c0: 6876 5f70 6572 6365 6e74 5f63 6861 7261  hv_percent_chara
+000214d0: 6374 6572 6973 7469 6320 6973 206e 6f74  cteristic is not
+000214e0: 204e 6f6e 653a 0d0a 2020 2020 2020 2020   None:..        
+000214f0: 5f63 7265 6174 655f 636f 6c75 6d6e 5f61  _create_column_a
+00021500: 6e64 5f73 6574 5f76 616c 7565 286e 6574  nd_set_value(net
+00021510: 2c20 696e 6465 782c 2076 6b5f 6876 5f70  , index, vk_hv_p
+00021520: 6572 6365 6e74 5f63 6861 7261 6374 6572  ercent_character
+00021530: 6973 7469 632c 2022 766b 5f68 765f 7065  istic, "vk_hv_pe
+00021540: 7263 656e 745f 6368 6172 6163 7465 7269  rcent_characteri
+00021550: 7374 6963 222c 2022 7472 6166 6f22 2c20  stic", "trafo", 
+00021560: 2249 6e74 3634 2229 0d0a 2020 2020 6966  "Int64")..    if
+00021570: 2076 6b72 5f68 765f 7065 7263 656e 745f   vkr_hv_percent_
+00021580: 6368 6172 6163 7465 7269 7374 6963 2069  characteristic i
+00021590: 7320 6e6f 7420 4e6f 6e65 3a0d 0a20 2020  s not None:..   
+000215a0: 2020 2020 205f 6372 6561 7465 5f63 6f6c       _create_col
+000215b0: 756d 6e5f 616e 645f 7365 745f 7661 6c75  umn_and_set_valu
+000215c0: 6528 6e65 742c 2069 6e64 6578 2c20 766b  e(net, index, vk
+000215d0: 725f 6876 5f70 6572 6365 6e74 5f63 6861  r_hv_percent_cha
+000215e0: 7261 6374 6572 6973 7469 632c 2022 766b  racteristic, "vk
+000215f0: 725f 6876 5f70 6572 6365 6e74 5f63 6861  r_hv_percent_cha
+00021600: 7261 6374 6572 6973 7469 6322 2c20 2274  racteristic", "t
+00021610: 7261 666f 222c 2022 496e 7436 3422 290d  rafo", "Int64").
+00021620: 0a20 2020 2069 6620 766b 5f6d 765f 7065  .    if vk_mv_pe
+00021630: 7263 656e 745f 6368 6172 6163 7465 7269  rcent_characteri
+00021640: 7374 6963 2069 7320 6e6f 7420 4e6f 6e65  stic is not None
+00021650: 3a0d 0a20 2020 2020 2020 205f 6372 6561  :..        _crea
+00021660: 7465 5f63 6f6c 756d 6e5f 616e 645f 7365  te_column_and_se
+00021670: 745f 7661 6c75 6528 6e65 742c 2069 6e64  t_value(net, ind
+00021680: 6578 2c20 766b 5f6d 765f 7065 7263 656e  ex, vk_mv_percen
+00021690: 745f 6368 6172 6163 7465 7269 7374 6963  t_characteristic
+000216a0: 2c20 2276 6b5f 6d76 5f70 6572 6365 6e74  , "vk_mv_percent
+000216b0: 5f63 6861 7261 6374 6572 6973 7469 6322  _characteristic"
+000216c0: 2c20 2274 7261 666f 222c 2022 496e 7436  , "trafo", "Int6
+000216d0: 3422 290d 0a20 2020 2069 6620 766b 725f  4")..    if vkr_
+000216e0: 6d76 5f70 6572 6365 6e74 5f63 6861 7261  mv_percent_chara
+000216f0: 6374 6572 6973 7469 6320 6973 206e 6f74  cteristic is not
+00021700: 204e 6f6e 653a 0d0a 2020 2020 2020 2020   None:..        
+00021710: 5f63 7265 6174 655f 636f 6c75 6d6e 5f61  _create_column_a
+00021720: 6e64 5f73 6574 5f76 616c 7565 286e 6574  nd_set_value(net
+00021730: 2c20 696e 6465 782c 2076 6b72 5f6d 765f  , index, vkr_mv_
+00021740: 7065 7263 656e 745f 6368 6172 6163 7465  percent_characte
+00021750: 7269 7374 6963 2c20 2276 6b72 5f6d 765f  ristic, "vkr_mv_
+00021760: 7065 7263 656e 745f 6368 6172 6163 7465  percent_characte
+00021770: 7269 7374 6963 222c 2022 7472 6166 6f22  ristic", "trafo"
+00021780: 2c20 2249 6e74 3634 2229 0d0a 2020 2020  , "Int64")..    
+00021790: 6966 2076 6b5f 6c76 5f70 6572 6365 6e74  if vk_lv_percent
+000217a0: 5f63 6861 7261 6374 6572 6973 7469 6320  _characteristic 
+000217b0: 6973 206e 6f74 204e 6f6e 653a 0d0a 2020  is not None:..  
+000217c0: 2020 2020 2020 5f63 7265 6174 655f 636f        _create_co
+000217d0: 6c75 6d6e 5f61 6e64 5f73 6574 5f76 616c  lumn_and_set_val
+000217e0: 7565 286e 6574 2c20 696e 6465 782c 2076  ue(net, index, v
+000217f0: 6b5f 6c76 5f70 6572 6365 6e74 5f63 6861  k_lv_percent_cha
+00021800: 7261 6374 6572 6973 7469 632c 2022 766b  racteristic, "vk
+00021810: 5f6c 765f 7065 7263 656e 745f 6368 6172  _lv_percent_char
+00021820: 6163 7465 7269 7374 6963 222c 2022 7472  acteristic", "tr
+00021830: 6166 6f22 2c20 2249 6e74 3634 2229 0d0a  afo", "Int64")..
+00021840: 2020 2020 6966 2076 6b72 5f6c 765f 7065      if vkr_lv_pe
+00021850: 7263 656e 745f 6368 6172 6163 7465 7269  rcent_characteri
+00021860: 7374 6963 2069 7320 6e6f 7420 4e6f 6e65  stic is not None
+00021870: 3a0d 0a20 2020 2020 2020 205f 6372 6561  :..        _crea
+00021880: 7465 5f63 6f6c 756d 6e5f 616e 645f 7365  te_column_and_se
+00021890: 745f 7661 6c75 6528 6e65 742c 2069 6e64  t_value(net, ind
+000218a0: 6578 2c20 766b 725f 6c76 5f70 6572 6365  ex, vkr_lv_perce
+000218b0: 6e74 5f63 6861 7261 6374 6572 6973 7469  nt_characteristi
+000218c0: 632c 2022 766b 725f 6c76 5f70 6572 6365  c, "vkr_lv_perce
+000218d0: 6e74 5f63 6861 7261 6374 6572 6973 7469  nt_characteristi
+000218e0: 6322 2c20 2274 7261 666f 222c 2022 496e  c", "trafo", "In
+000218f0: 7436 3422 290d 0a0d 0a20 2020 2072 6574  t64")....    ret
+00021900: 7572 6e20 696e 6465 780d 0a0d 0a0d 0a64  urn index......d
+00021910: 6566 2063 7265 6174 655f 7472 616e 7366  ef create_transf
+00021920: 6f72 6d65 7273 3377 5f66 726f 6d5f 7061  ormers3w_from_pa
+00021930: 7261 6d65 7465 7273 286e 6574 2c20 6876  rameters(net, hv
+00021940: 5f62 7573 6573 2c20 6d76 5f62 7573 6573  _buses, mv_buses
+00021950: 2c20 6c76 5f62 7573 6573 2c20 766e 5f68  , lv_buses, vn_h
+00021960: 765f 6b76 2c20 766e 5f6d 765f 6b76 2c0d  v_kv, vn_mv_kv,.
+00021970: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00021980: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021990: 2020 2020 2020 2020 2020 2076 6e5f 6c76             vn_lv
+000219a0: 5f6b 762c 2073 6e5f 6876 5f6d 7661 2c20  _kv, sn_hv_mva, 
+000219b0: 736e 5f6d 765f 6d76 612c 2073 6e5f 6c76  sn_mv_mva, sn_lv
+000219c0: 5f6d 7661 2c20 766b 5f68 765f 7065 7263  _mva, vk_hv_perc
+000219d0: 656e 742c 0d0a 2020 2020 2020 2020 2020  ent,..          
 000219e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000219f0: 2076 6b5f 6d76 5f70 6572 6365 6e74 2c20   vk_mv_percent, 
-00021a00: 766b 5f6c 765f 7065 7263 656e 742c 2076  vk_lv_percent, v
-00021a10: 6b72 5f68 765f 7065 7263 656e 742c 0d0a  kr_hv_percent,..
-00021a20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000219f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021a00: 766b 5f6d 765f 7065 7263 656e 742c 2076  vk_mv_percent, v
+00021a10: 6b5f 6c76 5f70 6572 6365 6e74 2c20 766b  k_lv_percent, vk
+00021a20: 725f 6876 5f70 6572 6365 6e74 2c0d 0a20  r_hv_percent,.. 
 00021a30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00021a40: 2020 2020 2020 2020 2020 766b 725f 6d76            vkr_mv
-00021a50: 5f70 6572 6365 6e74 2c20 766b 725f 6c76  _percent, vkr_lv
-00021a60: 5f70 6572 6365 6e74 2c20 7066 655f 6b77  _percent, pfe_kw
-00021a70: 2c20 6930 5f70 6572 6365 6e74 2c0d 0a20  , i0_percent,.. 
-00021a80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021a40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021a50: 2020 2020 2020 2020 2076 6b72 5f6d 765f           vkr_mv_
+00021a60: 7065 7263 656e 742c 2076 6b72 5f6c 765f  percent, vkr_lv_
+00021a70: 7065 7263 656e 742c 2070 6665 5f6b 772c  percent, pfe_kw,
+00021a80: 2069 305f 7065 7263 656e 742c 0d0a 2020   i0_percent,..  
 00021a90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00021aa0: 2020 2020 2020 2020 2073 6869 6674 5f6d           shift_m
-00021ab0: 765f 6465 6772 6565 3d30 2e2c 2073 6869  v_degree=0., shi
-00021ac0: 6674 5f6c 765f 6465 6772 6565 3d30 2e2c  ft_lv_degree=0.,
-00021ad0: 2074 6170 5f73 6964 653d 4e6f 6e65 2c0d   tap_side=None,.
-00021ae0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00021aa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021ab0: 2020 2020 2020 2020 7368 6966 745f 6d76          shift_mv
+00021ac0: 5f64 6567 7265 653d 302e 2c20 7368 6966  _degree=0., shif
+00021ad0: 745f 6c76 5f64 6567 7265 653d 302e 2c20  t_lv_degree=0., 
+00021ae0: 7461 705f 7369 6465 3d4e 6f6e 652c 0d0a  tap_side=None,..
 00021af0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00021b00: 2020 2020 2020 2020 2020 2074 6170 5f73             tap_s
-00021b10: 7465 705f 7065 7263 656e 743d 6e61 6e2c  tep_percent=nan,
-00021b20: 2074 6170 5f73 7465 705f 6465 6772 6565   tap_step_degree
-00021b30: 3d6e 616e 2c20 7461 705f 706f 733d 6e61  =nan, tap_pos=na
-00021b40: 6e2c 0d0a 2020 2020 2020 2020 2020 2020  n,..            
-00021b50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00021b60: 2020 2020 2020 2020 2020 2020 2020 7461                ta
-00021b70: 705f 6e65 7574 7261 6c3d 6e61 6e2c 2074  p_neutral=nan, t
-00021b80: 6170 5f6d 6178 3d6e 616e 2c20 7461 705f  ap_max=nan, tap_
-00021b90: 6d69 6e3d 6e61 6e2c 206e 616d 653d 4e6f  min=nan, name=No
-00021ba0: 6e65 2c0d 0a20 2020 2020 2020 2020 2020  ne,..           
-00021bb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00021bc0: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-00021bd0: 6e5f 7365 7276 6963 653d 5472 7565 2c20  n_service=True, 
-00021be0: 696e 6465 783d 4e6f 6e65 2c20 6d61 785f  index=None, max_
-00021bf0: 6c6f 6164 696e 675f 7065 7263 656e 743d  loading_percent=
-00021c00: 4e6f 6e65 2c0d 0a20 2020 2020 2020 2020  None,..         
-00021c10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021b00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021b10: 2020 2020 2020 2020 2020 7461 705f 7374            tap_st
+00021b20: 6570 5f70 6572 6365 6e74 3d6e 616e 2c20  ep_percent=nan, 
+00021b30: 7461 705f 7374 6570 5f64 6567 7265 653d  tap_step_degree=
+00021b40: 6e61 6e2c 2074 6170 5f70 6f73 3d6e 616e  nan, tap_pos=nan
+00021b50: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
+00021b60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021b70: 2020 2020 2020 2020 2020 2020 2074 6170               tap
+00021b80: 5f6e 6575 7472 616c 3d6e 616e 2c20 7461  _neutral=nan, ta
+00021b90: 705f 6d61 783d 6e61 6e2c 2074 6170 5f6d  p_max=nan, tap_m
+00021ba0: 696e 3d6e 616e 2c20 6e61 6d65 3d4e 6f6e  in=nan, name=Non
+00021bb0: 652c 0d0a 2020 2020 2020 2020 2020 2020  e,..            
+00021bc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021bd0: 2020 2020 2020 2020 2020 2020 2020 696e                in
+00021be0: 5f73 6572 7669 6365 3d54 7275 652c 2069  _service=True, i
+00021bf0: 6e64 6578 3d4e 6f6e 652c 206d 6178 5f6c  ndex=None, max_l
+00021c00: 6f61 6469 6e67 5f70 6572 6365 6e74 3d4e  oading_percent=N
+00021c10: 6f6e 652c 0d0a 2020 2020 2020 2020 2020  one,..          
 00021c20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00021c30: 2074 6170 5f61 745f 7374 6172 5f70 6f69   tap_at_star_poi
-00021c40: 6e74 3d46 616c 7365 2c0d 0a20 2020 2020  nt=False,..     
-00021c50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021c30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021c40: 7461 705f 6174 5f73 7461 725f 706f 696e  tap_at_star_poin
+00021c50: 743d 4661 6c73 652c 0d0a 2020 2020 2020  t=False,..      
 00021c60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00021c70: 2020 2020 2076 6b30 5f68 765f 7065 7263       vk0_hv_perc
-00021c80: 656e 743d 6e61 6e2c 2076 6b30 5f6d 765f  ent=nan, vk0_mv_
-00021c90: 7065 7263 656e 743d 6e61 6e2c 2076 6b30  percent=nan, vk0
-00021ca0: 5f6c 765f 7065 7263 656e 743d 6e61 6e2c  _lv_percent=nan,
-00021cb0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00021cc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00021cd0: 2020 2020 2020 2020 2020 2020 766b 7230              vkr0
-00021ce0: 5f68 765f 7065 7263 656e 743d 6e61 6e2c  _hv_percent=nan,
-00021cf0: 2076 6b72 305f 6d76 5f70 6572 6365 6e74   vkr0_mv_percent
-00021d00: 3d6e 616e 2c20 766b 7230 5f6c 765f 7065  =nan, vkr0_lv_pe
-00021d10: 7263 656e 743d 6e61 6e2c 0d0a 2020 2020  rcent=nan,..    
-00021d20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021c70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021c80: 2020 2020 766b 305f 6876 5f70 6572 6365      vk0_hv_perce
+00021c90: 6e74 3d6e 616e 2c20 766b 305f 6d76 5f70  nt=nan, vk0_mv_p
+00021ca0: 6572 6365 6e74 3d6e 616e 2c20 766b 305f  ercent=nan, vk0_
+00021cb0: 6c76 5f70 6572 6365 6e74 3d6e 616e 2c0d  lv_percent=nan,.
+00021cc0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00021cd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021ce0: 2020 2020 2020 2020 2020 2076 6b72 305f             vkr0_
+00021cf0: 6876 5f70 6572 6365 6e74 3d6e 616e 2c20  hv_percent=nan, 
+00021d00: 766b 7230 5f6d 765f 7065 7263 656e 743d  vkr0_mv_percent=
+00021d10: 6e61 6e2c 2076 6b72 305f 6c76 5f70 6572  nan, vkr0_lv_per
+00021d20: 6365 6e74 3d6e 616e 2c0d 0a20 2020 2020  cent=nan,..     
 00021d30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00021d40: 2020 2020 2020 7665 6374 6f72 5f67 726f        vector_gro
-00021d50: 7570 3d4e 6f6e 652c 2074 6170 5f64 6570  up=None, tap_dep
-00021d60: 656e 6465 6e74 5f69 6d70 6564 616e 6365  endent_impedance
-00021d70: 3d4e 6f6e 652c 0d0a 2020 2020 2020 2020  =None,..        
-00021d80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021d40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021d50: 2020 2020 2076 6563 746f 725f 6772 6f75       vector_grou
+00021d60: 703d 4e6f 6e65 2c20 7461 705f 6465 7065  p=None, tap_depe
+00021d70: 6e64 656e 745f 696d 7065 6461 6e63 653d  ndent_impedance=
+00021d80: 4e6f 6e65 2c0d 0a20 2020 2020 2020 2020  None,..         
 00021d90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00021da0: 2020 766b 5f68 765f 7065 7263 656e 745f    vk_hv_percent_
-00021db0: 6368 6172 6163 7465 7269 7374 6963 3d4e  characteristic=N
-00021dc0: 6f6e 652c 2076 6b72 5f68 765f 7065 7263  one, vkr_hv_perc
-00021dd0: 656e 745f 6368 6172 6163 7465 7269 7374  ent_characterist
-00021de0: 6963 3d4e 6f6e 652c 0d0a 2020 2020 2020  ic=None,..      
-00021df0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021da0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021db0: 2076 6b5f 6876 5f70 6572 6365 6e74 5f63   vk_hv_percent_c
+00021dc0: 6861 7261 6374 6572 6973 7469 633d 4e6f  haracteristic=No
+00021dd0: 6e65 2c20 766b 725f 6876 5f70 6572 6365  ne, vkr_hv_perce
+00021de0: 6e74 5f63 6861 7261 6374 6572 6973 7469  nt_characteristi
+00021df0: 633d 4e6f 6e65 2c0d 0a20 2020 2020 2020  c=None,..       
 00021e00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00021e10: 2020 2020 766b 5f6d 765f 7065 7263 656e      vk_mv_percen
-00021e20: 745f 6368 6172 6163 7465 7269 7374 6963  t_characteristic
-00021e30: 3d4e 6f6e 652c 2076 6b72 5f6d 765f 7065  =None, vkr_mv_pe
-00021e40: 7263 656e 745f 6368 6172 6163 7465 7269  rcent_characteri
-00021e50: 7374 6963 3d4e 6f6e 652c 0d0a 2020 2020  stic=None,..    
-00021e60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021e10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021e20: 2020 2076 6b5f 6d76 5f70 6572 6365 6e74     vk_mv_percent
+00021e30: 5f63 6861 7261 6374 6572 6973 7469 633d  _characteristic=
+00021e40: 4e6f 6e65 2c20 766b 725f 6d76 5f70 6572  None, vkr_mv_per
+00021e50: 6365 6e74 5f63 6861 7261 6374 6572 6973  cent_characteris
+00021e60: 7469 633d 4e6f 6e65 2c0d 0a20 2020 2020  tic=None,..     
 00021e70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00021e80: 2020 2020 2020 766b 5f6c 765f 7065 7263        vk_lv_perc
-00021e90: 656e 745f 6368 6172 6163 7465 7269 7374  ent_characterist
-00021ea0: 6963 3d4e 6f6e 652c 2076 6b72 5f6c 765f  ic=None, vkr_lv_
-00021eb0: 7065 7263 656e 745f 6368 6172 6163 7465  percent_characte
-00021ec0: 7269 7374 6963 3d4e 6f6e 652c 202a 2a6b  ristic=None, **k
-00021ed0: 7761 7267 7329 3a0d 0a20 2020 2022 2222  wargs):..    """
-00021ee0: 0d0a 2020 2020 4164 6473 2061 2074 6872  ..    Adds a thr
-00021ef0: 6565 2d77 696e 6469 6e67 2074 7261 6e73  ee-winding trans
-00021f00: 666f 726d 6572 2069 6e20 7461 626c 6520  former in table 
-00021f10: 6e65 745b 2274 7261 666f 3377 225d 2e0d  net["trafo3w"]..
-00021f20: 0a0d 0a20 2020 2049 6e70 7574 3a0d 0a20  ...    Input:.. 
-00021f30: 2020 2020 2020 202a 2a6e 6574 2a2a 2028         **net** (
-00021f40: 7061 6e64 6170 6f77 6572 4e65 7429 202d  pandapowerNet) -
-00021f50: 2054 6865 206e 6574 2077 6974 6869 6e20   The net within 
-00021f60: 7468 6973 2074 7261 6e73 666f 726d 6572  this transformer
-00021f70: 2073 686f 756c 6420 6265 2063 7265 6174   should be creat
-00021f80: 6564 0d0a 0d0a 2020 2020 2020 2020 2a2a  ed....        **
-00021f90: 6876 5f62 7573 2a2a 2028 6c69 7374 2920  hv_bus** (list) 
-00021fa0: 2d20 5468 6520 6275 7320 6f6e 2074 6865  - The bus on the
-00021fb0: 2068 6967 682d 766f 6c74 6167 6520 7369   high-voltage si
-00021fc0: 6465 206f 6e20 7768 6963 6820 7468 6520  de on which the 
-00021fd0: 7472 616e 7366 6f72 6d65 7220 7769 6c6c  transformer will
-00021fe0: 2062 6520 5c0d 0a20 2020 2020 2020 2020   be \..         
-00021ff0: 2020 2063 6f6e 6e65 6374 6564 2074 6f0d     connected to.
-00022000: 0a0d 0a20 2020 2020 2020 202a 2a6d 765f  ...        **mv_
-00022010: 6275 732a 2a20 286c 6973 7429 202d 2054  bus** (list) - T
-00022020: 6865 2062 7573 206f 6e20 7468 6520 6d69  he bus on the mi
-00022030: 6464 6c65 2d76 6f6c 7461 6765 2073 6964  ddle-voltage sid
-00022040: 6520 6f6e 2077 6869 6368 2074 6865 2074  e on which the t
-00022050: 7261 6e73 666f 726d 6572 2077 696c 6c20  ransformer will 
-00022060: 6265 205c 0d0a 2020 2020 2020 2020 2020  be \..          
-00022070: 2020 636f 6e6e 6563 7465 6420 746f 0d0a    connected to..
-00022080: 0d0a 2020 2020 2020 2020 2a2a 6c76 5f62  ..        **lv_b
-00022090: 7573 2a2a 2028 6c69 7374 2920 2d20 5468  us** (list) - Th
-000220a0: 6520 6275 7320 6f6e 2074 6865 206c 6f77  e bus on the low
-000220b0: 2d76 6f6c 7461 6765 2073 6964 6520 6f6e  -voltage side on
-000220c0: 2077 6869 6368 2074 6865 2074 7261 6e73   which the trans
-000220d0: 666f 726d 6572 2077 696c 6c20 6265 205c  former will be \
-000220e0: 0d0a 2020 2020 2020 2020 2020 2020 636f  ..            co
-000220f0: 6e6e 6563 7465 6420 746f 0d0a 0d0a 2020  nnected to....  
-00022100: 2020 2020 2020 2a2a 766e 5f68 765f 6b76        **vn_hv_kv
-00022110: 2a2a 2028 666c 6f61 7420 6f72 206c 6973  ** (float or lis
-00022120: 7429 2072 6174 6564 2076 6f6c 7461 6765  t) rated voltage
-00022130: 206f 6e20 6869 6768 2076 6f6c 7461 6765   on high voltage
-00022140: 2073 6964 650d 0a0d 0a20 2020 2020 2020   side....       
-00022150: 202a 2a76 6e5f 6d76 5f6b 762a 2a20 2866   **vn_mv_kv** (f
-00022160: 6c6f 6174 206f 7220 6c69 7374 2920 7261  loat or list) ra
-00022170: 7465 6420 766f 6c74 6167 6520 6f6e 206d  ted voltage on m
-00022180: 6564 6975 6d20 766f 6c74 6167 6520 7369  edium voltage si
-00022190: 6465 0d0a 0d0a 2020 2020 2020 2020 2a2a  de....        **
-000221a0: 766e 5f6c 765f 6b76 2a2a 2028 666c 6f61  vn_lv_kv** (floa
-000221b0: 7420 6f72 206c 6973 7429 2072 6174 6564  t or list) rated
-000221c0: 2076 6f6c 7461 6765 206f 6e20 6c6f 7720   voltage on low 
-000221d0: 766f 6c74 6167 6520 7369 6465 0d0a 0d0a  voltage side....
-000221e0: 2020 2020 2020 2020 2a2a 736e 5f68 765f          **sn_hv_
-000221f0: 6d76 612a 2a20 2866 6c6f 6174 206f 7220  mva** (float or 
-00022200: 6c69 7374 2920 2d20 7261 7465 6420 6170  list) - rated ap
-00022210: 7061 7265 6e74 2070 6f77 6572 206f 6e20  parent power on 
-00022220: 6869 6768 2076 6f6c 7461 6765 2073 6964  high voltage sid
-00022230: 650d 0a0d 0a20 2020 2020 2020 202a 2a73  e....        **s
-00022240: 6e5f 6d76 5f6d 7661 2a2a 2028 666c 6f61  n_mv_mva** (floa
-00022250: 7420 6f72 206c 6973 7429 202d 2072 6174  t or list) - rat
-00022260: 6564 2061 7070 6172 656e 7420 706f 7765  ed apparent powe
-00022270: 7220 6f6e 206d 6564 6975 6d20 766f 6c74  r on medium volt
-00022280: 6167 6520 7369 6465 0d0a 0d0a 2020 2020  age side....    
-00022290: 2020 2020 2a2a 736e 5f6c 765f 6d76 612a      **sn_lv_mva*
-000222a0: 2a20 2866 6c6f 6174 206f 7220 6c69 7374  * (float or list
-000222b0: 2920 2d20 7261 7465 6420 6170 7061 7265  ) - rated appare
-000222c0: 6e74 2070 6f77 6572 206f 6e20 6c6f 7720  nt power on low 
-000222d0: 766f 6c74 6167 6520 7369 6465 0d0a 0d0a  voltage side....
-000222e0: 2020 2020 2020 2020 2a2a 766b 5f68 765f          **vk_hv_
-000222f0: 7065 7263 656e 742a 2a20 2866 6c6f 6174  percent** (float
-00022300: 206f 7220 6c69 7374 2920 2d20 7368 6f72   or list) - shor
-00022310: 7420 6369 7263 7569 7420 766f 6c74 6167  t circuit voltag
-00022320: 6520 6672 6f6d 2068 6967 6820 746f 206d  e from high to m
-00022330: 6564 6975 6d20 766f 6c74 6167 650d 0a0d  edium voltage...
-00022340: 0a20 2020 2020 2020 202a 2a76 6b5f 6d76  .        **vk_mv
-00022350: 5f70 6572 6365 6e74 2a2a 2028 666c 6f61  _percent** (floa
-00022360: 7420 6f72 206c 6973 7429 202d 2073 686f  t or list) - sho
-00022370: 7274 2063 6972 6375 6974 2076 6f6c 7461  rt circuit volta
-00022380: 6765 2066 726f 6d20 6d65 6469 756d 2074  ge from medium t
-00022390: 6f20 6c6f 7720 766f 6c74 6167 650d 0a0d  o low voltage...
-000223a0: 0a20 2020 2020 2020 202a 2a76 6b5f 6c76  .        **vk_lv
-000223b0: 5f70 6572 6365 6e74 2a2a 2028 666c 6f61  _percent** (floa
-000223c0: 7420 6f72 206c 6973 7429 202d 2073 686f  t or list) - sho
-000223d0: 7274 2063 6972 6375 6974 2076 6f6c 7461  rt circuit volta
-000223e0: 6765 2066 726f 6d20 6869 6768 2074 6f20  ge from high to 
-000223f0: 6c6f 7720 766f 6c74 6167 650d 0a0d 0a20  low voltage.... 
-00022400: 2020 2020 2020 202a 2a76 6b72 5f68 765f         **vkr_hv_
-00022410: 7065 7263 656e 742a 2a20 2866 6c6f 6174  percent** (float
-00022420: 206f 7220 6c69 7374 2920 2d20 7265 616c   or list) - real
-00022430: 2070 6172 7420 6f66 2073 686f 7274 2063   part of short c
-00022440: 6972 6375 6974 2076 6f6c 7461 6765 2066  ircuit voltage f
-00022450: 726f 6d20 6869 6768 2074 6f20 6d65 6469  rom high to medi
-00022460: 756d 5c0d 0a20 2020 2020 2020 2020 2020  um\..           
-00022470: 2076 6f6c 7461 6765 0d0a 0d0a 2020 2020   voltage....    
-00022480: 2020 2020 2a2a 766b 725f 6d76 5f70 6572      **vkr_mv_per
-00022490: 6365 6e74 2a2a 2028 666c 6f61 7420 6f72  cent** (float or
-000224a0: 206c 6973 7429 202d 2072 6561 6c20 7061   list) - real pa
-000224b0: 7274 206f 6620 7368 6f72 7420 6369 7263  rt of short circ
-000224c0: 7569 7420 766f 6c74 6167 6520 6672 6f6d  uit voltage from
-000224d0: 206d 6564 6975 6d20 746f 206c 6f77 5c0d   medium to low\.
-000224e0: 0a20 2020 2020 2020 2020 2020 2076 6f6c  .            vol
-000224f0: 7461 6765 0d0a 0d0a 2020 2020 2020 2020  tage....        
-00022500: 2a2a 766b 725f 6c76 5f70 6572 6365 6e74  **vkr_lv_percent
-00022510: 2a2a 2028 666c 6f61 7420 6f72 206c 6973  ** (float or lis
-00022520: 7429 202d 2072 6561 6c20 7061 7274 206f  t) - real part o
-00022530: 6620 7368 6f72 7420 6369 7263 7569 7420  f short circuit 
-00022540: 766f 6c74 6167 6520 6672 6f6d 2068 6967  voltage from hig
-00022550: 6820 746f 206c 6f77 5c0d 0a20 2020 2020  h to low\..     
-00022560: 2020 2020 2020 2076 6f6c 7461 6765 0d0a         voltage..
-00022570: 0d0a 2020 2020 2020 2020 2a2a 7066 655f  ..        **pfe_
-00022580: 6b77 2a2a 2028 666c 6f61 7420 6f72 206c  kw** (float or l
-00022590: 6973 7429 202d 2069 726f 6e20 6c6f 7373  ist) - iron loss
-000225a0: 6573 2069 6e20 6b57 0d0a 0d0a 2020 2020  es in kW....    
-000225b0: 2020 2020 2a2a 6930 5f70 6572 6365 6e74      **i0_percent
-000225c0: 2a2a 2028 666c 6f61 7420 6f72 206c 6973  ** (float or lis
-000225d0: 7429 202d 206f 7065 6e20 6c6f 6f70 206c  t) - open loop l
-000225e0: 6f73 7365 730d 0a0d 0a20 2020 204f 5054  osses....    OPT
-000225f0: 494f 4e41 4c3a 0d0a 2020 2020 2020 2020  IONAL:..        
-00022600: 2a2a 7368 6966 745f 6d76 5f64 6567 7265  **shift_mv_degre
-00022610: 652a 2a20 2866 6c6f 6174 206f 7220 6c69  e** (float or li
-00022620: 7374 2c20 3029 202d 2061 6e67 6c65 2073  st, 0) - angle s
-00022630: 6869 6674 2074 6f20 6d65 6469 756d 2076  hift to medium v
-00022640: 6f6c 7461 6765 2073 6964 652a 0d0a 0d0a  oltage side*....
-00022650: 2020 2020 2020 2020 2a2a 7368 6966 745f          **shift_
-00022660: 6c76 5f64 6567 7265 652a 2a20 2866 6c6f  lv_degree** (flo
-00022670: 6174 206f 7220 6c69 7374 2c20 3029 202d  at or list, 0) -
-00022680: 2061 6e67 6c65 2073 6869 6674 2074 6f20   angle shift to 
-00022690: 6c6f 7720 766f 6c74 6167 6520 7369 6465  low voltage side
-000226a0: 2a0d 0a0d 0a20 2020 2020 2020 202a 2a74  *....        **t
-000226b0: 6170 5f73 7465 705f 7065 7263 656e 742a  ap_step_percent*
-000226c0: 2a20 2866 6c6f 6174 206f 7220 6c69 7374  * (float or list
-000226d0: 2920 2d20 5461 7020 7374 6570 2069 6e20  ) - Tap step in 
-000226e0: 7065 7263 656e 740d 0a0d 0a20 2020 2020  percent....     
-000226f0: 2020 202a 2a74 6170 5f73 7465 705f 6465     **tap_step_de
-00022700: 6772 6565 2a2a 2028 666c 6f61 7420 6f72  gree** (float or
-00022710: 206c 6973 7429 202d 2054 6170 2070 6861   list) - Tap pha
-00022720: 7365 2073 6869 6674 2061 6e67 6c65 2069  se shift angle i
-00022730: 6e20 6465 6772 6565 730d 0a0d 0a20 2020  n degrees....   
-00022740: 2020 2020 202a 2a74 6170 5f73 6964 652a       **tap_side*
-00022750: 2a20 2873 7472 696e 672c 204e 6f6e 6529  * (string, None)
-00022760: 202d 2022 6876 222c 2022 6d76 222c 2022   - "hv", "mv", "
-00022770: 6c76 220d 0a0d 0a20 2020 2020 2020 202a  lv"....        *
-00022780: 2a74 6170 5f6e 6575 7472 616c 2a2a 2028  *tap_neutral** (
-00022790: 696e 742c 206e 616e 2920 2d20 6465 6661  int, nan) - defa
-000227a0: 756c 7420 7461 7020 706f 7369 7469 6f6e  ult tap position
-000227b0: 0d0a 0d0a 2020 2020 2020 2020 2a2a 7461  ....        **ta
-000227c0: 705f 6d69 6e2a 2a20 2869 6e74 2c20 6e61  p_min** (int, na
-000227d0: 6e29 202d 204d 696e 696d 756d 2074 6170  n) - Minimum tap
-000227e0: 2070 6f73 6974 696f 6e0d 0a0d 0a20 2020   position....   
-000227f0: 2020 2020 202a 2a74 6170 5f6d 6178 2a2a       **tap_max**
-00022800: 2028 696e 742c 206e 616e 2920 2d20 4d61   (int, nan) - Ma
-00022810: 7869 6d75 6d20 7461 7020 706f 7369 7469  ximum tap positi
-00022820: 6f6e 0d0a 0d0a 2020 2020 2020 2020 2a2a  on....        **
-00022830: 7461 705f 706f 732a 2a20 2869 6e74 2c20  tap_pos** (int, 
-00022840: 6e61 6e29 202d 2063 7572 7265 6e74 2074  nan) - current t
-00022850: 6170 2070 6f73 6974 696f 6e20 6f66 2074  ap position of t
-00022860: 6865 2074 7261 6e73 666f 726d 6572 2e20  he transformer. 
-00022870: 4465 6661 756c 7473 2074 6f20 7468 6520  Defaults to the 
-00022880: 5c0d 0a20 2020 2020 2020 2020 2020 206d  \..            m
-00022890: 6564 6975 6d20 706f 7369 7469 6f6e 2028  edium position (
-000228a0: 7461 705f 6e65 7574 7261 6c29 0d0a 0d0a  tap_neutral)....
-000228b0: 2020 2020 2020 2020 2a2a 7461 705f 6174          **tap_at
-000228c0: 5f73 7461 725f 706f 696e 742a 2a20 2862  _star_point** (b
-000228d0: 6f6f 6c65 616e 2920 2d20 5768 6574 6865  oolean) - Whethe
-000228e0: 7220 7461 7020 6368 616e 6765 7220 6973  r tap changer is
-000228f0: 206c 6f63 6174 6564 2061 7420 7468 6520   located at the 
-00022900: 7374 6172 2070 6f69 6e74 206f 6620 7468  star point of th
-00022910: 6520 5c0d 0a20 2020 2020 2020 2020 2020  e \..           
-00022920: 2033 572d 7472 616e 7366 6f72 6d65 7220   3W-transformer 
-00022930: 6f72 2061 7420 7468 6520 6275 730d 0a0d  or at the bus...
-00022940: 0a20 2020 2020 2020 202a 2a6e 616d 652a  .        **name*
-00022950: 2a20 2873 7472 696e 672c 204e 6f6e 6529  * (string, None)
-00022960: 202d 204e 616d 6520 6f66 2074 6865 2033   - Name of the 3
-00022970: 2d77 696e 6469 6e67 2074 7261 6e73 666f  -winding transfo
-00022980: 726d 6572 0d0a 0d0a 2020 2020 2020 2020  rmer....        
-00022990: 2a2a 696e 5f73 6572 7669 6365 2a2a 2028  **in_service** (
-000229a0: 626f 6f6c 6561 6e2c 2054 7275 6529 202d  boolean, True) -
-000229b0: 2054 7275 6520 666f 7220 696e 5f73 6572   True for in_ser
-000229c0: 7669 6365 206f 7220 4661 6c73 6520 666f  vice or False fo
-000229d0: 7220 6f75 7420 6f66 2073 6572 7669 6365  r out of service
-000229e0: 0d0a 0d0a 2020 2020 2020 2020 2a2a 206f  ....        ** o
-000229f0: 6e6c 7920 636f 6e73 6964 6572 6564 2069  nly considered i
-00022a00: 6e20 6c6f 6164 666c 6f77 2069 6620 6361  n loadflow if ca
-00022a10: 6c63 756c 6174 655f 766f 6c74 6167 655f  lculate_voltage_
-00022a20: 616e 676c 6573 203d 2054 7275 650d 0a20  angles = True.. 
-00022a30: 2020 2020 2020 202a 2a54 6865 206d 6f64         **The mod
-00022a40: 656c 2063 7572 7265 6e74 6c79 206f 6e6c  el currently onl
-00022a50: 7920 7375 7070 6f72 7473 206f 6e65 2074  y supports one t
-00022a60: 6170 2d63 6861 6e67 6572 2070 6572 2033  ap-changer per 3
-00022a70: 5720 5472 616e 7366 6f72 6d65 722e 0d0a  W Transformer...
-00022a80: 0d0a 2020 2020 2020 2020 2a2a 6d61 785f  ..        **max_
-00022a90: 6c6f 6164 696e 675f 7065 7263 656e 7420  loading_percent 
-00022aa0: 2866 6c6f 6174 292a 2a20 2d20 6d61 7869  (float)** - maxi
-00022ab0: 6d75 6d20 6375 7272 656e 7420 6c6f 6164  mum current load
-00022ac0: 696e 6720 286f 6e6c 7920 6e65 6564 6564  ing (only needed
-00022ad0: 2066 6f72 204f 5046 290d 0a0d 0a20 2020   for OPF)....   
-00022ae0: 2020 2020 202a 2a74 6170 5f64 6570 656e       **tap_depen
-00022af0: 6465 6e74 5f69 6d70 6564 616e 6365 2a2a  dent_impedance**
-00022b00: 2028 626f 6f6c 6561 6e29 202d 2054 7275   (boolean) - Tru
-00022b10: 6520 6966 2074 7261 6e73 666f 726d 6572  e if transformer
-00022b20: 2069 6d70 6564 616e 6365 206d 7573 7420   impedance must 
-00022b30: 6265 2061 646a 7573 7465 6420 6465 7065  be adjusted depe
-00022b40: 6e64 656e 7420 5c0d 0a20 2020 2020 2020  ndent \..       
-00022b50: 2020 2020 206f 6e20 7468 6520 7461 7020       on the tap 
-00022b60: 706f 7369 7469 6f6e 206f 6620 7468 6520  position of the 
-00022b70: 7472 6162 6e73 666f 726d 6572 2e20 5265  trabnsformer. Re
-00022b80: 7175 6972 6573 2074 6865 2061 6464 6974  quires the addit
-00022b90: 696f 6e61 6c20 636f 6c75 6d6e 7320 5c0d  ional columns \.
-00022ba0: 0a20 2020 2020 2020 2020 2020 2022 766b  .            "vk
-00022bb0: 5f70 6572 6365 6e74 5f63 6861 7261 6374  _percent_charact
-00022bc0: 6572 6973 7469 6322 2061 6e64 2022 766b  eristic" and "vk
-00022bd0: 725f 7065 7263 656e 745f 6368 6172 6163  r_percent_charac
-00022be0: 7465 7269 7374 6963 2220 7468 6174 2072  teristic" that r
-00022bf0: 6566 6572 656e 6365 2074 6865 2069 6e64  eference the ind
-00022c00: 6578 206f 6620 7468 6520 5c0d 0a20 2020  ex of the \..   
-00022c10: 2020 2020 2020 2020 2063 6861 7261 6374           charact
-00022c20: 6572 6973 7469 6320 6672 6f6d 2074 6865  eristic from the
-00022c30: 2074 6162 6c65 206e 6574 2e63 6861 7261   table net.chara
-00022c40: 6374 6572 6973 7469 632e 2041 2063 6f6e  cteristic. A con
-00022c50: 7665 6e69 656e 6365 2066 756e 6374 696f  venience functio
-00022c60: 6e20 5c0d 0a20 2020 2020 2020 2020 2020  n \..           
-00022c70: 2070 616e 6461 706f 7765 722e 636f 6e74   pandapower.cont
-00022c80: 726f 6c2e 6372 6561 7465 5f74 7261 666f  rol.create_trafo
-00022c90: 5f63 6861 7261 6374 6572 6973 7469 6373  _characteristics
-00022ca0: 2063 616e 2062 6520 7573 6564 2074 6f20   can be used to 
-00022cb0: 6372 6561 7465 2074 6865 2053 706c 696e  create the Splin
-00022cc0: 6543 6861 7261 6374 6572 6973 7469 6320  eCharacteristic 
-00022cd0: 5c0d 0a20 2020 2020 2020 2020 2020 206f  \..            o
-00022ce0: 626a 6563 7473 2c20 6164 6420 7468 6520  bjects, add the 
-00022cf0: 7265 6c65 7661 6e74 2063 6f6c 756d 6e73  relevant columns
-00022d00: 2061 6e64 2073 6574 2075 7020 7468 6520   and set up the 
-00022d10: 7265 6665 7265 6e63 6573 2074 6f20 7468  references to th
-00022d20: 6520 6368 6172 6163 7465 7269 7374 6963  e characteristic
-00022d30: 732e 205c 0d0a 2020 2020 2020 2020 2020  s. \..          
-00022d40: 2020 5468 6520 6675 6e63 7469 6f6e 2070    The function p
-00022d50: 616e 6461 706f 7765 722e 636f 6e74 726f  andapower.contro
-00022d60: 6c2e 7472 6166 6f5f 6368 6172 6163 7465  l.trafo_characte
-00022d70: 7269 7374 6963 735f 6469 6167 6e6f 7374  ristics_diagnost
-00022d80: 6963 2063 616e 2062 6520 7573 6564 2066  ic can be used f
-00022d90: 6f72 2073 616e 6974 7920 6368 6563 6b73  or sanity checks
-00022da0: 2e0d 0a0d 0a20 2020 2020 2020 202a 2a76  .....        **v
-00022db0: 6b5f 6876 5f70 6572 6365 6e74 5f63 6861  k_hv_percent_cha
-00022dc0: 7261 6374 6572 6973 7469 632a 2a20 2869  racteristic** (i
-00022dd0: 6e74 2920 2d20 696e 6465 7820 6f66 2074  nt) - index of t
-00022de0: 6865 2063 6861 7261 6374 6572 6973 7469  he characteristi
-00022df0: 6320 6672 6f6d 206e 6574 2e63 6861 7261  c from net.chara
-00022e00: 6374 6572 6973 7469 6320 666f 7220 5c0d  cteristic for \.
-00022e10: 0a20 2020 2020 2020 2020 2020 2074 6865  .            the
-00022e20: 2061 646a 7573 746d 656e 7420 6f66 2074   adjustment of t
-00022e30: 6865 2070 6172 616d 6574 6572 2022 766b  he parameter "vk
-00022e40: 5f70 6572 6365 6e74 2220 666f 7220 7468  _percent" for th
-00022e50: 6520 6361 6c63 756c 6174 696f 6e20 6f66  e calculation of
-00022e60: 2074 6170 2064 6570 656e 6465 6e74 2069   tap dependent i
-00022e70: 6d70 6564 616e 6365 2e0d 0a0d 0a20 2020  mpedance.....   
-00022e80: 2020 2020 202a 2a76 6b72 5f68 765f 7065       **vkr_hv_pe
-00022e90: 7263 656e 745f 6368 6172 6163 7465 7269  rcent_characteri
-00022ea0: 7374 6963 2a2a 2028 696e 7429 202d 2069  stic** (int) - i
-00022eb0: 6e64 6578 206f 6620 7468 6520 6368 6172  ndex of the char
-00022ec0: 6163 7465 7269 7374 6963 2066 726f 6d20  acteristic from 
-00022ed0: 6e65 742e 6368 6172 6163 7465 7269 7374  net.characterist
-00022ee0: 6963 2066 6f72 205c 0d0a 2020 2020 2020  ic for \..      
-00022ef0: 2020 2020 2020 7468 6520 6164 6a75 7374        the adjust
-00022f00: 6d65 6e74 206f 6620 7468 6520 7061 7261  ment of the para
-00022f10: 6d65 7465 7220 2276 6b5f 7065 7263 656e  meter "vk_percen
-00022f20: 7422 2066 6f72 2074 6865 2063 616c 6375  t" for the calcu
-00022f30: 6c61 7469 6f6e 206f 6620 7461 7020 6465  lation of tap de
-00022f40: 7065 6e64 656e 7420 696d 7065 6461 6e63  pendent impedanc
-00022f50: 652e 0d0a 0d0a 2020 2020 2020 2020 2a2a  e.....        **
-00022f60: 766b 5f6d 765f 7065 7263 656e 745f 6368  vk_mv_percent_ch
-00022f70: 6172 6163 7465 7269 7374 6963 2a2a 2028  aracteristic** (
-00022f80: 696e 7429 202d 2069 6e64 6578 206f 6620  int) - index of 
-00022f90: 7468 6520 6368 6172 6163 7465 7269 7374  the characterist
-00022fa0: 6963 2066 726f 6d20 6e65 742e 6368 6172  ic from net.char
-00022fb0: 6163 7465 7269 7374 6963 2066 6f72 205c  acteristic for \
-00022fc0: 0d0a 2020 2020 2020 2020 2020 2020 7468  ..            th
-00022fd0: 6520 6164 6a75 7374 6d65 6e74 206f 6620  e adjustment of 
-00022fe0: 7468 6520 7061 7261 6d65 7465 7220 2276  the parameter "v
-00022ff0: 6b5f 7065 7263 656e 7422 2066 6f72 2074  k_percent" for t
-00023000: 6865 2063 616c 6375 6c61 7469 6f6e 206f  he calculation o
-00023010: 6620 7461 7020 6465 7065 6e64 656e 7420  f tap dependent 
-00023020: 696d 7065 6461 6e63 652e 0d0a 0d0a 2020  impedance.....  
-00023030: 2020 2020 2020 2a2a 766b 725f 6d76 5f70        **vkr_mv_p
-00023040: 6572 6365 6e74 5f63 6861 7261 6374 6572  ercent_character
-00023050: 6973 7469 632a 2a20 2869 6e74 2920 2d20  istic** (int) - 
-00023060: 696e 6465 7820 6f66 2074 6865 2063 6861  index of the cha
-00023070: 7261 6374 6572 6973 7469 6320 6672 6f6d  racteristic from
-00023080: 206e 6574 2e63 6861 7261 6374 6572 6973   net.characteris
-00023090: 7469 6320 666f 7220 5c0d 0a20 2020 2020  tic for \..     
-000230a0: 2020 2020 2020 2074 6865 2061 646a 7573         the adjus
-000230b0: 746d 656e 7420 6f66 2074 6865 2070 6172  tment of the par
-000230c0: 616d 6574 6572 2022 766b 5f70 6572 6365  ameter "vk_perce
-000230d0: 6e74 2220 666f 7220 7468 6520 6361 6c63  nt" for the calc
-000230e0: 756c 6174 696f 6e20 6f66 2074 6170 2064  ulation of tap d
-000230f0: 6570 656e 6465 6e74 2069 6d70 6564 616e  ependent impedan
-00023100: 6365 2e0d 0a0d 0a20 2020 2020 2020 202a  ce.....        *
-00023110: 2a76 6b5f 6c76 5f70 6572 6365 6e74 5f63  *vk_lv_percent_c
-00023120: 6861 7261 6374 6572 6973 7469 632a 2a20  haracteristic** 
-00023130: 2869 6e74 2920 2d20 696e 6465 7820 6f66  (int) - index of
-00023140: 2074 6865 2063 6861 7261 6374 6572 6973   the characteris
-00023150: 7469 6320 6672 6f6d 206e 6574 2e63 6861  tic from net.cha
-00023160: 7261 6374 6572 6973 7469 6320 666f 7220  racteristic for 
-00023170: 5c0d 0a20 2020 2020 2020 2020 2020 2074  \..            t
-00023180: 6865 2061 646a 7573 746d 656e 7420 6f66  he adjustment of
-00023190: 2074 6865 2070 6172 616d 6574 6572 2022   the parameter "
-000231a0: 766b 5f70 6572 6365 6e74 2220 666f 7220  vk_percent" for 
-000231b0: 7468 6520 6361 6c63 756c 6174 696f 6e20  the calculation 
-000231c0: 6f66 2074 6170 2064 6570 656e 6465 6e74  of tap dependent
-000231d0: 2069 6d70 6564 616e 6365 2e0d 0a0d 0a20   impedance..... 
-000231e0: 2020 2020 2020 202a 2a76 6b72 5f6c 765f         **vkr_lv_
-000231f0: 7065 7263 656e 745f 6368 6172 6163 7465  percent_characte
-00023200: 7269 7374 6963 2a2a 2028 696e 7429 202d  ristic** (int) -
-00023210: 2069 6e64 6578 206f 6620 7468 6520 6368   index of the ch
-00023220: 6172 6163 7465 7269 7374 6963 2066 726f  aracteristic fro
-00023230: 6d20 6e65 742e 6368 6172 6163 7465 7269  m net.characteri
-00023240: 7374 6963 2066 6f72 205c 0d0a 2020 2020  stic for \..    
-00023250: 2020 2020 2020 2020 7468 6520 6164 6a75          the adju
-00023260: 7374 6d65 6e74 206f 6620 7468 6520 7061  stment of the pa
-00023270: 7261 6d65 7465 7220 2276 6b5f 7065 7263  rameter "vk_perc
-00023280: 656e 7422 2066 6f72 2074 6865 2063 616c  ent" for the cal
-00023290: 6375 6c61 7469 6f6e 206f 6620 7461 7020  culation of tap 
-000232a0: 6465 7065 6e64 656e 7420 696d 7065 6461  dependent impeda
-000232b0: 6e63 652e 0d0a 0d0a 2020 2020 2020 2020  nce.....        
-000232c0: 2a2a 766b 305f 6876 5f70 6572 6365 6e74  **vk0_hv_percent
-000232d0: 2a2a 2028 666c 6f61 7429 202d 207a 6572  ** (float) - zer
-000232e0: 6f20 7365 7175 656e 6365 2073 686f 7274  o sequence short
-000232f0: 2063 6972 6375 6974 2076 6f6c 7461 6765   circuit voltage
-00023300: 2066 726f 6d20 6869 6768 2074 6f20 6d65   from high to me
-00023310: 6469 756d 2076 6f6c 7461 6765 0d0a 0d0a  dium voltage....
-00023320: 2020 2020 2020 2020 2a2a 766b 305f 6d76          **vk0_mv
-00023330: 5f70 6572 6365 6e74 2a2a 2028 666c 6f61  _percent** (floa
-00023340: 7429 202d 207a 6572 6f20 7365 7175 656e  t) - zero sequen
-00023350: 6365 2073 686f 7274 2063 6972 6375 6974  ce short circuit
-00023360: 2076 6f6c 7461 6765 2066 726f 6d20 6d65   voltage from me
-00023370: 6469 756d 2074 6f20 6c6f 7720 766f 6c74  dium to low volt
-00023380: 6167 650d 0a0d 0a20 2020 2020 2020 202a  age....        *
-00023390: 2a76 6b30 5f6c 765f 7065 7263 656e 742a  *vk0_lv_percent*
-000233a0: 2a20 2866 6c6f 6174 2920 2d20 7a65 726f  * (float) - zero
-000233b0: 2073 6571 7565 6e63 6520 7368 6f72 7420   sequence short 
-000233c0: 6369 7263 7569 7420 766f 6c74 6167 6520  circuit voltage 
-000233d0: 6672 6f6d 2068 6967 6820 746f 206c 6f77  from high to low
-000233e0: 2076 6f6c 7461 6765 0d0a 0d0a 2020 2020   voltage....    
-000233f0: 2020 2020 2a2a 766b 7230 5f68 765f 7065      **vkr0_hv_pe
-00023400: 7263 656e 742a 2a20 2866 6c6f 6174 2920  rcent** (float) 
-00023410: 2d20 7a65 726f 2073 6571 7565 6e63 6520  - zero sequence 
-00023420: 7265 616c 2070 6172 7420 6f66 2073 686f  real part of sho
-00023430: 7274 2063 6972 6375 6974 2076 6f6c 7461  rt circuit volta
-00023440: 6765 2066 726f 6d20 6869 6768 2074 6f20  ge from high to 
-00023450: 6d65 6469 756d 2076 6f6c 7461 6765 0d0a  medium voltage..
-00023460: 0d0a 2020 2020 2020 2020 2a2a 766b 7230  ..        **vkr0
-00023470: 5f6d 765f 7065 7263 656e 742a 2a20 2866  _mv_percent** (f
-00023480: 6c6f 6174 2920 2d20 7a65 726f 2073 6571  loat) - zero seq
-00023490: 7565 6e63 6520 7265 616c 2070 6172 7420  uence real part 
-000234a0: 6f66 2073 686f 7274 2063 6972 6375 6974  of short circuit
-000234b0: 2076 6f6c 7461 6765 2066 726f 6d20 6d65   voltage from me
-000234c0: 6469 756d 2074 6f20 6c6f 7720 766f 6c74  dium to low volt
-000234d0: 6167 650d 0a0d 0a20 2020 2020 2020 202a  age....        *
-000234e0: 2a76 6b72 305f 6c76 5f70 6572 6365 6e74  *vkr0_lv_percent
-000234f0: 2a2a 2028 666c 6f61 7429 202d 207a 6572  ** (float) - zer
-00023500: 6f20 7365 7175 656e 6365 2072 6561 6c20  o sequence real 
-00023510: 7061 7274 206f 6620 7368 6f72 7420 6369  part of short ci
-00023520: 7263 7569 7420 766f 6c74 6167 6520 6672  rcuit voltage fr
-00023530: 6f6d 2068 6967 6820 746f 206c 6f77 2076  om high to low v
-00023540: 6f6c 7461 6765 0d0a 0d0a 2020 2020 2020  oltage....      
-00023550: 2020 2a2a 7665 6374 6f72 5f67 726f 7570    **vector_group
-00023560: 2a2a 2028 6c69 7374 206f 6620 5374 7269  ** (list of Stri
-00023570: 6e67 2920 2d20 5665 6374 6f72 2067 726f  ng) - Vector gro
-00023580: 7570 206f 6620 7468 6520 7472 616e 7366  up of the transf
-00023590: 6f72 6d65 7233 770d 0a0d 0a20 2020 204f  ormer3w....    O
-000235a0: 5554 5055 543a 0d0a 2020 2020 2020 2020  UTPUT:..        
-000235b0: 2a2a 7472 6166 6f5f 6964 2a2a 202d 204c  **trafo_id** - L
-000235c0: 6973 7420 6f66 2074 7261 666f 5f69 6473  ist of trafo_ids
-000235d0: 206f 6620 7468 6520 6372 6561 7465 6420   of the created 
-000235e0: 3357 2074 7261 6e73 666f 726d 6572 730d  3W transformers.
-000235f0: 0a0d 0a20 2020 2045 7861 6d70 6c65 3a0d  ...    Example:.
-00023600: 0a20 2020 2020 2020 2063 7265 6174 655f  .        create_
-00023610: 7472 616e 7366 6f72 6d65 7233 775f 6672  transformer3w_fr
-00023620: 6f6d 5f70 6172 616d 6574 6572 7328 6e65  om_parameters(ne
-00023630: 742c 2068 765f 6275 733d 302c 206d 765f  t, hv_bus=0, mv_
-00023640: 6275 733d 312c 206c 765f 6275 733d 322c  bus=1, lv_bus=2,
-00023650: 206e 616d 653d 2274 7261 666f 3122 2c0d   name="trafo1",.
-00023660: 0a20 2020 2020 2020 2073 6e5f 6876 5f6d  .        sn_hv_m
-00023670: 7661 3d34 302c 2073 6e5f 6d76 5f6d 7661  va=40, sn_mv_mva
-00023680: 3d32 302c 2073 6e5f 6c76 5f6d 7661 3d32  =20, sn_lv_mva=2
-00023690: 302c 2076 6e5f 6876 5f6b 763d 3131 302c  0, vn_hv_kv=110,
-000236a0: 2076 6e5f 6d76 5f6b 763d 3230 2c20 766e   vn_mv_kv=20, vn
-000236b0: 5f6c 765f 6b76 3d31 302c 0d0a 2020 2020  _lv_kv=10,..    
-000236c0: 2020 2020 766b 5f68 765f 7065 7263 656e      vk_hv_percen
-000236d0: 743d 3130 2c76 6b5f 6d76 5f70 6572 6365  t=10,vk_mv_perce
-000236e0: 6e74 3d31 312c 2076 6b5f 6c76 5f70 6572  nt=11, vk_lv_per
-000236f0: 6365 6e74 3d31 322c 2076 6b72 5f68 765f  cent=12, vkr_hv_
-00023700: 7065 7263 656e 743d 302e 332c 0d0a 2020  percent=0.3,..  
-00023710: 2020 2020 2020 766b 725f 6d76 5f70 6572        vkr_mv_per
-00023720: 6365 6e74 3d30 2e33 312c 2076 6b72 5f6c  cent=0.31, vkr_l
-00023730: 765f 7065 7263 656e 743d 302e 3332 2c20  v_percent=0.32, 
-00023740: 7066 655f 6b77 3d33 302c 2069 305f 7065  pfe_kw=30, i0_pe
-00023750: 7263 656e 743d 302e 312c 2073 6869 6674  rcent=0.1, shift
-00023760: 5f6d 765f 6465 6772 6565 3d33 302c 0d0a  _mv_degree=30,..
-00023770: 2020 2020 2020 2020 7368 6966 745f 6c76          shift_lv
-00023780: 5f64 6567 7265 653d 3330 290d 0a0d 0a20  _degree=30).... 
-00023790: 2020 2022 2222 0d0a 2020 2020 696e 6465     """..    inde
-000237a0: 7820 3d20 5f67 6574 5f6d 756c 7469 706c  x = _get_multipl
-000237b0: 655f 696e 6465 785f 7769 7468 5f63 6865  e_index_with_che
-000237c0: 636b 286e 6574 2c20 2274 7261 666f 3377  ck(net, "trafo3w
-000237d0: 222c 2069 6e64 6578 2c20 6c65 6e28 6876  ", index, len(hv
-000237e0: 5f62 7573 6573 292c 0d0a 2020 2020 2020  _buses),..      
-000237f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021e80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021e90: 2020 2020 2076 6b5f 6c76 5f70 6572 6365       vk_lv_perce
+00021ea0: 6e74 5f63 6861 7261 6374 6572 6973 7469  nt_characteristi
+00021eb0: 633d 4e6f 6e65 2c20 766b 725f 6c76 5f70  c=None, vkr_lv_p
+00021ec0: 6572 6365 6e74 5f63 6861 7261 6374 6572  ercent_character
+00021ed0: 6973 7469 633d 4e6f 6e65 2c20 2a2a 6b77  istic=None, **kw
+00021ee0: 6172 6773 293a 0d0a 2020 2020 2222 220d  args):..    """.
+00021ef0: 0a20 2020 2041 6464 7320 6120 7468 7265  .    Adds a thre
+00021f00: 652d 7769 6e64 696e 6720 7472 616e 7366  e-winding transf
+00021f10: 6f72 6d65 7220 696e 2074 6162 6c65 206e  ormer in table n
+00021f20: 6574 5b22 7472 6166 6f33 7722 5d2e 0d0a  et["trafo3w"]...
+00021f30: 0d0a 2020 2020 496e 7075 743a 0d0a 2020  ..    Input:..  
+00021f40: 2020 2020 2020 2a2a 6e65 742a 2a20 2870        **net** (p
+00021f50: 616e 6461 706f 7765 724e 6574 2920 2d20  andapowerNet) - 
+00021f60: 5468 6520 6e65 7420 7769 7468 696e 2074  The net within t
+00021f70: 6869 7320 7472 616e 7366 6f72 6d65 7220  his transformer 
+00021f80: 7368 6f75 6c64 2062 6520 6372 6561 7465  should be create
+00021f90: 640d 0a0d 0a20 2020 2020 2020 202a 2a68  d....        **h
+00021fa0: 765f 6275 732a 2a20 286c 6973 7429 202d  v_bus** (list) -
+00021fb0: 2054 6865 2062 7573 206f 6e20 7468 6520   The bus on the 
+00021fc0: 6869 6768 2d76 6f6c 7461 6765 2073 6964  high-voltage sid
+00021fd0: 6520 6f6e 2077 6869 6368 2074 6865 2074  e on which the t
+00021fe0: 7261 6e73 666f 726d 6572 2077 696c 6c20  ransformer will 
+00021ff0: 6265 205c 0d0a 2020 2020 2020 2020 2020  be \..          
+00022000: 2020 636f 6e6e 6563 7465 6420 746f 0d0a    connected to..
+00022010: 0d0a 2020 2020 2020 2020 2a2a 6d76 5f62  ..        **mv_b
+00022020: 7573 2a2a 2028 6c69 7374 2920 2d20 5468  us** (list) - Th
+00022030: 6520 6275 7320 6f6e 2074 6865 206d 6964  e bus on the mid
+00022040: 646c 652d 766f 6c74 6167 6520 7369 6465  dle-voltage side
+00022050: 206f 6e20 7768 6963 6820 7468 6520 7472   on which the tr
+00022060: 616e 7366 6f72 6d65 7220 7769 6c6c 2062  ansformer will b
+00022070: 6520 5c0d 0a20 2020 2020 2020 2020 2020  e \..           
+00022080: 2063 6f6e 6e65 6374 6564 2074 6f0d 0a0d   connected to...
+00022090: 0a20 2020 2020 2020 202a 2a6c 765f 6275  .        **lv_bu
+000220a0: 732a 2a20 286c 6973 7429 202d 2054 6865  s** (list) - The
+000220b0: 2062 7573 206f 6e20 7468 6520 6c6f 772d   bus on the low-
+000220c0: 766f 6c74 6167 6520 7369 6465 206f 6e20  voltage side on 
+000220d0: 7768 6963 6820 7468 6520 7472 616e 7366  which the transf
+000220e0: 6f72 6d65 7220 7769 6c6c 2062 6520 5c0d  ormer will be \.
+000220f0: 0a20 2020 2020 2020 2020 2020 2063 6f6e  .            con
+00022100: 6e65 6374 6564 2074 6f0d 0a0d 0a20 2020  nected to....   
+00022110: 2020 2020 202a 2a76 6e5f 6876 5f6b 762a       **vn_hv_kv*
+00022120: 2a20 2866 6c6f 6174 206f 7220 6c69 7374  * (float or list
+00022130: 2920 7261 7465 6420 766f 6c74 6167 6520  ) rated voltage 
+00022140: 6f6e 2068 6967 6820 766f 6c74 6167 6520  on high voltage 
+00022150: 7369 6465 0d0a 0d0a 2020 2020 2020 2020  side....        
+00022160: 2a2a 766e 5f6d 765f 6b76 2a2a 2028 666c  **vn_mv_kv** (fl
+00022170: 6f61 7420 6f72 206c 6973 7429 2072 6174  oat or list) rat
+00022180: 6564 2076 6f6c 7461 6765 206f 6e20 6d65  ed voltage on me
+00022190: 6469 756d 2076 6f6c 7461 6765 2073 6964  dium voltage sid
+000221a0: 650d 0a0d 0a20 2020 2020 2020 202a 2a76  e....        **v
+000221b0: 6e5f 6c76 5f6b 762a 2a20 2866 6c6f 6174  n_lv_kv** (float
+000221c0: 206f 7220 6c69 7374 2920 7261 7465 6420   or list) rated 
+000221d0: 766f 6c74 6167 6520 6f6e 206c 6f77 2076  voltage on low v
+000221e0: 6f6c 7461 6765 2073 6964 650d 0a0d 0a20  oltage side.... 
+000221f0: 2020 2020 2020 202a 2a73 6e5f 6876 5f6d         **sn_hv_m
+00022200: 7661 2a2a 2028 666c 6f61 7420 6f72 206c  va** (float or l
+00022210: 6973 7429 202d 2072 6174 6564 2061 7070  ist) - rated app
+00022220: 6172 656e 7420 706f 7765 7220 6f6e 2068  arent power on h
+00022230: 6967 6820 766f 6c74 6167 6520 7369 6465  igh voltage side
+00022240: 0d0a 0d0a 2020 2020 2020 2020 2a2a 736e  ....        **sn
+00022250: 5f6d 765f 6d76 612a 2a20 2866 6c6f 6174  _mv_mva** (float
+00022260: 206f 7220 6c69 7374 2920 2d20 7261 7465   or list) - rate
+00022270: 6420 6170 7061 7265 6e74 2070 6f77 6572  d apparent power
+00022280: 206f 6e20 6d65 6469 756d 2076 6f6c 7461   on medium volta
+00022290: 6765 2073 6964 650d 0a0d 0a20 2020 2020  ge side....     
+000222a0: 2020 202a 2a73 6e5f 6c76 5f6d 7661 2a2a     **sn_lv_mva**
+000222b0: 2028 666c 6f61 7420 6f72 206c 6973 7429   (float or list)
+000222c0: 202d 2072 6174 6564 2061 7070 6172 656e   - rated apparen
+000222d0: 7420 706f 7765 7220 6f6e 206c 6f77 2076  t power on low v
+000222e0: 6f6c 7461 6765 2073 6964 650d 0a0d 0a20  oltage side.... 
+000222f0: 2020 2020 2020 202a 2a76 6b5f 6876 5f70         **vk_hv_p
+00022300: 6572 6365 6e74 2a2a 2028 666c 6f61 7420  ercent** (float 
+00022310: 6f72 206c 6973 7429 202d 2073 686f 7274  or list) - short
+00022320: 2063 6972 6375 6974 2076 6f6c 7461 6765   circuit voltage
+00022330: 2066 726f 6d20 6869 6768 2074 6f20 6d65   from high to me
+00022340: 6469 756d 2076 6f6c 7461 6765 0d0a 0d0a  dium voltage....
+00022350: 2020 2020 2020 2020 2a2a 766b 5f6d 765f          **vk_mv_
+00022360: 7065 7263 656e 742a 2a20 2866 6c6f 6174  percent** (float
+00022370: 206f 7220 6c69 7374 2920 2d20 7368 6f72   or list) - shor
+00022380: 7420 6369 7263 7569 7420 766f 6c74 6167  t circuit voltag
+00022390: 6520 6672 6f6d 206d 6564 6975 6d20 746f  e from medium to
+000223a0: 206c 6f77 2076 6f6c 7461 6765 0d0a 0d0a   low voltage....
+000223b0: 2020 2020 2020 2020 2a2a 766b 5f6c 765f          **vk_lv_
+000223c0: 7065 7263 656e 742a 2a20 2866 6c6f 6174  percent** (float
+000223d0: 206f 7220 6c69 7374 2920 2d20 7368 6f72   or list) - shor
+000223e0: 7420 6369 7263 7569 7420 766f 6c74 6167  t circuit voltag
+000223f0: 6520 6672 6f6d 2068 6967 6820 746f 206c  e from high to l
+00022400: 6f77 2076 6f6c 7461 6765 0d0a 0d0a 2020  ow voltage....  
+00022410: 2020 2020 2020 2a2a 766b 725f 6876 5f70        **vkr_hv_p
+00022420: 6572 6365 6e74 2a2a 2028 666c 6f61 7420  ercent** (float 
+00022430: 6f72 206c 6973 7429 202d 2072 6561 6c20  or list) - real 
+00022440: 7061 7274 206f 6620 7368 6f72 7420 6369  part of short ci
+00022450: 7263 7569 7420 766f 6c74 6167 6520 6672  rcuit voltage fr
+00022460: 6f6d 2068 6967 6820 746f 206d 6564 6975  om high to mediu
+00022470: 6d5c 0d0a 2020 2020 2020 2020 2020 2020  m\..            
+00022480: 766f 6c74 6167 650d 0a0d 0a20 2020 2020  voltage....     
+00022490: 2020 202a 2a76 6b72 5f6d 765f 7065 7263     **vkr_mv_perc
+000224a0: 656e 742a 2a20 2866 6c6f 6174 206f 7220  ent** (float or 
+000224b0: 6c69 7374 2920 2d20 7265 616c 2070 6172  list) - real par
+000224c0: 7420 6f66 2073 686f 7274 2063 6972 6375  t of short circu
+000224d0: 6974 2076 6f6c 7461 6765 2066 726f 6d20  it voltage from 
+000224e0: 6d65 6469 756d 2074 6f20 6c6f 775c 0d0a  medium to low\..
+000224f0: 2020 2020 2020 2020 2020 2020 766f 6c74              volt
+00022500: 6167 650d 0a0d 0a20 2020 2020 2020 202a  age....        *
+00022510: 2a76 6b72 5f6c 765f 7065 7263 656e 742a  *vkr_lv_percent*
+00022520: 2a20 2866 6c6f 6174 206f 7220 6c69 7374  * (float or list
+00022530: 2920 2d20 7265 616c 2070 6172 7420 6f66  ) - real part of
+00022540: 2073 686f 7274 2063 6972 6375 6974 2076   short circuit v
+00022550: 6f6c 7461 6765 2066 726f 6d20 6869 6768  oltage from high
+00022560: 2074 6f20 6c6f 775c 0d0a 2020 2020 2020   to low\..      
+00022570: 2020 2020 2020 766f 6c74 6167 650d 0a0d        voltage...
+00022580: 0a20 2020 2020 2020 202a 2a70 6665 5f6b  .        **pfe_k
+00022590: 772a 2a20 2866 6c6f 6174 206f 7220 6c69  w** (float or li
+000225a0: 7374 2920 2d20 6972 6f6e 206c 6f73 7365  st) - iron losse
+000225b0: 7320 696e 206b 570d 0a0d 0a20 2020 2020  s in kW....     
+000225c0: 2020 202a 2a69 305f 7065 7263 656e 742a     **i0_percent*
+000225d0: 2a20 2866 6c6f 6174 206f 7220 6c69 7374  * (float or list
+000225e0: 2920 2d20 6f70 656e 206c 6f6f 7020 6c6f  ) - open loop lo
+000225f0: 7373 6573 0d0a 0d0a 2020 2020 4f50 5449  sses....    OPTI
+00022600: 4f4e 414c 3a0d 0a20 2020 2020 2020 202a  ONAL:..        *
+00022610: 2a73 6869 6674 5f6d 765f 6465 6772 6565  *shift_mv_degree
+00022620: 2a2a 2028 666c 6f61 7420 6f72 206c 6973  ** (float or lis
+00022630: 742c 2030 2920 2d20 616e 676c 6520 7368  t, 0) - angle sh
+00022640: 6966 7420 746f 206d 6564 6975 6d20 766f  ift to medium vo
+00022650: 6c74 6167 6520 7369 6465 2a0d 0a0d 0a20  ltage side*.... 
+00022660: 2020 2020 2020 202a 2a73 6869 6674 5f6c         **shift_l
+00022670: 765f 6465 6772 6565 2a2a 2028 666c 6f61  v_degree** (floa
+00022680: 7420 6f72 206c 6973 742c 2030 2920 2d20  t or list, 0) - 
+00022690: 616e 676c 6520 7368 6966 7420 746f 206c  angle shift to l
+000226a0: 6f77 2076 6f6c 7461 6765 2073 6964 652a  ow voltage side*
+000226b0: 0d0a 0d0a 2020 2020 2020 2020 2a2a 7461  ....        **ta
+000226c0: 705f 7374 6570 5f70 6572 6365 6e74 2a2a  p_step_percent**
+000226d0: 2028 666c 6f61 7420 6f72 206c 6973 7429   (float or list)
+000226e0: 202d 2054 6170 2073 7465 7020 696e 2070   - Tap step in p
+000226f0: 6572 6365 6e74 0d0a 0d0a 2020 2020 2020  ercent....      
+00022700: 2020 2a2a 7461 705f 7374 6570 5f64 6567    **tap_step_deg
+00022710: 7265 652a 2a20 2866 6c6f 6174 206f 7220  ree** (float or 
+00022720: 6c69 7374 2920 2d20 5461 7020 7068 6173  list) - Tap phas
+00022730: 6520 7368 6966 7420 616e 676c 6520 696e  e shift angle in
+00022740: 2064 6567 7265 6573 0d0a 0d0a 2020 2020   degrees....    
+00022750: 2020 2020 2a2a 7461 705f 7369 6465 2a2a      **tap_side**
+00022760: 2028 7374 7269 6e67 2c20 4e6f 6e65 2920   (string, None) 
+00022770: 2d20 2268 7622 2c20 226d 7622 2c20 226c  - "hv", "mv", "l
+00022780: 7622 0d0a 0d0a 2020 2020 2020 2020 2a2a  v"....        **
+00022790: 7461 705f 6e65 7574 7261 6c2a 2a20 2869  tap_neutral** (i
+000227a0: 6e74 2c20 6e61 6e29 202d 2064 6566 6175  nt, nan) - defau
+000227b0: 6c74 2074 6170 2070 6f73 6974 696f 6e0d  lt tap position.
+000227c0: 0a0d 0a20 2020 2020 2020 202a 2a74 6170  ...        **tap
+000227d0: 5f6d 696e 2a2a 2028 696e 742c 206e 616e  _min** (int, nan
+000227e0: 2920 2d20 4d69 6e69 6d75 6d20 7461 7020  ) - Minimum tap 
+000227f0: 706f 7369 7469 6f6e 0d0a 0d0a 2020 2020  position....    
+00022800: 2020 2020 2a2a 7461 705f 6d61 782a 2a20      **tap_max** 
+00022810: 2869 6e74 2c20 6e61 6e29 202d 204d 6178  (int, nan) - Max
+00022820: 696d 756d 2074 6170 2070 6f73 6974 696f  imum tap positio
+00022830: 6e0d 0a0d 0a20 2020 2020 2020 202a 2a74  n....        **t
+00022840: 6170 5f70 6f73 2a2a 2028 696e 742c 206e  ap_pos** (int, n
+00022850: 616e 2920 2d20 6375 7272 656e 7420 7461  an) - current ta
+00022860: 7020 706f 7369 7469 6f6e 206f 6620 7468  p position of th
+00022870: 6520 7472 616e 7366 6f72 6d65 722e 2044  e transformer. D
+00022880: 6566 6175 6c74 7320 746f 2074 6865 205c  efaults to the \
+00022890: 0d0a 2020 2020 2020 2020 2020 2020 6d65  ..            me
+000228a0: 6469 756d 2070 6f73 6974 696f 6e20 2874  dium position (t
+000228b0: 6170 5f6e 6575 7472 616c 290d 0a0d 0a20  ap_neutral).... 
+000228c0: 2020 2020 2020 202a 2a74 6170 5f61 745f         **tap_at_
+000228d0: 7374 6172 5f70 6f69 6e74 2a2a 2028 626f  star_point** (bo
+000228e0: 6f6c 6561 6e29 202d 2057 6865 7468 6572  olean) - Whether
+000228f0: 2074 6170 2063 6861 6e67 6572 2069 7320   tap changer is 
+00022900: 6c6f 6361 7465 6420 6174 2074 6865 2073  located at the s
+00022910: 7461 7220 706f 696e 7420 6f66 2074 6865  tar point of the
+00022920: 205c 0d0a 2020 2020 2020 2020 2020 2020   \..            
+00022930: 3357 2d74 7261 6e73 666f 726d 6572 206f  3W-transformer o
+00022940: 7220 6174 2074 6865 2062 7573 0d0a 0d0a  r at the bus....
+00022950: 2020 2020 2020 2020 2a2a 6e61 6d65 2a2a          **name**
+00022960: 2028 7374 7269 6e67 2c20 4e6f 6e65 2920   (string, None) 
+00022970: 2d20 4e61 6d65 206f 6620 7468 6520 332d  - Name of the 3-
+00022980: 7769 6e64 696e 6720 7472 616e 7366 6f72  winding transfor
+00022990: 6d65 720d 0a0d 0a20 2020 2020 2020 202a  mer....        *
+000229a0: 2a69 6e5f 7365 7276 6963 652a 2a20 2862  *in_service** (b
+000229b0: 6f6f 6c65 616e 2c20 5472 7565 2920 2d20  oolean, True) - 
+000229c0: 5472 7565 2066 6f72 2069 6e5f 7365 7276  True for in_serv
+000229d0: 6963 6520 6f72 2046 616c 7365 2066 6f72  ice or False for
+000229e0: 206f 7574 206f 6620 7365 7276 6963 650d   out of service.
+000229f0: 0a0d 0a20 2020 2020 2020 202a 2a20 6f6e  ...        ** on
+00022a00: 6c79 2063 6f6e 7369 6465 7265 6420 696e  ly considered in
+00022a10: 206c 6f61 6466 6c6f 7720 6966 2063 616c   loadflow if cal
+00022a20: 6375 6c61 7465 5f76 6f6c 7461 6765 5f61  culate_voltage_a
+00022a30: 6e67 6c65 7320 3d20 5472 7565 0d0a 2020  ngles = True..  
+00022a40: 2020 2020 2020 2a2a 5468 6520 6d6f 6465        **The mode
+00022a50: 6c20 6375 7272 656e 746c 7920 6f6e 6c79  l currently only
+00022a60: 2073 7570 706f 7274 7320 6f6e 6520 7461   supports one ta
+00022a70: 702d 6368 616e 6765 7220 7065 7220 3357  p-changer per 3W
+00022a80: 2054 7261 6e73 666f 726d 6572 2e0d 0a0d   Transformer....
+00022a90: 0a20 2020 2020 2020 202a 2a6d 6178 5f6c  .        **max_l
+00022aa0: 6f61 6469 6e67 5f70 6572 6365 6e74 2028  oading_percent (
+00022ab0: 666c 6f61 7429 2a2a 202d 206d 6178 696d  float)** - maxim
+00022ac0: 756d 2063 7572 7265 6e74 206c 6f61 6469  um current loadi
+00022ad0: 6e67 2028 6f6e 6c79 206e 6565 6465 6420  ng (only needed 
+00022ae0: 666f 7220 4f50 4629 0d0a 0d0a 2020 2020  for OPF)....    
+00022af0: 2020 2020 2a2a 7461 705f 6465 7065 6e64      **tap_depend
+00022b00: 656e 745f 696d 7065 6461 6e63 652a 2a20  ent_impedance** 
+00022b10: 2862 6f6f 6c65 616e 2920 2d20 5472 7565  (boolean) - True
+00022b20: 2069 6620 7472 616e 7366 6f72 6d65 7220   if transformer 
+00022b30: 696d 7065 6461 6e63 6520 6d75 7374 2062  impedance must b
+00022b40: 6520 6164 6a75 7374 6564 2064 6570 656e  e adjusted depen
+00022b50: 6465 6e74 205c 0d0a 2020 2020 2020 2020  dent \..        
+00022b60: 2020 2020 6f6e 2074 6865 2074 6170 2070      on the tap p
+00022b70: 6f73 6974 696f 6e20 6f66 2074 6865 2074  osition of the t
+00022b80: 7261 626e 7366 6f72 6d65 722e 2052 6571  rabnsformer. Req
+00022b90: 7569 7265 7320 7468 6520 6164 6469 7469  uires the additi
+00022ba0: 6f6e 616c 2063 6f6c 756d 6e73 205c 0d0a  onal columns \..
+00022bb0: 2020 2020 2020 2020 2020 2020 2276 6b5f              "vk_
+00022bc0: 7065 7263 656e 745f 6368 6172 6163 7465  percent_characte
+00022bd0: 7269 7374 6963 2220 616e 6420 2276 6b72  ristic" and "vkr
+00022be0: 5f70 6572 6365 6e74 5f63 6861 7261 6374  _percent_charact
+00022bf0: 6572 6973 7469 6322 2074 6861 7420 7265  eristic" that re
+00022c00: 6665 7265 6e63 6520 7468 6520 696e 6465  ference the inde
+00022c10: 7820 6f66 2074 6865 205c 0d0a 2020 2020  x of the \..    
+00022c20: 2020 2020 2020 2020 6368 6172 6163 7465          characte
+00022c30: 7269 7374 6963 2066 726f 6d20 7468 6520  ristic from the 
+00022c40: 7461 626c 6520 6e65 742e 6368 6172 6163  table net.charac
+00022c50: 7465 7269 7374 6963 2e20 4120 636f 6e76  teristic. A conv
+00022c60: 656e 6965 6e63 6520 6675 6e63 7469 6f6e  enience function
+00022c70: 205c 0d0a 2020 2020 2020 2020 2020 2020   \..            
+00022c80: 7061 6e64 6170 6f77 6572 2e63 6f6e 7472  pandapower.contr
+00022c90: 6f6c 2e63 7265 6174 655f 7472 6166 6f5f  ol.create_trafo_
+00022ca0: 6368 6172 6163 7465 7269 7374 6963 7320  characteristics 
+00022cb0: 6361 6e20 6265 2075 7365 6420 746f 2063  can be used to c
+00022cc0: 7265 6174 6520 7468 6520 5370 6c69 6e65  reate the Spline
+00022cd0: 4368 6172 6163 7465 7269 7374 6963 205c  Characteristic \
+00022ce0: 0d0a 2020 2020 2020 2020 2020 2020 6f62  ..            ob
+00022cf0: 6a65 6374 732c 2061 6464 2074 6865 2072  jects, add the r
+00022d00: 656c 6576 616e 7420 636f 6c75 6d6e 7320  elevant columns 
+00022d10: 616e 6420 7365 7420 7570 2074 6865 2072  and set up the r
+00022d20: 6566 6572 656e 6365 7320 746f 2074 6865  eferences to the
+00022d30: 2063 6861 7261 6374 6572 6973 7469 6373   characteristics
+00022d40: 2e20 5c0d 0a20 2020 2020 2020 2020 2020  . \..           
+00022d50: 2054 6865 2066 756e 6374 696f 6e20 7061   The function pa
+00022d60: 6e64 6170 6f77 6572 2e63 6f6e 7472 6f6c  ndapower.control
+00022d70: 2e74 7261 666f 5f63 6861 7261 6374 6572  .trafo_character
+00022d80: 6973 7469 6373 5f64 6961 676e 6f73 7469  istics_diagnosti
+00022d90: 6320 6361 6e20 6265 2075 7365 6420 666f  c can be used fo
+00022da0: 7220 7361 6e69 7479 2063 6865 636b 732e  r sanity checks.
+00022db0: 0d0a 0d0a 2020 2020 2020 2020 2a2a 766b  ....        **vk
+00022dc0: 5f68 765f 7065 7263 656e 745f 6368 6172  _hv_percent_char
+00022dd0: 6163 7465 7269 7374 6963 2a2a 2028 696e  acteristic** (in
+00022de0: 7429 202d 2069 6e64 6578 206f 6620 7468  t) - index of th
+00022df0: 6520 6368 6172 6163 7465 7269 7374 6963  e characteristic
+00022e00: 2066 726f 6d20 6e65 742e 6368 6172 6163   from net.charac
+00022e10: 7465 7269 7374 6963 2066 6f72 205c 0d0a  teristic for \..
+00022e20: 2020 2020 2020 2020 2020 2020 7468 6520              the 
+00022e30: 6164 6a75 7374 6d65 6e74 206f 6620 7468  adjustment of th
+00022e40: 6520 7061 7261 6d65 7465 7220 2276 6b5f  e parameter "vk_
+00022e50: 7065 7263 656e 7422 2066 6f72 2074 6865  percent" for the
+00022e60: 2063 616c 6375 6c61 7469 6f6e 206f 6620   calculation of 
+00022e70: 7461 7020 6465 7065 6e64 656e 7420 696d  tap dependent im
+00022e80: 7065 6461 6e63 652e 0d0a 0d0a 2020 2020  pedance.....    
+00022e90: 2020 2020 2a2a 766b 725f 6876 5f70 6572      **vkr_hv_per
+00022ea0: 6365 6e74 5f63 6861 7261 6374 6572 6973  cent_characteris
+00022eb0: 7469 632a 2a20 2869 6e74 2920 2d20 696e  tic** (int) - in
+00022ec0: 6465 7820 6f66 2074 6865 2063 6861 7261  dex of the chara
+00022ed0: 6374 6572 6973 7469 6320 6672 6f6d 206e  cteristic from n
+00022ee0: 6574 2e63 6861 7261 6374 6572 6973 7469  et.characteristi
+00022ef0: 6320 666f 7220 5c0d 0a20 2020 2020 2020  c for \..       
+00022f00: 2020 2020 2074 6865 2061 646a 7573 746d       the adjustm
+00022f10: 656e 7420 6f66 2074 6865 2070 6172 616d  ent of the param
+00022f20: 6574 6572 2022 766b 5f70 6572 6365 6e74  eter "vk_percent
+00022f30: 2220 666f 7220 7468 6520 6361 6c63 756c  " for the calcul
+00022f40: 6174 696f 6e20 6f66 2074 6170 2064 6570  ation of tap dep
+00022f50: 656e 6465 6e74 2069 6d70 6564 616e 6365  endent impedance
+00022f60: 2e0d 0a0d 0a20 2020 2020 2020 202a 2a76  .....        **v
+00022f70: 6b5f 6d76 5f70 6572 6365 6e74 5f63 6861  k_mv_percent_cha
+00022f80: 7261 6374 6572 6973 7469 632a 2a20 2869  racteristic** (i
+00022f90: 6e74 2920 2d20 696e 6465 7820 6f66 2074  nt) - index of t
+00022fa0: 6865 2063 6861 7261 6374 6572 6973 7469  he characteristi
+00022fb0: 6320 6672 6f6d 206e 6574 2e63 6861 7261  c from net.chara
+00022fc0: 6374 6572 6973 7469 6320 666f 7220 5c0d  cteristic for \.
+00022fd0: 0a20 2020 2020 2020 2020 2020 2074 6865  .            the
+00022fe0: 2061 646a 7573 746d 656e 7420 6f66 2074   adjustment of t
+00022ff0: 6865 2070 6172 616d 6574 6572 2022 766b  he parameter "vk
+00023000: 5f70 6572 6365 6e74 2220 666f 7220 7468  _percent" for th
+00023010: 6520 6361 6c63 756c 6174 696f 6e20 6f66  e calculation of
+00023020: 2074 6170 2064 6570 656e 6465 6e74 2069   tap dependent i
+00023030: 6d70 6564 616e 6365 2e0d 0a0d 0a20 2020  mpedance.....   
+00023040: 2020 2020 202a 2a76 6b72 5f6d 765f 7065       **vkr_mv_pe
+00023050: 7263 656e 745f 6368 6172 6163 7465 7269  rcent_characteri
+00023060: 7374 6963 2a2a 2028 696e 7429 202d 2069  stic** (int) - i
+00023070: 6e64 6578 206f 6620 7468 6520 6368 6172  ndex of the char
+00023080: 6163 7465 7269 7374 6963 2066 726f 6d20  acteristic from 
+00023090: 6e65 742e 6368 6172 6163 7465 7269 7374  net.characterist
+000230a0: 6963 2066 6f72 205c 0d0a 2020 2020 2020  ic for \..      
+000230b0: 2020 2020 2020 7468 6520 6164 6a75 7374        the adjust
+000230c0: 6d65 6e74 206f 6620 7468 6520 7061 7261  ment of the para
+000230d0: 6d65 7465 7220 2276 6b5f 7065 7263 656e  meter "vk_percen
+000230e0: 7422 2066 6f72 2074 6865 2063 616c 6375  t" for the calcu
+000230f0: 6c61 7469 6f6e 206f 6620 7461 7020 6465  lation of tap de
+00023100: 7065 6e64 656e 7420 696d 7065 6461 6e63  pendent impedanc
+00023110: 652e 0d0a 0d0a 2020 2020 2020 2020 2a2a  e.....        **
+00023120: 766b 5f6c 765f 7065 7263 656e 745f 6368  vk_lv_percent_ch
+00023130: 6172 6163 7465 7269 7374 6963 2a2a 2028  aracteristic** (
+00023140: 696e 7429 202d 2069 6e64 6578 206f 6620  int) - index of 
+00023150: 7468 6520 6368 6172 6163 7465 7269 7374  the characterist
+00023160: 6963 2066 726f 6d20 6e65 742e 6368 6172  ic from net.char
+00023170: 6163 7465 7269 7374 6963 2066 6f72 205c  acteristic for \
+00023180: 0d0a 2020 2020 2020 2020 2020 2020 7468  ..            th
+00023190: 6520 6164 6a75 7374 6d65 6e74 206f 6620  e adjustment of 
+000231a0: 7468 6520 7061 7261 6d65 7465 7220 2276  the parameter "v
+000231b0: 6b5f 7065 7263 656e 7422 2066 6f72 2074  k_percent" for t
+000231c0: 6865 2063 616c 6375 6c61 7469 6f6e 206f  he calculation o
+000231d0: 6620 7461 7020 6465 7065 6e64 656e 7420  f tap dependent 
+000231e0: 696d 7065 6461 6e63 652e 0d0a 0d0a 2020  impedance.....  
+000231f0: 2020 2020 2020 2a2a 766b 725f 6c76 5f70        **vkr_lv_p
+00023200: 6572 6365 6e74 5f63 6861 7261 6374 6572  ercent_character
+00023210: 6973 7469 632a 2a20 2869 6e74 2920 2d20  istic** (int) - 
+00023220: 696e 6465 7820 6f66 2074 6865 2063 6861  index of the cha
+00023230: 7261 6374 6572 6973 7469 6320 6672 6f6d  racteristic from
+00023240: 206e 6574 2e63 6861 7261 6374 6572 6973   net.characteris
+00023250: 7469 6320 666f 7220 5c0d 0a20 2020 2020  tic for \..     
+00023260: 2020 2020 2020 2074 6865 2061 646a 7573         the adjus
+00023270: 746d 656e 7420 6f66 2074 6865 2070 6172  tment of the par
+00023280: 616d 6574 6572 2022 766b 5f70 6572 6365  ameter "vk_perce
+00023290: 6e74 2220 666f 7220 7468 6520 6361 6c63  nt" for the calc
+000232a0: 756c 6174 696f 6e20 6f66 2074 6170 2064  ulation of tap d
+000232b0: 6570 656e 6465 6e74 2069 6d70 6564 616e  ependent impedan
+000232c0: 6365 2e0d 0a0d 0a20 2020 2020 2020 202a  ce.....        *
+000232d0: 2a76 6b30 5f68 765f 7065 7263 656e 742a  *vk0_hv_percent*
+000232e0: 2a20 2866 6c6f 6174 2920 2d20 7a65 726f  * (float) - zero
+000232f0: 2073 6571 7565 6e63 6520 7368 6f72 7420   sequence short 
+00023300: 6369 7263 7569 7420 766f 6c74 6167 6520  circuit voltage 
+00023310: 6672 6f6d 2068 6967 6820 746f 206d 6564  from high to med
+00023320: 6975 6d20 766f 6c74 6167 650d 0a0d 0a20  ium voltage.... 
+00023330: 2020 2020 2020 202a 2a76 6b30 5f6d 765f         **vk0_mv_
+00023340: 7065 7263 656e 742a 2a20 2866 6c6f 6174  percent** (float
+00023350: 2920 2d20 7a65 726f 2073 6571 7565 6e63  ) - zero sequenc
+00023360: 6520 7368 6f72 7420 6369 7263 7569 7420  e short circuit 
+00023370: 766f 6c74 6167 6520 6672 6f6d 206d 6564  voltage from med
+00023380: 6975 6d20 746f 206c 6f77 2076 6f6c 7461  ium to low volta
+00023390: 6765 0d0a 0d0a 2020 2020 2020 2020 2a2a  ge....        **
+000233a0: 766b 305f 6c76 5f70 6572 6365 6e74 2a2a  vk0_lv_percent**
+000233b0: 2028 666c 6f61 7429 202d 207a 6572 6f20   (float) - zero 
+000233c0: 7365 7175 656e 6365 2073 686f 7274 2063  sequence short c
+000233d0: 6972 6375 6974 2076 6f6c 7461 6765 2066  ircuit voltage f
+000233e0: 726f 6d20 6869 6768 2074 6f20 6c6f 7720  rom high to low 
+000233f0: 766f 6c74 6167 650d 0a0d 0a20 2020 2020  voltage....     
+00023400: 2020 202a 2a76 6b72 305f 6876 5f70 6572     **vkr0_hv_per
+00023410: 6365 6e74 2a2a 2028 666c 6f61 7429 202d  cent** (float) -
+00023420: 207a 6572 6f20 7365 7175 656e 6365 2072   zero sequence r
+00023430: 6561 6c20 7061 7274 206f 6620 7368 6f72  eal part of shor
+00023440: 7420 6369 7263 7569 7420 766f 6c74 6167  t circuit voltag
+00023450: 6520 6672 6f6d 2068 6967 6820 746f 206d  e from high to m
+00023460: 6564 6975 6d20 766f 6c74 6167 650d 0a0d  edium voltage...
+00023470: 0a20 2020 2020 2020 202a 2a76 6b72 305f  .        **vkr0_
+00023480: 6d76 5f70 6572 6365 6e74 2a2a 2028 666c  mv_percent** (fl
+00023490: 6f61 7429 202d 207a 6572 6f20 7365 7175  oat) - zero sequ
+000234a0: 656e 6365 2072 6561 6c20 7061 7274 206f  ence real part o
+000234b0: 6620 7368 6f72 7420 6369 7263 7569 7420  f short circuit 
+000234c0: 766f 6c74 6167 6520 6672 6f6d 206d 6564  voltage from med
+000234d0: 6975 6d20 746f 206c 6f77 2076 6f6c 7461  ium to low volta
+000234e0: 6765 0d0a 0d0a 2020 2020 2020 2020 2a2a  ge....        **
+000234f0: 766b 7230 5f6c 765f 7065 7263 656e 742a  vkr0_lv_percent*
+00023500: 2a20 2866 6c6f 6174 2920 2d20 7a65 726f  * (float) - zero
+00023510: 2073 6571 7565 6e63 6520 7265 616c 2070   sequence real p
+00023520: 6172 7420 6f66 2073 686f 7274 2063 6972  art of short cir
+00023530: 6375 6974 2076 6f6c 7461 6765 2066 726f  cuit voltage fro
+00023540: 6d20 6869 6768 2074 6f20 6c6f 7720 766f  m high to low vo
+00023550: 6c74 6167 650d 0a0d 0a20 2020 2020 2020  ltage....       
+00023560: 202a 2a76 6563 746f 725f 6772 6f75 702a   **vector_group*
+00023570: 2a20 286c 6973 7420 6f66 2053 7472 696e  * (list of Strin
+00023580: 6729 202d 2056 6563 746f 7220 6772 6f75  g) - Vector grou
+00023590: 7020 6f66 2074 6865 2074 7261 6e73 666f  p of the transfo
+000235a0: 726d 6572 3377 0d0a 0d0a 2020 2020 4f55  rmer3w....    OU
+000235b0: 5450 5554 3a0d 0a20 2020 2020 2020 202a  TPUT:..        *
+000235c0: 2a74 7261 666f 5f69 642a 2a20 2d20 4c69  *trafo_id** - Li
+000235d0: 7374 206f 6620 7472 6166 6f5f 6964 7320  st of trafo_ids 
+000235e0: 6f66 2074 6865 2063 7265 6174 6564 2033  of the created 3
+000235f0: 5720 7472 616e 7366 6f72 6d65 7273 0d0a  W transformers..
+00023600: 0d0a 2020 2020 4578 616d 706c 653a 0d0a  ..    Example:..
+00023610: 2020 2020 2020 2020 6372 6561 7465 5f74          create_t
+00023620: 7261 6e73 666f 726d 6572 3377 5f66 726f  ransformer3w_fro
+00023630: 6d5f 7061 7261 6d65 7465 7273 286e 6574  m_parameters(net
+00023640: 2c20 6876 5f62 7573 3d30 2c20 6d76 5f62  , hv_bus=0, mv_b
+00023650: 7573 3d31 2c20 6c76 5f62 7573 3d32 2c20  us=1, lv_bus=2, 
+00023660: 6e61 6d65 3d22 7472 6166 6f31 222c 0d0a  name="trafo1",..
+00023670: 2020 2020 2020 2020 736e 5f68 765f 6d76          sn_hv_mv
+00023680: 613d 3430 2c20 736e 5f6d 765f 6d76 613d  a=40, sn_mv_mva=
+00023690: 3230 2c20 736e 5f6c 765f 6d76 613d 3230  20, sn_lv_mva=20
+000236a0: 2c20 766e 5f68 765f 6b76 3d31 3130 2c20  , vn_hv_kv=110, 
+000236b0: 766e 5f6d 765f 6b76 3d32 302c 2076 6e5f  vn_mv_kv=20, vn_
+000236c0: 6c76 5f6b 763d 3130 2c0d 0a20 2020 2020  lv_kv=10,..     
+000236d0: 2020 2076 6b5f 6876 5f70 6572 6365 6e74     vk_hv_percent
+000236e0: 3d31 302c 766b 5f6d 765f 7065 7263 656e  =10,vk_mv_percen
+000236f0: 743d 3131 2c20 766b 5f6c 765f 7065 7263  t=11, vk_lv_perc
+00023700: 656e 743d 3132 2c20 766b 725f 6876 5f70  ent=12, vkr_hv_p
+00023710: 6572 6365 6e74 3d30 2e33 2c0d 0a20 2020  ercent=0.3,..   
+00023720: 2020 2020 2076 6b72 5f6d 765f 7065 7263       vkr_mv_perc
+00023730: 656e 743d 302e 3331 2c20 766b 725f 6c76  ent=0.31, vkr_lv
+00023740: 5f70 6572 6365 6e74 3d30 2e33 322c 2070  _percent=0.32, p
+00023750: 6665 5f6b 773d 3330 2c20 6930 5f70 6572  fe_kw=30, i0_per
+00023760: 6365 6e74 3d30 2e31 2c20 7368 6966 745f  cent=0.1, shift_
+00023770: 6d76 5f64 6567 7265 653d 3330 2c0d 0a20  mv_degree=30,.. 
+00023780: 2020 2020 2020 2073 6869 6674 5f6c 765f         shift_lv_
+00023790: 6465 6772 6565 3d33 3029 0d0a 0d0a 2020  degree=30)....  
+000237a0: 2020 2222 220d 0a20 2020 2069 6e64 6578    """..    index
+000237b0: 203d 205f 6765 745f 6d75 6c74 6970 6c65   = _get_multiple
+000237c0: 5f69 6e64 6578 5f77 6974 685f 6368 6563  _index_with_chec
+000237d0: 6b28 6e65 742c 2022 7472 6166 6f33 7722  k(net, "trafo3w"
+000237e0: 2c20 696e 6465 782c 206c 656e 2868 765f  , index, len(hv_
+000237f0: 6275 7365 7329 2c0d 0a20 2020 2020 2020  buses),..       
 00023800: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023810: 2020 2020 206e 616d 653d 2254 6872 6565       name="Three
-00023820: 2077 696e 6469 6e67 2074 7261 6e73 666f   winding transfo
-00023830: 726d 6572 7322 290d 0a0d 0a20 2020 2069  rmers")....    i
-00023840: 6620 6e6f 7420 6e70 5f61 6c6c 2869 7369  f not np_all(isi
-00023850: 6e28 6876 5f62 7573 6573 2c20 6e65 742e  n(hv_buses, net.
-00023860: 6275 732e 696e 6465 7829 293a 0d0a 2020  bus.index)):..  
-00023870: 2020 2020 2020 6275 735f 6e6f 745f 6578        bus_not_ex
-00023880: 6973 7420 3d20 7365 7428 6876 5f62 7573  ist = set(hv_bus
-00023890: 6573 2920 2d20 7365 7428 6e65 742e 6275  es) - set(net.bu
-000238a0: 732e 696e 6465 7829 0d0a 2020 2020 2020  s.index)..      
-000238b0: 2020 7261 6973 6520 5573 6572 5761 726e    raise UserWarn
-000238c0: 696e 6728 2254 7261 6e73 666f 726d 6572  ing("Transformer
-000238d0: 7320 7472 7969 6e67 2074 6f20 6174 7461  s trying to atta
-000238e0: 6368 2074 6f20 6e6f 6e20 6578 6973 7469  ch to non existi
-000238f0: 6e67 2062 7573 6573 2025 7322 2025 2062  ng buses %s" % b
-00023900: 7573 5f6e 6f74 5f65 7869 7374 290d 0a20  us_not_exist).. 
-00023910: 2020 2069 6620 6e6f 7420 6e70 5f61 6c6c     if not np_all
-00023920: 2869 7369 6e28 6d76 5f62 7573 6573 2c20  (isin(mv_buses, 
-00023930: 6e65 742e 6275 732e 696e 6465 7829 293a  net.bus.index)):
-00023940: 0d0a 2020 2020 2020 2020 6275 735f 6e6f  ..        bus_no
-00023950: 745f 6578 6973 7420 3d20 7365 7428 6d76  t_exist = set(mv
-00023960: 5f62 7573 6573 2920 2d20 7365 7428 6e65  _buses) - set(ne
-00023970: 742e 6275 732e 696e 6465 7829 0d0a 2020  t.bus.index)..  
-00023980: 2020 2020 2020 7261 6973 6520 5573 6572        raise User
-00023990: 5761 726e 696e 6728 2254 7261 6e73 666f  Warning("Transfo
-000239a0: 726d 6572 7320 7472 7969 6e67 2074 6f20  rmers trying to 
-000239b0: 6174 7461 6368 2074 6f20 6e6f 6e20 6578  attach to non ex
-000239c0: 6973 7469 6e67 2062 7573 6573 2025 7322  isting buses %s"
-000239d0: 2025 2062 7573 5f6e 6f74 5f65 7869 7374   % bus_not_exist
-000239e0: 290d 0a20 2020 2069 6620 6e6f 7420 6e70  )..    if not np
-000239f0: 5f61 6c6c 2869 7369 6e28 6c76 5f62 7573  _all(isin(lv_bus
-00023a00: 6573 2c20 6e65 742e 6275 732e 696e 6465  es, net.bus.inde
-00023a10: 7829 293a 0d0a 2020 2020 2020 2020 6275  x)):..        bu
-00023a20: 735f 6e6f 745f 6578 6973 7420 3d20 7365  s_not_exist = se
-00023a30: 7428 6c76 5f62 7573 6573 2920 2d20 7365  t(lv_buses) - se
-00023a40: 7428 6e65 742e 6275 732e 696e 6465 7829  t(net.bus.index)
-00023a50: 0d0a 2020 2020 2020 2020 7261 6973 6520  ..        raise 
-00023a60: 5573 6572 5761 726e 696e 6728 2254 7261  UserWarning("Tra
-00023a70: 6e73 666f 726d 6572 7320 7472 7969 6e67  nsformers trying
-00023a80: 2074 6f20 6174 7461 6368 2074 6f20 6e6f   to attach to no
-00023a90: 6e20 6578 6973 7469 6e67 2062 7573 6573  n existing buses
-00023aa0: 2025 7322 2025 2062 7573 5f6e 6f74 5f65   %s" % bus_not_e
-00023ab0: 7869 7374 290d 0a0d 0a20 2020 2074 705f  xist)....    tp_
-00023ac0: 6e65 7574 7261 6c20 3d20 7064 2e53 6572  neutral = pd.Ser
-00023ad0: 6965 7328 7461 705f 6e65 7574 7261 6c2c  ies(tap_neutral,
-00023ae0: 2069 6e64 6578 3d69 6e64 6578 2c20 6474   index=index, dt
-00023af0: 7970 653d 666c 6f61 7436 3429 0d0a 2020  ype=float64)..  
-00023b00: 2020 7470 5f70 6f73 203d 2070 642e 5365    tp_pos = pd.Se
-00023b10: 7269 6573 2874 6170 5f70 6f73 2c20 696e  ries(tap_pos, in
-00023b20: 6465 783d 696e 6465 782c 2064 7479 7065  dex=index, dtype
-00023b30: 3d66 6c6f 6174 3634 292e 6669 6c6c 6e61  =float64).fillna
-00023b40: 2874 705f 6e65 7574 7261 6c29 0d0a 2020  (tp_neutral)..  
-00023b50: 2020 656e 7472 6965 7320 3d20 7b22 6c76    entries = {"lv
-00023b60: 5f62 7573 223a 206c 765f 6275 7365 732c  _bus": lv_buses,
-00023b70: 2022 6d76 5f62 7573 223a 206d 765f 6275   "mv_bus": mv_bu
-00023b80: 7365 732c 2022 6876 5f62 7573 223a 2068  ses, "hv_bus": h
-00023b90: 765f 6275 7365 732c 2022 766e 5f68 765f  v_buses, "vn_hv_
-00023ba0: 6b76 223a 2076 6e5f 6876 5f6b 762c 0d0a  kv": vn_hv_kv,..
-00023bb0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-00023bc0: 766e 5f6d 765f 6b76 223a 2076 6e5f 6d76  vn_mv_kv": vn_mv
-00023bd0: 5f6b 762c 2022 766e 5f6c 765f 6b76 223a  _kv, "vn_lv_kv":
-00023be0: 2076 6e5f 6c76 5f6b 762c 2022 736e 5f68   vn_lv_kv, "sn_h
-00023bf0: 765f 6d76 6122 3a20 736e 5f68 765f 6d76  v_mva": sn_hv_mv
-00023c00: 612c 0d0a 2020 2020 2020 2020 2020 2020  a,..            
-00023c10: 2020 2022 736e 5f6d 765f 6d76 6122 3a20     "sn_mv_mva": 
-00023c20: 736e 5f6d 765f 6d76 612c 2022 736e 5f6c  sn_mv_mva, "sn_l
-00023c30: 765f 6d76 6122 3a20 736e 5f6c 765f 6d76  v_mva": sn_lv_mv
-00023c40: 612c 2022 766b 5f68 765f 7065 7263 656e  a, "vk_hv_percen
-00023c50: 7422 3a20 766b 5f68 765f 7065 7263 656e  t": vk_hv_percen
-00023c60: 742c 0d0a 2020 2020 2020 2020 2020 2020  t,..            
-00023c70: 2020 2022 766b 5f6d 765f 7065 7263 656e     "vk_mv_percen
-00023c80: 7422 3a20 766b 5f6d 765f 7065 7263 656e  t": vk_mv_percen
-00023c90: 742c 2022 766b 5f6c 765f 7065 7263 656e  t, "vk_lv_percen
-00023ca0: 7422 3a20 766b 5f6c 765f 7065 7263 656e  t": vk_lv_percen
-00023cb0: 742c 0d0a 2020 2020 2020 2020 2020 2020  t,..            
-00023cc0: 2020 2022 766b 725f 6876 5f70 6572 6365     "vkr_hv_perce
-00023cd0: 6e74 223a 2076 6b72 5f68 765f 7065 7263  nt": vkr_hv_perc
-00023ce0: 656e 742c 2022 766b 725f 6d76 5f70 6572  ent, "vkr_mv_per
-00023cf0: 6365 6e74 223a 2076 6b72 5f6d 765f 7065  cent": vkr_mv_pe
-00023d00: 7263 656e 742c 0d0a 2020 2020 2020 2020  rcent,..        
-00023d10: 2020 2020 2020 2022 766b 725f 6c76 5f70         "vkr_lv_p
-00023d20: 6572 6365 6e74 223a 2076 6b72 5f6c 765f  ercent": vkr_lv_
-00023d30: 7065 7263 656e 742c 2022 7066 655f 6b77  percent, "pfe_kw
-00023d40: 223a 2070 6665 5f6b 772c 2022 6930 5f70  ": pfe_kw, "i0_p
-00023d50: 6572 6365 6e74 223a 2069 305f 7065 7263  ercent": i0_perc
-00023d60: 656e 742c 0d0a 2020 2020 2020 2020 2020  ent,..          
-00023d70: 2020 2020 2022 7368 6966 745f 6d76 5f64       "shift_mv_d
-00023d80: 6567 7265 6522 3a20 7368 6966 745f 6d76  egree": shift_mv
-00023d90: 5f64 6567 7265 652c 2022 7368 6966 745f  _degree, "shift_
-00023da0: 6c76 5f64 6567 7265 6522 3a20 7368 6966  lv_degree": shif
-00023db0: 745f 6c76 5f64 6567 7265 652c 0d0a 2020  t_lv_degree,..  
-00023dc0: 2020 2020 2020 2020 2020 2020 2022 7461               "ta
-00023dd0: 705f 7369 6465 223a 2074 6170 5f73 6964  p_side": tap_sid
-00023de0: 652c 2022 7461 705f 7374 6570 5f70 6572  e, "tap_step_per
-00023df0: 6365 6e74 223a 2074 6170 5f73 7465 705f  cent": tap_step_
-00023e00: 7065 7263 656e 742c 0d0a 2020 2020 2020  percent,..      
-00023e10: 2020 2020 2020 2020 2022 7461 705f 7374           "tap_st
-00023e20: 6570 5f64 6567 7265 6522 3a20 7461 705f  ep_degree": tap_
-00023e30: 7374 6570 5f64 6567 7265 652c 2022 7461  step_degree, "ta
-00023e40: 705f 706f 7322 3a20 7470 5f70 6f73 2c20  p_pos": tp_pos, 
-00023e50: 2274 6170 5f6e 6575 7472 616c 223a 2074  "tap_neutral": t
-00023e60: 705f 6e65 7574 7261 6c2c 0d0a 2020 2020  p_neutral,..    
-00023e70: 2020 2020 2020 2020 2020 2022 7461 705f             "tap_
-00023e80: 6d61 7822 3a20 7461 705f 6d61 782c 2022  max": tap_max, "
-00023e90: 7461 705f 6d69 6e22 3a20 7461 705f 6d69  tap_min": tap_mi
-00023ea0: 6e2c 0d0a 2020 2020 2020 2020 2020 2020  n,..            
-00023eb0: 2020 2022 696e 5f73 6572 7669 6365 223a     "in_service":
-00023ec0: 2061 7272 6179 2869 6e5f 7365 7276 6963   array(in_servic
-00023ed0: 6529 2e61 7374 7970 6528 626f 6f6c 5f29  e).astype(bool_)
-00023ee0: 2c20 226e 616d 6522 3a20 6e61 6d65 2c0d  , "name": name,.
-00023ef0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00023f00: 2274 6170 5f61 745f 7374 6172 5f70 6f69  "tap_at_star_poi
-00023f10: 6e74 223a 2061 7272 6179 2874 6170 5f61  nt": array(tap_a
-00023f20: 745f 7374 6172 5f70 6f69 6e74 292e 6173  t_star_point).as
-00023f30: 7479 7065 2862 6f6f 6c5f 292c 2022 7374  type(bool_), "st
-00023f40: 645f 7479 7065 223a 204e 6f6e 652c 0d0a  d_type": None,..
-00023f50: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-00023f60: 766b 305f 6876 5f70 6572 6365 6e74 223a  vk0_hv_percent":
-00023f70: 2076 6b30 5f68 765f 7065 7263 656e 742c   vk0_hv_percent,
-00023f80: 2022 766b 305f 6d76 5f70 6572 6365 6e74   "vk0_mv_percent
-00023f90: 223a 2076 6b30 5f6d 765f 7065 7263 656e  ": vk0_mv_percen
-00023fa0: 742c 0d0a 2020 2020 2020 2020 2020 2020  t,..            
-00023fb0: 2020 2022 766b 305f 6c76 5f70 6572 6365     "vk0_lv_perce
-00023fc0: 6e74 223a 2076 6b30 5f6c 765f 7065 7263  nt": vk0_lv_perc
-00023fd0: 656e 742c 2022 766b 7230 5f68 765f 7065  ent, "vkr0_hv_pe
-00023fe0: 7263 656e 7422 3a20 766b 7230 5f68 765f  rcent": vkr0_hv_
-00023ff0: 7065 7263 656e 742c 0d0a 2020 2020 2020  percent,..      
-00024000: 2020 2020 2020 2020 2022 766b 7230 5f6d           "vkr0_m
-00024010: 765f 7065 7263 656e 7422 3a20 766b 7230  v_percent": vkr0
-00024020: 5f6d 765f 7065 7263 656e 742c 2022 766b  _mv_percent, "vk
-00024030: 7230 5f6c 765f 7065 7263 656e 7422 3a20  r0_lv_percent": 
-00024040: 766b 7230 5f6c 765f 7065 7263 656e 742c  vkr0_lv_percent,
-00024050: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00024060: 2022 7665 6374 6f72 5f67 726f 7570 223a   "vector_group":
-00024070: 2076 6563 746f 725f 6772 6f75 707d 0d0a   vector_group}..
-00024080: 0d0a 2020 2020 5f61 6464 5f73 6572 6965  ..    _add_serie
-00024090: 735f 746f 5f65 6e74 7269 6573 2865 6e74  s_to_entries(ent
-000240a0: 7269 6573 2c20 696e 6465 782c 2022 6d61  ries, index, "ma
-000240b0: 785f 6c6f 6164 696e 675f 7065 7263 656e  x_loading_percen
-000240c0: 7422 2c20 6d61 785f 6c6f 6164 696e 675f  t", max_loading_
-000240d0: 7065 7263 656e 7429 0d0a 0d0a 2020 2020  percent)....    
-000240e0: 6966 2074 6170 5f64 6570 656e 6465 6e74  if tap_dependent
-000240f0: 5f69 6d70 6564 616e 6365 2069 7320 6e6f  _impedance is no
-00024100: 7420 4e6f 6e65 3a0d 0a20 2020 2020 2020  t None:..       
-00024110: 205f 6164 645f 7365 7269 6573 5f74 6f5f   _add_series_to_
-00024120: 656e 7472 6965 7328 656e 7472 6965 732c  entries(entries,
-00024130: 2069 6e64 6578 2c20 2274 6170 5f64 6570   index, "tap_dep
-00024140: 656e 6465 6e74 5f69 6d70 6564 616e 6365  endent_impedance
-00024150: 222c 2074 6170 5f64 6570 656e 6465 6e74  ", tap_dependent
-00024160: 5f69 6d70 6564 616e 6365 2c20 6474 7970  _impedance, dtyp
-00024170: 653d 626f 6f6c 5f2c 2064 6566 6175 6c74  e=bool_, default
-00024180: 5f76 616c 3d46 616c 7365 290d 0a20 2020  _val=False)..   
-00024190: 2069 6620 766b 5f68 765f 7065 7263 656e   if vk_hv_percen
-000241a0: 745f 6368 6172 6163 7465 7269 7374 6963  t_characteristic
-000241b0: 2069 7320 6e6f 7420 4e6f 6e65 3a0d 0a20   is not None:.. 
-000241c0: 2020 2020 2020 205f 6164 645f 7365 7269         _add_seri
-000241d0: 6573 5f74 6f5f 656e 7472 6965 7328 656e  es_to_entries(en
-000241e0: 7472 6965 732c 2069 6e64 6578 2c20 2276  tries, index, "v
-000241f0: 6b5f 6876 5f70 6572 6365 6e74 5f63 6861  k_hv_percent_cha
-00024200: 7261 6374 6572 6973 7469 6322 2c20 766b  racteristic", vk
-00024210: 5f68 765f 7065 7263 656e 745f 6368 6172  _hv_percent_char
-00024220: 6163 7465 7269 7374 6963 2c20 2249 6e74  acteristic, "Int
-00024230: 3634 2229 0d0a 2020 2020 6966 2076 6b72  64")..    if vkr
-00024240: 5f68 765f 7065 7263 656e 745f 6368 6172  _hv_percent_char
-00024250: 6163 7465 7269 7374 6963 2069 7320 6e6f  acteristic is no
-00024260: 7420 4e6f 6e65 3a0d 0a20 2020 2020 2020  t None:..       
-00024270: 205f 6164 645f 7365 7269 6573 5f74 6f5f   _add_series_to_
-00024280: 656e 7472 6965 7328 656e 7472 6965 732c  entries(entries,
-00024290: 2069 6e64 6578 2c20 2276 6b72 5f68 765f   index, "vkr_hv_
-000242a0: 7065 7263 656e 745f 6368 6172 6163 7465  percent_characte
-000242b0: 7269 7374 6963 222c 2076 6b72 5f68 765f  ristic", vkr_hv_
-000242c0: 7065 7263 656e 745f 6368 6172 6163 7465  percent_characte
-000242d0: 7269 7374 6963 2c20 2249 6e74 3634 2229  ristic, "Int64")
-000242e0: 0d0a 2020 2020 6966 2076 6b5f 6d76 5f70  ..    if vk_mv_p
-000242f0: 6572 6365 6e74 5f63 6861 7261 6374 6572  ercent_character
-00024300: 6973 7469 6320 6973 206e 6f74 204e 6f6e  istic is not Non
-00024310: 653a 0d0a 2020 2020 2020 2020 5f61 6464  e:..        _add
-00024320: 5f73 6572 6965 735f 746f 5f65 6e74 7269  _series_to_entri
-00024330: 6573 2865 6e74 7269 6573 2c20 696e 6465  es(entries, inde
-00024340: 782c 2022 766b 5f6d 765f 7065 7263 656e  x, "vk_mv_percen
-00024350: 745f 6368 6172 6163 7465 7269 7374 6963  t_characteristic
-00024360: 222c 2076 6b5f 6d76 5f70 6572 6365 6e74  ", vk_mv_percent
-00024370: 5f63 6861 7261 6374 6572 6973 7469 632c  _characteristic,
-00024380: 2022 496e 7436 3422 290d 0a20 2020 2069   "Int64")..    i
-00024390: 6620 766b 725f 6d76 5f70 6572 6365 6e74  f vkr_mv_percent
-000243a0: 5f63 6861 7261 6374 6572 6973 7469 6320  _characteristic 
-000243b0: 6973 206e 6f74 204e 6f6e 653a 0d0a 2020  is not None:..  
-000243c0: 2020 2020 2020 5f61 6464 5f73 6572 6965        _add_serie
-000243d0: 735f 746f 5f65 6e74 7269 6573 2865 6e74  s_to_entries(ent
-000243e0: 7269 6573 2c20 696e 6465 782c 2022 766b  ries, index, "vk
-000243f0: 725f 6d76 5f70 6572 6365 6e74 5f63 6861  r_mv_percent_cha
-00024400: 7261 6374 6572 6973 7469 6322 2c20 766b  racteristic", vk
-00024410: 725f 6d76 5f70 6572 6365 6e74 5f63 6861  r_mv_percent_cha
-00024420: 7261 6374 6572 6973 7469 632c 2022 496e  racteristic, "In
-00024430: 7436 3422 290d 0a20 2020 2069 6620 766b  t64")..    if vk
-00024440: 5f6c 765f 7065 7263 656e 745f 6368 6172  _lv_percent_char
-00024450: 6163 7465 7269 7374 6963 2069 7320 6e6f  acteristic is no
-00024460: 7420 4e6f 6e65 3a0d 0a20 2020 2020 2020  t None:..       
-00024470: 205f 6164 645f 7365 7269 6573 5f74 6f5f   _add_series_to_
-00024480: 656e 7472 6965 7328 656e 7472 6965 732c  entries(entries,
-00024490: 2069 6e64 6578 2c20 2276 6b5f 6c76 5f70   index, "vk_lv_p
-000244a0: 6572 6365 6e74 5f63 6861 7261 6374 6572  ercent_character
-000244b0: 6973 7469 6322 2c20 766b 5f6c 765f 7065  istic", vk_lv_pe
-000244c0: 7263 656e 745f 6368 6172 6163 7465 7269  rcent_characteri
-000244d0: 7374 6963 2c20 2249 6e74 3634 2229 0d0a  stic, "Int64")..
-000244e0: 2020 2020 6966 2076 6b72 5f6c 765f 7065      if vkr_lv_pe
-000244f0: 7263 656e 745f 6368 6172 6163 7465 7269  rcent_characteri
-00024500: 7374 6963 2069 7320 6e6f 7420 4e6f 6e65  stic is not None
-00024510: 3a0d 0a20 2020 2020 2020 205f 6164 645f  :..        _add_
-00024520: 7365 7269 6573 5f74 6f5f 656e 7472 6965  series_to_entrie
-00024530: 7328 656e 7472 6965 732c 2069 6e64 6578  s(entries, index
-00024540: 2c20 2276 6b72 5f6c 765f 7065 7263 656e  , "vkr_lv_percen
-00024550: 745f 6368 6172 6163 7465 7269 7374 6963  t_characteristic
-00024560: 222c 2076 6b72 5f6c 765f 7065 7263 656e  ", vkr_lv_percen
-00024570: 745f 6368 6172 6163 7465 7269 7374 6963  t_characteristic
-00024580: 2c20 2249 6e74 3634 2229 0d0a 0d0a 2020  , "Int64")....  
-00024590: 2020 5f73 6574 5f6d 756c 7469 706c 655f    _set_multiple_
-000245a0: 656e 7472 6965 7328 6e65 742c 2022 7472  entries(net, "tr
-000245b0: 6166 6f33 7722 2c20 696e 6465 782c 202a  afo3w", index, *
-000245c0: 2a65 6e74 7269 6573 2c20 2a2a 6b77 6172  *entries, **kwar
-000245d0: 6773 290d 0a0d 0a20 2020 2072 6574 7572  gs)....    retur
-000245e0: 6e20 696e 6465 780d 0a0d 0a0d 0a64 6566  n index......def
-000245f0: 2063 7265 6174 655f 7377 6974 6368 286e   create_switch(n
-00024600: 6574 2c20 6275 732c 2065 6c65 6d65 6e74  et, bus, element
-00024610: 2c20 6574 2c20 636c 6f73 6564 3d54 7275  , et, closed=Tru
-00024620: 652c 2074 7970 653d 4e6f 6e65 2c20 6e61  e, type=None, na
-00024630: 6d65 3d4e 6f6e 652c 2069 6e64 6578 3d4e  me=None, index=N
-00024640: 6f6e 652c 207a 5f6f 686d 3d30 293a 0d0a  one, z_ohm=0):..
-00024650: 2020 2020 2222 220d 0a20 2020 2041 6464      """..    Add
-00024660: 7320 6120 7377 6974 6368 2069 6e20 7468  s a switch in th
-00024670: 6520 6e65 745b 2273 7769 7463 6822 5d20  e net["switch"] 
-00024680: 7461 626c 652e 0d0a 0d0a 2020 2020 5377  table.....    Sw
-00024690: 6974 6368 6573 2063 616e 2062 6520 6569  itches can be ei
-000246a0: 7468 6572 2062 6574 7765 656e 2074 776f  ther between two
-000246b0: 2062 7573 6573 2028 6275 732d 6275 7320   buses (bus-bus 
-000246c0: 7377 6974 6368 2920 6f72 2061 7420 7468  switch) or at th
-000246d0: 6520 656e 6420 6f66 2061 206c 696e 6520  e end of a line 
-000246e0: 6f72 2074 7261 6e73 666f 726d 6572 0d0a  or transformer..
-000246f0: 2020 2020 656c 656d 656e 7420 2862 7573      element (bus
-00024700: 2d65 6c65 6d65 6e74 2073 7769 7463 6829  -element switch)
-00024710: 2e0d 0a0d 0a20 2020 2054 776f 2062 7573  .....    Two bus
-00024720: 6573 2074 6861 7420 6172 6520 636f 6e6e  es that are conn
-00024730: 6563 7465 6420 7468 726f 7567 6820 6120  ected through a 
-00024740: 636c 6f73 6564 2062 7573 2d62 7573 2073  closed bus-bus s
-00024750: 7769 7463 6865 7320 6172 6520 6675 7365  witches are fuse
-00024760: 6420 696e 2074 6865 2070 6f77 6572 2066  d in the power f
-00024770: 6c6f 7720 6966 0d0a 2020 2020 7468 6520  low if..    the 
-00024780: 7377 6974 6368 2069 7320 636c 6f73 6564  switch is closed
-00024790: 206f 7220 7365 7061 7261 7465 6420 6966   or separated if
-000247a0: 2074 6865 2073 7769 7463 6820 6973 206f   the switch is o
-000247b0: 7065 6e2e 0d0a 0d0a 2020 2020 416e 2065  pen.....    An e
-000247c0: 6c65 6d65 6e74 2074 6861 7420 6973 2063  lement that is c
-000247d0: 6f6e 6e65 6374 6564 2074 6f20 6120 6275  onnected to a bu
-000247e0: 7320 7468 726f 7567 6820 6120 6275 732d  s through a bus-
-000247f0: 656c 656d 656e 7420 7377 6974 6368 2069  element switch i
-00024800: 7320 636f 6e6e 6563 7465 6420 746f 2074  s connected to t
-00024810: 6865 2062 7573 0d0a 2020 2020 6966 2074  he bus..    if t
-00024820: 6865 2073 7769 7463 6820 6973 2063 6c6f  he switch is clo
-00024830: 7365 6420 6f72 2064 6973 636f 6e6e 6563  sed or disconnec
-00024840: 7465 6420 6966 2074 6865 2073 7769 7463  ted if the switc
-00024850: 6820 6973 206f 7065 6e2e 0d0a 0d0a 2020  h is open.....  
-00024860: 2020 494e 5055 543a 0d0a 2020 2020 2020    INPUT:..      
-00024870: 2020 2a2a 6e65 742a 2a20 2870 616e 6461    **net** (panda
-00024880: 706f 7765 724e 6574 2920 2d20 5468 6520  powerNet) - The 
-00024890: 6e65 7420 7769 7468 696e 2077 6869 6368  net within which
-000248a0: 2074 6869 7320 7377 6974 6368 2073 686f   this switch sho
-000248b0: 756c 6420 6265 2063 7265 6174 6564 0d0a  uld be created..
-000248c0: 0d0a 2020 2020 2020 2020 2a2a 6275 732a  ..        **bus*
-000248d0: 2a20 2d20 5468 6520 6275 7320 7468 6174  * - The bus that
-000248e0: 2074 6865 2073 7769 7463 6820 6973 2063   the switch is c
-000248f0: 6f6e 6e65 6374 6564 2074 6f0d 0a0d 0a20  onnected to.... 
-00024900: 2020 2020 2020 202a 2a65 6c65 6d65 6e74         **element
-00024910: 2a2a 202d 2069 6e64 6578 206f 6620 7468  ** - index of th
-00024920: 6520 656c 656d 656e 743a 2062 7573 2069  e element: bus i
-00024930: 6420 6966 2065 7420 3d3d 2022 6222 2c20  d if et == "b", 
-00024940: 6c69 6e65 2069 6420 6966 2065 7420 3d3d  line id if et ==
-00024950: 2022 6c22 2c20 7472 6166 6f20 6964 2069   "l", trafo id i
-00024960: 6620 5c0d 0a20 2020 2020 2020 2020 2020  f \..           
-00024970: 2065 7420 3d3d 2022 7422 0d0a 0d0a 2020   et == "t"....  
-00024980: 2020 2020 2020 2a2a 6574 2a2a 202d 2028        **et** - (
-00024990: 7374 7269 6e67 2920 656c 656d 656e 7420  string) element 
-000249a0: 7479 7065 3a20 226c 2220 3d20 7377 6974  type: "l" = swit
-000249b0: 6368 2062 6574 7765 656e 2062 7573 2061  ch between bus a
-000249c0: 6e64 206c 696e 652c 2022 7422 203d 2073  nd line, "t" = s
-000249d0: 7769 7463 6820 6265 7477 6565 6e0d 0a20  witch between.. 
-000249e0: 2020 2020 2020 2020 2020 2062 7573 2061             bus a
-000249f0: 6e64 2074 7261 6e73 666f 726d 6572 2c20  nd transformer, 
-00024a00: 2274 3322 203d 2073 7769 7463 6820 6265  "t3" = switch be
-00024a10: 7477 6565 6e20 6275 7320 616e 6420 7472  tween bus and tr
-00024a20: 616e 7366 6f72 6d65 7233 772c 2022 6222  ansformer3w, "b"
-00024a30: 203d 2073 7769 7463 6820 6265 7477 6565   = switch betwee
-00024a40: 6e0d 0a20 2020 2020 2020 2020 2020 2074  n..            t
-00024a50: 776f 2062 7573 6573 0d0a 0d0a 2020 2020  wo buses....    
-00024a60: 4f50 5449 4f4e 414c 3a0d 0a20 2020 2020  OPTIONAL:..     
-00024a70: 2020 202a 2a63 6c6f 7365 642a 2a20 2862     **closed** (b
-00024a80: 6f6f 6c65 616e 2c20 5472 7565 2920 2d20  oolean, True) - 
-00024a90: 7377 6974 6368 2070 6f73 6974 696f 6e3a  switch position:
-00024aa0: 2046 616c 7365 203d 206f 7065 6e2c 2054   False = open, T
-00024ab0: 7275 6520 3d20 636c 6f73 6564 0d0a 0d0a  rue = closed....
-00024ac0: 2020 2020 2020 2020 2a2a 7479 7065 2a2a          **type**
-00024ad0: 2028 696e 742c 204e 6f6e 6529 202d 2069   (int, None) - i
-00024ae0: 6e64 6963 6174 6573 2074 6865 2074 7970  ndicates the typ
-00024af0: 6520 6f66 2073 7769 7463 683a 2022 4c53  e of switch: "LS
-00024b00: 2220 3d20 4c6f 6164 2053 7769 7463 682c  " = Load Switch,
-00024b10: 2022 4342 2220 3d20 5c0d 0a20 2020 2020   "CB" = \..     
-00024b20: 2020 2020 2020 2043 6972 6375 6974 2042         Circuit B
-00024b30: 7265 616b 6572 2c20 224c 4253 2220 3d20  reaker, "LBS" = 
-00024b40: 4c6f 6164 2042 7265 616b 2053 7769 7463  Load Break Switc
-00024b50: 6820 6f72 2022 4453 2220 3d20 4469 7363  h or "DS" = Disc
-00024b60: 6f6e 6e65 6374 696e 6720 5377 6974 6368  onnecting Switch
-00024b70: 0d0a 0d0a 2020 2020 2020 2020 2a2a 7a5f  ....        **z_
-00024b80: 6f68 6d2a 2a20 2866 6c6f 6174 2c20 3029  ohm** (float, 0)
-00024b90: 202d 2069 6e64 6963 6174 6573 2074 6865   - indicates the
-00024ba0: 2072 6573 6973 7461 6e63 6520 6f66 2074   resistance of t
-00024bb0: 6865 2073 7769 7463 682c 2077 6869 6368  he switch, which
-00024bc0: 2068 6173 2065 6666 6563 7420 6f6e 6c79   has effect only
-00024bd0: 206f 6e0d 0a20 2020 2020 2020 2020 2020   on..           
-00024be0: 2062 7573 2d62 7573 2073 7769 7463 6865   bus-bus switche
-00024bf0: 732c 2069 6620 7365 7473 2074 6f20 302c  s, if sets to 0,
-00024c00: 2074 6865 2062 7573 6573 2077 696c 6c20   the buses will 
-00024c10: 6265 2066 7573 6564 206c 696b 6520 6265  be fused like be
-00024c20: 666f 7265 2c20 6966 206c 6172 6765 7220  fore, if larger 
-00024c30: 7468 616e 0d0a 2020 2020 2020 2020 2020  than..          
-00024c40: 2020 3020 6120 6272 616e 6368 2077 696c    0 a branch wil
-00024c50: 6c20 6265 2063 7265 6174 6564 2066 6f72  l be created for
-00024c60: 2074 6865 2073 7769 7463 6820 7768 6963   the switch whic
-00024c70: 6820 6861 7320 616c 736f 2065 6666 6563  h has also effec
-00024c80: 7473 206f 6e20 7468 6520 6275 7320 6d61  ts on the bus ma
-00024c90: 7070 696e 670d 0a0d 0a20 2020 2020 2020  pping....       
-00024ca0: 202a 2a6e 616d 652a 2a20 2873 7472 696e   **name** (strin
-00024cb0: 672c 2064 6566 6175 6c74 204e 6f6e 6529  g, default None)
-00024cc0: 202d 2054 6865 206e 616d 6520 666f 7220   - The name for 
-00024cd0: 7468 6973 2073 7769 7463 680d 0a0d 0a20  this switch.... 
-00024ce0: 2020 204f 5554 5055 543a 0d0a 2020 2020     OUTPUT:..    
-00024cf0: 2020 2020 2a2a 7369 642a 2a20 2d20 5468      **sid** - Th
-00024d00: 6520 756e 6971 7565 2073 7769 7463 685f  e unique switch_
-00024d10: 6964 206f 6620 7468 6520 6372 6561 7465  id of the create
-00024d20: 6420 7377 6974 6368 0d0a 0d0a 2020 2020  d switch....    
-00024d30: 4558 414d 504c 453a 0d0a 2020 2020 2020  EXAMPLE:..      
-00024d40: 2020 6372 6561 7465 5f73 7769 7463 6828    create_switch(
-00024d50: 6e65 742c 2062 7573 203d 2020 302c 2065  net, bus =  0, e
-00024d60: 6c65 6d65 6e74 203d 2031 2c20 6574 203d  lement = 1, et =
-00024d70: 2027 6227 2c20 7479 7065 203d 224c 5322   'b', type ="LS"
-00024d80: 2c20 7a5f 6f68 6d20 3d20 302e 3129 0d0a  , z_ohm = 0.1)..
-00024d90: 0d0a 2020 2020 2020 2020 6372 6561 7465  ..        create
-00024da0: 5f73 7769 7463 6828 6e65 742c 2062 7573  _switch(net, bus
-00024db0: 203d 2030 2c20 656c 656d 656e 7420 3d20   = 0, element = 
-00024dc0: 312c 2065 7420 3d20 276c 2729 0d0a 0d0a  1, et = 'l')....
-00024dd0: 2020 2020 2222 220d 0a20 2020 205f 6368      """..    _ch
-00024de0: 6563 6b5f 6e6f 6465 5f65 6c65 6d65 6e74  eck_node_element
-00024df0: 286e 6574 2c20 6275 7329 0d0a 2020 2020  (net, bus)..    
-00024e00: 6966 2065 7420 3d3d 2022 6c22 3a0d 0a20  if et == "l":.. 
-00024e10: 2020 2020 2020 2065 6c6d 5f74 6162 203d         elm_tab =
-00024e20: 2027 6c69 6e65 270d 0a20 2020 2020 2020   'line'..       
-00024e30: 2069 6620 656c 656d 656e 7420 6e6f 7420   if element not 
-00024e40: 696e 206e 6574 5b65 6c6d 5f74 6162 5d2e  in net[elm_tab].
-00024e50: 696e 6465 783a 0d0a 2020 2020 2020 2020  index:..        
-00024e60: 2020 2020 7261 6973 6520 5573 6572 5761      raise UserWa
-00024e70: 726e 696e 6728 2255 6e6b 6e6f 776e 206c  rning("Unknown l
-00024e80: 696e 6520 696e 6465 7822 290d 0a20 2020  ine index")..   
-00024e90: 2020 2020 2069 6620 286e 6f74 206e 6574       if (not net
-00024ea0: 5b65 6c6d 5f74 6162 5d5b 2266 726f 6d5f  [elm_tab]["from_
-00024eb0: 6275 7322 5d2e 6c6f 635b 656c 656d 656e  bus"].loc[elemen
-00024ec0: 745d 203d 3d20 6275 7320 616e 640d 0a20  t] == bus and.. 
-00024ed0: 2020 2020 2020 2020 2020 2020 2020 206e                 n
-00024ee0: 6f74 206e 6574 5b65 6c6d 5f74 6162 5d5b  ot net[elm_tab][
-00024ef0: 2274 6f5f 6275 7322 5d2e 6c6f 635b 656c  "to_bus"].loc[el
-00024f00: 656d 656e 745d 203d 3d20 6275 7329 3a0d  ement] == bus):.
-00024f10: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
-00024f20: 7365 2055 7365 7257 6172 6e69 6e67 2822  se UserWarning("
-00024f30: 4c69 6e65 2025 7320 6e6f 7420 636f 6e6e  Line %s not conn
-00024f40: 6563 7465 6420 746f 2062 7573 2025 7322  ected to bus %s"
-00024f50: 2025 2028 656c 656d 656e 742c 2062 7573   % (element, bus
-00024f60: 2929 0d0a 2020 2020 656c 6966 2065 7420  ))..    elif et 
-00024f70: 3d3d 2022 7422 3a0d 0a20 2020 2020 2020  == "t":..       
-00024f80: 2065 6c6d 5f74 6162 203d 2027 7472 6166   elm_tab = 'traf
-00024f90: 6f27 0d0a 2020 2020 2020 2020 6966 2065  o'..        if e
-00024fa0: 6c65 6d65 6e74 206e 6f74 2069 6e20 6e65  lement not in ne
-00024fb0: 745b 656c 6d5f 7461 625d 2e69 6e64 6578  t[elm_tab].index
-00024fc0: 3a0d 0a20 2020 2020 2020 2020 2020 2072  :..            r
-00024fd0: 6169 7365 2055 7365 7257 6172 6e69 6e67  aise UserWarning
-00024fe0: 2822 556e 6b6e 6f77 6e20 6275 7320 696e  ("Unknown bus in
-00024ff0: 6465 7822 290d 0a20 2020 2020 2020 2069  dex")..        i
-00025000: 6620 286e 6f74 206e 6574 5b65 6c6d 5f74  f (not net[elm_t
-00025010: 6162 5d5b 2268 765f 6275 7322 5d2e 6c6f  ab]["hv_bus"].lo
-00025020: 635b 656c 656d 656e 745d 203d 3d20 6275  c[element] == bu
-00025030: 7320 616e 640d 0a20 2020 2020 2020 2020  s and..         
-00025040: 2020 2020 2020 206e 6f74 206e 6574 5b65         not net[e
-00025050: 6c6d 5f74 6162 5d5b 226c 765f 6275 7322  lm_tab]["lv_bus"
-00025060: 5d2e 6c6f 635b 656c 656d 656e 745d 203d  ].loc[element] =
-00025070: 3d20 6275 7329 3a0d 0a20 2020 2020 2020  = bus):..       
-00025080: 2020 2020 2072 6169 7365 2055 7365 7257       raise UserW
-00025090: 6172 6e69 6e67 2822 5472 6166 6f20 2573  arning("Trafo %s
-000250a0: 206e 6f74 2063 6f6e 6e65 6374 6564 2074   not connected t
-000250b0: 6f20 6275 7320 2573 2220 2520 2865 6c65  o bus %s" % (ele
-000250c0: 6d65 6e74 2c20 6275 7329 290d 0a20 2020  ment, bus))..   
-000250d0: 2065 6c69 6620 6574 203d 3d20 2274 3322   elif et == "t3"
-000250e0: 3a0d 0a20 2020 2020 2020 2065 6c6d 5f74  :..        elm_t
-000250f0: 6162 203d 2027 7472 6166 6f33 7727 0d0a  ab = 'trafo3w'..
-00025100: 2020 2020 2020 2020 6966 2065 6c65 6d65          if eleme
-00025110: 6e74 206e 6f74 2069 6e20 6e65 745b 656c  nt not in net[el
-00025120: 6d5f 7461 625d 2e69 6e64 6578 3a0d 0a20  m_tab].index:.. 
-00025130: 2020 2020 2020 2020 2020 2072 6169 7365             raise
-00025140: 2055 7365 7257 6172 6e69 6e67 2822 556e   UserWarning("Un
-00025150: 6b6e 6f77 6e20 7472 6166 6f33 7720 696e  known trafo3w in
-00025160: 6465 7822 290d 0a20 2020 2020 2020 2069  dex")..        i
-00025170: 6620 286e 6f74 206e 6574 5b65 6c6d 5f74  f (not net[elm_t
-00025180: 6162 5d5b 2268 765f 6275 7322 5d2e 6c6f  ab]["hv_bus"].lo
-00025190: 635b 656c 656d 656e 745d 203d 3d20 6275  c[element] == bu
-000251a0: 7320 616e 640d 0a20 2020 2020 2020 2020  s and..         
-000251b0: 2020 2020 2020 206e 6f74 206e 6574 5b65         not net[e
-000251c0: 6c6d 5f74 6162 5d5b 226d 765f 6275 7322  lm_tab]["mv_bus"
-000251d0: 5d2e 6c6f 635b 656c 656d 656e 745d 203d  ].loc[element] =
-000251e0: 3d20 6275 7320 616e 640d 0a20 2020 2020  = bus and..     
-000251f0: 2020 2020 2020 2020 2020 206e 6f74 206e             not n
-00025200: 6574 5b65 6c6d 5f74 6162 5d5b 226c 765f  et[elm_tab]["lv_
-00025210: 6275 7322 5d2e 6c6f 635b 656c 656d 656e  bus"].loc[elemen
-00025220: 745d 203d 3d20 6275 7329 3a0d 0a20 2020  t] == bus):..   
-00025230: 2020 2020 2020 2020 2072 6169 7365 2055           raise U
-00025240: 7365 7257 6172 6e69 6e67 2822 5472 6166  serWarning("Traf
-00025250: 6f33 7720 2573 206e 6f74 2063 6f6e 6e65  o3w %s not conne
-00025260: 6374 6564 2074 6f20 6275 7320 2573 2220  cted to bus %s" 
-00025270: 2520 2865 6c65 6d65 6e74 2c20 6275 7329  % (element, bus)
-00025280: 290d 0a20 2020 2065 6c69 6620 6574 203d  )..    elif et =
-00025290: 3d20 2262 223a 0d0a 2020 2020 2020 2020  = "b":..        
-000252a0: 5f63 6865 636b 5f6e 6f64 655f 656c 656d  _check_node_elem
-000252b0: 656e 7428 6e65 742c 2065 6c65 6d65 6e74  ent(net, element
-000252c0: 290d 0a20 2020 2065 6c73 653a 0d0a 2020  )..    else:..  
-000252d0: 2020 2020 2020 7261 6973 6520 5573 6572        raise User
-000252e0: 5761 726e 696e 6728 2255 6e6b 6e6f 776e  Warning("Unknown
-000252f0: 2065 6c65 6d65 6e74 2074 7970 6522 290d   element type").
-00025300: 0a0d 0a20 2020 2069 6e64 6578 203d 205f  ...    index = _
-00025310: 6765 745f 696e 6465 785f 7769 7468 5f63  get_index_with_c
-00025320: 6865 636b 286e 6574 2c20 2273 7769 7463  heck(net, "switc
-00025330: 6822 2c20 696e 6465 7829 0d0a 0d0a 2020  h", index)....  
-00025340: 2020 656e 7472 6965 7320 3d20 6469 6374    entries = dict
-00025350: 287a 6970 285b 2262 7573 222c 2022 656c  (zip(["bus", "el
-00025360: 656d 656e 7422 2c20 2265 7422 2c20 2263  ement", "et", "c
-00025370: 6c6f 7365 6422 2c20 2274 7970 6522 2c20  losed", "type", 
-00025380: 226e 616d 6522 2c20 227a 5f6f 686d 225d  "name", "z_ohm"]
-00025390: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
-000253a0: 2020 2020 2020 2020 2020 5b62 7573 2c20            [bus, 
-000253b0: 656c 656d 656e 742c 2065 742c 2063 6c6f  element, et, clo
-000253c0: 7365 642c 2074 7970 652c 206e 616d 652c  sed, type, name,
-000253d0: 207a 5f6f 686d 5d29 290d 0a20 2020 205f   z_ohm]))..    _
-000253e0: 7365 745f 656e 7472 6965 7328 6e65 742c  set_entries(net,
-000253f0: 2022 7377 6974 6368 222c 2069 6e64 6578   "switch", index
-00025400: 2c20 2a2a 656e 7472 6965 7329 0d0a 0d0a  , **entries)....
-00025410: 2020 2020 7265 7475 726e 2069 6e64 6578      return index
-00025420: 0d0a 0d0a 0d0a 6465 6620 6372 6561 7465  ......def create
-00025430: 5f73 7769 7463 6865 7328 6e65 742c 2062  _switches(net, b
-00025440: 7573 6573 2c20 656c 656d 656e 7473 2c20  uses, elements, 
-00025450: 6574 2c20 636c 6f73 6564 3d54 7275 652c  et, closed=True,
-00025460: 2074 7970 653d 4e6f 6e65 2c20 6e61 6d65   type=None, name
-00025470: 3d4e 6f6e 652c 2069 6e64 6578 3d4e 6f6e  =None, index=Non
-00025480: 652c 0d0a 2020 2020 2020 2020 2020 2020  e,..            
-00025490: 2020 2020 2020 2020 7a5f 6f68 6d3d 302c          z_ohm=0,
-000254a0: 202a 2a6b 7761 7267 7329 3a0d 0a20 2020   **kwargs):..   
-000254b0: 2022 2222 0d0a 2020 2020 4164 6473 2061   """..    Adds a
-000254c0: 2073 7769 7463 6820 696e 2074 6865 206e   switch in the n
-000254d0: 6574 5b22 7377 6974 6368 225d 2074 6162  et["switch"] tab
-000254e0: 6c65 2e0d 0a0d 0a20 2020 2053 7769 7463  le.....    Switc
-000254f0: 6865 7320 6361 6e20 6265 2065 6974 6865  hes can be eithe
-00025500: 7220 6265 7477 6565 6e20 7477 6f20 6275  r between two bu
-00025510: 7365 7320 2862 7573 2d62 7573 2073 7769  ses (bus-bus swi
-00025520: 7463 6829 206f 7220 6174 2074 6865 2065  tch) or at the e
-00025530: 6e64 206f 6620 6120 6c69 6e65 206f 7220  nd of a line or 
-00025540: 7472 616e 7366 6f72 6d65 720d 0a20 2020  transformer..   
-00025550: 2065 6c65 6d65 6e74 2028 6275 732d 656c   element (bus-el
-00025560: 656d 656e 7420 7377 6974 6368 292e 0d0a  ement switch)...
-00025570: 0d0a 2020 2020 5477 6f20 6275 7365 7320  ..    Two buses 
-00025580: 7468 6174 2061 7265 2063 6f6e 6e65 6374  that are connect
-00025590: 6564 2074 6872 6f75 6768 2061 2063 6c6f  ed through a clo
-000255a0: 7365 6420 6275 732d 6275 7320 7377 6974  sed bus-bus swit
-000255b0: 6368 6573 2061 7265 2066 7573 6564 2069  ches are fused i
-000255c0: 6e20 7468 6520 706f 7765 7220 666c 6f77  n the power flow
-000255d0: 2069 660d 0a20 2020 2074 6865 2073 7769   if..    the swi
-000255e0: 7463 6820 6973 2063 6c6f 7365 6420 6f72  tch is closed or
-000255f0: 2073 6570 6172 6174 6564 2069 6620 7468   separated if th
-00025600: 6520 7377 6974 6368 2069 7320 6f70 656e  e switch is open
-00025610: 2e0d 0a0d 0a20 2020 2041 6e20 656c 656d  .....    An elem
-00025620: 656e 7420 7468 6174 2069 7320 636f 6e6e  ent that is conn
-00025630: 6563 7465 6420 746f 2061 2062 7573 2074  ected to a bus t
-00025640: 6872 6f75 6768 2061 2062 7573 2d65 6c65  hrough a bus-ele
-00025650: 6d65 6e74 2073 7769 7463 6820 6973 2063  ment switch is c
-00025660: 6f6e 6e65 6374 6564 2074 6f20 7468 6520  onnected to the 
-00025670: 6275 730d 0a20 2020 2069 6620 7468 6520  bus..    if the 
-00025680: 7377 6974 6368 2069 7320 636c 6f73 6564  switch is closed
-00025690: 206f 7220 6469 7363 6f6e 6e65 6374 6564   or disconnected
-000256a0: 2069 6620 7468 6520 7377 6974 6368 2069   if the switch i
-000256b0: 7320 6f70 656e 2e0d 0a0d 0a20 2020 2049  s open.....    I
-000256c0: 4e50 5554 3a0d 0a20 2020 2020 2020 202a  NPUT:..        *
-000256d0: 2a6e 6574 2a2a 2028 7061 6e64 6170 6f77  *net** (pandapow
-000256e0: 6572 4e65 7429 202d 2054 6865 206e 6574  erNet) - The net
-000256f0: 2077 6974 6869 6e20 7768 6963 6820 7468   within which th
-00025700: 6973 2073 7769 7463 6820 7368 6f75 6c64  is switch should
-00025710: 2062 6520 6372 6561 7465 640d 0a0d 0a20   be created.... 
-00025720: 2020 2020 2020 202a 2a62 7573 6573 2a2a         **buses**
-00025730: 2028 6c69 7374 292d 2054 6865 2062 7573   (list)- The bus
-00025740: 2074 6861 7420 7468 6520 7377 6974 6368   that the switch
-00025750: 2069 7320 636f 6e6e 6563 7465 6420 746f   is connected to
-00025760: 0d0a 0d0a 2020 2020 2020 2020 2a2a 656c  ....        **el
-00025770: 656d 656e 742a 2a20 286c 6973 7429 2d20  ement** (list)- 
-00025780: 696e 6465 7820 6f66 2074 6865 2065 6c65  index of the ele
-00025790: 6d65 6e74 3a20 6275 7320 6964 2069 6620  ment: bus id if 
-000257a0: 6574 203d 3d20 2262 222c 206c 696e 6520  et == "b", line 
-000257b0: 6964 2069 6620 6574 203d 3d20 226c 222c  id if et == "l",
-000257c0: 205c 0d0a 2020 2020 2020 2020 2020 2020   \..            
-000257d0: 7472 6166 6f20 6964 2069 6620 6574 203d  trafo id if et =
-000257e0: 3d20 2274 220d 0a0d 0a20 2020 2020 2020  = "t"....       
-000257f0: 202a 2a65 742a 2a20 2d20 286c 6973 7429   **et** - (list)
-00025800: 2065 6c65 6d65 6e74 2074 7970 653a 2022   element type: "
-00025810: 6c22 203d 2073 7769 7463 6820 6265 7477  l" = switch betw
-00025820: 6565 6e20 6275 7320 616e 6420 6c69 6e65  een bus and line
-00025830: 2c20 2274 2220 3d20 7377 6974 6368 2062  , "t" = switch b
-00025840: 6574 7765 656e 0d0a 2020 2020 2020 2020  etween..        
-00025850: 2020 2020 6275 7320 616e 6420 7472 616e      bus and tran
-00025860: 7366 6f72 6d65 722c 2022 7433 2220 3d20  sformer, "t3" = 
-00025870: 7377 6974 6368 2062 6574 7765 656e 2062  switch between b
-00025880: 7573 2061 6e64 2074 7261 6e73 666f 726d  us and transform
-00025890: 6572 3377 2c20 2262 2220 3d20 7377 6974  er3w, "b" = swit
-000258a0: 6368 2062 6574 7765 656e 0d0a 2020 2020  ch between..    
-000258b0: 2020 2020 2020 2020 7477 6f20 6275 7365          two buse
-000258c0: 730d 0a0d 0a20 2020 204f 5054 494f 4e41  s....    OPTIONA
-000258d0: 4c3a 0d0a 2020 2020 2020 2020 2a2a 636c  L:..        **cl
-000258e0: 6f73 6564 2a2a 2028 626f 6f6c 6561 6e2c  osed** (boolean,
-000258f0: 2054 7275 6529 202d 2073 7769 7463 6820   True) - switch 
-00025900: 706f 7369 7469 6f6e 3a20 4661 6c73 6520  position: False 
-00025910: 3d20 6f70 656e 2c20 5472 7565 203d 2063  = open, True = c
-00025920: 6c6f 7365 640d 0a0d 0a20 2020 2020 2020  losed....       
-00025930: 202a 2a74 7970 652a 2a20 2869 6e74 2c20   **type** (int, 
-00025940: 4e6f 6e65 2920 2d20 696e 6469 6361 7465  None) - indicate
-00025950: 7320 7468 6520 7479 7065 206f 6620 7377  s the type of sw
-00025960: 6974 6368 3a20 224c 5322 203d 204c 6f61  itch: "LS" = Loa
-00025970: 6420 5377 6974 6368 2c20 2243 4222 203d  d Switch, "CB" =
-00025980: 205c 0d0a 2020 2020 2020 2020 2020 2020   \..            
-00025990: 4369 7263 7569 7420 4272 6561 6b65 722c  Circuit Breaker,
-000259a0: 2022 4c42 5322 203d 204c 6f61 6420 4272   "LBS" = Load Br
-000259b0: 6561 6b20 5377 6974 6368 206f 7220 2244  eak Switch or "D
-000259c0: 5322 203d 2044 6973 636f 6e6e 6563 7469  S" = Disconnecti
-000259d0: 6e67 2053 7769 7463 680d 0a0d 0a20 2020  ng Switch....   
-000259e0: 2020 2020 202a 2a7a 5f6f 686d 2a2a 2028       **z_ohm** (
-000259f0: 666c 6f61 742c 2030 2920 2d20 696e 6469  float, 0) - indi
-00025a00: 6361 7465 7320 7468 6520 7265 7369 7374  cates the resist
-00025a10: 616e 6365 206f 6620 7468 6520 7377 6974  ance of the swit
-00025a20: 6368 2c20 7768 6963 6820 6861 7320 6566  ch, which has ef
-00025a30: 6665 6374 206f 6e6c 7920 6f6e 0d0a 2020  fect only on..  
-00025a40: 2020 2020 2020 2020 2020 6275 732d 6275            bus-bu
-00025a50: 7320 7377 6974 6368 6573 2c20 6966 2073  s switches, if s
-00025a60: 6574 7320 746f 2030 2c20 7468 6520 6275  ets to 0, the bu
-00025a70: 7365 7320 7769 6c6c 2062 6520 6675 7365  ses will be fuse
-00025a80: 6420 6c69 6b65 2062 6566 6f72 652c 2069  d like before, i
-00025a90: 6620 6c61 7267 6572 2074 6861 6e0d 0a20  f larger than.. 
-00025aa0: 2020 2020 2020 2020 2020 2030 2061 2062             0 a b
-00025ab0: 7261 6e63 6820 7769 6c6c 2062 6520 6372  ranch will be cr
-00025ac0: 6561 7465 6420 666f 7220 7468 6520 7377  eated for the sw
-00025ad0: 6974 6368 2077 6869 6368 2068 6173 2061  itch which has a
-00025ae0: 6c73 6f20 6566 6665 6374 7320 6f6e 2074  lso effects on t
-00025af0: 6865 2062 7573 206d 6170 7069 6e67 0d0a  he bus mapping..
-00025b00: 0d0a 2020 2020 2020 2020 2a2a 6e61 6d65  ..        **name
-00025b10: 2a2a 2028 7374 7269 6e67 2c20 6465 6661  ** (string, defa
-00025b20: 756c 7420 4e6f 6e65 2920 2d20 5468 6520  ult None) - The 
-00025b30: 6e61 6d65 2066 6f72 2074 6869 7320 7377  name for this sw
-00025b40: 6974 6368 0d0a 0d0a 2020 2020 4f55 5450  itch....    OUTP
-00025b50: 5554 3a0d 0a20 2020 2020 2020 202a 2a73  UT:..        **s
-00025b60: 6964 2a2a 202d 2054 6865 2075 6e69 7175  id** - The uniqu
-00025b70: 6520 7377 6974 6368 5f69 6420 6f66 2074  e switch_id of t
-00025b80: 6865 2063 7265 6174 6564 2073 7769 7463  he created switc
-00025b90: 680d 0a0d 0a20 2020 2045 5841 4d50 4c45  h....    EXAMPLE
-00025ba0: 3a0d 0a20 2020 2020 2020 2063 7265 6174  :..        creat
-00025bb0: 655f 7377 6974 6368 286e 6574 2c20 6275  e_switch(net, bu
-00025bc0: 7320 3d20 2030 2c20 656c 656d 656e 7420  s =  0, element 
-00025bd0: 3d20 312c 2065 7420 3d20 2762 272c 2074  = 1, et = 'b', t
-00025be0: 7970 6520 3d22 4c53 222c 207a 5f6f 686d  ype ="LS", z_ohm
-00025bf0: 203d 2030 2e31 290d 0a0d 0a20 2020 2020   = 0.1)....     
-00025c00: 2020 2063 7265 6174 655f 7377 6974 6368     create_switch
-00025c10: 286e 6574 2c20 6275 7320 3d20 302c 2065  (net, bus = 0, e
-00025c20: 6c65 6d65 6e74 203d 2031 2c20 6574 203d  lement = 1, et =
-00025c30: 2027 6c27 290d 0a0d 0a20 2020 2022 2222   'l')....    """
-00025c40: 0d0a 2020 2020 696e 6465 7820 3d20 5f67  ..    index = _g
-00025c50: 6574 5f6d 756c 7469 706c 655f 696e 6465  et_multiple_inde
-00025c60: 785f 7769 7468 5f63 6865 636b 286e 6574  x_with_check(net
-00025c70: 2c20 2273 7769 7463 6822 2c20 696e 6465  , "switch", inde
-00025c80: 782c 206c 656e 2862 7573 6573 292c 206e  x, len(buses), n
-00025c90: 616d 653d 2253 7769 7463 6865 7322 290d  ame="Switches").
-00025ca0: 0a20 2020 205f 6368 6563 6b5f 6d75 6c74  .    _check_mult
-00025cb0: 6970 6c65 5f6e 6f64 655f 656c 656d 656e  iple_node_elemen
-00025cc0: 7473 286e 6574 2c20 6275 7365 7329 0d0a  ts(net, buses)..
-00025cd0: 0d0a 2020 2020 666f 7220 656c 656d 656e  ..    for elemen
-00025ce0: 742c 2065 6c6d 5f74 7970 652c 2062 7573  t, elm_type, bus
-00025cf0: 2069 6e20 7a69 7028 656c 656d 656e 7473   in zip(elements
-00025d00: 2c20 6574 2c20 6275 7365 7329 3a0d 0a20  , et, buses):.. 
-00025d10: 2020 2020 2020 2069 6620 656c 6d5f 7479         if elm_ty
-00025d20: 7065 203d 3d20 226c 223a 0d0a 2020 2020  pe == "l":..    
-00025d30: 2020 2020 2020 2020 656c 6d5f 7461 6220          elm_tab 
-00025d40: 3d20 276c 696e 6527 0d0a 2020 2020 2020  = 'line'..      
-00025d50: 2020 2020 2020 6966 2065 6c65 6d65 6e74        if element
-00025d60: 206e 6f74 2069 6e20 6e65 745b 656c 6d5f   not in net[elm_
-00025d70: 7461 625d 2e69 6e64 6578 3a0d 0a20 2020  tab].index:..   
-00025d80: 2020 2020 2020 2020 2020 2020 2072 6169               rai
-00025d90: 7365 2055 7365 7257 6172 6e69 6e67 2822  se UserWarning("
-00025da0: 4c69 6e65 2025 7320 646f 6573 206e 6f74  Line %s does not
-00025db0: 2065 7869 7374 2220 2520 656c 656d 656e   exist" % elemen
-00025dc0: 7429 0d0a 2020 2020 2020 2020 2020 2020  t)..            
-00025dd0: 6966 2028 6e6f 7420 6e65 745b 656c 6d5f  if (not net[elm_
-00025de0: 7461 625d 5b22 6672 6f6d 5f62 7573 225d  tab]["from_bus"]
-00025df0: 2e6c 6f63 5b65 6c65 6d65 6e74 5d20 3d3d  .loc[element] ==
-00025e00: 2062 7573 2061 6e64 0d0a 2020 2020 2020   bus and..      
-00025e10: 2020 2020 2020 2020 2020 2020 2020 6e6f                no
-00025e20: 7420 6e65 745b 656c 6d5f 7461 625d 5b22  t net[elm_tab]["
-00025e30: 746f 5f62 7573 225d 2e6c 6f63 5b65 6c65  to_bus"].loc[ele
-00025e40: 6d65 6e74 5d20 3d3d 2062 7573 293a 0d0a  ment] == bus):..
-00025e50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025e60: 7261 6973 6520 5573 6572 5761 726e 696e  raise UserWarnin
-00025e70: 6728 224c 696e 6520 2573 206e 6f74 2063  g("Line %s not c
-00025e80: 6f6e 6e65 6374 6564 2074 6f20 6275 7320  onnected to bus 
-00025e90: 2573 2220 2520 2865 6c65 6d65 6e74 2c20  %s" % (element, 
-00025ea0: 6275 7329 290d 0a20 2020 2020 2020 2065  bus))..        e
-00025eb0: 6c69 6620 656c 6d5f 7479 7065 203d 3d20  lif elm_type == 
-00025ec0: 2274 223a 0d0a 2020 2020 2020 2020 2020  "t":..          
-00025ed0: 2020 656c 6d5f 7461 6220 3d20 2774 7261    elm_tab = 'tra
-00025ee0: 666f 270d 0a20 2020 2020 2020 2020 2020  fo'..           
-00025ef0: 2069 6620 656c 656d 656e 7420 6e6f 7420   if element not 
-00025f00: 696e 206e 6574 5b65 6c6d 5f74 6162 5d2e  in net[elm_tab].
-00025f10: 696e 6465 783a 0d0a 2020 2020 2020 2020  index:..        
-00025f20: 2020 2020 2020 2020 7261 6973 6520 5573          raise Us
-00025f30: 6572 5761 726e 696e 6728 2254 7261 666f  erWarning("Trafo
-00025f40: 2025 7320 646f 6573 206e 6f74 2065 7869   %s does not exi
-00025f50: 7374 2220 2520 656c 656d 656e 7429 0d0a  st" % element)..
-00025f60: 2020 2020 2020 2020 2020 2020 6966 2028              if (
-00025f70: 6e6f 7420 6e65 745b 656c 6d5f 7461 625d  not net[elm_tab]
-00025f80: 5b22 6876 5f62 7573 225d 2e6c 6f63 5b65  ["hv_bus"].loc[e
-00025f90: 6c65 6d65 6e74 5d20 3d3d 2062 7573 2061  lement] == bus a
-00025fa0: 6e64 0d0a 2020 2020 2020 2020 2020 2020  nd..            
-00025fb0: 2020 2020 2020 2020 6e6f 7420 6e65 745b          not net[
-00025fc0: 656c 6d5f 7461 625d 5b22 6c76 5f62 7573  elm_tab]["lv_bus
-00025fd0: 225d 2e6c 6f63 5b65 6c65 6d65 6e74 5d20  "].loc[element] 
-00025fe0: 3d3d 2062 7573 293a 0d0a 2020 2020 2020  == bus):..      
-00025ff0: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
-00026000: 5573 6572 5761 726e 696e 6728 2254 7261  UserWarning("Tra
-00026010: 666f 2025 7320 6e6f 7420 636f 6e6e 6563  fo %s not connec
-00026020: 7465 6420 746f 2062 7573 2025 7322 2025  ted to bus %s" %
-00026030: 2028 656c 656d 656e 742c 2062 7573 2929   (element, bus))
-00026040: 0d0a 2020 2020 2020 2020 656c 6966 2065  ..        elif e
-00026050: 6c6d 5f74 7970 6520 3d3d 2022 7433 223a  lm_type == "t3":
-00026060: 0d0a 2020 2020 2020 2020 2020 2020 656c  ..            el
-00026070: 6d5f 7461 6220 3d20 2774 7261 666f 3377  m_tab = 'trafo3w
-00026080: 270d 0a20 2020 2020 2020 2020 2020 2069  '..            i
-00026090: 6620 656c 656d 656e 7420 6e6f 7420 696e  f element not in
-000260a0: 206e 6574 5b65 6c6d 5f74 6162 5d2e 696e   net[elm_tab].in
-000260b0: 6465 783a 0d0a 2020 2020 2020 2020 2020  dex:..          
-000260c0: 2020 2020 2020 7261 6973 6520 5573 6572        raise User
-000260d0: 5761 726e 696e 6728 2254 7261 666f 3377  Warning("Trafo3w
-000260e0: 2025 7320 646f 6573 206e 6f74 2065 7869   %s does not exi
-000260f0: 7374 2220 2520 656c 656d 656e 7429 0d0a  st" % element)..
-00026100: 2020 2020 2020 2020 2020 2020 6966 2028              if (
-00026110: 6e6f 7420 6e65 745b 656c 6d5f 7461 625d  not net[elm_tab]
-00026120: 5b22 6876 5f62 7573 225d 2e6c 6f63 5b65  ["hv_bus"].loc[e
-00026130: 6c65 6d65 6e74 5d20 3d3d 2062 7573 2061  lement] == bus a
-00026140: 6e64 0d0a 2020 2020 2020 2020 2020 2020  nd..            
-00026150: 2020 2020 2020 2020 6e6f 7420 6e65 745b          not net[
-00026160: 656c 6d5f 7461 625d 5b22 6d76 5f62 7573  elm_tab]["mv_bus
-00026170: 225d 2e6c 6f63 5b65 6c65 6d65 6e74 5d20  "].loc[element] 
-00026180: 3d3d 2062 7573 2061 6e64 0d0a 2020 2020  == bus and..    
-00026190: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000261a0: 6e6f 7420 6e65 745b 656c 6d5f 7461 625d  not net[elm_tab]
-000261b0: 5b22 6c76 5f62 7573 225d 2e6c 6f63 5b65  ["lv_bus"].loc[e
-000261c0: 6c65 6d65 6e74 5d20 3d3d 2062 7573 293a  lement] == bus):
-000261d0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-000261e0: 2020 7261 6973 6520 5573 6572 5761 726e    raise UserWarn
-000261f0: 696e 6728 2254 7261 666f 3377 2025 7320  ing("Trafo3w %s 
-00026200: 6e6f 7420 636f 6e6e 6563 7465 6420 746f  not connected to
-00026210: 2062 7573 2025 7322 2025 2028 656c 656d   bus %s" % (elem
-00026220: 656e 742c 2062 7573 2929 0d0a 2020 2020  ent, bus))..    
-00026230: 2020 2020 656c 6966 2065 6c6d 5f74 7970      elif elm_typ
-00026240: 6520 3d3d 2022 6222 3a0d 0a20 2020 2020  e == "b":..     
-00026250: 2020 2020 2020 205f 6368 6563 6b5f 6e6f         _check_no
-00026260: 6465 5f65 6c65 6d65 6e74 286e 6574 2c20  de_element(net, 
-00026270: 656c 656d 656e 7429 0d0a 2020 2020 2020  element)..      
-00026280: 2020 656c 7365 3a0d 0a20 2020 2020 2020    else:..       
-00026290: 2020 2020 2072 6169 7365 2055 7365 7257       raise UserW
-000262a0: 6172 6e69 6e67 2822 556e 6b6e 6f77 6e20  arning("Unknown 
-000262b0: 656c 656d 656e 7420 7479 7065 2229 0d0a  element type")..
-000262c0: 0d0a 2020 2020 656e 7472 6965 7320 3d20  ..    entries = 
-000262d0: 7b22 6275 7322 3a20 6275 7365 732c 2022  {"bus": buses, "
-000262e0: 656c 656d 656e 7422 3a20 656c 656d 656e  element": elemen
-000262f0: 7473 2c20 2265 7422 3a20 6574 2c20 2263  ts, "et": et, "c
-00026300: 6c6f 7365 6422 3a20 636c 6f73 6564 2c20  losed": closed, 
-00026310: 2274 7970 6522 3a20 7479 7065 2c0d 0a20  "type": type,.. 
-00026320: 2020 2020 2020 2020 2020 2020 2020 226e                "n
-00026330: 616d 6522 3a20 6e61 6d65 2c20 227a 5f6f  ame": name, "z_o
-00026340: 686d 223a 207a 5f6f 686d 7d0d 0a0d 0a20  hm": z_ohm}.... 
-00026350: 2020 205f 7365 745f 6d75 6c74 6970 6c65     _set_multiple
-00026360: 5f65 6e74 7269 6573 286e 6574 2c20 2273  _entries(net, "s
-00026370: 7769 7463 6822 2c20 696e 6465 782c 202a  witch", index, *
-00026380: 2a65 6e74 7269 6573 2c20 2a2a 6b77 6172  *entries, **kwar
-00026390: 6773 290d 0a0d 0a20 2020 2072 6574 7572  gs)....    retur
-000263a0: 6e20 696e 6465 780d 0a0d 0a0d 0a64 6566  n index......def
-000263b0: 2063 7265 6174 655f 7368 756e 7428 6e65   create_shunt(ne
-000263c0: 742c 2062 7573 2c20 715f 6d76 6172 2c20  t, bus, q_mvar, 
-000263d0: 705f 6d77 3d30 2e2c 2076 6e5f 6b76 3d4e  p_mw=0., vn_kv=N
-000263e0: 6f6e 652c 2073 7465 703d 312c 206d 6178  one, step=1, max
-000263f0: 5f73 7465 703d 312c 206e 616d 653d 4e6f  _step=1, name=No
-00026400: 6e65 2c0d 0a20 2020 2020 2020 2020 2020  ne,..           
-00026410: 2020 2020 2020 696e 5f73 6572 7669 6365        in_service
-00026420: 3d54 7275 652c 2069 6e64 6578 3d4e 6f6e  =True, index=Non
-00026430: 6529 3a0d 0a20 2020 2022 2222 0d0a 2020  e):..    """..  
-00026440: 2020 4372 6561 7465 7320 6120 7368 756e    Creates a shun
-00026450: 7420 656c 656d 656e 740d 0a0d 0a20 2020  t element....   
-00026460: 2049 4e50 5554 3a0d 0a20 2020 2020 2020   INPUT:..       
-00026470: 202a 2a6e 6574 2a2a 2028 7061 6e64 6170   **net** (pandap
-00026480: 6f77 6572 4e65 7429 202d 2054 6865 2070  owerNet) - The p
-00026490: 616e 6461 706f 7765 7220 6e65 7477 6f72  andapower networ
-000264a0: 6b20 696e 2077 6869 6368 2074 6865 2065  k in which the e
-000264b0: 6c65 6d65 6e74 2069 7320 6372 6561 7465  lement is create
-000264c0: 640d 0a0d 0a20 2020 2020 2020 202a 2a62  d....        **b
-000264d0: 7573 2a2a 202d 2062 7573 206e 756d 6265  us** - bus numbe
-000264e0: 7220 6f66 2062 7573 2074 6f20 7768 6f6d  r of bus to whom
-000264f0: 2074 6865 2073 6875 6e74 2069 7320 636f   the shunt is co
-00026500: 6e6e 6563 7465 6420 746f 0d0a 0d0a 2020  nnected to....  
-00026510: 2020 2020 2020 2a2a 705f 6d77 2a2a 202d        **p_mw** -
-00026520: 2073 6875 6e74 2061 6374 6976 6520 706f   shunt active po
-00026530: 7765 7220 696e 204d 5720 6174 2076 3d20  wer in MW at v= 
-00026540: 312e 3020 702e 752e 0d0a 0d0a 2020 2020  1.0 p.u.....    
-00026550: 2020 2020 2a2a 715f 6d76 6172 2a2a 202d      **q_mvar** -
-00026560: 2073 6875 6e74 2073 7573 6365 7074 616e   shunt susceptan
-00026570: 6365 2069 6e20 4d56 4172 2061 7420 763d  ce in MVAr at v=
-00026580: 2031 2e30 2070 2e75 2e0d 0a0d 0a20 2020   1.0 p.u.....   
-00026590: 204f 5054 494f 4e41 4c3a 0d0a 2020 2020   OPTIONAL:..    
-000265a0: 2020 2020 2a2a 766e 5f6b 762a 2a20 2866      **vn_kv** (f
-000265b0: 6c6f 6174 2c20 4e6f 6e65 2920 2d20 7261  loat, None) - ra
-000265c0: 7465 6420 766f 6c74 6167 6520 6f66 2074  ted voltage of t
-000265d0: 6865 2073 6875 6e74 2e20 4465 6661 756c  he shunt. Defaul
-000265e0: 7473 2074 6f20 7261 7465 6420 766f 6c74  ts to rated volt
-000265f0: 6167 6520 6f66 205c 0d0a 2020 2020 2020  age of \..      
-00026600: 2020 2020 2020 636f 6e6e 6563 7465 6420        connected 
-00026610: 6275 730d 0a0d 0a20 2020 2020 2020 202a  bus....        *
-00026620: 2a73 7465 702a 2a20 2869 6e74 2c20 3129  *step** (int, 1)
-00026630: 202d 2073 7465 7020 6f66 2073 6875 6e74   - step of shunt
-00026640: 2077 6974 6820 7768 6963 6820 706f 7765   with which powe
-00026650: 7220 7661 6c75 6573 2061 7265 206d 756c  r values are mul
-00026660: 7469 706c 6965 640d 0a0d 0a20 2020 2020  tiplied....     
-00026670: 2020 202a 2a6d 6178 5f73 7465 702a 2a20     **max_step** 
-00026680: 2862 6f6f 6c65 616e 2c20 5472 7565 2920  (boolean, True) 
-00026690: 2d20 5472 7565 2066 6f72 2069 6e5f 7365  - True for in_se
-000266a0: 7276 6963 6520 6f72 2046 616c 7365 2066  rvice or False f
-000266b0: 6f72 206f 7574 206f 6620 7365 7276 6963  or out of servic
-000266c0: 650d 0a0d 0a20 2020 2020 2020 202a 2a6e  e....        **n
-000266d0: 616d 652a 2a20 2873 7472 2c20 4e6f 6e65  ame** (str, None
-000266e0: 2920 2d20 656c 656d 656e 7420 6e61 6d65  ) - element name
-000266f0: 0d0a 0d0a 2020 2020 2020 2020 2a2a 696e  ....        **in
-00026700: 5f73 6572 7669 6365 2a2a 2028 626f 6f6c  _service** (bool
-00026710: 6561 6e2c 2054 7275 6529 202d 2054 7275  ean, True) - Tru
-00026720: 6520 666f 7220 696e 5f73 6572 7669 6365  e for in_service
-00026730: 206f 7220 4661 6c73 6520 666f 7220 6f75   or False for ou
-00026740: 7420 6f66 2073 6572 7669 6365 0d0a 0d0a  t of service....
-00026750: 2020 2020 2020 2020 2a2a 696e 6465 782a          **index*
-00026760: 2a20 2869 6e74 2c20 4e6f 6e65 2920 2d20  * (int, None) - 
-00026770: 466f 7263 6520 6120 7370 6563 6966 6965  Force a specifie
-00026780: 6420 4944 2069 6620 6974 2069 7320 6176  d ID if it is av
-00026790: 6169 6c61 626c 652e 2049 6620 4e6f 6e65  ailable. If None
-000267a0: 2c20 7468 6520 696e 6465 7820 6f6e 6520  , the index one 
-000267b0: 5c0d 0a20 2020 2020 2020 2020 2020 2068  \..            h
-000267c0: 6967 6865 7220 7468 616e 2074 6865 2068  igher than the h
-000267d0: 6967 6865 7374 2061 6c72 6561 6479 2065  ighest already e
-000267e0: 7869 7374 696e 6720 696e 6465 7820 6973  xisting index is
-000267f0: 2073 656c 6563 7465 642e 0d0a 0d0a 2020   selected.....  
-00026800: 2020 4f55 5450 5554 3a0d 0a20 2020 2020    OUTPUT:..     
-00026810: 2020 202a 2a69 6e64 6578 2a2a 2028 696e     **index** (in
-00026820: 7429 202d 2054 6865 2075 6e69 7175 6520  t) - The unique 
-00026830: 4944 206f 6620 7468 6520 6372 6561 7465  ID of the create
-00026840: 6420 7368 756e 740d 0a0d 0a20 2020 2045  d shunt....    E
-00026850: 5841 4d50 4c45 3a0d 0a20 2020 2020 2020  XAMPLE:..       
-00026860: 2063 7265 6174 655f 7368 756e 7428 6e65   create_shunt(ne
-00026870: 742c 2030 2c20 3230 290d 0a20 2020 2022  t, 0, 20)..    "
-00026880: 2222 0d0a 2020 2020 5f63 6865 636b 5f6e  ""..    _check_n
-00026890: 6f64 655f 656c 656d 656e 7428 6e65 742c  ode_element(net,
-000268a0: 2062 7573 290d 0a0d 0a20 2020 2069 6e64   bus)....    ind
-000268b0: 6578 203d 205f 6765 745f 696e 6465 785f  ex = _get_index_
-000268c0: 7769 7468 5f63 6865 636b 286e 6574 2c20  with_check(net, 
-000268d0: 2273 6875 6e74 222c 2069 6e64 6578 290d  "shunt", index).
-000268e0: 0a0d 0a20 2020 2069 6620 766e 5f6b 7620  ...    if vn_kv 
-000268f0: 6973 204e 6f6e 653a 0d0a 2020 2020 2020  is None:..      
-00026900: 2020 766e 5f6b 7620 3d20 6e65 742e 6275    vn_kv = net.bu
-00026910: 732e 766e 5f6b 762e 6174 5b62 7573 5d0d  s.vn_kv.at[bus].
-00026920: 0a0d 0a20 2020 2065 6e74 7269 6573 203d  ...    entries =
-00026930: 2064 6963 7428 7a69 7028 5b22 6275 7322   dict(zip(["bus"
-00026940: 2c20 226e 616d 6522 2c20 2270 5f6d 7722  , "name", "p_mw"
-00026950: 2c20 2271 5f6d 7661 7222 2c20 2276 6e5f  , "q_mvar", "vn_
-00026960: 6b76 222c 2022 7374 6570 222c 2022 6d61  kv", "step", "ma
-00026970: 785f 7374 6570 222c 2022 696e 5f73 6572  x_step", "in_ser
-00026980: 7669 6365 225d 2c0d 0a20 2020 2020 2020  vice"],..       
-00026990: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000269a0: 5b62 7573 2c20 6e61 6d65 2c20 705f 6d77  [bus, name, p_mw
-000269b0: 2c20 715f 6d76 6172 2c20 766e 5f6b 762c  , q_mvar, vn_kv,
-000269c0: 2073 7465 702c 206d 6178 5f73 7465 702c   step, max_step,
-000269d0: 2069 6e5f 7365 7276 6963 655d 2929 0d0a   in_service]))..
-000269e0: 2020 2020 5f73 6574 5f65 6e74 7269 6573      _set_entries
-000269f0: 286e 6574 2c20 2273 6875 6e74 222c 2069  (net, "shunt", i
-00026a00: 6e64 6578 2c20 2a2a 656e 7472 6965 7329  ndex, **entries)
-00026a10: 0d0a 0d0a 2020 2020 7265 7475 726e 2069  ....    return i
-00026a20: 6e64 6578 0d0a 0d0a 0d0a 6465 6620 6372  ndex......def cr
-00026a30: 6561 7465 5f73 6875 6e74 5f61 735f 6361  eate_shunt_as_ca
-00026a40: 7061 6369 746f 7228 6e65 742c 2062 7573  pacitor(net, bus
-00026a50: 2c20 715f 6d76 6172 2c20 6c6f 7373 5f66  , q_mvar, loss_f
-00026a60: 6163 746f 722c 202a 2a6b 7761 7267 7329  actor, **kwargs)
-00026a70: 3a0d 0a20 2020 2022 2222 0d0a 2020 2020  :..    """..    
-00026a80: 4372 6561 7465 7320 6120 7368 756e 7420  Creates a shunt 
-00026a90: 656c 656d 656e 7420 7265 7072 6573 656e  element represen
-00026aa0: 7469 6e67 2061 2063 6170 6163 6974 6f72  ting a capacitor
-00026ab0: 2062 616e 6b2e 0d0a 0d0a 2020 2020 494e   bank.....    IN
-00026ac0: 5055 543a 0d0a 0d0a 2020 2020 2020 2020  PUT:....        
-00026ad0: 2a2a 6e65 742a 2a20 2870 616e 6461 706f  **net** (pandapo
-00026ae0: 7765 724e 6574 2920 2d20 5468 6520 7061  werNet) - The pa
-00026af0: 6e64 6170 6f77 6572 206e 6574 776f 726b  ndapower network
-00026b00: 2069 6e20 7768 6963 6820 7468 6520 656c   in which the el
-00026b10: 656d 656e 7420 6973 2063 7265 6174 6564  ement is created
-00026b20: 0d0a 0d0a 2020 2020 2020 2020 2a2a 6275  ....        **bu
-00026b30: 732a 2a20 2d20 6275 7320 6e75 6d62 6572  s** - bus number
-00026b40: 206f 6620 6275 7320 746f 2077 686f 6d20   of bus to whom 
-00026b50: 7468 6520 7368 756e 7420 6973 2063 6f6e  the shunt is con
-00026b60: 6e65 6374 6564 2074 6f0d 0a0d 0a20 2020  nected to....   
-00026b70: 2020 2020 202a 2a71 5f6d 7661 722a 2a20       **q_mvar** 
-00026b80: 2866 6c6f 6174 2920 2d20 7265 6163 7469  (float) - reacti
-00026b90: 7665 2070 6f77 6572 206f 6620 7468 6520  ve power of the 
-00026ba0: 6361 7061 6369 746f 7220 6261 6e6b 2061  capacitor bank a
-00026bb0: 7420 7261 7465 6420 766f 6c74 6167 650d  t rated voltage.
-00026bc0: 0a0d 0a20 2020 2020 2020 202a 2a6c 6f73  ...        **los
-00026bd0: 735f 6661 6374 6f72 2a2a 2028 666c 6f61  s_factor** (floa
-00026be0: 7429 202d 206c 6f73 7320 6661 6374 6f72  t) - loss factor
-00026bf0: 2074 616e 2864 656c 7461 2920 6f66 2074   tan(delta) of t
-00026c00: 6865 2063 6170 6163 6974 6f72 2062 616e  he capacitor ban
-00026c10: 6b0d 0a0d 0a20 2020 204f 5054 494f 4e41  k....    OPTIONA
-00026c20: 4c3a 0d0a 2020 2020 2020 2020 7361 6d65  L:..        same
-00026c30: 2061 7320 696e 2063 7265 6174 655f 7368   as in create_sh
-00026c40: 756e 742c 206b 6579 776f 7264 2061 7267  unt, keyword arg
-00026c50: 756d 656e 7473 2061 7265 2070 6173 7365  uments are passe
-00026c60: 6420 746f 2074 6865 2063 7265 6174 655f  d to the create_
-00026c70: 7368 756e 7420 6675 6e63 7469 6f6e 0d0a  shunt function..
-00026c80: 0d0a 0d0a 2020 2020 4f55 5450 5554 3a0d  ....    OUTPUT:.
-00026c90: 0a20 2020 2020 2020 202a 2a69 6e64 6578  .        **index
-00026ca0: 2a2a 2028 696e 7429 202d 2054 6865 2075  ** (int) - The u
-00026cb0: 6e69 7175 6520 4944 206f 6620 7468 6520  nique ID of the 
-00026cc0: 6372 6561 7465 6420 7368 756e 740d 0a20  created shunt.. 
-00026cd0: 2020 2022 2222 0d0a 2020 2020 715f 6d76     """..    q_mv
-00026ce0: 6172 203d 202d 6162 7328 715f 6d76 6172  ar = -abs(q_mvar
-00026cf0: 2920 2023 2071 2069 7320 616c 7761 7973  )  # q is always
-00026d00: 206e 6567 6174 6976 6520 666f 7220 6361   negative for ca
-00026d10: 7061 6369 746f 720d 0a20 2020 2070 5f6d  pacitor..    p_m
-00026d20: 7720 3d20 6162 7328 715f 6d76 6172 202a  w = abs(q_mvar *
-00026d30: 206c 6f73 735f 6661 6374 6f72 2920 2023   loss_factor)  #
-00026d40: 2070 2069 7320 616c 7761 7973 2070 6f73   p is always pos
-00026d50: 6974 6976 6520 666f 7220 6163 7469 7665  itive for active
-00026d60: 2070 6f77 6572 206c 6f73 7365 730d 0a20   power losses.. 
-00026d70: 2020 2072 6574 7572 6e20 6372 6561 7465     return create
-00026d80: 5f73 6875 6e74 286e 6574 2c20 6275 732c  _shunt(net, bus,
-00026d90: 2071 5f6d 7661 723d 715f 6d76 6172 2c20   q_mvar=q_mvar, 
-00026da0: 705f 6d77 3d70 5f6d 772c 202a 2a6b 7761  p_mw=p_mw, **kwa
-00026db0: 7267 7329 0d0a 0d0a 0d0a 6465 6620 6372  rgs)......def cr
-00026dc0: 6561 7465 5f69 6d70 6564 616e 6365 286e  eate_impedance(n
-00026dd0: 6574 2c20 6672 6f6d 5f62 7573 2c20 746f  et, from_bus, to
-00026de0: 5f62 7573 2c20 7266 745f 7075 2c20 7866  _bus, rft_pu, xf
-00026df0: 745f 7075 2c20 736e 5f6d 7661 2c20 7274  t_pu, sn_mva, rt
-00026e00: 665f 7075 3d4e 6f6e 652c 2078 7466 5f70  f_pu=None, xtf_p
-00026e10: 753d 4e6f 6e65 2c0d 0a20 2020 2020 2020  u=None,..       
-00026e20: 2020 2020 2020 2020 2020 2020 2020 6e61                na
-00026e30: 6d65 3d4e 6f6e 652c 2069 6e5f 7365 7276  me=None, in_serv
-00026e40: 6963 653d 5472 7565 2c20 696e 6465 783d  ice=True, index=
-00026e50: 4e6f 6e65 293a 0d0a 2020 2020 2222 220d  None):..    """.
-00026e60: 0a20 2020 2043 7265 6174 6573 2061 6e20  .    Creates an 
-00026e70: 7065 7220 756e 6974 2069 6d70 6564 616e  per unit impedan
-00026e80: 6365 2065 6c65 6d65 6e74 0d0a 0d0a 2020  ce element....  
-00026e90: 2020 494e 5055 543a 0d0a 2020 2020 2020    INPUT:..      
-00026ea0: 2020 2a2a 6e65 742a 2a20 2870 616e 6461    **net** (panda
-00026eb0: 706f 7765 724e 6574 2920 2d20 5468 6520  powerNet) - The 
-00026ec0: 7061 6e64 6170 6f77 6572 206e 6574 776f  pandapower netwo
-00026ed0: 726b 2069 6e20 7768 6963 6820 7468 6520  rk in which the 
-00026ee0: 656c 656d 656e 7420 6973 2063 7265 6174  element is creat
-00026ef0: 6564 0d0a 0d0a 2020 2020 2020 2020 2a2a  ed....        **
-00026f00: 6672 6f6d 5f62 7573 2a2a 2028 696e 7429  from_bus** (int)
-00026f10: 202d 2073 7461 7274 696e 6720 6275 7320   - starting bus 
-00026f20: 6f66 2074 6865 2069 6d70 6564 616e 6365  of the impedance
-00026f30: 0d0a 0d0a 2020 2020 2020 2020 2a2a 746f  ....        **to
-00026f40: 5f62 7573 2a2a 2028 696e 7429 202d 2065  _bus** (int) - e
-00026f50: 6e64 696e 6720 6275 7320 6f66 2074 6865  nding bus of the
-00026f60: 2069 6d70 6564 616e 6365 0d0a 0d0a 2020   impedance....  
-00026f70: 2020 2020 2020 2a2a 725f 7075 2a2a 2028        **r_pu** (
-00026f80: 666c 6f61 7429 202d 2072 6561 6c20 7061  float) - real pa
-00026f90: 7274 206f 6620 7468 6520 696d 7065 6461  rt of the impeda
-00026fa0: 6e63 6520 696e 2070 6572 2075 6e69 740d  nce in per unit.
-00026fb0: 0a0d 0a20 2020 2020 2020 202a 2a78 5f70  ...        **x_p
-00026fc0: 752a 2a20 2866 6c6f 6174 2920 2d20 696d  u** (float) - im
-00026fd0: 6167 696e 6172 7920 7061 7274 206f 6620  aginary part of 
-00026fe0: 7468 6520 696d 7065 6461 6e63 6520 696e  the impedance in
-00026ff0: 2070 6572 2075 6e69 740d 0a0d 0a20 2020   per unit....   
-00027000: 2020 2020 202a 2a73 6e5f 6d76 612a 2a20       **sn_mva** 
-00027010: 2866 6c6f 6174 2920 2d20 7261 7465 6420  (float) - rated 
-00027020: 706f 7765 7220 6f66 2074 6865 2069 6d70  power of the imp
-00027030: 6564 616e 6365 2069 6e20 4d56 410d 0a0d  edance in MVA...
-00027040: 0a20 2020 204f 5554 5055 543a 0d0a 0d0a  .    OUTPUT:....
-00027050: 2020 2020 2020 2020 696d 7065 6461 6e63          impedanc
-00027060: 6520 6964 0d0a 2020 2020 2222 220d 0a20  e id..    """.. 
-00027070: 2020 2069 6e64 6578 203d 205f 6765 745f     index = _get_
-00027080: 696e 6465 785f 7769 7468 5f63 6865 636b  index_with_check
-00027090: 286e 6574 2c20 2269 6d70 6564 616e 6365  (net, "impedance
-000270a0: 222c 2069 6e64 6578 290d 0a0d 0a20 2020  ", index)....   
-000270b0: 205f 6368 6563 6b5f 6272 616e 6368 5f65   _check_branch_e
-000270c0: 6c65 6d65 6e74 286e 6574 2c20 2249 6d70  lement(net, "Imp
-000270d0: 6564 616e 6365 222c 2069 6e64 6578 2c20  edance", index, 
-000270e0: 6672 6f6d 5f62 7573 2c20 746f 5f62 7573  from_bus, to_bus
-000270f0: 290d 0a0d 0a20 2020 2069 6620 7274 665f  )....    if rtf_
-00027100: 7075 2069 7320 4e6f 6e65 3a0d 0a20 2020  pu is None:..   
-00027110: 2020 2020 2072 7466 5f70 7520 3d20 7266       rtf_pu = rf
-00027120: 745f 7075 0d0a 2020 2020 6966 2078 7466  t_pu..    if xtf
-00027130: 5f70 7520 6973 204e 6f6e 653a 0d0a 2020  _pu is None:..  
-00027140: 2020 2020 2020 7874 665f 7075 203d 2078        xtf_pu = x
-00027150: 6674 5f70 750d 0a0d 0a20 2020 2063 6f6c  ft_pu....    col
-00027160: 756d 6e73 203d 205b 2266 726f 6d5f 6275  umns = ["from_bu
-00027170: 7322 2c20 2274 6f5f 6275 7322 2c20 2272  s", "to_bus", "r
-00027180: 6674 5f70 7522 2c20 2278 6674 5f70 7522  ft_pu", "xft_pu"
-00027190: 2c20 2272 7466 5f70 7522 2c20 2278 7466  , "rtf_pu", "xtf
-000271a0: 5f70 7522 2c20 226e 616d 6522 2c20 2273  _pu", "name", "s
-000271b0: 6e5f 6d76 6122 2c0d 0a20 2020 2020 2020  n_mva",..       
-000271c0: 2020 2020 2020 2020 2269 6e5f 7365 7276          "in_serv
-000271d0: 6963 6522 5d0d 0a20 2020 2076 616c 7565  ice"]..    value
-000271e0: 7320 3d20 5b66 726f 6d5f 6275 732c 2074  s = [from_bus, t
-000271f0: 6f5f 6275 732c 2072 6674 5f70 752c 2078  o_bus, rft_pu, x
-00027200: 6674 5f70 752c 2072 7466 5f70 752c 2078  ft_pu, rtf_pu, x
-00027210: 7466 5f70 752c 206e 616d 652c 2073 6e5f  tf_pu, name, sn_
-00027220: 6d76 612c 2069 6e5f 7365 7276 6963 655d  mva, in_service]
-00027230: 0d0a 2020 2020 5f73 6574 5f65 6e74 7269  ..    _set_entri
-00027240: 6573 286e 6574 2c20 2269 6d70 6564 616e  es(net, "impedan
-00027250: 6365 222c 2069 6e64 6578 2c20 2a2a 6469  ce", index, **di
-00027260: 6374 287a 6970 2863 6f6c 756d 6e73 2c20  ct(zip(columns, 
-00027270: 7661 6c75 6573 2929 290d 0a0d 0a20 2020  values)))....   
-00027280: 2072 6574 7572 6e20 696e 6465 780d 0a0d   return index...
-00027290: 0a0d 0a64 6566 2063 7265 6174 655f 7365  ...def create_se
-000272a0: 7269 6573 5f72 6561 6374 6f72 5f61 735f  ries_reactor_as_
-000272b0: 696d 7065 6461 6e63 6528 6e65 742c 2066  impedance(net, f
-000272c0: 726f 6d5f 6275 732c 2074 6f5f 6275 732c  rom_bus, to_bus,
-000272d0: 2072 5f6f 686d 2c20 785f 6f68 6d2c 2073   r_ohm, x_ohm, s
-000272e0: 6e5f 6d76 612c 0d0a 2020 2020 2020 2020  n_mva,..        
-000272f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00027300: 2020 2020 2020 2020 2020 2020 2020 206e                 n
-00027310: 616d 653d 4e6f 6e65 2c20 696e 5f73 6572  ame=None, in_ser
-00027320: 7669 6365 3d54 7275 652c 2069 6e64 6578  vice=True, index
-00027330: 3d4e 6f6e 6529 3a0d 0a20 2020 2022 2222  =None):..    """
-00027340: 0d0a 2020 2020 4372 6561 7465 7320 6120  ..    Creates a 
-00027350: 7365 7269 6573 2072 6561 6374 6f72 2061  series reactor a
-00027360: 7320 7065 722d 756e 6974 2069 6d70 6564  s per-unit imped
-00027370: 616e 6365 0d0a 2020 2020 3a70 6172 616d  ance..    :param
-00027380: 206e 6574 3a20 2870 616e 6461 706f 7765   net: (pandapowe
-00027390: 724e 6574 2920 2d20 5468 6520 7061 6e64  rNet) - The pand
-000273a0: 6170 6f77 6572 206e 6574 776f 726b 2069  apower network i
-000273b0: 6e20 7768 6963 6820 7468 6520 656c 656d  n which the elem
-000273c0: 656e 7420 6973 2063 7265 6174 6564 0d0a  ent is created..
-000273d0: 2020 2020 3a70 6172 616d 2066 726f 6d5f      :param from_
-000273e0: 6275 733a 2028 696e 7429 202d 2073 7461  bus: (int) - sta
-000273f0: 7274 696e 6720 6275 7320 6f66 2074 6865  rting bus of the
-00027400: 2073 6572 6965 7320 7265 6163 746f 720d   series reactor.
-00027410: 0a20 2020 203a 7061 7261 6d20 746f 5f62  .    :param to_b
-00027420: 7573 3a20 2869 6e74 2920 2d20 656e 6469  us: (int) - endi
-00027430: 6e67 2062 7573 206f 6620 7468 6520 7365  ng bus of the se
-00027440: 7269 6573 2072 6561 6374 6f72 0d0a 2020  ries reactor..  
-00027450: 2020 3a70 6172 616d 2072 5f6f 686d 3a20    :param r_ohm: 
-00027460: 2866 6c6f 6174 2920 2d20 7265 616c 2070  (float) - real p
-00027470: 6172 7420 6f66 2074 6865 2069 6d70 6564  art of the imped
-00027480: 616e 6365 2069 6e20 4f68 6d0d 0a20 2020  ance in Ohm..   
-00027490: 203a 7061 7261 6d20 785f 6f68 6d3a 2028   :param x_ohm: (
-000274a0: 666c 6f61 7429 202d 2069 6d61 6769 6e61  float) - imagina
-000274b0: 7279 2070 6172 7420 6f66 2074 6865 2069  ry part of the i
-000274c0: 6d70 6564 616e 6365 2069 6e20 4f68 6d0d  mpedance in Ohm.
-000274d0: 0a20 2020 203a 7061 7261 6d20 736e 5f6d  .    :param sn_m
-000274e0: 7661 3a20 2866 6c6f 6174 2920 2d20 7261  va: (float) - ra
-000274f0: 7465 6420 706f 7765 7220 6f66 2074 6865  ted power of the
-00027500: 2073 6572 6965 7320 7265 6163 746f 7220   series reactor 
-00027510: 696e 204d 5641 0d0a 2020 2020 3a70 6172  in MVA..    :par
-00027520: 616d 206e 616d 653a 0d0a 2020 2020 3a74  am name:..    :t
-00027530: 7970 6520 6e61 6d65 3a0d 0a20 2020 203a  ype name:..    :
-00027540: 7061 7261 6d20 696e 5f73 6572 7669 6365  param in_service
-00027550: 3a0d 0a20 2020 203a 7479 7065 2069 6e5f  :..    :type in_
-00027560: 7365 7276 6963 653a 0d0a 2020 2020 3a70  service:..    :p
-00027570: 6172 616d 2069 6e64 6578 3a0d 0a20 2020  aram index:..   
-00027580: 203a 7479 7065 2069 6e64 6578 3a0d 0a20   :type index:.. 
-00027590: 2020 203a 7265 7475 726e 3a20 696e 6465     :return: inde
-000275a0: 7820 6f66 2074 6865 2063 7265 6174 6564  x of the created
-000275b0: 2065 6c65 6d65 6e74 0d0a 2020 2020 2222   element..    ""
-000275c0: 220d 0a20 2020 2069 6620 6e65 742e 6275  "..    if net.bu
-000275d0: 732e 6174 5b66 726f 6d5f 6275 732c 2027  s.at[from_bus, '
-000275e0: 766e 5f6b 7627 5d20 3d3d 206e 6574 2e62  vn_kv'] == net.b
-000275f0: 7573 2e61 745b 746f 5f62 7573 2c20 2776  us.at[to_bus, 'v
-00027600: 6e5f 6b76 275d 3a0d 0a20 2020 2020 2020  n_kv']:..       
-00027610: 2076 6e5f 6b76 203d 206e 6574 2e62 7573   vn_kv = net.bus
-00027620: 2e61 745b 6672 6f6d 5f62 7573 2c20 2776  .at[from_bus, 'v
-00027630: 6e5f 6b76 275d 0d0a 2020 2020 656c 7365  n_kv']..    else
-00027640: 3a0d 0a20 2020 2020 2020 2072 6169 7365  :..        raise
-00027650: 2055 7365 7257 6172 6e69 6e67 2827 556e   UserWarning('Un
-00027660: 6162 6c65 2074 6f20 696e 6665 7220 7261  able to infer ra
-00027670: 7465 6420 766f 6c74 6167 6520 766e 5f6b  ted voltage vn_k
-00027680: 7620 666f 7220 7365 7269 6573 2072 6561  v for series rea
-00027690: 6374 6f72 2025 7320 6475 6520 746f 2027  ctor %s due to '
-000276a0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-000276b0: 2020 2020 2020 2020 2020 2020 2764 6966              'dif
-000276c0: 6665 7265 6e74 2072 6174 6564 2076 6f6c  ferent rated vol
-000276d0: 7461 6765 7320 6f66 2066 726f 6d5f 6275  tages of from_bu
-000276e0: 7320 2564 2028 252e 3366 2070 2e75 2e29  s %d (%.3f p.u.)
-000276f0: 2061 6e64 2027 0d0a 2020 2020 2020 2020   and '..        
-00027700: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00027710: 2020 2774 6f5f 6275 7320 2564 2028 252e    'to_bus %d (%.
-00027720: 3366 2070 2e75 2e29 2720 2520 286e 616d  3f p.u.)' % (nam
-00027730: 652c 2066 726f 6d5f 6275 732c 206e 6574  e, from_bus, net
-00027740: 2e62 7573 2e61 745b 6672 6f6d 5f62 7573  .bus.at[from_bus
-00027750: 2c20 2776 6e5f 6b76 275d 2c0d 0a20 2020  , 'vn_kv'],..   
-00027760: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00023810: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00023820: 2020 2020 6e61 6d65 3d22 5468 7265 6520      name="Three 
+00023830: 7769 6e64 696e 6720 7472 616e 7366 6f72  winding transfor
+00023840: 6d65 7273 2229 0d0a 0d0a 2020 2020 6966  mers")....    if
+00023850: 206e 6f74 206e 705f 616c 6c28 6973 696e   not np_all(isin
+00023860: 2868 765f 6275 7365 732c 206e 6574 2e62  (hv_buses, net.b
+00023870: 7573 2e69 6e64 6578 2929 3a0d 0a20 2020  us.index)):..   
+00023880: 2020 2020 2062 7573 5f6e 6f74 5f65 7869       bus_not_exi
+00023890: 7374 203d 2073 6574 2868 765f 6275 7365  st = set(hv_buse
+000238a0: 7329 202d 2073 6574 286e 6574 2e62 7573  s) - set(net.bus
+000238b0: 2e69 6e64 6578 290d 0a20 2020 2020 2020  .index)..       
+000238c0: 2072 6169 7365 2055 7365 7257 6172 6e69   raise UserWarni
+000238d0: 6e67 2822 5472 616e 7366 6f72 6d65 7273  ng("Transformers
+000238e0: 2074 7279 696e 6720 746f 2061 7474 6163   trying to attac
+000238f0: 6820 746f 206e 6f6e 2065 7869 7374 696e  h to non existin
+00023900: 6720 6275 7365 7320 2573 2220 2520 6275  g buses %s" % bu
+00023910: 735f 6e6f 745f 6578 6973 7429 0d0a 2020  s_not_exist)..  
+00023920: 2020 6966 206e 6f74 206e 705f 616c 6c28    if not np_all(
+00023930: 6973 696e 286d 765f 6275 7365 732c 206e  isin(mv_buses, n
+00023940: 6574 2e62 7573 2e69 6e64 6578 2929 3a0d  et.bus.index)):.
+00023950: 0a20 2020 2020 2020 2062 7573 5f6e 6f74  .        bus_not
+00023960: 5f65 7869 7374 203d 2073 6574 286d 765f  _exist = set(mv_
+00023970: 6275 7365 7329 202d 2073 6574 286e 6574  buses) - set(net
+00023980: 2e62 7573 2e69 6e64 6578 290d 0a20 2020  .bus.index)..   
+00023990: 2020 2020 2072 6169 7365 2055 7365 7257       raise UserW
+000239a0: 6172 6e69 6e67 2822 5472 616e 7366 6f72  arning("Transfor
+000239b0: 6d65 7273 2074 7279 696e 6720 746f 2061  mers trying to a
+000239c0: 7474 6163 6820 746f 206e 6f6e 2065 7869  ttach to non exi
+000239d0: 7374 696e 6720 6275 7365 7320 2573 2220  sting buses %s" 
+000239e0: 2520 6275 735f 6e6f 745f 6578 6973 7429  % bus_not_exist)
+000239f0: 0d0a 2020 2020 6966 206e 6f74 206e 705f  ..    if not np_
+00023a00: 616c 6c28 6973 696e 286c 765f 6275 7365  all(isin(lv_buse
+00023a10: 732c 206e 6574 2e62 7573 2e69 6e64 6578  s, net.bus.index
+00023a20: 2929 3a0d 0a20 2020 2020 2020 2062 7573  )):..        bus
+00023a30: 5f6e 6f74 5f65 7869 7374 203d 2073 6574  _not_exist = set
+00023a40: 286c 765f 6275 7365 7329 202d 2073 6574  (lv_buses) - set
+00023a50: 286e 6574 2e62 7573 2e69 6e64 6578 290d  (net.bus.index).
+00023a60: 0a20 2020 2020 2020 2072 6169 7365 2055  .        raise U
+00023a70: 7365 7257 6172 6e69 6e67 2822 5472 616e  serWarning("Tran
+00023a80: 7366 6f72 6d65 7273 2074 7279 696e 6720  sformers trying 
+00023a90: 746f 2061 7474 6163 6820 746f 206e 6f6e  to attach to non
+00023aa0: 2065 7869 7374 696e 6720 6275 7365 7320   existing buses 
+00023ab0: 2573 2220 2520 6275 735f 6e6f 745f 6578  %s" % bus_not_ex
+00023ac0: 6973 7429 0d0a 0d0a 2020 2020 7470 5f6e  ist)....    tp_n
+00023ad0: 6575 7472 616c 203d 2070 642e 5365 7269  eutral = pd.Seri
+00023ae0: 6573 2874 6170 5f6e 6575 7472 616c 2c20  es(tap_neutral, 
+00023af0: 696e 6465 783d 696e 6465 782c 2064 7479  index=index, dty
+00023b00: 7065 3d66 6c6f 6174 3634 290d 0a20 2020  pe=float64)..   
+00023b10: 2074 705f 706f 7320 3d20 7064 2e53 6572   tp_pos = pd.Ser
+00023b20: 6965 7328 7461 705f 706f 732c 2069 6e64  ies(tap_pos, ind
+00023b30: 6578 3d69 6e64 6578 2c20 6474 7970 653d  ex=index, dtype=
+00023b40: 666c 6f61 7436 3429 2e66 696c 6c6e 6128  float64).fillna(
+00023b50: 7470 5f6e 6575 7472 616c 290d 0a20 2020  tp_neutral)..   
+00023b60: 2065 6e74 7269 6573 203d 207b 226c 765f   entries = {"lv_
+00023b70: 6275 7322 3a20 6c76 5f62 7573 6573 2c20  bus": lv_buses, 
+00023b80: 226d 765f 6275 7322 3a20 6d76 5f62 7573  "mv_bus": mv_bus
+00023b90: 6573 2c20 2268 765f 6275 7322 3a20 6876  es, "hv_bus": hv
+00023ba0: 5f62 7573 6573 2c20 2276 6e5f 6876 5f6b  _buses, "vn_hv_k
+00023bb0: 7622 3a20 766e 5f68 765f 6b76 2c0d 0a20  v": vn_hv_kv,.. 
+00023bc0: 2020 2020 2020 2020 2020 2020 2020 2276                "v
+00023bd0: 6e5f 6d76 5f6b 7622 3a20 766e 5f6d 765f  n_mv_kv": vn_mv_
+00023be0: 6b76 2c20 2276 6e5f 6c76 5f6b 7622 3a20  kv, "vn_lv_kv": 
+00023bf0: 766e 5f6c 765f 6b76 2c20 2273 6e5f 6876  vn_lv_kv, "sn_hv
+00023c00: 5f6d 7661 223a 2073 6e5f 6876 5f6d 7661  _mva": sn_hv_mva
+00023c10: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
+00023c20: 2020 2273 6e5f 6d76 5f6d 7661 223a 2073    "sn_mv_mva": s
+00023c30: 6e5f 6d76 5f6d 7661 2c20 2273 6e5f 6c76  n_mv_mva, "sn_lv
+00023c40: 5f6d 7661 223a 2073 6e5f 6c76 5f6d 7661  _mva": sn_lv_mva
+00023c50: 2c20 2276 6b5f 6876 5f70 6572 6365 6e74  , "vk_hv_percent
+00023c60: 223a 2076 6b5f 6876 5f70 6572 6365 6e74  ": vk_hv_percent
+00023c70: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
+00023c80: 2020 2276 6b5f 6d76 5f70 6572 6365 6e74    "vk_mv_percent
+00023c90: 223a 2076 6b5f 6d76 5f70 6572 6365 6e74  ": vk_mv_percent
+00023ca0: 2c20 2276 6b5f 6c76 5f70 6572 6365 6e74  , "vk_lv_percent
+00023cb0: 223a 2076 6b5f 6c76 5f70 6572 6365 6e74  ": vk_lv_percent
+00023cc0: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
+00023cd0: 2020 2276 6b72 5f68 765f 7065 7263 656e    "vkr_hv_percen
+00023ce0: 7422 3a20 766b 725f 6876 5f70 6572 6365  t": vkr_hv_perce
+00023cf0: 6e74 2c20 2276 6b72 5f6d 765f 7065 7263  nt, "vkr_mv_perc
+00023d00: 656e 7422 3a20 766b 725f 6d76 5f70 6572  ent": vkr_mv_per
+00023d10: 6365 6e74 2c0d 0a20 2020 2020 2020 2020  cent,..         
+00023d20: 2020 2020 2020 2276 6b72 5f6c 765f 7065        "vkr_lv_pe
+00023d30: 7263 656e 7422 3a20 766b 725f 6c76 5f70  rcent": vkr_lv_p
+00023d40: 6572 6365 6e74 2c20 2270 6665 5f6b 7722  ercent, "pfe_kw"
+00023d50: 3a20 7066 655f 6b77 2c20 2269 305f 7065  : pfe_kw, "i0_pe
+00023d60: 7263 656e 7422 3a20 6930 5f70 6572 6365  rcent": i0_perce
+00023d70: 6e74 2c0d 0a20 2020 2020 2020 2020 2020  nt,..           
+00023d80: 2020 2020 2273 6869 6674 5f6d 765f 6465      "shift_mv_de
+00023d90: 6772 6565 223a 2073 6869 6674 5f6d 765f  gree": shift_mv_
+00023da0: 6465 6772 6565 2c20 2273 6869 6674 5f6c  degree, "shift_l
+00023db0: 765f 6465 6772 6565 223a 2073 6869 6674  v_degree": shift
+00023dc0: 5f6c 765f 6465 6772 6565 2c0d 0a20 2020  _lv_degree,..   
+00023dd0: 2020 2020 2020 2020 2020 2020 2274 6170              "tap
+00023de0: 5f73 6964 6522 3a20 7461 705f 7369 6465  _side": tap_side
+00023df0: 2c20 2274 6170 5f73 7465 705f 7065 7263  , "tap_step_perc
+00023e00: 656e 7422 3a20 7461 705f 7374 6570 5f70  ent": tap_step_p
+00023e10: 6572 6365 6e74 2c0d 0a20 2020 2020 2020  ercent,..       
+00023e20: 2020 2020 2020 2020 2274 6170 5f73 7465          "tap_ste
+00023e30: 705f 6465 6772 6565 223a 2074 6170 5f73  p_degree": tap_s
+00023e40: 7465 705f 6465 6772 6565 2c20 2274 6170  tep_degree, "tap
+00023e50: 5f70 6f73 223a 2074 705f 706f 732c 2022  _pos": tp_pos, "
+00023e60: 7461 705f 6e65 7574 7261 6c22 3a20 7470  tap_neutral": tp
+00023e70: 5f6e 6575 7472 616c 2c0d 0a20 2020 2020  _neutral,..     
+00023e80: 2020 2020 2020 2020 2020 2274 6170 5f6d            "tap_m
+00023e90: 6178 223a 2074 6170 5f6d 6178 2c20 2274  ax": tap_max, "t
+00023ea0: 6170 5f6d 696e 223a 2074 6170 5f6d 696e  ap_min": tap_min
+00023eb0: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
+00023ec0: 2020 2269 6e5f 7365 7276 6963 6522 3a20    "in_service": 
+00023ed0: 6172 7261 7928 696e 5f73 6572 7669 6365  array(in_service
+00023ee0: 292e 6173 7479 7065 2862 6f6f 6c5f 292c  ).astype(bool_),
+00023ef0: 2022 6e61 6d65 223a 206e 616d 652c 0d0a   "name": name,..
+00023f00: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00023f10: 7461 705f 6174 5f73 7461 725f 706f 696e  tap_at_star_poin
+00023f20: 7422 3a20 6172 7261 7928 7461 705f 6174  t": array(tap_at
+00023f30: 5f73 7461 725f 706f 696e 7429 2e61 7374  _star_point).ast
+00023f40: 7970 6528 626f 6f6c 5f29 2c20 2273 7464  ype(bool_), "std
+00023f50: 5f74 7970 6522 3a20 4e6f 6e65 2c0d 0a20  _type": None,.. 
+00023f60: 2020 2020 2020 2020 2020 2020 2020 2276                "v
+00023f70: 6b30 5f68 765f 7065 7263 656e 7422 3a20  k0_hv_percent": 
+00023f80: 766b 305f 6876 5f70 6572 6365 6e74 2c20  vk0_hv_percent, 
+00023f90: 2276 6b30 5f6d 765f 7065 7263 656e 7422  "vk0_mv_percent"
+00023fa0: 3a20 766b 305f 6d76 5f70 6572 6365 6e74  : vk0_mv_percent
+00023fb0: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
+00023fc0: 2020 2276 6b30 5f6c 765f 7065 7263 656e    "vk0_lv_percen
+00023fd0: 7422 3a20 766b 305f 6c76 5f70 6572 6365  t": vk0_lv_perce
+00023fe0: 6e74 2c20 2276 6b72 305f 6876 5f70 6572  nt, "vkr0_hv_per
+00023ff0: 6365 6e74 223a 2076 6b72 305f 6876 5f70  cent": vkr0_hv_p
+00024000: 6572 6365 6e74 2c0d 0a20 2020 2020 2020  ercent,..       
+00024010: 2020 2020 2020 2020 2276 6b72 305f 6d76          "vkr0_mv
+00024020: 5f70 6572 6365 6e74 223a 2076 6b72 305f  _percent": vkr0_
+00024030: 6d76 5f70 6572 6365 6e74 2c20 2276 6b72  mv_percent, "vkr
+00024040: 305f 6c76 5f70 6572 6365 6e74 223a 2076  0_lv_percent": v
+00024050: 6b72 305f 6c76 5f70 6572 6365 6e74 2c0d  kr0_lv_percent,.
+00024060: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00024070: 2276 6563 746f 725f 6772 6f75 7022 3a20  "vector_group": 
+00024080: 7665 6374 6f72 5f67 726f 7570 7d0d 0a0d  vector_group}...
+00024090: 0a20 2020 205f 6164 645f 7365 7269 6573  .    _add_series
+000240a0: 5f74 6f5f 656e 7472 6965 7328 656e 7472  _to_entries(entr
+000240b0: 6965 732c 2069 6e64 6578 2c20 226d 6178  ies, index, "max
+000240c0: 5f6c 6f61 6469 6e67 5f70 6572 6365 6e74  _loading_percent
+000240d0: 222c 206d 6178 5f6c 6f61 6469 6e67 5f70  ", max_loading_p
+000240e0: 6572 6365 6e74 290d 0a0d 0a20 2020 2069  ercent)....    i
+000240f0: 6620 7461 705f 6465 7065 6e64 656e 745f  f tap_dependent_
+00024100: 696d 7065 6461 6e63 6520 6973 206e 6f74  impedance is not
+00024110: 204e 6f6e 653a 0d0a 2020 2020 2020 2020   None:..        
+00024120: 5f61 6464 5f73 6572 6965 735f 746f 5f65  _add_series_to_e
+00024130: 6e74 7269 6573 2865 6e74 7269 6573 2c20  ntries(entries, 
+00024140: 696e 6465 782c 2022 7461 705f 6465 7065  index, "tap_depe
+00024150: 6e64 656e 745f 696d 7065 6461 6e63 6522  ndent_impedance"
+00024160: 2c20 7461 705f 6465 7065 6e64 656e 745f  , tap_dependent_
+00024170: 696d 7065 6461 6e63 652c 2064 7479 7065  impedance, dtype
+00024180: 3d62 6f6f 6c5f 2c20 6465 6661 756c 745f  =bool_, default_
+00024190: 7661 6c3d 4661 6c73 6529 0d0a 2020 2020  val=False)..    
+000241a0: 6966 2076 6b5f 6876 5f70 6572 6365 6e74  if vk_hv_percent
+000241b0: 5f63 6861 7261 6374 6572 6973 7469 6320  _characteristic 
+000241c0: 6973 206e 6f74 204e 6f6e 653a 0d0a 2020  is not None:..  
+000241d0: 2020 2020 2020 5f61 6464 5f73 6572 6965        _add_serie
+000241e0: 735f 746f 5f65 6e74 7269 6573 2865 6e74  s_to_entries(ent
+000241f0: 7269 6573 2c20 696e 6465 782c 2022 766b  ries, index, "vk
+00024200: 5f68 765f 7065 7263 656e 745f 6368 6172  _hv_percent_char
+00024210: 6163 7465 7269 7374 6963 222c 2076 6b5f  acteristic", vk_
+00024220: 6876 5f70 6572 6365 6e74 5f63 6861 7261  hv_percent_chara
+00024230: 6374 6572 6973 7469 632c 2022 496e 7436  cteristic, "Int6
+00024240: 3422 290d 0a20 2020 2069 6620 766b 725f  4")..    if vkr_
+00024250: 6876 5f70 6572 6365 6e74 5f63 6861 7261  hv_percent_chara
+00024260: 6374 6572 6973 7469 6320 6973 206e 6f74  cteristic is not
+00024270: 204e 6f6e 653a 0d0a 2020 2020 2020 2020   None:..        
+00024280: 5f61 6464 5f73 6572 6965 735f 746f 5f65  _add_series_to_e
+00024290: 6e74 7269 6573 2865 6e74 7269 6573 2c20  ntries(entries, 
+000242a0: 696e 6465 782c 2022 766b 725f 6876 5f70  index, "vkr_hv_p
+000242b0: 6572 6365 6e74 5f63 6861 7261 6374 6572  ercent_character
+000242c0: 6973 7469 6322 2c20 766b 725f 6876 5f70  istic", vkr_hv_p
+000242d0: 6572 6365 6e74 5f63 6861 7261 6374 6572  ercent_character
+000242e0: 6973 7469 632c 2022 496e 7436 3422 290d  istic, "Int64").
+000242f0: 0a20 2020 2069 6620 766b 5f6d 765f 7065  .    if vk_mv_pe
+00024300: 7263 656e 745f 6368 6172 6163 7465 7269  rcent_characteri
+00024310: 7374 6963 2069 7320 6e6f 7420 4e6f 6e65  stic is not None
+00024320: 3a0d 0a20 2020 2020 2020 205f 6164 645f  :..        _add_
+00024330: 7365 7269 6573 5f74 6f5f 656e 7472 6965  series_to_entrie
+00024340: 7328 656e 7472 6965 732c 2069 6e64 6578  s(entries, index
+00024350: 2c20 2276 6b5f 6d76 5f70 6572 6365 6e74  , "vk_mv_percent
+00024360: 5f63 6861 7261 6374 6572 6973 7469 6322  _characteristic"
+00024370: 2c20 766b 5f6d 765f 7065 7263 656e 745f  , vk_mv_percent_
+00024380: 6368 6172 6163 7465 7269 7374 6963 2c20  characteristic, 
+00024390: 2249 6e74 3634 2229 0d0a 2020 2020 6966  "Int64")..    if
+000243a0: 2076 6b72 5f6d 765f 7065 7263 656e 745f   vkr_mv_percent_
+000243b0: 6368 6172 6163 7465 7269 7374 6963 2069  characteristic i
+000243c0: 7320 6e6f 7420 4e6f 6e65 3a0d 0a20 2020  s not None:..   
+000243d0: 2020 2020 205f 6164 645f 7365 7269 6573       _add_series
+000243e0: 5f74 6f5f 656e 7472 6965 7328 656e 7472  _to_entries(entr
+000243f0: 6965 732c 2069 6e64 6578 2c20 2276 6b72  ies, index, "vkr
+00024400: 5f6d 765f 7065 7263 656e 745f 6368 6172  _mv_percent_char
+00024410: 6163 7465 7269 7374 6963 222c 2076 6b72  acteristic", vkr
+00024420: 5f6d 765f 7065 7263 656e 745f 6368 6172  _mv_percent_char
+00024430: 6163 7465 7269 7374 6963 2c20 2249 6e74  acteristic, "Int
+00024440: 3634 2229 0d0a 2020 2020 6966 2076 6b5f  64")..    if vk_
+00024450: 6c76 5f70 6572 6365 6e74 5f63 6861 7261  lv_percent_chara
+00024460: 6374 6572 6973 7469 6320 6973 206e 6f74  cteristic is not
+00024470: 204e 6f6e 653a 0d0a 2020 2020 2020 2020   None:..        
+00024480: 5f61 6464 5f73 6572 6965 735f 746f 5f65  _add_series_to_e
+00024490: 6e74 7269 6573 2865 6e74 7269 6573 2c20  ntries(entries, 
+000244a0: 696e 6465 782c 2022 766b 5f6c 765f 7065  index, "vk_lv_pe
+000244b0: 7263 656e 745f 6368 6172 6163 7465 7269  rcent_characteri
+000244c0: 7374 6963 222c 2076 6b5f 6c76 5f70 6572  stic", vk_lv_per
+000244d0: 6365 6e74 5f63 6861 7261 6374 6572 6973  cent_characteris
+000244e0: 7469 632c 2022 496e 7436 3422 290d 0a20  tic, "Int64").. 
+000244f0: 2020 2069 6620 766b 725f 6c76 5f70 6572     if vkr_lv_per
+00024500: 6365 6e74 5f63 6861 7261 6374 6572 6973  cent_characteris
+00024510: 7469 6320 6973 206e 6f74 204e 6f6e 653a  tic is not None:
+00024520: 0d0a 2020 2020 2020 2020 5f61 6464 5f73  ..        _add_s
+00024530: 6572 6965 735f 746f 5f65 6e74 7269 6573  eries_to_entries
+00024540: 2865 6e74 7269 6573 2c20 696e 6465 782c  (entries, index,
+00024550: 2022 766b 725f 6c76 5f70 6572 6365 6e74   "vkr_lv_percent
+00024560: 5f63 6861 7261 6374 6572 6973 7469 6322  _characteristic"
+00024570: 2c20 766b 725f 6c76 5f70 6572 6365 6e74  , vkr_lv_percent
+00024580: 5f63 6861 7261 6374 6572 6973 7469 632c  _characteristic,
+00024590: 2022 496e 7436 3422 290d 0a0d 0a20 2020   "Int64")....   
+000245a0: 205f 7365 745f 6d75 6c74 6970 6c65 5f65   _set_multiple_e
+000245b0: 6e74 7269 6573 286e 6574 2c20 2274 7261  ntries(net, "tra
+000245c0: 666f 3377 222c 2069 6e64 6578 2c20 2a2a  fo3w", index, **
+000245d0: 656e 7472 6965 732c 202a 2a6b 7761 7267  entries, **kwarg
+000245e0: 7329 0d0a 0d0a 2020 2020 7265 7475 726e  s)....    return
+000245f0: 2069 6e64 6578 0d0a 0d0a 0d0a 6465 6620   index......def 
+00024600: 6372 6561 7465 5f73 7769 7463 6828 6e65  create_switch(ne
+00024610: 742c 2062 7573 2c20 656c 656d 656e 742c  t, bus, element,
+00024620: 2065 742c 2063 6c6f 7365 643d 5472 7565   et, closed=True
+00024630: 2c20 7479 7065 3d4e 6f6e 652c 206e 616d  , type=None, nam
+00024640: 653d 4e6f 6e65 2c20 696e 6465 783d 4e6f  e=None, index=No
+00024650: 6e65 2c20 7a5f 6f68 6d3d 3029 3a0d 0a20  ne, z_ohm=0):.. 
+00024660: 2020 2022 2222 0d0a 2020 2020 4164 6473     """..    Adds
+00024670: 2061 2073 7769 7463 6820 696e 2074 6865   a switch in the
+00024680: 206e 6574 5b22 7377 6974 6368 225d 2074   net["switch"] t
+00024690: 6162 6c65 2e0d 0a0d 0a20 2020 2053 7769  able.....    Swi
+000246a0: 7463 6865 7320 6361 6e20 6265 2065 6974  tches can be eit
+000246b0: 6865 7220 6265 7477 6565 6e20 7477 6f20  her between two 
+000246c0: 6275 7365 7320 2862 7573 2d62 7573 2073  buses (bus-bus s
+000246d0: 7769 7463 6829 206f 7220 6174 2074 6865  witch) or at the
+000246e0: 2065 6e64 206f 6620 6120 6c69 6e65 206f   end of a line o
+000246f0: 7220 7472 616e 7366 6f72 6d65 720d 0a20  r transformer.. 
+00024700: 2020 2065 6c65 6d65 6e74 2028 6275 732d     element (bus-
+00024710: 656c 656d 656e 7420 7377 6974 6368 292e  element switch).
+00024720: 0d0a 0d0a 2020 2020 5477 6f20 6275 7365  ....    Two buse
+00024730: 7320 7468 6174 2061 7265 2063 6f6e 6e65  s that are conne
+00024740: 6374 6564 2074 6872 6f75 6768 2061 2063  cted through a c
+00024750: 6c6f 7365 6420 6275 732d 6275 7320 7377  losed bus-bus sw
+00024760: 6974 6368 6573 2061 7265 2066 7573 6564  itches are fused
+00024770: 2069 6e20 7468 6520 706f 7765 7220 666c   in the power fl
+00024780: 6f77 2069 660d 0a20 2020 2074 6865 2073  ow if..    the s
+00024790: 7769 7463 6820 6973 2063 6c6f 7365 6420  witch is closed 
+000247a0: 6f72 2073 6570 6172 6174 6564 2069 6620  or separated if 
+000247b0: 7468 6520 7377 6974 6368 2069 7320 6f70  the switch is op
+000247c0: 656e 2e0d 0a0d 0a20 2020 2041 6e20 656c  en.....    An el
+000247d0: 656d 656e 7420 7468 6174 2069 7320 636f  ement that is co
+000247e0: 6e6e 6563 7465 6420 746f 2061 2062 7573  nnected to a bus
+000247f0: 2074 6872 6f75 6768 2061 2062 7573 2d65   through a bus-e
+00024800: 6c65 6d65 6e74 2073 7769 7463 6820 6973  lement switch is
+00024810: 2063 6f6e 6e65 6374 6564 2074 6f20 7468   connected to th
+00024820: 6520 6275 730d 0a20 2020 2069 6620 7468  e bus..    if th
+00024830: 6520 7377 6974 6368 2069 7320 636c 6f73  e switch is clos
+00024840: 6564 206f 7220 6469 7363 6f6e 6e65 6374  ed or disconnect
+00024850: 6564 2069 6620 7468 6520 7377 6974 6368  ed if the switch
+00024860: 2069 7320 6f70 656e 2e0d 0a0d 0a20 2020   is open.....   
+00024870: 2049 4e50 5554 3a0d 0a20 2020 2020 2020   INPUT:..       
+00024880: 202a 2a6e 6574 2a2a 2028 7061 6e64 6170   **net** (pandap
+00024890: 6f77 6572 4e65 7429 202d 2054 6865 206e  owerNet) - The n
+000248a0: 6574 2077 6974 6869 6e20 7768 6963 6820  et within which 
+000248b0: 7468 6973 2073 7769 7463 6820 7368 6f75  this switch shou
+000248c0: 6c64 2062 6520 6372 6561 7465 640d 0a0d  ld be created...
+000248d0: 0a20 2020 2020 2020 202a 2a62 7573 2a2a  .        **bus**
+000248e0: 202d 2054 6865 2062 7573 2074 6861 7420   - The bus that 
+000248f0: 7468 6520 7377 6974 6368 2069 7320 636f  the switch is co
+00024900: 6e6e 6563 7465 6420 746f 0d0a 0d0a 2020  nnected to....  
+00024910: 2020 2020 2020 2a2a 656c 656d 656e 742a        **element*
+00024920: 2a20 2d20 696e 6465 7820 6f66 2074 6865  * - index of the
+00024930: 2065 6c65 6d65 6e74 3a20 6275 7320 6964   element: bus id
+00024940: 2069 6620 6574 203d 3d20 2262 222c 206c   if et == "b", l
+00024950: 696e 6520 6964 2069 6620 6574 203d 3d20  ine id if et == 
+00024960: 226c 222c 2074 7261 666f 2069 6420 6966  "l", trafo id if
+00024970: 205c 0d0a 2020 2020 2020 2020 2020 2020   \..            
+00024980: 6574 203d 3d20 2274 220d 0a0d 0a20 2020  et == "t"....   
+00024990: 2020 2020 202a 2a65 742a 2a20 2d20 2873       **et** - (s
+000249a0: 7472 696e 6729 2065 6c65 6d65 6e74 2074  tring) element t
+000249b0: 7970 653a 2022 6c22 203d 2073 7769 7463  ype: "l" = switc
+000249c0: 6820 6265 7477 6565 6e20 6275 7320 616e  h between bus an
+000249d0: 6420 6c69 6e65 2c20 2274 2220 3d20 7377  d line, "t" = sw
+000249e0: 6974 6368 2062 6574 7765 656e 0d0a 2020  itch between..  
+000249f0: 2020 2020 2020 2020 2020 6275 7320 616e            bus an
+00024a00: 6420 7472 616e 7366 6f72 6d65 722c 2022  d transformer, "
+00024a10: 7433 2220 3d20 7377 6974 6368 2062 6574  t3" = switch bet
+00024a20: 7765 656e 2062 7573 2061 6e64 2074 7261  ween bus and tra
+00024a30: 6e73 666f 726d 6572 3377 2c20 2262 2220  nsformer3w, "b" 
+00024a40: 3d20 7377 6974 6368 2062 6574 7765 656e  = switch between
+00024a50: 0d0a 2020 2020 2020 2020 2020 2020 7477  ..            tw
+00024a60: 6f20 6275 7365 730d 0a0d 0a20 2020 204f  o buses....    O
+00024a70: 5054 494f 4e41 4c3a 0d0a 2020 2020 2020  PTIONAL:..      
+00024a80: 2020 2a2a 636c 6f73 6564 2a2a 2028 626f    **closed** (bo
+00024a90: 6f6c 6561 6e2c 2054 7275 6529 202d 2073  olean, True) - s
+00024aa0: 7769 7463 6820 706f 7369 7469 6f6e 3a20  witch position: 
+00024ab0: 4661 6c73 6520 3d20 6f70 656e 2c20 5472  False = open, Tr
+00024ac0: 7565 203d 2063 6c6f 7365 640d 0a0d 0a20  ue = closed.... 
+00024ad0: 2020 2020 2020 202a 2a74 7970 652a 2a20         **type** 
+00024ae0: 2869 6e74 2c20 4e6f 6e65 2920 2d20 696e  (int, None) - in
+00024af0: 6469 6361 7465 7320 7468 6520 7479 7065  dicates the type
+00024b00: 206f 6620 7377 6974 6368 3a20 224c 5322   of switch: "LS"
+00024b10: 203d 204c 6f61 6420 5377 6974 6368 2c20   = Load Switch, 
+00024b20: 2243 4222 203d 205c 0d0a 2020 2020 2020  "CB" = \..      
+00024b30: 2020 2020 2020 4369 7263 7569 7420 4272        Circuit Br
+00024b40: 6561 6b65 722c 2022 4c42 5322 203d 204c  eaker, "LBS" = L
+00024b50: 6f61 6420 4272 6561 6b20 5377 6974 6368  oad Break Switch
+00024b60: 206f 7220 2244 5322 203d 2044 6973 636f   or "DS" = Disco
+00024b70: 6e6e 6563 7469 6e67 2053 7769 7463 680d  nnecting Switch.
+00024b80: 0a0d 0a20 2020 2020 2020 202a 2a7a 5f6f  ...        **z_o
+00024b90: 686d 2a2a 2028 666c 6f61 742c 2030 2920  hm** (float, 0) 
+00024ba0: 2d20 696e 6469 6361 7465 7320 7468 6520  - indicates the 
+00024bb0: 7265 7369 7374 616e 6365 206f 6620 7468  resistance of th
+00024bc0: 6520 7377 6974 6368 2c20 7768 6963 6820  e switch, which 
+00024bd0: 6861 7320 6566 6665 6374 206f 6e6c 7920  has effect only 
+00024be0: 6f6e 0d0a 2020 2020 2020 2020 2020 2020  on..            
+00024bf0: 6275 732d 6275 7320 7377 6974 6368 6573  bus-bus switches
+00024c00: 2c20 6966 2073 6574 7320 746f 2030 2c20  , if sets to 0, 
+00024c10: 7468 6520 6275 7365 7320 7769 6c6c 2062  the buses will b
+00024c20: 6520 6675 7365 6420 6c69 6b65 2062 6566  e fused like bef
+00024c30: 6f72 652c 2069 6620 6c61 7267 6572 2074  ore, if larger t
+00024c40: 6861 6e0d 0a20 2020 2020 2020 2020 2020  han..           
+00024c50: 2030 2061 2062 7261 6e63 6820 7769 6c6c   0 a branch will
+00024c60: 2062 6520 6372 6561 7465 6420 666f 7220   be created for 
+00024c70: 7468 6520 7377 6974 6368 2077 6869 6368  the switch which
+00024c80: 2068 6173 2061 6c73 6f20 6566 6665 6374   has also effect
+00024c90: 7320 6f6e 2074 6865 2062 7573 206d 6170  s on the bus map
+00024ca0: 7069 6e67 0d0a 0d0a 2020 2020 2020 2020  ping....        
+00024cb0: 2a2a 6e61 6d65 2a2a 2028 7374 7269 6e67  **name** (string
+00024cc0: 2c20 6465 6661 756c 7420 4e6f 6e65 2920  , default None) 
+00024cd0: 2d20 5468 6520 6e61 6d65 2066 6f72 2074  - The name for t
+00024ce0: 6869 7320 7377 6974 6368 0d0a 0d0a 2020  his switch....  
+00024cf0: 2020 4f55 5450 5554 3a0d 0a20 2020 2020    OUTPUT:..     
+00024d00: 2020 202a 2a73 6964 2a2a 202d 2054 6865     **sid** - The
+00024d10: 2075 6e69 7175 6520 7377 6974 6368 5f69   unique switch_i
+00024d20: 6420 6f66 2074 6865 2063 7265 6174 6564  d of the created
+00024d30: 2073 7769 7463 680d 0a0d 0a20 2020 2045   switch....    E
+00024d40: 5841 4d50 4c45 3a0d 0a20 2020 2020 2020  XAMPLE:..       
+00024d50: 2063 7265 6174 655f 7377 6974 6368 286e   create_switch(n
+00024d60: 6574 2c20 6275 7320 3d20 2030 2c20 656c  et, bus =  0, el
+00024d70: 656d 656e 7420 3d20 312c 2065 7420 3d20  ement = 1, et = 
+00024d80: 2762 272c 2074 7970 6520 3d22 4c53 222c  'b', type ="LS",
+00024d90: 207a 5f6f 686d 203d 2030 2e31 290d 0a0d   z_ohm = 0.1)...
+00024da0: 0a20 2020 2020 2020 2063 7265 6174 655f  .        create_
+00024db0: 7377 6974 6368 286e 6574 2c20 6275 7320  switch(net, bus 
+00024dc0: 3d20 302c 2065 6c65 6d65 6e74 203d 2031  = 0, element = 1
+00024dd0: 2c20 6574 203d 2027 6c27 290d 0a0d 0a20  , et = 'l').... 
+00024de0: 2020 2022 2222 0d0a 2020 2020 5f63 6865     """..    _che
+00024df0: 636b 5f6e 6f64 655f 656c 656d 656e 7428  ck_node_element(
+00024e00: 6e65 742c 2062 7573 290d 0a20 2020 2069  net, bus)..    i
+00024e10: 6620 6574 203d 3d20 226c 223a 0d0a 2020  f et == "l":..  
+00024e20: 2020 2020 2020 656c 6d5f 7461 6220 3d20        elm_tab = 
+00024e30: 276c 696e 6527 0d0a 2020 2020 2020 2020  'line'..        
+00024e40: 6966 2065 6c65 6d65 6e74 206e 6f74 2069  if element not i
+00024e50: 6e20 6e65 745b 656c 6d5f 7461 625d 2e69  n net[elm_tab].i
+00024e60: 6e64 6578 3a0d 0a20 2020 2020 2020 2020  ndex:..         
+00024e70: 2020 2072 6169 7365 2055 7365 7257 6172     raise UserWar
+00024e80: 6e69 6e67 2822 556e 6b6e 6f77 6e20 6c69  ning("Unknown li
+00024e90: 6e65 2069 6e64 6578 2229 0d0a 2020 2020  ne index")..    
+00024ea0: 2020 2020 6966 2028 6e6f 7420 6e65 745b      if (not net[
+00024eb0: 656c 6d5f 7461 625d 5b22 6672 6f6d 5f62  elm_tab]["from_b
+00024ec0: 7573 225d 2e6c 6f63 5b65 6c65 6d65 6e74  us"].loc[element
+00024ed0: 5d20 3d3d 2062 7573 2061 6e64 0d0a 2020  ] == bus and..  
+00024ee0: 2020 2020 2020 2020 2020 2020 2020 6e6f                no
+00024ef0: 7420 6e65 745b 656c 6d5f 7461 625d 5b22  t net[elm_tab]["
+00024f00: 746f 5f62 7573 225d 2e6c 6f63 5b65 6c65  to_bus"].loc[ele
+00024f10: 6d65 6e74 5d20 3d3d 2062 7573 293a 0d0a  ment] == bus):..
+00024f20: 2020 2020 2020 2020 2020 2020 7261 6973              rais
+00024f30: 6520 5573 6572 5761 726e 696e 6728 224c  e UserWarning("L
+00024f40: 696e 6520 2573 206e 6f74 2063 6f6e 6e65  ine %s not conne
+00024f50: 6374 6564 2074 6f20 6275 7320 2573 2220  cted to bus %s" 
+00024f60: 2520 2865 6c65 6d65 6e74 2c20 6275 7329  % (element, bus)
+00024f70: 290d 0a20 2020 2065 6c69 6620 6574 203d  )..    elif et =
+00024f80: 3d20 2274 223a 0d0a 2020 2020 2020 2020  = "t":..        
+00024f90: 656c 6d5f 7461 6220 3d20 2774 7261 666f  elm_tab = 'trafo
+00024fa0: 270d 0a20 2020 2020 2020 2069 6620 656c  '..        if el
+00024fb0: 656d 656e 7420 6e6f 7420 696e 206e 6574  ement not in net
+00024fc0: 5b65 6c6d 5f74 6162 5d2e 696e 6465 783a  [elm_tab].index:
+00024fd0: 0d0a 2020 2020 2020 2020 2020 2020 7261  ..            ra
+00024fe0: 6973 6520 5573 6572 5761 726e 696e 6728  ise UserWarning(
+00024ff0: 2255 6e6b 6e6f 776e 2062 7573 2069 6e64  "Unknown bus ind
+00025000: 6578 2229 0d0a 2020 2020 2020 2020 6966  ex")..        if
+00025010: 2028 6e6f 7420 6e65 745b 656c 6d5f 7461   (not net[elm_ta
+00025020: 625d 5b22 6876 5f62 7573 225d 2e6c 6f63  b]["hv_bus"].loc
+00025030: 5b65 6c65 6d65 6e74 5d20 3d3d 2062 7573  [element] == bus
+00025040: 2061 6e64 0d0a 2020 2020 2020 2020 2020   and..          
+00025050: 2020 2020 2020 6e6f 7420 6e65 745b 656c        not net[el
+00025060: 6d5f 7461 625d 5b22 6c76 5f62 7573 225d  m_tab]["lv_bus"]
+00025070: 2e6c 6f63 5b65 6c65 6d65 6e74 5d20 3d3d  .loc[element] ==
+00025080: 2062 7573 293a 0d0a 2020 2020 2020 2020   bus):..        
+00025090: 2020 2020 7261 6973 6520 5573 6572 5761      raise UserWa
+000250a0: 726e 696e 6728 2254 7261 666f 2025 7320  rning("Trafo %s 
+000250b0: 6e6f 7420 636f 6e6e 6563 7465 6420 746f  not connected to
+000250c0: 2062 7573 2025 7322 2025 2028 656c 656d   bus %s" % (elem
+000250d0: 656e 742c 2062 7573 2929 0d0a 2020 2020  ent, bus))..    
+000250e0: 656c 6966 2065 7420 3d3d 2022 7433 223a  elif et == "t3":
+000250f0: 0d0a 2020 2020 2020 2020 656c 6d5f 7461  ..        elm_ta
+00025100: 6220 3d20 2774 7261 666f 3377 270d 0a20  b = 'trafo3w'.. 
+00025110: 2020 2020 2020 2069 6620 656c 656d 656e         if elemen
+00025120: 7420 6e6f 7420 696e 206e 6574 5b65 6c6d  t not in net[elm
+00025130: 5f74 6162 5d2e 696e 6465 783a 0d0a 2020  _tab].index:..  
+00025140: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
+00025150: 5573 6572 5761 726e 696e 6728 2255 6e6b  UserWarning("Unk
+00025160: 6e6f 776e 2074 7261 666f 3377 2069 6e64  nown trafo3w ind
+00025170: 6578 2229 0d0a 2020 2020 2020 2020 6966  ex")..        if
+00025180: 2028 6e6f 7420 6e65 745b 656c 6d5f 7461   (not net[elm_ta
+00025190: 625d 5b22 6876 5f62 7573 225d 2e6c 6f63  b]["hv_bus"].loc
+000251a0: 5b65 6c65 6d65 6e74 5d20 3d3d 2062 7573  [element] == bus
+000251b0: 2061 6e64 0d0a 2020 2020 2020 2020 2020   and..          
+000251c0: 2020 2020 2020 6e6f 7420 6e65 745b 656c        not net[el
+000251d0: 6d5f 7461 625d 5b22 6d76 5f62 7573 225d  m_tab]["mv_bus"]
+000251e0: 2e6c 6f63 5b65 6c65 6d65 6e74 5d20 3d3d  .loc[element] ==
+000251f0: 2062 7573 2061 6e64 0d0a 2020 2020 2020   bus and..      
+00025200: 2020 2020 2020 2020 2020 6e6f 7420 6e65            not ne
+00025210: 745b 656c 6d5f 7461 625d 5b22 6c76 5f62  t[elm_tab]["lv_b
+00025220: 7573 225d 2e6c 6f63 5b65 6c65 6d65 6e74  us"].loc[element
+00025230: 5d20 3d3d 2062 7573 293a 0d0a 2020 2020  ] == bus):..    
+00025240: 2020 2020 2020 2020 7261 6973 6520 5573          raise Us
+00025250: 6572 5761 726e 696e 6728 2254 7261 666f  erWarning("Trafo
+00025260: 3377 2025 7320 6e6f 7420 636f 6e6e 6563  3w %s not connec
+00025270: 7465 6420 746f 2062 7573 2025 7322 2025  ted to bus %s" %
+00025280: 2028 656c 656d 656e 742c 2062 7573 2929   (element, bus))
+00025290: 0d0a 2020 2020 656c 6966 2065 7420 3d3d  ..    elif et ==
+000252a0: 2022 6222 3a0d 0a20 2020 2020 2020 205f   "b":..        _
+000252b0: 6368 6563 6b5f 6e6f 6465 5f65 6c65 6d65  check_node_eleme
+000252c0: 6e74 286e 6574 2c20 656c 656d 656e 7429  nt(net, element)
+000252d0: 0d0a 2020 2020 656c 7365 3a0d 0a20 2020  ..    else:..   
+000252e0: 2020 2020 2072 6169 7365 2055 7365 7257       raise UserW
+000252f0: 6172 6e69 6e67 2822 556e 6b6e 6f77 6e20  arning("Unknown 
+00025300: 656c 656d 656e 7420 7479 7065 2229 0d0a  element type")..
+00025310: 0d0a 2020 2020 696e 6465 7820 3d20 5f67  ..    index = _g
+00025320: 6574 5f69 6e64 6578 5f77 6974 685f 6368  et_index_with_ch
+00025330: 6563 6b28 6e65 742c 2022 7377 6974 6368  eck(net, "switch
+00025340: 222c 2069 6e64 6578 290d 0a0d 0a20 2020  ", index)....   
+00025350: 2065 6e74 7269 6573 203d 2064 6963 7428   entries = dict(
+00025360: 7a69 7028 5b22 6275 7322 2c20 2265 6c65  zip(["bus", "ele
+00025370: 6d65 6e74 222c 2022 6574 222c 2022 636c  ment", "et", "cl
+00025380: 6f73 6564 222c 2022 7479 7065 222c 2022  osed", "type", "
+00025390: 6e61 6d65 222c 2022 7a5f 6f68 6d22 5d2c  name", "z_ohm"],
+000253a0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+000253b0: 2020 2020 2020 2020 205b 6275 732c 2065           [bus, e
+000253c0: 6c65 6d65 6e74 2c20 6574 2c20 636c 6f73  lement, et, clos
+000253d0: 6564 2c20 7479 7065 2c20 6e61 6d65 2c20  ed, type, name, 
+000253e0: 7a5f 6f68 6d5d 2929 0d0a 2020 2020 5f73  z_ohm]))..    _s
+000253f0: 6574 5f65 6e74 7269 6573 286e 6574 2c20  et_entries(net, 
+00025400: 2273 7769 7463 6822 2c20 696e 6465 782c  "switch", index,
+00025410: 202a 2a65 6e74 7269 6573 290d 0a0d 0a20   **entries).... 
+00025420: 2020 2072 6574 7572 6e20 696e 6465 780d     return index.
+00025430: 0a0d 0a0d 0a64 6566 2063 7265 6174 655f  .....def create_
+00025440: 7377 6974 6368 6573 286e 6574 2c20 6275  switches(net, bu
+00025450: 7365 732c 2065 6c65 6d65 6e74 732c 2065  ses, elements, e
+00025460: 742c 2063 6c6f 7365 643d 5472 7565 2c20  t, closed=True, 
+00025470: 7479 7065 3d4e 6f6e 652c 206e 616d 653d  type=None, name=
+00025480: 4e6f 6e65 2c20 696e 6465 783d 4e6f 6e65  None, index=None
+00025490: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
+000254a0: 2020 2020 2020 207a 5f6f 686d 3d30 2c20         z_ohm=0, 
+000254b0: 2a2a 6b77 6172 6773 293a 0d0a 2020 2020  **kwargs):..    
+000254c0: 2222 220d 0a20 2020 2041 6464 7320 6120  """..    Adds a 
+000254d0: 7377 6974 6368 2069 6e20 7468 6520 6e65  switch in the ne
+000254e0: 745b 2273 7769 7463 6822 5d20 7461 626c  t["switch"] tabl
+000254f0: 652e 0d0a 0d0a 2020 2020 5377 6974 6368  e.....    Switch
+00025500: 6573 2063 616e 2062 6520 6569 7468 6572  es can be either
+00025510: 2062 6574 7765 656e 2074 776f 2062 7573   between two bus
+00025520: 6573 2028 6275 732d 6275 7320 7377 6974  es (bus-bus swit
+00025530: 6368 2920 6f72 2061 7420 7468 6520 656e  ch) or at the en
+00025540: 6420 6f66 2061 206c 696e 6520 6f72 2074  d of a line or t
+00025550: 7261 6e73 666f 726d 6572 0d0a 2020 2020  ransformer..    
+00025560: 656c 656d 656e 7420 2862 7573 2d65 6c65  element (bus-ele
+00025570: 6d65 6e74 2073 7769 7463 6829 2e0d 0a0d  ment switch)....
+00025580: 0a20 2020 2054 776f 2062 7573 6573 2074  .    Two buses t
+00025590: 6861 7420 6172 6520 636f 6e6e 6563 7465  hat are connecte
+000255a0: 6420 7468 726f 7567 6820 6120 636c 6f73  d through a clos
+000255b0: 6564 2062 7573 2d62 7573 2073 7769 7463  ed bus-bus switc
+000255c0: 6865 7320 6172 6520 6675 7365 6420 696e  hes are fused in
+000255d0: 2074 6865 2070 6f77 6572 2066 6c6f 7720   the power flow 
+000255e0: 6966 0d0a 2020 2020 7468 6520 7377 6974  if..    the swit
+000255f0: 6368 2069 7320 636c 6f73 6564 206f 7220  ch is closed or 
+00025600: 7365 7061 7261 7465 6420 6966 2074 6865  separated if the
+00025610: 2073 7769 7463 6820 6973 206f 7065 6e2e   switch is open.
+00025620: 0d0a 0d0a 2020 2020 416e 2065 6c65 6d65  ....    An eleme
+00025630: 6e74 2074 6861 7420 6973 2063 6f6e 6e65  nt that is conne
+00025640: 6374 6564 2074 6f20 6120 6275 7320 7468  cted to a bus th
+00025650: 726f 7567 6820 6120 6275 732d 656c 656d  rough a bus-elem
+00025660: 656e 7420 7377 6974 6368 2069 7320 636f  ent switch is co
+00025670: 6e6e 6563 7465 6420 746f 2074 6865 2062  nnected to the b
+00025680: 7573 0d0a 2020 2020 6966 2074 6865 2073  us..    if the s
+00025690: 7769 7463 6820 6973 2063 6c6f 7365 6420  witch is closed 
+000256a0: 6f72 2064 6973 636f 6e6e 6563 7465 6420  or disconnected 
+000256b0: 6966 2074 6865 2073 7769 7463 6820 6973  if the switch is
+000256c0: 206f 7065 6e2e 0d0a 0d0a 2020 2020 494e   open.....    IN
+000256d0: 5055 543a 0d0a 2020 2020 2020 2020 2a2a  PUT:..        **
+000256e0: 6e65 742a 2a20 2870 616e 6461 706f 7765  net** (pandapowe
+000256f0: 724e 6574 2920 2d20 5468 6520 6e65 7420  rNet) - The net 
+00025700: 7769 7468 696e 2077 6869 6368 2074 6869  within which thi
+00025710: 7320 7377 6974 6368 2073 686f 756c 6420  s switch should 
+00025720: 6265 2063 7265 6174 6564 0d0a 0d0a 2020  be created....  
+00025730: 2020 2020 2020 2a2a 6275 7365 732a 2a20        **buses** 
+00025740: 286c 6973 7429 2d20 5468 6520 6275 7320  (list)- The bus 
+00025750: 7468 6174 2074 6865 2073 7769 7463 6820  that the switch 
+00025760: 6973 2063 6f6e 6e65 6374 6564 2074 6f0d  is connected to.
+00025770: 0a0d 0a20 2020 2020 2020 202a 2a65 6c65  ...        **ele
+00025780: 6d65 6e74 2a2a 2028 6c69 7374 292d 2069  ment** (list)- i
+00025790: 6e64 6578 206f 6620 7468 6520 656c 656d  ndex of the elem
+000257a0: 656e 743a 2062 7573 2069 6420 6966 2065  ent: bus id if e
+000257b0: 7420 3d3d 2022 6222 2c20 6c69 6e65 2069  t == "b", line i
+000257c0: 6420 6966 2065 7420 3d3d 2022 6c22 2c20  d if et == "l", 
+000257d0: 5c0d 0a20 2020 2020 2020 2020 2020 2074  \..            t
+000257e0: 7261 666f 2069 6420 6966 2065 7420 3d3d  rafo id if et ==
+000257f0: 2022 7422 0d0a 0d0a 2020 2020 2020 2020   "t"....        
+00025800: 2a2a 6574 2a2a 202d 2028 6c69 7374 2920  **et** - (list) 
+00025810: 656c 656d 656e 7420 7479 7065 3a20 226c  element type: "l
+00025820: 2220 3d20 7377 6974 6368 2062 6574 7765  " = switch betwe
+00025830: 656e 2062 7573 2061 6e64 206c 696e 652c  en bus and line,
+00025840: 2022 7422 203d 2073 7769 7463 6820 6265   "t" = switch be
+00025850: 7477 6565 6e0d 0a20 2020 2020 2020 2020  tween..         
+00025860: 2020 2062 7573 2061 6e64 2074 7261 6e73     bus and trans
+00025870: 666f 726d 6572 2c20 2274 3322 203d 2073  former, "t3" = s
+00025880: 7769 7463 6820 6265 7477 6565 6e20 6275  witch between bu
+00025890: 7320 616e 6420 7472 616e 7366 6f72 6d65  s and transforme
+000258a0: 7233 772c 2022 6222 203d 2073 7769 7463  r3w, "b" = switc
+000258b0: 6820 6265 7477 6565 6e0d 0a20 2020 2020  h between..     
+000258c0: 2020 2020 2020 2074 776f 2062 7573 6573         two buses
+000258d0: 0d0a 0d0a 2020 2020 4f50 5449 4f4e 414c  ....    OPTIONAL
+000258e0: 3a0d 0a20 2020 2020 2020 202a 2a63 6c6f  :..        **clo
+000258f0: 7365 642a 2a20 2862 6f6f 6c65 616e 2c20  sed** (boolean, 
+00025900: 5472 7565 2920 2d20 7377 6974 6368 2070  True) - switch p
+00025910: 6f73 6974 696f 6e3a 2046 616c 7365 203d  osition: False =
+00025920: 206f 7065 6e2c 2054 7275 6520 3d20 636c   open, True = cl
+00025930: 6f73 6564 0d0a 0d0a 2020 2020 2020 2020  osed....        
+00025940: 2a2a 7479 7065 2a2a 2028 696e 742c 204e  **type** (int, N
+00025950: 6f6e 6529 202d 2069 6e64 6963 6174 6573  one) - indicates
+00025960: 2074 6865 2074 7970 6520 6f66 2073 7769   the type of swi
+00025970: 7463 683a 2022 4c53 2220 3d20 4c6f 6164  tch: "LS" = Load
+00025980: 2053 7769 7463 682c 2022 4342 2220 3d20   Switch, "CB" = 
+00025990: 5c0d 0a20 2020 2020 2020 2020 2020 2043  \..            C
+000259a0: 6972 6375 6974 2042 7265 616b 6572 2c20  ircuit Breaker, 
+000259b0: 224c 4253 2220 3d20 4c6f 6164 2042 7265  "LBS" = Load Bre
+000259c0: 616b 2053 7769 7463 6820 6f72 2022 4453  ak Switch or "DS
+000259d0: 2220 3d20 4469 7363 6f6e 6e65 6374 696e  " = Disconnectin
+000259e0: 6720 5377 6974 6368 0d0a 0d0a 2020 2020  g Switch....    
+000259f0: 2020 2020 2a2a 7a5f 6f68 6d2a 2a20 2866      **z_ohm** (f
+00025a00: 6c6f 6174 2c20 3029 202d 2069 6e64 6963  loat, 0) - indic
+00025a10: 6174 6573 2074 6865 2072 6573 6973 7461  ates the resista
+00025a20: 6e63 6520 6f66 2074 6865 2073 7769 7463  nce of the switc
+00025a30: 682c 2077 6869 6368 2068 6173 2065 6666  h, which has eff
+00025a40: 6563 7420 6f6e 6c79 206f 6e0d 0a20 2020  ect only on..   
+00025a50: 2020 2020 2020 2020 2062 7573 2d62 7573           bus-bus
+00025a60: 2073 7769 7463 6865 732c 2069 6620 7365   switches, if se
+00025a70: 7473 2074 6f20 302c 2074 6865 2062 7573  ts to 0, the bus
+00025a80: 6573 2077 696c 6c20 6265 2066 7573 6564  es will be fused
+00025a90: 206c 696b 6520 6265 666f 7265 2c20 6966   like before, if
+00025aa0: 206c 6172 6765 7220 7468 616e 0d0a 2020   larger than..  
+00025ab0: 2020 2020 2020 2020 2020 3020 6120 6272            0 a br
+00025ac0: 616e 6368 2077 696c 6c20 6265 2063 7265  anch will be cre
+00025ad0: 6174 6564 2066 6f72 2074 6865 2073 7769  ated for the swi
+00025ae0: 7463 6820 7768 6963 6820 6861 7320 616c  tch which has al
+00025af0: 736f 2065 6666 6563 7473 206f 6e20 7468  so effects on th
+00025b00: 6520 6275 7320 6d61 7070 696e 670d 0a0d  e bus mapping...
+00025b10: 0a20 2020 2020 2020 202a 2a6e 616d 652a  .        **name*
+00025b20: 2a20 2873 7472 696e 672c 2064 6566 6175  * (string, defau
+00025b30: 6c74 204e 6f6e 6529 202d 2054 6865 206e  lt None) - The n
+00025b40: 616d 6520 666f 7220 7468 6973 2073 7769  ame for this swi
+00025b50: 7463 680d 0a0d 0a20 2020 204f 5554 5055  tch....    OUTPU
+00025b60: 543a 0d0a 2020 2020 2020 2020 2a2a 7369  T:..        **si
+00025b70: 642a 2a20 2d20 5468 6520 756e 6971 7565  d** - The unique
+00025b80: 2073 7769 7463 685f 6964 206f 6620 7468   switch_id of th
+00025b90: 6520 6372 6561 7465 6420 7377 6974 6368  e created switch
+00025ba0: 0d0a 0d0a 2020 2020 4558 414d 504c 453a  ....    EXAMPLE:
+00025bb0: 0d0a 2020 2020 2020 2020 6372 6561 7465  ..        create
+00025bc0: 5f73 7769 7463 6828 6e65 742c 2062 7573  _switch(net, bus
+00025bd0: 203d 2020 302c 2065 6c65 6d65 6e74 203d   =  0, element =
+00025be0: 2031 2c20 6574 203d 2027 6227 2c20 7479   1, et = 'b', ty
+00025bf0: 7065 203d 224c 5322 2c20 7a5f 6f68 6d20  pe ="LS", z_ohm 
+00025c00: 3d20 302e 3129 0d0a 0d0a 2020 2020 2020  = 0.1)....      
+00025c10: 2020 6372 6561 7465 5f73 7769 7463 6828    create_switch(
+00025c20: 6e65 742c 2062 7573 203d 2030 2c20 656c  net, bus = 0, el
+00025c30: 656d 656e 7420 3d20 312c 2065 7420 3d20  ement = 1, et = 
+00025c40: 276c 2729 0d0a 0d0a 2020 2020 2222 220d  'l')....    """.
+00025c50: 0a20 2020 2069 6e64 6578 203d 205f 6765  .    index = _ge
+00025c60: 745f 6d75 6c74 6970 6c65 5f69 6e64 6578  t_multiple_index
+00025c70: 5f77 6974 685f 6368 6563 6b28 6e65 742c  _with_check(net,
+00025c80: 2022 7377 6974 6368 222c 2069 6e64 6578   "switch", index
+00025c90: 2c20 6c65 6e28 6275 7365 7329 2c20 6e61  , len(buses), na
+00025ca0: 6d65 3d22 5377 6974 6368 6573 2229 0d0a  me="Switches")..
+00025cb0: 2020 2020 5f63 6865 636b 5f6d 756c 7469      _check_multi
+00025cc0: 706c 655f 6e6f 6465 5f65 6c65 6d65 6e74  ple_node_element
+00025cd0: 7328 6e65 742c 2062 7573 6573 290d 0a0d  s(net, buses)...
+00025ce0: 0a20 2020 2066 6f72 2065 6c65 6d65 6e74  .    for element
+00025cf0: 2c20 656c 6d5f 7479 7065 2c20 6275 7320  , elm_type, bus 
+00025d00: 696e 207a 6970 2865 6c65 6d65 6e74 732c  in zip(elements,
+00025d10: 2065 742c 2062 7573 6573 293a 0d0a 2020   et, buses):..  
+00025d20: 2020 2020 2020 6966 2065 6c6d 5f74 7970        if elm_typ
+00025d30: 6520 3d3d 2022 6c22 3a0d 0a20 2020 2020  e == "l":..     
+00025d40: 2020 2020 2020 2065 6c6d 5f74 6162 203d         elm_tab =
+00025d50: 2027 6c69 6e65 270d 0a20 2020 2020 2020   'line'..       
+00025d60: 2020 2020 2069 6620 656c 656d 656e 7420       if element 
+00025d70: 6e6f 7420 696e 206e 6574 5b65 6c6d 5f74  not in net[elm_t
+00025d80: 6162 5d2e 696e 6465 783a 0d0a 2020 2020  ab].index:..    
+00025d90: 2020 2020 2020 2020 2020 2020 7261 6973              rais
+00025da0: 6520 5573 6572 5761 726e 696e 6728 224c  e UserWarning("L
+00025db0: 696e 6520 2573 2064 6f65 7320 6e6f 7420  ine %s does not 
+00025dc0: 6578 6973 7422 2025 2065 6c65 6d65 6e74  exist" % element
+00025dd0: 290d 0a20 2020 2020 2020 2020 2020 2069  )..            i
+00025de0: 6620 286e 6f74 206e 6574 5b65 6c6d 5f74  f (not net[elm_t
+00025df0: 6162 5d5b 2266 726f 6d5f 6275 7322 5d2e  ab]["from_bus"].
+00025e00: 6c6f 635b 656c 656d 656e 745d 203d 3d20  loc[element] == 
+00025e10: 6275 7320 616e 640d 0a20 2020 2020 2020  bus and..       
+00025e20: 2020 2020 2020 2020 2020 2020 206e 6f74               not
+00025e30: 206e 6574 5b65 6c6d 5f74 6162 5d5b 2274   net[elm_tab]["t
+00025e40: 6f5f 6275 7322 5d2e 6c6f 635b 656c 656d  o_bus"].loc[elem
+00025e50: 656e 745d 203d 3d20 6275 7329 3a0d 0a20  ent] == bus):.. 
+00025e60: 2020 2020 2020 2020 2020 2020 2020 2072                 r
+00025e70: 6169 7365 2055 7365 7257 6172 6e69 6e67  aise UserWarning
+00025e80: 2822 4c69 6e65 2025 7320 6e6f 7420 636f  ("Line %s not co
+00025e90: 6e6e 6563 7465 6420 746f 2062 7573 2025  nnected to bus %
+00025ea0: 7322 2025 2028 656c 656d 656e 742c 2062  s" % (element, b
+00025eb0: 7573 2929 0d0a 2020 2020 2020 2020 656c  us))..        el
+00025ec0: 6966 2065 6c6d 5f74 7970 6520 3d3d 2022  if elm_type == "
+00025ed0: 7422 3a0d 0a20 2020 2020 2020 2020 2020  t":..           
+00025ee0: 2065 6c6d 5f74 6162 203d 2027 7472 6166   elm_tab = 'traf
+00025ef0: 6f27 0d0a 2020 2020 2020 2020 2020 2020  o'..            
+00025f00: 6966 2065 6c65 6d65 6e74 206e 6f74 2069  if element not i
+00025f10: 6e20 6e65 745b 656c 6d5f 7461 625d 2e69  n net[elm_tab].i
+00025f20: 6e64 6578 3a0d 0a20 2020 2020 2020 2020  ndex:..         
+00025f30: 2020 2020 2020 2072 6169 7365 2055 7365         raise Use
+00025f40: 7257 6172 6e69 6e67 2822 5472 6166 6f20  rWarning("Trafo 
+00025f50: 2573 2064 6f65 7320 6e6f 7420 6578 6973  %s does not exis
+00025f60: 7422 2025 2065 6c65 6d65 6e74 290d 0a20  t" % element).. 
+00025f70: 2020 2020 2020 2020 2020 2069 6620 286e             if (n
+00025f80: 6f74 206e 6574 5b65 6c6d 5f74 6162 5d5b  ot net[elm_tab][
+00025f90: 2268 765f 6275 7322 5d2e 6c6f 635b 656c  "hv_bus"].loc[el
+00025fa0: 656d 656e 745d 203d 3d20 6275 7320 616e  ement] == bus an
+00025fb0: 640d 0a20 2020 2020 2020 2020 2020 2020  d..             
+00025fc0: 2020 2020 2020 206e 6f74 206e 6574 5b65         not net[e
+00025fd0: 6c6d 5f74 6162 5d5b 226c 765f 6275 7322  lm_tab]["lv_bus"
+00025fe0: 5d2e 6c6f 635b 656c 656d 656e 745d 203d  ].loc[element] =
+00025ff0: 3d20 6275 7329 3a0d 0a20 2020 2020 2020  = bus):..       
+00026000: 2020 2020 2020 2020 2072 6169 7365 2055           raise U
+00026010: 7365 7257 6172 6e69 6e67 2822 5472 6166  serWarning("Traf
+00026020: 6f20 2573 206e 6f74 2063 6f6e 6e65 6374  o %s not connect
+00026030: 6564 2074 6f20 6275 7320 2573 2220 2520  ed to bus %s" % 
+00026040: 2865 6c65 6d65 6e74 2c20 6275 7329 290d  (element, bus)).
+00026050: 0a20 2020 2020 2020 2065 6c69 6620 656c  .        elif el
+00026060: 6d5f 7479 7065 203d 3d20 2274 3322 3a0d  m_type == "t3":.
+00026070: 0a20 2020 2020 2020 2020 2020 2065 6c6d  .            elm
+00026080: 5f74 6162 203d 2027 7472 6166 6f33 7727  _tab = 'trafo3w'
+00026090: 0d0a 2020 2020 2020 2020 2020 2020 6966  ..            if
+000260a0: 2065 6c65 6d65 6e74 206e 6f74 2069 6e20   element not in 
+000260b0: 6e65 745b 656c 6d5f 7461 625d 2e69 6e64  net[elm_tab].ind
+000260c0: 6578 3a0d 0a20 2020 2020 2020 2020 2020  ex:..           
+000260d0: 2020 2020 2072 6169 7365 2055 7365 7257       raise UserW
+000260e0: 6172 6e69 6e67 2822 5472 6166 6f33 7720  arning("Trafo3w 
+000260f0: 2573 2064 6f65 7320 6e6f 7420 6578 6973  %s does not exis
+00026100: 7422 2025 2065 6c65 6d65 6e74 290d 0a20  t" % element).. 
+00026110: 2020 2020 2020 2020 2020 2069 6620 286e             if (n
+00026120: 6f74 206e 6574 5b65 6c6d 5f74 6162 5d5b  ot net[elm_tab][
+00026130: 2268 765f 6275 7322 5d2e 6c6f 635b 656c  "hv_bus"].loc[el
+00026140: 656d 656e 745d 203d 3d20 6275 7320 616e  ement] == bus an
+00026150: 640d 0a20 2020 2020 2020 2020 2020 2020  d..             
+00026160: 2020 2020 2020 206e 6f74 206e 6574 5b65         not net[e
+00026170: 6c6d 5f74 6162 5d5b 226d 765f 6275 7322  lm_tab]["mv_bus"
+00026180: 5d2e 6c6f 635b 656c 656d 656e 745d 203d  ].loc[element] =
+00026190: 3d20 6275 7320 616e 640d 0a20 2020 2020  = bus and..     
+000261a0: 2020 2020 2020 2020 2020 2020 2020 206e                 n
+000261b0: 6f74 206e 6574 5b65 6c6d 5f74 6162 5d5b  ot net[elm_tab][
+000261c0: 226c 765f 6275 7322 5d2e 6c6f 635b 656c  "lv_bus"].loc[el
+000261d0: 656d 656e 745d 203d 3d20 6275 7329 3a0d  ement] == bus):.
+000261e0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000261f0: 2072 6169 7365 2055 7365 7257 6172 6e69   raise UserWarni
+00026200: 6e67 2822 5472 6166 6f33 7720 2573 206e  ng("Trafo3w %s n
+00026210: 6f74 2063 6f6e 6e65 6374 6564 2074 6f20  ot connected to 
+00026220: 6275 7320 2573 2220 2520 2865 6c65 6d65  bus %s" % (eleme
+00026230: 6e74 2c20 6275 7329 290d 0a20 2020 2020  nt, bus))..     
+00026240: 2020 2065 6c69 6620 656c 6d5f 7479 7065     elif elm_type
+00026250: 203d 3d20 2262 223a 0d0a 2020 2020 2020   == "b":..      
+00026260: 2020 2020 2020 5f63 6865 636b 5f6e 6f64        _check_nod
+00026270: 655f 656c 656d 656e 7428 6e65 742c 2065  e_element(net, e
+00026280: 6c65 6d65 6e74 290d 0a20 2020 2020 2020  lement)..       
+00026290: 2065 6c73 653a 0d0a 2020 2020 2020 2020   else:..        
+000262a0: 2020 2020 7261 6973 6520 5573 6572 5761      raise UserWa
+000262b0: 726e 696e 6728 2255 6e6b 6e6f 776e 2065  rning("Unknown e
+000262c0: 6c65 6d65 6e74 2074 7970 6522 290d 0a0d  lement type")...
+000262d0: 0a20 2020 2065 6e74 7269 6573 203d 207b  .    entries = {
+000262e0: 2262 7573 223a 2062 7573 6573 2c20 2265  "bus": buses, "e
+000262f0: 6c65 6d65 6e74 223a 2065 6c65 6d65 6e74  lement": element
+00026300: 732c 2022 6574 223a 2065 742c 2022 636c  s, "et": et, "cl
+00026310: 6f73 6564 223a 2063 6c6f 7365 642c 2022  osed": closed, "
+00026320: 7479 7065 223a 2074 7970 652c 0d0a 2020  type": type,..  
+00026330: 2020 2020 2020 2020 2020 2020 2022 6e61               "na
+00026340: 6d65 223a 206e 616d 652c 2022 7a5f 6f68  me": name, "z_oh
+00026350: 6d22 3a20 7a5f 6f68 6d7d 0d0a 0d0a 2020  m": z_ohm}....  
+00026360: 2020 5f73 6574 5f6d 756c 7469 706c 655f    _set_multiple_
+00026370: 656e 7472 6965 7328 6e65 742c 2022 7377  entries(net, "sw
+00026380: 6974 6368 222c 2069 6e64 6578 2c20 2a2a  itch", index, **
+00026390: 656e 7472 6965 732c 202a 2a6b 7761 7267  entries, **kwarg
+000263a0: 7329 0d0a 0d0a 2020 2020 7265 7475 726e  s)....    return
+000263b0: 2069 6e64 6578 0d0a 0d0a 0d0a 6465 6620   index......def 
+000263c0: 6372 6561 7465 5f73 6875 6e74 286e 6574  create_shunt(net
+000263d0: 2c20 6275 732c 2071 5f6d 7661 722c 2070  , bus, q_mvar, p
+000263e0: 5f6d 773d 302e 2c20 766e 5f6b 763d 4e6f  _mw=0., vn_kv=No
+000263f0: 6e65 2c20 7374 6570 3d31 2c20 6d61 785f  ne, step=1, max_
+00026400: 7374 6570 3d31 2c20 6e61 6d65 3d4e 6f6e  step=1, name=Non
+00026410: 652c 0d0a 2020 2020 2020 2020 2020 2020  e,..            
+00026420: 2020 2020 2069 6e5f 7365 7276 6963 653d       in_service=
+00026430: 5472 7565 2c20 696e 6465 783d 4e6f 6e65  True, index=None
+00026440: 293a 0d0a 2020 2020 2222 220d 0a20 2020  ):..    """..   
+00026450: 2043 7265 6174 6573 2061 2073 6875 6e74   Creates a shunt
+00026460: 2065 6c65 6d65 6e74 0d0a 0d0a 2020 2020   element....    
+00026470: 494e 5055 543a 0d0a 2020 2020 2020 2020  INPUT:..        
+00026480: 2a2a 6e65 742a 2a20 2870 616e 6461 706f  **net** (pandapo
+00026490: 7765 724e 6574 2920 2d20 5468 6520 7061  werNet) - The pa
+000264a0: 6e64 6170 6f77 6572 206e 6574 776f 726b  ndapower network
+000264b0: 2069 6e20 7768 6963 6820 7468 6520 656c   in which the el
+000264c0: 656d 656e 7420 6973 2063 7265 6174 6564  ement is created
+000264d0: 0d0a 0d0a 2020 2020 2020 2020 2a2a 6275  ....        **bu
+000264e0: 732a 2a20 2d20 6275 7320 6e75 6d62 6572  s** - bus number
+000264f0: 206f 6620 6275 7320 746f 2077 686f 6d20   of bus to whom 
+00026500: 7468 6520 7368 756e 7420 6973 2063 6f6e  the shunt is con
+00026510: 6e65 6374 6564 2074 6f0d 0a0d 0a20 2020  nected to....   
+00026520: 2020 2020 202a 2a70 5f6d 772a 2a20 2d20       **p_mw** - 
+00026530: 7368 756e 7420 6163 7469 7665 2070 6f77  shunt active pow
+00026540: 6572 2069 6e20 4d57 2061 7420 763d 2031  er in MW at v= 1
+00026550: 2e30 2070 2e75 2e0d 0a0d 0a20 2020 2020  .0 p.u.....     
+00026560: 2020 202a 2a71 5f6d 7661 722a 2a20 2d20     **q_mvar** - 
+00026570: 7368 756e 7420 7375 7363 6570 7461 6e63  shunt susceptanc
+00026580: 6520 696e 204d 5641 7220 6174 2076 3d20  e in MVAr at v= 
+00026590: 312e 3020 702e 752e 0d0a 0d0a 2020 2020  1.0 p.u.....    
+000265a0: 4f50 5449 4f4e 414c 3a0d 0a20 2020 2020  OPTIONAL:..     
+000265b0: 2020 202a 2a76 6e5f 6b76 2a2a 2028 666c     **vn_kv** (fl
+000265c0: 6f61 742c 204e 6f6e 6529 202d 2072 6174  oat, None) - rat
+000265d0: 6564 2076 6f6c 7461 6765 206f 6620 7468  ed voltage of th
+000265e0: 6520 7368 756e 742e 2044 6566 6175 6c74  e shunt. Default
+000265f0: 7320 746f 2072 6174 6564 2076 6f6c 7461  s to rated volta
+00026600: 6765 206f 6620 5c0d 0a20 2020 2020 2020  ge of \..       
+00026610: 2020 2020 2063 6f6e 6e65 6374 6564 2062       connected b
+00026620: 7573 0d0a 0d0a 2020 2020 2020 2020 2a2a  us....        **
+00026630: 7374 6570 2a2a 2028 696e 742c 2031 2920  step** (int, 1) 
+00026640: 2d20 7374 6570 206f 6620 7368 756e 7420  - step of shunt 
+00026650: 7769 7468 2077 6869 6368 2070 6f77 6572  with which power
+00026660: 2076 616c 7565 7320 6172 6520 6d75 6c74   values are mult
+00026670: 6970 6c69 6564 0d0a 0d0a 2020 2020 2020  iplied....      
+00026680: 2020 2a2a 6d61 785f 7374 6570 2a2a 2028    **max_step** (
+00026690: 626f 6f6c 6561 6e2c 2054 7275 6529 202d  boolean, True) -
+000266a0: 2054 7275 6520 666f 7220 696e 5f73 6572   True for in_ser
+000266b0: 7669 6365 206f 7220 4661 6c73 6520 666f  vice or False fo
+000266c0: 7220 6f75 7420 6f66 2073 6572 7669 6365  r out of service
+000266d0: 0d0a 0d0a 2020 2020 2020 2020 2a2a 6e61  ....        **na
+000266e0: 6d65 2a2a 2028 7374 722c 204e 6f6e 6529  me** (str, None)
+000266f0: 202d 2065 6c65 6d65 6e74 206e 616d 650d   - element name.
+00026700: 0a0d 0a20 2020 2020 2020 202a 2a69 6e5f  ...        **in_
+00026710: 7365 7276 6963 652a 2a20 2862 6f6f 6c65  service** (boole
+00026720: 616e 2c20 5472 7565 2920 2d20 5472 7565  an, True) - True
+00026730: 2066 6f72 2069 6e5f 7365 7276 6963 6520   for in_service 
+00026740: 6f72 2046 616c 7365 2066 6f72 206f 7574  or False for out
+00026750: 206f 6620 7365 7276 6963 650d 0a0d 0a20   of service.... 
+00026760: 2020 2020 2020 202a 2a69 6e64 6578 2a2a         **index**
+00026770: 2028 696e 742c 204e 6f6e 6529 202d 2046   (int, None) - F
+00026780: 6f72 6365 2061 2073 7065 6369 6669 6564  orce a specified
+00026790: 2049 4420 6966 2069 7420 6973 2061 7661   ID if it is ava
+000267a0: 696c 6162 6c65 2e20 4966 204e 6f6e 652c  ilable. If None,
+000267b0: 2074 6865 2069 6e64 6578 206f 6e65 205c   the index one \
+000267c0: 0d0a 2020 2020 2020 2020 2020 2020 6869  ..            hi
+000267d0: 6768 6572 2074 6861 6e20 7468 6520 6869  gher than the hi
+000267e0: 6768 6573 7420 616c 7265 6164 7920 6578  ghest already ex
+000267f0: 6973 7469 6e67 2069 6e64 6578 2069 7320  isting index is 
+00026800: 7365 6c65 6374 6564 2e0d 0a0d 0a20 2020  selected.....   
+00026810: 204f 5554 5055 543a 0d0a 2020 2020 2020   OUTPUT:..      
+00026820: 2020 2a2a 696e 6465 782a 2a20 2869 6e74    **index** (int
+00026830: 2920 2d20 5468 6520 756e 6971 7565 2049  ) - The unique I
+00026840: 4420 6f66 2074 6865 2063 7265 6174 6564  D of the created
+00026850: 2073 6875 6e74 0d0a 0d0a 2020 2020 4558   shunt....    EX
+00026860: 414d 504c 453a 0d0a 2020 2020 2020 2020  AMPLE:..        
+00026870: 6372 6561 7465 5f73 6875 6e74 286e 6574  create_shunt(net
+00026880: 2c20 302c 2032 3029 0d0a 2020 2020 2222  , 0, 20)..    ""
+00026890: 220d 0a20 2020 205f 6368 6563 6b5f 6e6f  "..    _check_no
+000268a0: 6465 5f65 6c65 6d65 6e74 286e 6574 2c20  de_element(net, 
+000268b0: 6275 7329 0d0a 0d0a 2020 2020 696e 6465  bus)....    inde
+000268c0: 7820 3d20 5f67 6574 5f69 6e64 6578 5f77  x = _get_index_w
+000268d0: 6974 685f 6368 6563 6b28 6e65 742c 2022  ith_check(net, "
+000268e0: 7368 756e 7422 2c20 696e 6465 7829 0d0a  shunt", index)..
+000268f0: 0d0a 2020 2020 6966 2076 6e5f 6b76 2069  ..    if vn_kv i
+00026900: 7320 4e6f 6e65 3a0d 0a20 2020 2020 2020  s None:..       
+00026910: 2076 6e5f 6b76 203d 206e 6574 2e62 7573   vn_kv = net.bus
+00026920: 2e76 6e5f 6b76 2e61 745b 6275 735d 0d0a  .vn_kv.at[bus]..
+00026930: 0d0a 2020 2020 656e 7472 6965 7320 3d20  ..    entries = 
+00026940: 6469 6374 287a 6970 285b 2262 7573 222c  dict(zip(["bus",
+00026950: 2022 6e61 6d65 222c 2022 705f 6d77 222c   "name", "p_mw",
+00026960: 2022 715f 6d76 6172 222c 2022 766e 5f6b   "q_mvar", "vn_k
+00026970: 7622 2c20 2273 7465 7022 2c20 226d 6178  v", "step", "max
+00026980: 5f73 7465 7022 2c20 2269 6e5f 7365 7276  _step", "in_serv
+00026990: 6963 6522 5d2c 0d0a 2020 2020 2020 2020  ice"],..        
+000269a0: 2020 2020 2020 2020 2020 2020 2020 205b                 [
+000269b0: 6275 732c 206e 616d 652c 2070 5f6d 772c  bus, name, p_mw,
+000269c0: 2071 5f6d 7661 722c 2076 6e5f 6b76 2c20   q_mvar, vn_kv, 
+000269d0: 7374 6570 2c20 6d61 785f 7374 6570 2c20  step, max_step, 
+000269e0: 696e 5f73 6572 7669 6365 5d29 290d 0a20  in_service])).. 
+000269f0: 2020 205f 7365 745f 656e 7472 6965 7328     _set_entries(
+00026a00: 6e65 742c 2022 7368 756e 7422 2c20 696e  net, "shunt", in
+00026a10: 6465 782c 202a 2a65 6e74 7269 6573 290d  dex, **entries).
+00026a20: 0a0d 0a20 2020 2072 6574 7572 6e20 696e  ...    return in
+00026a30: 6465 780d 0a0d 0a0d 0a64 6566 2063 7265  dex......def cre
+00026a40: 6174 655f 7368 756e 745f 6173 5f63 6170  ate_shunt_as_cap
+00026a50: 6163 6974 6f72 286e 6574 2c20 6275 732c  acitor(net, bus,
+00026a60: 2071 5f6d 7661 722c 206c 6f73 735f 6661   q_mvar, loss_fa
+00026a70: 6374 6f72 2c20 2a2a 6b77 6172 6773 293a  ctor, **kwargs):
+00026a80: 0d0a 2020 2020 2222 220d 0a20 2020 2043  ..    """..    C
+00026a90: 7265 6174 6573 2061 2073 6875 6e74 2065  reates a shunt e
+00026aa0: 6c65 6d65 6e74 2072 6570 7265 7365 6e74  lement represent
+00026ab0: 696e 6720 6120 6361 7061 6369 746f 7220  ing a capacitor 
+00026ac0: 6261 6e6b 2e0d 0a0d 0a20 2020 2049 4e50  bank.....    INP
+00026ad0: 5554 3a0d 0a0d 0a20 2020 2020 2020 202a  UT:....        *
+00026ae0: 2a6e 6574 2a2a 2028 7061 6e64 6170 6f77  *net** (pandapow
+00026af0: 6572 4e65 7429 202d 2054 6865 2070 616e  erNet) - The pan
+00026b00: 6461 706f 7765 7220 6e65 7477 6f72 6b20  dapower network 
+00026b10: 696e 2077 6869 6368 2074 6865 2065 6c65  in which the ele
+00026b20: 6d65 6e74 2069 7320 6372 6561 7465 640d  ment is created.
+00026b30: 0a0d 0a20 2020 2020 2020 202a 2a62 7573  ...        **bus
+00026b40: 2a2a 202d 2062 7573 206e 756d 6265 7220  ** - bus number 
+00026b50: 6f66 2062 7573 2074 6f20 7768 6f6d 2074  of bus to whom t
+00026b60: 6865 2073 6875 6e74 2069 7320 636f 6e6e  he shunt is conn
+00026b70: 6563 7465 6420 746f 0d0a 0d0a 2020 2020  ected to....    
+00026b80: 2020 2020 2a2a 715f 6d76 6172 2a2a 2028      **q_mvar** (
+00026b90: 666c 6f61 7429 202d 2072 6561 6374 6976  float) - reactiv
+00026ba0: 6520 706f 7765 7220 6f66 2074 6865 2063  e power of the c
+00026bb0: 6170 6163 6974 6f72 2062 616e 6b20 6174  apacitor bank at
+00026bc0: 2072 6174 6564 2076 6f6c 7461 6765 0d0a   rated voltage..
+00026bd0: 0d0a 2020 2020 2020 2020 2a2a 6c6f 7373  ..        **loss
+00026be0: 5f66 6163 746f 722a 2a20 2866 6c6f 6174  _factor** (float
+00026bf0: 2920 2d20 6c6f 7373 2066 6163 746f 7220  ) - loss factor 
+00026c00: 7461 6e28 6465 6c74 6129 206f 6620 7468  tan(delta) of th
+00026c10: 6520 6361 7061 6369 746f 7220 6261 6e6b  e capacitor bank
+00026c20: 0d0a 0d0a 2020 2020 4f50 5449 4f4e 414c  ....    OPTIONAL
+00026c30: 3a0d 0a20 2020 2020 2020 2073 616d 6520  :..        same 
+00026c40: 6173 2069 6e20 6372 6561 7465 5f73 6875  as in create_shu
+00026c50: 6e74 2c20 6b65 7977 6f72 6420 6172 6775  nt, keyword argu
+00026c60: 6d65 6e74 7320 6172 6520 7061 7373 6564  ments are passed
+00026c70: 2074 6f20 7468 6520 6372 6561 7465 5f73   to the create_s
+00026c80: 6875 6e74 2066 756e 6374 696f 6e0d 0a0d  hunt function...
+00026c90: 0a0d 0a20 2020 204f 5554 5055 543a 0d0a  ...    OUTPUT:..
+00026ca0: 2020 2020 2020 2020 2a2a 696e 6465 782a          **index*
+00026cb0: 2a20 2869 6e74 2920 2d20 5468 6520 756e  * (int) - The un
+00026cc0: 6971 7565 2049 4420 6f66 2074 6865 2063  ique ID of the c
+00026cd0: 7265 6174 6564 2073 6875 6e74 0d0a 2020  reated shunt..  
+00026ce0: 2020 2222 220d 0a20 2020 2071 5f6d 7661    """..    q_mva
+00026cf0: 7220 3d20 2d61 6273 2871 5f6d 7661 7229  r = -abs(q_mvar)
+00026d00: 2020 2320 7120 6973 2061 6c77 6179 7320    # q is always 
+00026d10: 6e65 6761 7469 7665 2066 6f72 2063 6170  negative for cap
+00026d20: 6163 6974 6f72 0d0a 2020 2020 705f 6d77  acitor..    p_mw
+00026d30: 203d 2061 6273 2871 5f6d 7661 7220 2a20   = abs(q_mvar * 
+00026d40: 6c6f 7373 5f66 6163 746f 7229 2020 2320  loss_factor)  # 
+00026d50: 7020 6973 2061 6c77 6179 7320 706f 7369  p is always posi
+00026d60: 7469 7665 2066 6f72 2061 6374 6976 6520  tive for active 
+00026d70: 706f 7765 7220 6c6f 7373 6573 0d0a 2020  power losses..  
+00026d80: 2020 7265 7475 726e 2063 7265 6174 655f    return create_
+00026d90: 7368 756e 7428 6e65 742c 2062 7573 2c20  shunt(net, bus, 
+00026da0: 715f 6d76 6172 3d71 5f6d 7661 722c 2070  q_mvar=q_mvar, p
+00026db0: 5f6d 773d 705f 6d77 2c20 2a2a 6b77 6172  _mw=p_mw, **kwar
+00026dc0: 6773 290d 0a0d 0a0d 0a64 6566 2063 7265  gs)......def cre
+00026dd0: 6174 655f 696d 7065 6461 6e63 6528 6e65  ate_impedance(ne
+00026de0: 742c 2066 726f 6d5f 6275 732c 2074 6f5f  t, from_bus, to_
+00026df0: 6275 732c 2072 6674 5f70 752c 2078 6674  bus, rft_pu, xft
+00026e00: 5f70 752c 2073 6e5f 6d76 612c 2072 7466  _pu, sn_mva, rtf
+00026e10: 5f70 753d 4e6f 6e65 2c20 7874 665f 7075  _pu=None, xtf_pu
+00026e20: 3d4e 6f6e 652c 0d0a 2020 2020 2020 2020  =None,..        
+00026e30: 2020 2020 2020 2020 2020 2020 206e 616d               nam
+00026e40: 653d 4e6f 6e65 2c20 696e 5f73 6572 7669  e=None, in_servi
+00026e50: 6365 3d54 7275 652c 2069 6e64 6578 3d4e  ce=True, index=N
+00026e60: 6f6e 6529 3a0d 0a20 2020 2022 2222 0d0a  one):..    """..
+00026e70: 2020 2020 4372 6561 7465 7320 616e 2070      Creates an p
+00026e80: 6572 2075 6e69 7420 696d 7065 6461 6e63  er unit impedanc
+00026e90: 6520 656c 656d 656e 740d 0a0d 0a20 2020  e element....   
+00026ea0: 2049 4e50 5554 3a0d 0a20 2020 2020 2020   INPUT:..       
+00026eb0: 202a 2a6e 6574 2a2a 2028 7061 6e64 6170   **net** (pandap
+00026ec0: 6f77 6572 4e65 7429 202d 2054 6865 2070  owerNet) - The p
+00026ed0: 616e 6461 706f 7765 7220 6e65 7477 6f72  andapower networ
+00026ee0: 6b20 696e 2077 6869 6368 2074 6865 2065  k in which the e
+00026ef0: 6c65 6d65 6e74 2069 7320 6372 6561 7465  lement is create
+00026f00: 640d 0a0d 0a20 2020 2020 2020 202a 2a66  d....        **f
+00026f10: 726f 6d5f 6275 732a 2a20 2869 6e74 2920  rom_bus** (int) 
+00026f20: 2d20 7374 6172 7469 6e67 2062 7573 206f  - starting bus o
+00026f30: 6620 7468 6520 696d 7065 6461 6e63 650d  f the impedance.
+00026f40: 0a0d 0a20 2020 2020 2020 202a 2a74 6f5f  ...        **to_
+00026f50: 6275 732a 2a20 2869 6e74 2920 2d20 656e  bus** (int) - en
+00026f60: 6469 6e67 2062 7573 206f 6620 7468 6520  ding bus of the 
+00026f70: 696d 7065 6461 6e63 650d 0a0d 0a20 2020  impedance....   
+00026f80: 2020 2020 202a 2a72 5f70 752a 2a20 2866       **r_pu** (f
+00026f90: 6c6f 6174 2920 2d20 7265 616c 2070 6172  loat) - real par
+00026fa0: 7420 6f66 2074 6865 2069 6d70 6564 616e  t of the impedan
+00026fb0: 6365 2069 6e20 7065 7220 756e 6974 0d0a  ce in per unit..
+00026fc0: 0d0a 2020 2020 2020 2020 2a2a 785f 7075  ..        **x_pu
+00026fd0: 2a2a 2028 666c 6f61 7429 202d 2069 6d61  ** (float) - ima
+00026fe0: 6769 6e61 7279 2070 6172 7420 6f66 2074  ginary part of t
+00026ff0: 6865 2069 6d70 6564 616e 6365 2069 6e20  he impedance in 
+00027000: 7065 7220 756e 6974 0d0a 0d0a 2020 2020  per unit....    
+00027010: 2020 2020 2a2a 736e 5f6d 7661 2a2a 2028      **sn_mva** (
+00027020: 666c 6f61 7429 202d 2072 6174 6564 2070  float) - rated p
+00027030: 6f77 6572 206f 6620 7468 6520 696d 7065  ower of the impe
+00027040: 6461 6e63 6520 696e 204d 5641 0d0a 0d0a  dance in MVA....
+00027050: 2020 2020 4f55 5450 5554 3a0d 0a0d 0a20      OUTPUT:.... 
+00027060: 2020 2020 2020 2069 6d70 6564 616e 6365         impedance
+00027070: 2069 640d 0a20 2020 2022 2222 0d0a 2020   id..    """..  
+00027080: 2020 696e 6465 7820 3d20 5f67 6574 5f69    index = _get_i
+00027090: 6e64 6578 5f77 6974 685f 6368 6563 6b28  ndex_with_check(
+000270a0: 6e65 742c 2022 696d 7065 6461 6e63 6522  net, "impedance"
+000270b0: 2c20 696e 6465 7829 0d0a 0d0a 2020 2020  , index)....    
+000270c0: 5f63 6865 636b 5f62 7261 6e63 685f 656c  _check_branch_el
+000270d0: 656d 656e 7428 6e65 742c 2022 496d 7065  ement(net, "Impe
+000270e0: 6461 6e63 6522 2c20 696e 6465 782c 2066  dance", index, f
+000270f0: 726f 6d5f 6275 732c 2074 6f5f 6275 7329  rom_bus, to_bus)
+00027100: 0d0a 0d0a 2020 2020 6966 2072 7466 5f70  ....    if rtf_p
+00027110: 7520 6973 204e 6f6e 653a 0d0a 2020 2020  u is None:..    
+00027120: 2020 2020 7274 665f 7075 203d 2072 6674      rtf_pu = rft
+00027130: 5f70 750d 0a20 2020 2069 6620 7874 665f  _pu..    if xtf_
+00027140: 7075 2069 7320 4e6f 6e65 3a0d 0a20 2020  pu is None:..   
+00027150: 2020 2020 2078 7466 5f70 7520 3d20 7866       xtf_pu = xf
+00027160: 745f 7075 0d0a 0d0a 2020 2020 636f 6c75  t_pu....    colu
+00027170: 6d6e 7320 3d20 5b22 6672 6f6d 5f62 7573  mns = ["from_bus
+00027180: 222c 2022 746f 5f62 7573 222c 2022 7266  ", "to_bus", "rf
+00027190: 745f 7075 222c 2022 7866 745f 7075 222c  t_pu", "xft_pu",
+000271a0: 2022 7274 665f 7075 222c 2022 7874 665f   "rtf_pu", "xtf_
+000271b0: 7075 222c 2022 6e61 6d65 222c 2022 736e  pu", "name", "sn
+000271c0: 5f6d 7661 222c 0d0a 2020 2020 2020 2020  _mva",..        
+000271d0: 2020 2020 2020 2022 696e 5f73 6572 7669         "in_servi
+000271e0: 6365 225d 0d0a 2020 2020 7661 6c75 6573  ce"]..    values
+000271f0: 203d 205b 6672 6f6d 5f62 7573 2c20 746f   = [from_bus, to
+00027200: 5f62 7573 2c20 7266 745f 7075 2c20 7866  _bus, rft_pu, xf
+00027210: 745f 7075 2c20 7274 665f 7075 2c20 7874  t_pu, rtf_pu, xt
+00027220: 665f 7075 2c20 6e61 6d65 2c20 736e 5f6d  f_pu, name, sn_m
+00027230: 7661 2c20 696e 5f73 6572 7669 6365 5d0d  va, in_service].
+00027240: 0a20 2020 205f 7365 745f 656e 7472 6965  .    _set_entrie
+00027250: 7328 6e65 742c 2022 696d 7065 6461 6e63  s(net, "impedanc
+00027260: 6522 2c20 696e 6465 782c 202a 2a64 6963  e", index, **dic
+00027270: 7428 7a69 7028 636f 6c75 6d6e 732c 2076  t(zip(columns, v
+00027280: 616c 7565 7329 2929 0d0a 0d0a 2020 2020  alues)))....    
+00027290: 7265 7475 726e 2069 6e64 6578 0d0a 0d0a  return index....
+000272a0: 0d0a 6465 6620 6372 6561 7465 5f73 6572  ..def create_ser
+000272b0: 6965 735f 7265 6163 746f 725f 6173 5f69  ies_reactor_as_i
+000272c0: 6d70 6564 616e 6365 286e 6574 2c20 6672  mpedance(net, fr
+000272d0: 6f6d 5f62 7573 2c20 746f 5f62 7573 2c20  om_bus, to_bus, 
+000272e0: 725f 6f68 6d2c 2078 5f6f 686d 2c20 736e  r_ohm, x_ohm, sn
+000272f0: 5f6d 7661 2c0d 0a20 2020 2020 2020 2020  _mva,..         
+00027300: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00027310: 2020 2020 2020 2020 2020 2020 2020 6e61                na
+00027320: 6d65 3d4e 6f6e 652c 2069 6e5f 7365 7276  me=None, in_serv
+00027330: 6963 653d 5472 7565 2c20 696e 6465 783d  ice=True, index=
+00027340: 4e6f 6e65 293a 0d0a 2020 2020 2222 220d  None):..    """.
+00027350: 0a20 2020 2043 7265 6174 6573 2061 2073  .    Creates a s
+00027360: 6572 6965 7320 7265 6163 746f 7220 6173  eries reactor as
+00027370: 2070 6572 2d75 6e69 7420 696d 7065 6461   per-unit impeda
+00027380: 6e63 650d 0a20 2020 203a 7061 7261 6d20  nce..    :param 
+00027390: 6e65 743a 2028 7061 6e64 6170 6f77 6572  net: (pandapower
+000273a0: 4e65 7429 202d 2054 6865 2070 616e 6461  Net) - The panda
+000273b0: 706f 7765 7220 6e65 7477 6f72 6b20 696e  power network in
+000273c0: 2077 6869 6368 2074 6865 2065 6c65 6d65   which the eleme
+000273d0: 6e74 2069 7320 6372 6561 7465 640d 0a20  nt is created.. 
+000273e0: 2020 203a 7061 7261 6d20 6672 6f6d 5f62     :param from_b
+000273f0: 7573 3a20 2869 6e74 2920 2d20 7374 6172  us: (int) - star
+00027400: 7469 6e67 2062 7573 206f 6620 7468 6520  ting bus of the 
+00027410: 7365 7269 6573 2072 6561 6374 6f72 0d0a  series reactor..
+00027420: 2020 2020 3a70 6172 616d 2074 6f5f 6275      :param to_bu
+00027430: 733a 2028 696e 7429 202d 2065 6e64 696e  s: (int) - endin
+00027440: 6720 6275 7320 6f66 2074 6865 2073 6572  g bus of the ser
+00027450: 6965 7320 7265 6163 746f 720d 0a20 2020  ies reactor..   
+00027460: 203a 7061 7261 6d20 725f 6f68 6d3a 2028   :param r_ohm: (
+00027470: 666c 6f61 7429 202d 2072 6561 6c20 7061  float) - real pa
+00027480: 7274 206f 6620 7468 6520 696d 7065 6461  rt of the impeda
+00027490: 6e63 6520 696e 204f 686d 0d0a 2020 2020  nce in Ohm..    
+000274a0: 3a70 6172 616d 2078 5f6f 686d 3a20 2866  :param x_ohm: (f
+000274b0: 6c6f 6174 2920 2d20 696d 6167 696e 6172  loat) - imaginar
+000274c0: 7920 7061 7274 206f 6620 7468 6520 696d  y part of the im
+000274d0: 7065 6461 6e63 6520 696e 204f 686d 0d0a  pedance in Ohm..
+000274e0: 2020 2020 3a70 6172 616d 2073 6e5f 6d76      :param sn_mv
+000274f0: 613a 2028 666c 6f61 7429 202d 2072 6174  a: (float) - rat
+00027500: 6564 2070 6f77 6572 206f 6620 7468 6520  ed power of the 
+00027510: 7365 7269 6573 2072 6561 6374 6f72 2069  series reactor i
+00027520: 6e20 4d56 410d 0a20 2020 203a 7061 7261  n MVA..    :para
+00027530: 6d20 6e61 6d65 3a0d 0a20 2020 203a 7479  m name:..    :ty
+00027540: 7065 206e 616d 653a 0d0a 2020 2020 3a70  pe name:..    :p
+00027550: 6172 616d 2069 6e5f 7365 7276 6963 653a  aram in_service:
+00027560: 0d0a 2020 2020 3a74 7970 6520 696e 5f73  ..    :type in_s
+00027570: 6572 7669 6365 3a0d 0a20 2020 203a 7061  ervice:..    :pa
+00027580: 7261 6d20 696e 6465 783a 0d0a 2020 2020  ram index:..    
+00027590: 3a74 7970 6520 696e 6465 783a 0d0a 2020  :type index:..  
+000275a0: 2020 3a72 6574 7572 6e3a 2069 6e64 6578    :return: index
+000275b0: 206f 6620 7468 6520 6372 6561 7465 6420   of the created 
+000275c0: 656c 656d 656e 740d 0a20 2020 2022 2222  element..    """
+000275d0: 0d0a 2020 2020 6966 206e 6574 2e62 7573  ..    if net.bus
+000275e0: 2e61 745b 6672 6f6d 5f62 7573 2c20 2776  .at[from_bus, 'v
+000275f0: 6e5f 6b76 275d 203d 3d20 6e65 742e 6275  n_kv'] == net.bu
+00027600: 732e 6174 5b74 6f5f 6275 732c 2027 766e  s.at[to_bus, 'vn
+00027610: 5f6b 7627 5d3a 0d0a 2020 2020 2020 2020  _kv']:..        
+00027620: 766e 5f6b 7620 3d20 6e65 742e 6275 732e  vn_kv = net.bus.
+00027630: 6174 5b66 726f 6d5f 6275 732c 2027 766e  at[from_bus, 'vn
+00027640: 5f6b 7627 5d0d 0a20 2020 2065 6c73 653a  _kv']..    else:
+00027650: 0d0a 2020 2020 2020 2020 7261 6973 6520  ..        raise 
+00027660: 5573 6572 5761 726e 696e 6728 2755 6e61  UserWarning('Una
+00027670: 626c 6520 746f 2069 6e66 6572 2072 6174  ble to infer rat
+00027680: 6564 2076 6f6c 7461 6765 2076 6e5f 6b76  ed voltage vn_kv
+00027690: 2066 6f72 2073 6572 6965 7320 7265 6163   for series reac
+000276a0: 746f 7220 2573 2064 7565 2074 6f20 270d  tor %s due to '.
+000276b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000276c0: 2020 2020 2020 2020 2020 2027 6469 6666             'diff
+000276d0: 6572 656e 7420 7261 7465 6420 766f 6c74  erent rated volt
+000276e0: 6167 6573 206f 6620 6672 6f6d 5f62 7573  ages of from_bus
+000276f0: 2025 6420 2825 2e33 6620 702e 752e 2920   %d (%.3f p.u.) 
+00027700: 616e 6420 270d 0a20 2020 2020 2020 2020  and '..         
+00027710: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00027720: 2027 746f 5f62 7573 2025 6420 2825 2e33   'to_bus %d (%.3
+00027730: 6620 702e 752e 2927 2025 2028 6e61 6d65  f p.u.)' % (name
+00027740: 2c20 6672 6f6d 5f62 7573 2c20 6e65 742e  , from_bus, net.
+00027750: 6275 732e 6174 5b66 726f 6d5f 6275 732c  bus.at[from_bus,
+00027760: 2027 766e 5f6b 7627 5d2c 0d0a 2020 2020   'vn_kv'],..    
 00027770: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00027780: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00027790: 2020 746f 5f62 7573 2c20 6e65 742e 6275    to_bus, net.bu
-000277a0: 732e 6174 5b74 6f5f 6275 732c 2027 766e  s.at[to_bus, 'vn
-000277b0: 5f6b 7627 5d29 290d 0a0d 0a20 2020 2062  _kv']))....    b
-000277c0: 6173 655f 7a5f 6f68 6d20 3d20 766e 5f6b  ase_z_ohm = vn_k
-000277d0: 7620 2a2a 2032 202f 2073 6e5f 6d76 610d  v ** 2 / sn_mva.
-000277e0: 0a20 2020 2072 6674 5f70 7520 3d20 725f  .    rft_pu = r_
-000277f0: 6f68 6d20 2f20 6261 7365 5f7a 5f6f 686d  ohm / base_z_ohm
-00027800: 0d0a 2020 2020 7866 745f 7075 203d 2078  ..    xft_pu = x
-00027810: 5f6f 686d 202f 2062 6173 655f 7a5f 6f68  _ohm / base_z_oh
-00027820: 6d0d 0a0d 0a20 2020 2069 6e64 6578 203d  m....    index =
-00027830: 2063 7265 6174 655f 696d 7065 6461 6e63   create_impedanc
-00027840: 6528 6e65 742c 2066 726f 6d5f 6275 733d  e(net, from_bus=
-00027850: 6672 6f6d 5f62 7573 2c20 746f 5f62 7573  from_bus, to_bus
-00027860: 3d74 6f5f 6275 732c 2072 6674 5f70 753d  =to_bus, rft_pu=
-00027870: 7266 745f 7075 2c20 7866 745f 7075 3d78  rft_pu, xft_pu=x
-00027880: 6674 5f70 752c 0d0a 2020 2020 2020 2020  ft_pu,..        
-00027890: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000278a0: 2020 2020 2073 6e5f 6d76 613d 736e 5f6d       sn_mva=sn_m
-000278b0: 7661 2c20 6e61 6d65 3d6e 616d 652c 2069  va, name=name, i
-000278c0: 6e5f 7365 7276 6963 653d 696e 5f73 6572  n_service=in_ser
-000278d0: 7669 6365 2c20 696e 6465 783d 696e 6465  vice, index=inde
-000278e0: 7829 0d0a 2020 2020 7265 7475 726e 2069  x)..    return i
-000278f0: 6e64 6578 0d0a 0d0a 0d0a 6465 6620 6372  ndex......def cr
-00027900: 6561 7465 5f77 6172 6428 6e65 742c 2062  eate_ward(net, b
-00027910: 7573 2c20 7073 5f6d 772c 2071 735f 6d76  us, ps_mw, qs_mv
-00027920: 6172 2c20 707a 5f6d 772c 2071 7a5f 6d76  ar, pz_mw, qz_mv
-00027930: 6172 2c20 6e61 6d65 3d4e 6f6e 652c 2069  ar, name=None, i
-00027940: 6e5f 7365 7276 6963 653d 5472 7565 2c20  n_service=True, 
-00027950: 696e 6465 783d 4e6f 6e65 293a 0d0a 2020  index=None):..  
-00027960: 2020 2222 220d 0a20 2020 2043 7265 6174    """..    Creat
-00027970: 6573 2061 2077 6172 6420 6571 7569 7661  es a ward equiva
-00027980: 6c65 6e74 2e0d 0a0d 0a20 2020 2041 2077  lent.....    A w
-00027990: 6172 6420 6571 7569 7661 6c65 6e74 2069  ard equivalent i
-000279a0: 7320 6120 636f 6d62 696e 6174 696f 6e20  s a combination 
-000279b0: 6f66 2061 6e20 696d 7065 6461 6e63 6520  of an impedance 
-000279c0: 6c6f 6164 2061 6e64 2061 2050 5120 6c6f  load and a PQ lo
-000279d0: 6164 2e0d 0a0d 0a20 2020 2049 4e50 5554  ad.....    INPUT
-000279e0: 3a0d 0a20 2020 2020 2020 202a 2a6e 6574  :..        **net
-000279f0: 2a2a 2028 7061 6e64 6170 6f77 6572 6e65  ** (pandapowerne
-00027a00: 7429 202d 2054 6865 2070 616e 6461 706f  t) - The pandapo
-00027a10: 7765 7220 6e65 7420 7769 7468 696e 2074  wer net within t
-00027a20: 6865 2065 6c65 6d65 6e74 2073 686f 756c  he element shoul
-00027a30: 6420 6265 2063 7265 6174 6564 0d0a 0d0a  d be created....
-00027a40: 2020 2020 2020 2020 2a2a 6275 732a 2a20          **bus** 
-00027a50: 2869 6e74 2920 2d20 2062 7573 206f 6620  (int) -  bus of 
-00027a60: 7468 6520 7761 7264 2065 7175 6976 616c  the ward equival
-00027a70: 656e 740d 0a0d 0a20 2020 2020 2020 202a  ent....        *
-00027a80: 2a70 735f 6d77 2a2a 2028 666c 6f61 7429  *ps_mw** (float)
-00027a90: 202d 2061 6374 6976 6520 706f 7765 7220   - active power 
-00027aa0: 6f66 2074 6865 2050 5120 6c6f 6164 0d0a  of the PQ load..
-00027ab0: 0d0a 2020 2020 2020 2020 2a2a 7173 5f6d  ..        **qs_m
-00027ac0: 7661 722a 2a20 2866 6c6f 6174 2920 2d20  var** (float) - 
-00027ad0: 7265 6163 7469 7665 2070 6f77 6572 206f  reactive power o
-00027ae0: 6620 7468 6520 5051 206c 6f61 640d 0a0d  f the PQ load...
-00027af0: 0a20 2020 2020 2020 202a 2a70 7a5f 6d77  .        **pz_mw
-00027b00: 2a2a 2028 666c 6f61 7429 202d 2061 6374  ** (float) - act
-00027b10: 6976 6520 706f 7765 7220 6f66 2074 6865  ive power of the
-00027b20: 2069 6d70 6564 616e 6365 206c 6f61 6420   impedance load 
-00027b30: 696e 204d 5720 6174 2031 2e70 7520 766f  in MW at 1.pu vo
-00027b40: 6c74 6167 650d 0a0d 0a20 2020 2020 2020  ltage....       
-00027b50: 202a 2a71 7a5f 6d76 6172 2a2a 2028 666c   **qz_mvar** (fl
-00027b60: 6f61 7429 202d 2072 6561 6374 6976 6520  oat) - reactive 
-00027b70: 706f 7765 7220 6f66 2074 6865 2069 6d70  power of the imp
-00027b80: 6564 616e 6365 206c 6f61 6420 696e 204d  edance load in M
-00027b90: 5661 7220 6174 2031 2e70 7520 766f 6c74  Var at 1.pu volt
-00027ba0: 6167 650d 0a0d 0a20 2020 204f 5554 5055  age....    OUTPU
-00027bb0: 543a 0d0a 2020 2020 2020 2020 7761 7264  T:..        ward
-00027bc0: 2069 640d 0a20 2020 2022 2222 0d0a 2020   id..    """..  
-00027bd0: 2020 5f63 6865 636b 5f6e 6f64 655f 656c    _check_node_el
-00027be0: 656d 656e 7428 6e65 742c 2062 7573 290d  ement(net, bus).
-00027bf0: 0a0d 0a20 2020 2069 6e64 6578 203d 205f  ...    index = _
-00027c00: 6765 745f 696e 6465 785f 7769 7468 5f63  get_index_with_c
-00027c10: 6865 636b 286e 6574 2c20 2277 6172 6422  heck(net, "ward"
-00027c20: 2c20 696e 6465 782c 2022 7761 7264 2065  , index, "ward e
-00027c30: 7175 6976 616c 656e 7422 290d 0a0d 0a20  quivalent").... 
-00027c40: 2020 2065 6e74 7269 6573 203d 2064 6963     entries = dic
-00027c50: 7428 7a69 7028 5b22 6275 7322 2c20 2270  t(zip(["bus", "p
-00027c60: 735f 6d77 222c 2022 7173 5f6d 7661 7222  s_mw", "qs_mvar"
-00027c70: 2c20 2270 7a5f 6d77 222c 2022 717a 5f6d  , "pz_mw", "qz_m
-00027c80: 7661 7222 2c20 226e 616d 6522 2c20 2269  var", "name", "i
-00027c90: 6e5f 7365 7276 6963 6522 5d2c 0d0a 2020  n_service"],..  
-00027ca0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00027cb0: 2020 2020 205b 6275 732c 2070 735f 6d77       [bus, ps_mw
-00027cc0: 2c20 7173 5f6d 7661 722c 2070 7a5f 6d77  , qs_mvar, pz_mw
-00027cd0: 2c20 717a 5f6d 7661 722c 206e 616d 652c  , qz_mvar, name,
-00027ce0: 2069 6e5f 7365 7276 6963 655d 2929 0d0a   in_service]))..
-00027cf0: 2020 2020 5f73 6574 5f65 6e74 7269 6573      _set_entries
-00027d00: 286e 6574 2c20 2277 6172 6422 2c20 696e  (net, "ward", in
-00027d10: 6465 782c 202a 2a65 6e74 7269 6573 290d  dex, **entries).
-00027d20: 0a0d 0a20 2020 2072 6574 7572 6e20 696e  ...    return in
-00027d30: 6465 780d 0a0d 0a0d 0a64 6566 2063 7265  dex......def cre
-00027d40: 6174 655f 7877 6172 6428 6e65 742c 2062  ate_xward(net, b
-00027d50: 7573 2c20 7073 5f6d 772c 2071 735f 6d76  us, ps_mw, qs_mv
-00027d60: 6172 2c20 707a 5f6d 772c 2071 7a5f 6d76  ar, pz_mw, qz_mv
-00027d70: 6172 2c20 725f 6f68 6d2c 2078 5f6f 686d  ar, r_ohm, x_ohm
-00027d80: 2c20 766d 5f70 752c 2069 6e5f 7365 7276  , vm_pu, in_serv
-00027d90: 6963 653d 5472 7565 2c0d 0a20 2020 2020  ice=True,..     
-00027da0: 2020 2020 2020 2020 2020 2020 6e61 6d65              name
-00027db0: 3d4e 6f6e 652c 2069 6e64 6578 3d4e 6f6e  =None, index=Non
-00027dc0: 652c 2073 6c61 636b 5f77 6569 6768 743d  e, slack_weight=
-00027dd0: 302e 3029 3a0d 0a20 2020 2022 2222 0d0a  0.0):..    """..
-00027de0: 2020 2020 4372 6561 7465 7320 616e 2065      Creates an e
-00027df0: 7874 656e 6465 6420 7761 7264 2065 7175  xtended ward equ
-00027e00: 6976 616c 656e 742e 0d0a 0d0a 2020 2020  ivalent.....    
-00027e10: 4120 7761 7264 2065 7175 6976 616c 656e  A ward equivalen
-00027e20: 7420 6973 2061 2063 6f6d 6269 6e61 7469  t is a combinati
-00027e30: 6f6e 206f 6620 616e 2069 6d70 6564 616e  on of an impedan
-00027e40: 6365 206c 6f61 642c 2061 2050 5120 6c6f  ce load, a PQ lo
-00027e50: 6164 2061 6e64 2061 7320 766f 6c74 6167  ad and as voltag
-00027e60: 6520 736f 7572 6365 2077 6974 680d 0a20  e source with.. 
-00027e70: 2020 2061 6e20 696e 7465 726e 616c 2069     an internal i
-00027e80: 6d70 6564 616e 6365 2e0d 0a0d 0a20 2020  mpedance.....   
-00027e90: 2049 4e50 5554 3a0d 0a20 2020 2020 2020   INPUT:..       
-00027ea0: 202a 2a6e 6574 2a2a 202d 2054 6865 2070   **net** - The p
-00027eb0: 616e 6461 706f 7765 7220 6e65 7420 7769  andapower net wi
-00027ec0: 7468 696e 2074 6865 2069 6d70 6564 616e  thin the impedan
-00027ed0: 6365 2073 686f 756c 6420 6265 2063 7265  ce should be cre
-00027ee0: 6174 6564 0d0a 0d0a 2020 2020 2020 2020  ated....        
-00027ef0: 2a2a 6275 732a 2a20 2869 6e74 2920 2d20  **bus** (int) - 
-00027f00: 2062 7573 206f 6620 7468 6520 7761 7264   bus of the ward
-00027f10: 2065 7175 6976 616c 656e 740d 0a0d 0a20   equivalent.... 
-00027f20: 2020 2020 2020 202a 2a70 735f 6d77 2a2a         **ps_mw**
-00027f30: 2028 666c 6f61 7429 202d 2061 6374 6976   (float) - activ
-00027f40: 6520 706f 7765 7220 6f66 2074 6865 2050  e power of the P
-00027f50: 5120 6c6f 6164 0d0a 0d0a 2020 2020 2020  Q load....      
-00027f60: 2020 2a2a 7173 5f6d 7661 722a 2a20 2866    **qs_mvar** (f
-00027f70: 6c6f 6174 2920 2d20 7265 6163 7469 7665  loat) - reactive
-00027f80: 2070 6f77 6572 206f 6620 7468 6520 5051   power of the PQ
-00027f90: 206c 6f61 640d 0a0d 0a20 2020 2020 2020   load....       
-00027fa0: 202a 2a70 7a5f 6d77 2a2a 2028 666c 6f61   **pz_mw** (floa
-00027fb0: 7429 202d 2061 6374 6976 6520 706f 7765  t) - active powe
-00027fc0: 7220 6f66 2074 6865 2069 6d70 6564 616e  r of the impedan
-00027fd0: 6365 206c 6f61 6420 696e 204d 5720 6174  ce load in MW at
-00027fe0: 2031 2e70 7520 766f 6c74 6167 650d 0a0d   1.pu voltage...
-00027ff0: 0a20 2020 2020 2020 202a 2a71 7a5f 6d76  .        **qz_mv
-00028000: 6172 2a2a 2028 666c 6f61 7429 202d 2072  ar** (float) - r
-00028010: 6561 6374 6976 6520 706f 7765 7220 6f66  eactive power of
-00028020: 2074 6865 2069 6d70 6564 616e 6365 206c   the impedance l
-00028030: 6f61 6420 696e 204d 5661 7220 6174 2031  oad in MVar at 1
-00028040: 2e70 7520 766f 6c74 6167 650d 0a0d 0a20  .pu voltage.... 
-00028050: 2020 2020 2020 202a 2a72 5f6f 686d 2a2a         **r_ohm**
-00028060: 2028 666c 6f61 7429 202d 2069 6e74 6572   (float) - inter
-00028070: 6e61 6c20 7265 7369 7374 616e 6365 206f  nal resistance o
-00028080: 6620 7468 6520 766f 6c74 6167 6520 736f  f the voltage so
-00028090: 7572 6365 0d0a 0d0a 2020 2020 2020 2020  urce....        
-000280a0: 2a2a 785f 6f68 6d2a 2a20 2866 6c6f 6174  **x_ohm** (float
-000280b0: 2920 2d20 696e 7465 726e 616c 2072 6561  ) - internal rea
-000280c0: 6374 616e 6365 206f 6620 7468 6520 766f  ctance of the vo
-000280d0: 6c74 6167 6520 736f 7572 6365 0d0a 0d0a  ltage source....
-000280e0: 2020 2020 2020 2020 2a2a 766d 5f70 752a          **vm_pu*
-000280f0: 2a20 2866 6c6f 6174 2920 2d20 766f 6c74  * (float) - volt
-00028100: 6167 6520 6d61 676e 6974 7564 6520 6174  age magnitude at
-00028110: 2074 6865 2061 6464 6974 696f 6e61 6c20   the additional 
-00028120: 5056 2d6e 6f64 650d 0a0d 0a20 2020 2020  PV-node....     
-00028130: 2020 202a 2a73 6c61 636b 5f77 6569 6768     **slack_weigh
-00028140: 742a 2a20 2866 6c6f 6174 2c20 6465 6661  t** (float, defa
-00028150: 756c 7420 312e 3029 202d 2043 6f6e 7472  ult 1.0) - Contr
-00028160: 6962 7574 696f 6e20 6661 6374 6f72 2066  ibution factor f
-00028170: 6f72 2064 6973 7472 6962 7574 6564 2073  or distributed s
-00028180: 6c61 636b 2070 6f77 6572 2066 6c6f 7720  lack power flow 
-00028190: 6361 6c63 756c 6174 696f 6e20 2861 6374  calculation (act
-000281a0: 6976 6520 706f 7765 7220 6261 6c61 6e63  ive power balanc
-000281b0: 696e 6729 0d0a 0d0a 2020 2020 4f55 5450  ing)....    OUTP
-000281c0: 5554 3a0d 0a20 2020 2020 2020 2078 7761  UT:..        xwa
-000281d0: 7264 2069 640d 0a20 2020 2022 2222 0d0a  rd id..    """..
-000281e0: 2020 2020 5f63 6865 636b 5f6e 6f64 655f      _check_node_
-000281f0: 656c 656d 656e 7428 6e65 742c 2062 7573  element(net, bus
-00028200: 290d 0a0d 0a20 2020 2069 6e64 6578 203d  )....    index =
-00028210: 205f 6765 745f 696e 6465 785f 7769 7468   _get_index_with
-00028220: 5f63 6865 636b 286e 6574 2c20 2278 7761  _check(net, "xwa
-00028230: 7264 222c 2069 6e64 6578 2c20 2265 7874  rd", index, "ext
-00028240: 656e 6465 6420 7761 7264 2065 7175 6976  ended ward equiv
-00028250: 616c 656e 7422 290d 0a0d 0a20 2020 2063  alent")....    c
-00028260: 6f6c 756d 6e73 203d 205b 2262 7573 222c  olumns = ["bus",
-00028270: 2022 7073 5f6d 7722 2c20 2271 735f 6d76   "ps_mw", "qs_mv
-00028280: 6172 222c 2022 707a 5f6d 7722 2c20 2271  ar", "pz_mw", "q
-00028290: 7a5f 6d76 6172 222c 2022 725f 6f68 6d22  z_mvar", "r_ohm"
-000282a0: 2c20 2278 5f6f 686d 222c 2022 766d 5f70  , "x_ohm", "vm_p
-000282b0: 7522 2c20 226e 616d 6522 2c0d 0a20 2020  u", "name",..   
-000282c0: 2020 2020 2020 2020 2020 2020 2273 6c61              "sla
-000282d0: 636b 5f77 6569 6768 7422 2c20 2269 6e5f  ck_weight", "in_
-000282e0: 7365 7276 6963 6522 5d0d 0a20 2020 2076  service"]..    v
-000282f0: 616c 7565 7320 3d20 5b62 7573 2c20 7073  alues = [bus, ps
-00028300: 5f6d 772c 2071 735f 6d76 6172 2c20 707a  _mw, qs_mvar, pz
-00028310: 5f6d 772c 2071 7a5f 6d76 6172 2c20 725f  _mw, qz_mvar, r_
-00028320: 6f68 6d2c 2078 5f6f 686d 2c20 766d 5f70  ohm, x_ohm, vm_p
-00028330: 752c 206e 616d 652c 2073 6c61 636b 5f77  u, name, slack_w
-00028340: 6569 6768 742c 2069 6e5f 7365 7276 6963  eight, in_servic
-00028350: 655d 0d0a 2020 2020 5f73 6574 5f65 6e74  e]..    _set_ent
-00028360: 7269 6573 286e 6574 2c20 2278 7761 7264  ries(net, "xward
-00028370: 222c 2069 6e64 6578 2c20 2a2a 6469 6374  ", index, **dict
-00028380: 287a 6970 2863 6f6c 756d 6e73 2c20 7661  (zip(columns, va
-00028390: 6c75 6573 2929 290d 0a0d 0a20 2020 2072  lues)))....    r
-000283a0: 6574 7572 6e20 696e 6465 780d 0a0d 0a0d  eturn index.....
-000283b0: 0a64 6566 2063 7265 6174 655f 6463 6c69  .def create_dcli
-000283c0: 6e65 286e 6574 2c20 6672 6f6d 5f62 7573  ne(net, from_bus
-000283d0: 2c20 746f 5f62 7573 2c20 705f 6d77 2c20  , to_bus, p_mw, 
-000283e0: 6c6f 7373 5f70 6572 6365 6e74 2c20 6c6f  loss_percent, lo
-000283f0: 7373 5f6d 772c 2076 6d5f 6672 6f6d 5f70  ss_mw, vm_from_p
-00028400: 752c 2076 6d5f 746f 5f70 752c 0d0a 2020  u, vm_to_pu,..  
-00028410: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00028420: 696e 6465 783d 4e6f 6e65 2c20 6e61 6d65  index=None, name
-00028430: 3d4e 6f6e 652c 206d 6178 5f70 5f6d 773d  =None, max_p_mw=
-00028440: 6e61 6e2c 206d 696e 5f71 5f66 726f 6d5f  nan, min_q_from_
-00028450: 6d76 6172 3d6e 616e 2c20 6d69 6e5f 715f  mvar=nan, min_q_
-00028460: 746f 5f6d 7661 723d 6e61 6e2c 0d0a 2020  to_mvar=nan,..  
-00028470: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00028480: 6d61 785f 715f 6672 6f6d 5f6d 7661 723d  max_q_from_mvar=
-00028490: 6e61 6e2c 206d 6178 5f71 5f74 6f5f 6d76  nan, max_q_to_mv
-000284a0: 6172 3d6e 616e 2c20 696e 5f73 6572 7669  ar=nan, in_servi
-000284b0: 6365 3d54 7275 6529 3a0d 0a20 2020 2022  ce=True):..    "
-000284c0: 2222 0d0a 2020 2020 4372 6561 7465 7320  ""..    Creates 
-000284d0: 6120 6463 206c 696e 652e 0d0a 0d0a 2020  a dc line.....  
-000284e0: 2020 494e 5055 543a 0d0a 2020 2020 2020    INPUT:..      
-000284f0: 2020 2a2a 6672 6f6d 5f62 7573 2a2a 2028    **from_bus** (
-00028500: 696e 7429 202d 2049 4420 6f66 2074 6865  int) - ID of the
-00028510: 2062 7573 206f 6e20 6f6e 6520 7369 6465   bus on one side
-00028520: 2077 6869 6368 2074 6865 206c 696e 6520   which the line 
-00028530: 7769 6c6c 2062 6520 636f 6e6e 6563 7465  will be connecte
-00028540: 6420 7769 7468 0d0a 0d0a 2020 2020 2020  d with....      
-00028550: 2020 2a2a 746f 5f62 7573 2a2a 2028 696e    **to_bus** (in
-00028560: 7429 202d 2049 4420 6f66 2074 6865 2062  t) - ID of the b
-00028570: 7573 206f 6e20 7468 6520 6f74 6865 7220  us on the other 
-00028580: 7369 6465 2077 6869 6368 2074 6865 206c  side which the l
-00028590: 696e 6520 7769 6c6c 2062 6520 636f 6e6e  ine will be conn
-000285a0: 6563 7465 6420 7769 7468 0d0a 0d0a 2020  ected with....  
-000285b0: 2020 2020 2020 2a2a 705f 6d77 2a2a 202d        **p_mw** -
-000285c0: 2028 666c 6f61 7429 2041 6374 6976 6520   (float) Active 
-000285d0: 706f 7765 7220 7472 616e 736d 6974 7465  power transmitte
-000285e0: 6420 6672 6f6d 2027 6672 6f6d 5f62 7573  d from 'from_bus
-000285f0: 2720 746f 2027 746f 5f62 7573 270d 0a0d  ' to 'to_bus'...
-00028600: 0a20 2020 2020 2020 202a 2a6c 6f73 735f  .        **loss_
-00028610: 7065 7263 656e 742a 2a20 2d20 2866 6c6f  percent** - (flo
-00028620: 6174 2920 5265 6c61 7469 7665 2074 7261  at) Relative tra
-00028630: 6e73 6d69 7373 696f 6e20 6c6f 7373 2069  nsmission loss i
-00028640: 6e20 7065 7263 656e 7420 6f66 2061 6374  n percent of act
-00028650: 6976 6520 706f 7765 720d 0a20 2020 2020  ive power..     
-00028660: 2020 2020 2020 2074 7261 6e73 6d69 7373         transmiss
-00028670: 696f 6e0d 0a0d 0a20 2020 2020 2020 202a  ion....        *
-00028680: 2a6c 6f73 735f 6d77 2a2a 202d 2028 666c  *loss_mw** - (fl
-00028690: 6f61 7429 2054 6f74 616c 2074 7261 6e73  oat) Total trans
-000286a0: 6d69 7373 696f 6e20 6c6f 7373 2069 6e20  mission loss in 
-000286b0: 4d57 0d0a 0d0a 2020 2020 2020 2020 2a2a  MW....        **
-000286c0: 766d 5f66 726f 6d5f 7075 2a2a 202d 2028  vm_from_pu** - (
-000286d0: 666c 6f61 7429 2056 6f6c 7461 6765 2073  float) Voltage s
-000286e0: 6574 706f 696e 7420 6174 2066 726f 6d20  etpoint at from 
-000286f0: 6275 730d 0a0d 0a20 2020 2020 2020 202a  bus....        *
-00028700: 2a76 6d5f 746f 5f70 752a 2a20 2d20 2866  *vm_to_pu** - (f
-00028710: 6c6f 6174 2920 566f 6c74 6167 6520 7365  loat) Voltage se
-00028720: 7470 6f69 6e74 2061 7420 746f 2062 7573  tpoint at to bus
-00028730: 0d0a 0d0a 2020 2020 4f50 5449 4f4e 414c  ....    OPTIONAL
-00028740: 3a0d 0a20 2020 2020 2020 202a 2a69 6e64  :..        **ind
-00028750: 6578 2a2a 2028 696e 742c 204e 6f6e 6529  ex** (int, None)
-00028760: 202d 2046 6f72 6365 2061 2073 7065 6369   - Force a speci
-00028770: 6669 6564 2049 4420 6966 2069 7420 6973  fied ID if it is
-00028780: 2061 7661 696c 6162 6c65 2e20 4966 204e   available. If N
-00028790: 6f6e 652c 2074 6865 2069 6e64 6578 206f  one, the index o
-000287a0: 6e65 205c 0d0a 2020 2020 2020 2020 2020  ne \..          
-000287b0: 2020 6869 6768 6572 2074 6861 6e20 7468    higher than th
-000287c0: 6520 6869 6768 6573 7420 616c 7265 6164  e highest alread
-000287d0: 7920 6578 6973 7469 6e67 2069 6e64 6578  y existing index
-000287e0: 2069 7320 7365 6c65 6374 6564 2e0d 0a0d   is selected....
-000287f0: 0a20 2020 2020 2020 202a 2a6e 616d 652a  .        **name*
-00028800: 2a20 2873 7472 2c20 4e6f 6e65 2920 2d20  * (str, None) - 
-00028810: 4120 6375 7374 6f6d 206e 616d 6520 666f  A custom name fo
-00028820: 7220 7468 6973 2064 6320 6c69 6e65 0d0a  r this dc line..
-00028830: 0d0a 2020 2020 2020 2020 2a2a 696e 5f73  ..        **in_s
-00028840: 6572 7669 6365 2a2a 2028 626f 6f6c 6561  ervice** (boolea
-00028850: 6e29 202d 2054 7275 6520 666f 7220 696e  n) - True for in
-00028860: 5f73 6572 7669 6365 206f 7220 4661 6c73  _service or Fals
-00028870: 6520 666f 7220 6f75 7420 6f66 2073 6572  e for out of ser
-00028880: 7669 6365 0d0a 0d0a 2020 2020 2020 2020  vice....        
-00028890: 2a2a 6d61 785f 705f 6d77 2a2a 202d 204d  **max_p_mw** - M
-000288a0: 6178 696d 756d 2061 6374 6976 6520 706f  aximum active po
-000288b0: 7765 7220 666c 6f77 2e20 4f6e 6c79 2072  wer flow. Only r
-000288c0: 6573 7065 6374 6564 2066 6f72 204f 5046  espected for OPF
-000288d0: 0d0a 0d0a 2020 2020 2020 2020 2a2a 6d69  ....        **mi
-000288e0: 6e5f 715f 6672 6f6d 5f6d 7661 722a 2a20  n_q_from_mvar** 
-000288f0: 2d20 4d69 6e69 6d75 6d20 7265 6163 7469  - Minimum reacti
-00028900: 7665 2070 6f77 6572 2061 7420 6672 6f6d  ve power at from
-00028910: 2062 7573 2e20 4e65 6365 7373 6172 7920   bus. Necessary 
-00028920: 666f 7220 4f50 460d 0a0d 0a20 2020 2020  for OPF....     
-00028930: 2020 202a 2a6d 696e 5f71 5f74 6f5f 6d76     **min_q_to_mv
-00028940: 6172 2a2a 202d 204d 696e 696d 756d 2072  ar** - Minimum r
-00028950: 6561 6374 6976 6520 706f 7765 7220 6174  eactive power at
-00028960: 2074 6f20 6275 732e 204e 6563 6573 7361   to bus. Necessa
-00028970: 7279 2066 6f72 204f 5046 0d0a 0d0a 2020  ry for OPF....  
-00028980: 2020 2020 2020 2a2a 6d61 785f 715f 6672        **max_q_fr
-00028990: 6f6d 5f6d 7661 722a 2a20 2d20 4d61 7869  om_mvar** - Maxi
-000289a0: 6d75 6d20 7265 6163 7469 7665 2070 6f77  mum reactive pow
-000289b0: 6572 2061 7420 6672 6f6d 2062 7573 2e20  er at from bus. 
-000289c0: 4e65 6365 7373 6172 7920 666f 7220 4f50  Necessary for OP
-000289d0: 460d 0a0d 0a20 2020 2020 2020 202a 2a6d  F....        **m
-000289e0: 6178 5f71 5f74 6f5f 6d76 6172 2a2a 202d  ax_q_to_mvar** -
-000289f0: 204d 6178 696d 756d 2072 6561 6374 6976   Maximum reactiv
-00028a00: 6520 706f 7765 7220 6174 2074 6f20 6275  e power at to bu
-00028a10: 732e 204e 6563 6573 7361 7279 2066 6f72  s. Necessary for
-00028a20: 204f 5046 0d0a 0d0a 2020 2020 4f55 5450   OPF....    OUTP
-00028a30: 5554 3a0d 0a20 2020 2020 2020 202a 2a69  UT:..        **i
-00028a40: 6e64 6578 2a2a 2028 696e 7429 202d 2054  ndex** (int) - T
-00028a50: 6865 2075 6e69 7175 6520 4944 206f 6620  he unique ID of 
-00028a60: 7468 6520 6372 6561 7465 6420 656c 656d  the created elem
-00028a70: 656e 740d 0a0d 0a20 2020 2045 5841 4d50  ent....    EXAMP
-00028a80: 4c45 3a0d 0a20 2020 2020 2020 2063 7265  LE:..        cre
-00028a90: 6174 655f 6463 6c69 6e65 286e 6574 2c20  ate_dcline(net, 
-00028aa0: 6672 6f6d 5f62 7573 3d30 2c20 746f 5f62  from_bus=0, to_b
-00028ab0: 7573 3d31 2c20 705f 6d77 3d31 6534 2c20  us=1, p_mw=1e4, 
-00028ac0: 6c6f 7373 5f70 6572 6365 6e74 3d31 2e32  loss_percent=1.2
-00028ad0: 2c20 6c6f 7373 5f6d 773d 3235 2c20 5c0d  , loss_mw=25, \.
-00028ae0: 0a20 2020 2020 2020 2020 2020 2076 6d5f  .            vm_
-00028af0: 6672 6f6d 5f70 753d 312e 3031 2c20 766d  from_pu=1.01, vm
-00028b00: 5f74 6f5f 7075 3d31 2e30 3229 0d0a 2020  _to_pu=1.02)..  
-00028b10: 2020 2222 220d 0a20 2020 2069 6e64 6578    """..    index
-00028b20: 203d 205f 6765 745f 696e 6465 785f 7769   = _get_index_wi
-00028b30: 7468 5f63 6865 636b 286e 6574 2c20 2264  th_check(net, "d
-00028b40: 636c 696e 6522 2c20 696e 6465 7829 0d0a  cline", index)..
-00028b50: 0d0a 2020 2020 5f63 6865 636b 5f62 7261  ..    _check_bra
-00028b60: 6e63 685f 656c 656d 656e 7428 6e65 742c  nch_element(net,
-00028b70: 2022 4443 4c69 6e65 222c 2069 6e64 6578   "DCLine", index
-00028b80: 2c20 6672 6f6d 5f62 7573 2c20 746f 5f62  , from_bus, to_b
-00028b90: 7573 290d 0a0d 0a20 2020 2063 6f6c 756d  us)....    colum
-00028ba0: 6e73 203d 205b 226e 616d 6522 2c20 2266  ns = ["name", "f
-00028bb0: 726f 6d5f 6275 7322 2c20 2274 6f5f 6275  rom_bus", "to_bu
-00028bc0: 7322 2c20 2270 5f6d 7722 2c20 226c 6f73  s", "p_mw", "los
-00028bd0: 735f 7065 7263 656e 7422 2c20 226c 6f73  s_percent", "los
-00028be0: 735f 6d77 222c 2022 766d 5f66 726f 6d5f  s_mw", "vm_from_
-00028bf0: 7075 222c 0d0a 2020 2020 2020 2020 2020  pu",..          
-00028c00: 2020 2020 2022 766d 5f74 6f5f 7075 222c       "vm_to_pu",
-00028c10: 2022 6d61 785f 705f 6d77 222c 2022 6d69   "max_p_mw", "mi
-00028c20: 6e5f 715f 6672 6f6d 5f6d 7661 7222 2c20  n_q_from_mvar", 
-00028c30: 226d 696e 5f71 5f74 6f5f 6d76 6172 222c  "min_q_to_mvar",
-00028c40: 2022 6d61 785f 715f 6672 6f6d 5f6d 7661   "max_q_from_mva
-00028c50: 7222 2c0d 0a20 2020 2020 2020 2020 2020  r",..           
-00028c60: 2020 2020 226d 6178 5f71 5f74 6f5f 6d76      "max_q_to_mv
-00028c70: 6172 222c 2022 696e 5f73 6572 7669 6365  ar", "in_service
-00028c80: 225d 0d0a 2020 2020 7661 6c75 6573 203d  "]..    values =
-00028c90: 205b 6e61 6d65 2c20 6672 6f6d 5f62 7573   [name, from_bus
-00028ca0: 2c20 746f 5f62 7573 2c20 705f 6d77 2c20  , to_bus, p_mw, 
-00028cb0: 6c6f 7373 5f70 6572 6365 6e74 2c20 6c6f  loss_percent, lo
-00028cc0: 7373 5f6d 772c 2076 6d5f 6672 6f6d 5f70  ss_mw, vm_from_p
-00028cd0: 752c 2076 6d5f 746f 5f70 752c 206d 6178  u, vm_to_pu, max
-00028ce0: 5f70 5f6d 772c 0d0a 2020 2020 2020 2020  _p_mw,..        
-00028cf0: 2020 2020 2020 6d69 6e5f 715f 6672 6f6d        min_q_from
-00028d00: 5f6d 7661 722c 206d 696e 5f71 5f74 6f5f  _mvar, min_q_to_
-00028d10: 6d76 6172 2c20 6d61 785f 715f 6672 6f6d  mvar, max_q_from
-00028d20: 5f6d 7661 722c 206d 6178 5f71 5f74 6f5f  _mvar, max_q_to_
-00028d30: 6d76 6172 2c20 696e 5f73 6572 7669 6365  mvar, in_service
-00028d40: 5d0d 0a20 2020 205f 7365 745f 656e 7472  ]..    _set_entr
-00028d50: 6965 7328 6e65 742c 2022 6463 6c69 6e65  ies(net, "dcline
-00028d60: 222c 2069 6e64 6578 2c20 2a2a 6469 6374  ", index, **dict
-00028d70: 287a 6970 2863 6f6c 756d 6e73 2c20 7661  (zip(columns, va
-00028d80: 6c75 6573 2929 290d 0a0d 0a20 2020 2072  lues)))....    r
-00028d90: 6574 7572 6e20 696e 6465 780d 0a0d 0a0d  eturn index.....
-00028da0: 0a64 6566 2063 7265 6174 655f 6d65 6173  .def create_meas
-00028db0: 7572 656d 656e 7428 6e65 742c 206d 6561  urement(net, mea
-00028dc0: 735f 7479 7065 2c20 656c 656d 656e 745f  s_type, element_
-00028dd0: 7479 7065 2c20 7661 6c75 652c 2073 7464  type, value, std
-00028de0: 5f64 6576 2c20 656c 656d 656e 742c 2073  _dev, element, s
-00028df0: 6964 653d 4e6f 6e65 2c0d 0a20 2020 2020  ide=None,..     
-00028e00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00028e10: 2020 6368 6563 6b5f 6578 6973 7469 6e67    check_existing
-00028e20: 3d54 7275 652c 2069 6e64 6578 3d4e 6f6e  =True, index=Non
-00028e30: 652c 206e 616d 653d 4e6f 6e65 293a 0d0a  e, name=None):..
-00028e40: 2020 2020 2222 220d 0a20 2020 2043 7265      """..    Cre
-00028e50: 6174 6573 2061 206d 6561 7375 7265 6d65  ates a measureme
-00028e60: 6e74 2c20 7768 6963 6820 6973 2075 7365  nt, which is use
-00028e70: 6420 6279 2074 6865 2065 7374 696d 6174  d by the estimat
-00028e80: 696f 6e20 6d6f 6475 6c65 2e20 506f 7373  ion module. Poss
-00028e90: 6962 6c65 2074 7970 6573 206f 6620 6d65  ible types of me
-00028ea0: 6173 7572 656d 656e 7473 0d0a 2020 2020  asurements..    
-00028eb0: 6172 653a 2076 2c20 702c 2071 2c20 692c  are: v, p, q, i,
-00028ec0: 2076 612c 2069 610d 0a0d 0a20 2020 2049   va, ia....    I
-00028ed0: 4e50 5554 3a0d 0a20 2020 2020 2020 202a  NPUT:..        *
-00028ee0: 2a6d 6561 735f 7479 7065 2a2a 2028 7374  *meas_type** (st
-00028ef0: 7269 6e67 2920 2d20 5479 7065 206f 6620  ring) - Type of 
-00028f00: 6d65 6173 7572 656d 656e 742e 2022 7622  measurement. "v"
-00028f10: 2c20 2270 222c 2022 7122 2c20 2269 222c  , "p", "q", "i",
-00028f20: 2022 7661 222c 2022 6961 2220 6172 6520   "va", "ia" are 
-00028f30: 706f 7373 6962 6c65 0d0a 0d0a 2020 2020  possible....    
-00028f40: 2020 2020 2a2a 656c 656d 656e 745f 7479      **element_ty
-00028f50: 7065 2a2a 2028 7374 7269 6e67 2920 2d20  pe** (string) - 
-00028f60: 436c 6172 6966 6965 7320 7768 6963 6820  Clarifies which 
-00028f70: 656c 656d 656e 7420 6973 206d 6561 7375  element is measu
-00028f80: 7265 642e 2022 6275 7322 2c20 226c 696e  red. "bus", "lin
-00028f90: 6522 2c0d 0a20 2020 2020 2020 2022 7472  e",..        "tr
-00028fa0: 6166 6f22 2c20 616e 6420 2274 7261 666f  afo", and "trafo
-00028fb0: 3377 2220 6172 6520 706f 7373 6962 6c65  3w" are possible
-00028fc0: 0d0a 0d0a 2020 2020 2020 2020 2a2a 7661  ....        **va
-00028fd0: 6c75 652a 2a20 2866 6c6f 6174 2920 2d20  lue** (float) - 
-00028fe0: 4d65 6173 7572 656d 656e 7420 7661 6c75  Measurement valu
-00028ff0: 652e 2055 6e69 7473 2061 7265 2022 4d57  e. Units are "MW
-00029000: 2220 666f 7220 502c 2022 4d56 6172 2220  " for P, "MVar" 
-00029010: 666f 7220 512c 2022 702e 752e 2220 666f  for Q, "p.u." fo
-00029020: 7220 562c 0d0a 2020 2020 2020 2020 226b  r V,..        "k
-00029030: 4122 2066 6f72 2049 2e20 4275 7320 706f  A" for I. Bus po
-00029040: 7765 7220 6d65 6173 7572 656d 656e 7420  wer measurement 
-00029050: 6973 2069 6e20 6c6f 6164 2072 6566 6572  is in load refer
-00029060: 656e 6365 2073 7973 7465 6d2c 2077 6869  ence system, whi
-00029070: 6368 2069 7320 636f 6e73 6973 7465 6e74  ch is consistent
-00029080: 2074 6f0d 0a20 2020 2020 2020 2074 6865   to..        the
-00029090: 2072 6573 7420 6f66 2070 616e 6461 706f   rest of pandapo
-000290a0: 7765 722e 0d0a 0d0a 2020 2020 2020 2020  wer.....        
-000290b0: 2a2a 7374 645f 6465 762a 2a20 2866 6c6f  **std_dev** (flo
-000290c0: 6174 2920 2d20 5374 616e 6461 7264 2064  at) - Standard d
-000290d0: 6576 6961 7469 6f6e 2069 6e20 7468 6520  eviation in the 
-000290e0: 7361 6d65 2075 6e69 7420 6173 2074 6865  same unit as the
-000290f0: 206d 6561 7375 7265 6d65 6e74 0d0a 0d0a   measurement....
-00029100: 2020 2020 2020 2020 2a2a 656c 656d 656e          **elemen
-00029110: 742a 2a20 2869 6e74 2920 2d20 496e 6465  t** (int) - Inde
-00029120: 7820 6f66 2074 6865 206d 6561 7375 7265  x of the measure
-00029130: 6420 656c 656d 656e 7420 2865 6974 6865  d element (eithe
-00029140: 7220 6275 7320 696e 6465 782c 206c 696e  r bus index, lin
-00029150: 6520 696e 6465 782c 5c0d 0a20 2020 2020  e index,\..     
-00029160: 2020 2020 2020 2074 7261 666f 2069 6e64         trafo ind
-00029170: 6578 2c20 7472 6166 6f33 7720 696e 6465  ex, trafo3w inde
-00029180: 7829 0d0a 0d0a 2020 2020 2020 2020 2a2a  x)....        **
-00029190: 7369 6465 2a2a 2028 696e 742c 2073 7472  side** (int, str
-000291a0: 696e 672c 2064 6566 6175 6c74 3a20 4e6f  ing, default: No
-000291b0: 6e65 2920 2d20 4f6e 6c79 2075 7365 6420  ne) - Only used 
-000291c0: 666f 7220 6d65 6173 7572 6564 206c 696e  for measured lin
-000291d0: 6573 206f 7220 7472 616e 7366 6f72 6d65  es or transforme
-000291e0: 7273 2e20 5369 6465 205c 0d0a 2020 2020  rs. Side \..    
-000291f0: 2020 2020 2020 2020 6465 6669 6e65 7320          defines 
-00029200: 6174 2077 6869 6368 2065 6e64 206f 6620  at which end of 
-00029210: 7468 6520 6272 616e 6368 2074 6865 206d  the branch the m
-00029220: 6561 7375 7265 6d65 6e74 2069 7320 6761  easurement is ga
-00029230: 7468 6572 6564 2e20 466f 7220 6c69 6e65  thered. For line
-00029240: 7320 7468 6973 206d 6179 2062 6520 5c0d  s this may be \.
-00029250: 0a20 2020 2020 2020 2020 2020 2022 6672  .            "fr
-00029260: 6f6d 222c 2022 746f 2220 746f 2064 656e  om", "to" to den
-00029270: 6f74 6520 7468 6520 7369 6465 2077 6974  ote the side wit
-00029280: 6820 7468 6520 6672 6f6d 5f62 7573 206f  h the from_bus o
-00029290: 7220 746f 5f62 7573 2e20 4974 2063 616e  r to_bus. It can
-000292a0: 2061 6c73 6f20 7468 6520 6265 2069 6e64   also the be ind
-000292b0: 6578 205c 0d0a 2020 2020 2020 2020 2020  ex \..          
-000292c0: 2020 6f66 2074 6865 2066 726f 6d5f 6275    of the from_bu
-000292d0: 7320 6f72 2074 6f5f 6275 732e 2046 6f72  s or to_bus. For
-000292e0: 2074 7261 6e73 666f 726d 6572 732c 2069   transformers, i
-000292f0: 7420 6361 6e20 6265 2022 6876 222c 2022  t can be "hv", "
-00029300: 6d76 2220 6f72 2022 6c76 2220 6f72 2074  mv" or "lv" or t
-00029310: 6865 205c 0d0a 2020 2020 2020 2020 2020  he \..          
-00029320: 2020 636f 7272 6573 706f 6e64 696e 6720    corresponding 
-00029330: 6275 7320 696e 6465 782c 2072 6573 7065  bus index, respe
-00029340: 6374 6976 656c 790d 0a0d 0a20 2020 204f  ctively....    O
-00029350: 5054 494f 4e41 4c3a 0d0a 2020 2020 2020  PTIONAL:..      
-00029360: 2020 2a2a 6368 6563 6b5f 6578 6973 7469    **check_existi
-00029370: 6e67 2a2a 2028 626f 6f6c 2c20 6465 6661  ng** (bool, defa
-00029380: 756c 743a 204e 6f6e 6529 202d 2043 6865  ult: None) - Che
-00029390: 636b 2066 6f72 2061 6e64 2072 6570 6c61  ck for and repla
-000293a0: 6365 2065 7869 7374 696e 6720 6d65 6173  ce existing meas
-000293b0: 7572 656d 656e 7473 2066 6f72 5c0d 0a20  urements for\.. 
-000293c0: 2020 2020 2020 2020 2020 2074 6869 7320             this 
-000293d0: 6275 732c 2074 7970 6520 616e 6420 656c  bus, type and el
-000293e0: 656d 656e 745f 7479 7065 2e20 5365 7420  ement_type. Set 
-000293f0: 6974 2074 6f20 6661 6c73 6520 666f 7220  it to false for 
-00029400: 7065 7266 6f72 6d61 6e63 6520 696d 7072  performance impr
-00029410: 6f76 656d 656e 7473 2077 6869 6368 2063  ovements which c
-00029420: 616e 5c0d 0a20 2020 2020 2020 2020 2020  an\..           
-00029430: 2063 6175 7365 2075 6e73 6166 6520 6265   cause unsafe be
-00029440: 6861 7669 6f72 0d0a 0d0a 2020 2020 2020  havior....      
-00029450: 2020 2a2a 696e 6465 782a 2a20 2869 6e74    **index** (int
-00029460: 2c20 6465 6661 756c 743a 204e 6f6e 6529  , default: None)
-00029470: 202d 2049 6e64 6578 206f 6620 7468 6520   - Index of the 
-00029480: 6d65 6173 7572 656d 656e 7420 696e 2074  measurement in t
-00029490: 6865 206d 6561 7375 7265 6d65 6e74 2074  he measurement t
-000294a0: 6162 6c65 2e20 5368 6f75 6c64 5c0d 0a20  able. Should\.. 
-000294b0: 2020 2020 2020 2020 2020 206e 6f74 2065             not e
-000294c0: 7869 7374 2061 6c72 6561 6479 2e0d 0a0d  xist already....
-000294d0: 0a20 2020 2020 2020 202a 2a6e 616d 652a  .        **name*
-000294e0: 2a20 2873 7472 2c20 6465 6661 756c 743a  * (str, default:
-000294f0: 204e 6f6e 6529 202d 204e 616d 6520 6f66   None) - Name of
-00029500: 206d 6561 7375 7265 6d65 6e74 0d0a 0d0a   measurement....
-00029510: 2020 2020 4f55 5450 5554 3a0d 0a20 2020      OUTPUT:..   
-00029520: 2020 2020 2028 696e 7429 2049 6e64 6578       (int) Index
-00029530: 206f 6620 6d65 6173 7572 656d 656e 740d   of measurement.
-00029540: 0a0d 0a20 2020 2045 5841 4d50 4c45 533a  ...    EXAMPLES:
-00029550: 0d0a 2020 2020 2020 2020 3220 4d57 206c  ..        2 MW l
-00029560: 6f61 6420 6d65 6173 7572 656d 656e 7420  oad measurement 
-00029570: 7769 7468 2030 2e30 3520 4d57 2073 7461  with 0.05 MW sta
-00029580: 6e64 6172 6420 6465 7669 6174 696f 6e20  ndard deviation 
-00029590: 6f6e 2062 7573 2030 3a0d 0a20 2020 2020  on bus 0:..     
-000295a0: 2020 2063 7265 6174 655f 6d65 6173 7572     create_measur
-000295b0: 656d 656e 7428 6e65 742c 2022 7022 2c20  ement(net, "p", 
-000295c0: 2262 7573 222c 2030 2c20 322e 2c20 302e  "bus", 0, 2., 0.
-000295d0: 3035 2e29 0d0a 0d0a 2020 2020 2020 2020  05.)....        
-000295e0: 342e 3520 4d56 6172 206c 696e 6520 6d65  4.5 MVar line me
-000295f0: 6173 7572 656d 656e 7420 7769 7468 2030  asurement with 0
-00029600: 2e31 204d 5661 7220 7374 616e 6461 7264  .1 MVar standard
-00029610: 2064 6576 6961 7469 6f6e 206f 6e20 7468   deviation on th
-00029620: 6520 2274 6f5f 6275 7322 2073 6964 6520  e "to_bus" side 
-00029630: 6f66 206c 696e 6520 320d 0a20 2020 2020  of line 2..     
-00029640: 2020 2063 7265 6174 655f 6d65 6173 7572     create_measur
-00029650: 656d 656e 7428 6e65 742c 2022 7122 2c20  ement(net, "q", 
-00029660: 226c 696e 6522 2c20 322c 2034 2e35 2c20  "line", 2, 4.5, 
-00029670: 302e 312c 2022 746f 2229 0d0a 2020 2020  0.1, "to")..    
-00029680: 2222 220d 0a20 2020 2069 6620 6d65 6173  """..    if meas
-00029690: 5f74 7970 6520 6e6f 7420 696e 2028 2276  _type not in ("v
-000296a0: 222c 2022 7022 2c20 2271 222c 2022 6922  ", "p", "q", "i"
-000296b0: 2c20 2276 6122 2c20 2269 6122 293a 0d0a  , "va", "ia"):..
-000296c0: 2020 2020 2020 2020 7261 6973 6520 5573          raise Us
-000296d0: 6572 5761 726e 696e 6728 2249 6e76 616c  erWarning("Inval
-000296e0: 6964 206d 6561 7375 7265 6d65 6e74 2074  id measurement t
-000296f0: 7970 6520 287b 7d29 222e 666f 726d 6174  ype ({})".format
-00029700: 286d 6561 735f 7479 7065 2929 0d0a 0d0a  (meas_type))....
-00029710: 2020 2020 6966 2073 6964 6520 6973 204e      if side is N
-00029720: 6f6e 6520 616e 6420 656c 656d 656e 745f  one and element_
-00029730: 7479 7065 2069 6e20 2822 6c69 6e65 222c  type in ("line",
-00029740: 2022 7472 6166 6f22 293a 0d0a 2020 2020   "trafo"):..    
-00029750: 2020 2020 7261 6973 6520 5573 6572 5761      raise UserWa
-00029760: 726e 696e 6728 2254 6865 2065 6c65 6d65  rning("The eleme
-00029770: 6e74 2074 7970 6520 277b 656c 656d 656e  nt type '{elemen
-00029780: 745f 7479 7065 7d27 2072 6571 7569 7265  t_type}' require
-00029790: 7320 6120 7661 6c75 6520 696e 2027 7369  s a value in 'si
-000297a0: 6465 2722 290d 0a0d 0a20 2020 2069 6620  de'")....    if 
-000297b0: 6d65 6173 5f74 7970 6520 696e 2028 2276  meas_type in ("v
-000297c0: 222c 2022 7661 2229 3a0d 0a20 2020 2020  ", "va"):..     
-000297d0: 2020 2065 6c65 6d65 6e74 5f74 7970 6520     element_type 
-000297e0: 3d20 2262 7573 220d 0a0d 0a20 2020 2069  = "bus"....    i
-000297f0: 6620 656c 656d 656e 745f 7479 7065 206e  f element_type n
-00029800: 6f74 2069 6e20 2822 6275 7322 2c20 226c  ot in ("bus", "l
-00029810: 696e 6522 2c20 2274 7261 666f 222c 2022  ine", "trafo", "
-00029820: 7472 6166 6f33 7722 293a 0d0a 2020 2020  trafo3w"):..    
-00029830: 2020 2020 7261 6973 6520 5573 6572 5761      raise UserWa
-00029840: 726e 696e 6728 2249 6e76 616c 6964 2065  rning("Invalid e
-00029850: 6c65 6d65 6e74 2074 7970 6520 287b 7d29  lement type ({})
-00029860: 222e 666f 726d 6174 2865 6c65 6d65 6e74  ".format(element
-00029870: 5f74 7970 6529 290d 0a0d 0a20 2020 2069  _type))....    i
-00029880: 6620 656c 656d 656e 7420 6973 206e 6f74  f element is not
-00029890: 204e 6f6e 6520 616e 6420 656c 656d 656e   None and elemen
-000298a0: 7420 6e6f 7420 696e 206e 6574 5b65 6c65  t not in net[ele
-000298b0: 6d65 6e74 5f74 7970 655d 2e69 6e64 6578  ment_type].index
-000298c0: 2e76 616c 7565 733a 0d0a 2020 2020 2020  .values:..      
-000298d0: 2020 7261 6973 6520 5573 6572 5761 726e    raise UserWarn
-000298e0: 696e 6728 227b 7d20 7769 7468 2069 6e64  ing("{} with ind
-000298f0: 6578 3d7b 7d20 646f 6573 206e 6f74 2065  ex={} does not e
-00029900: 7869 7374 222e 666f 726d 6174 2865 6c65  xist".format(ele
-00029910: 6d65 6e74 5f74 7970 652e 6361 7069 7461  ment_type.capita
-00029920: 6c69 7a65 2829 2c0d 0a20 2020 2020 2020  lize(),..       
-00029930: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00027790: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000277a0: 2074 6f5f 6275 732c 206e 6574 2e62 7573   to_bus, net.bus
+000277b0: 2e61 745b 746f 5f62 7573 2c20 2776 6e5f  .at[to_bus, 'vn_
+000277c0: 6b76 275d 2929 0d0a 0d0a 2020 2020 6261  kv']))....    ba
+000277d0: 7365 5f7a 5f6f 686d 203d 2076 6e5f 6b76  se_z_ohm = vn_kv
+000277e0: 202a 2a20 3220 2f20 736e 5f6d 7661 0d0a   ** 2 / sn_mva..
+000277f0: 2020 2020 7266 745f 7075 203d 2072 5f6f      rft_pu = r_o
+00027800: 686d 202f 2062 6173 655f 7a5f 6f68 6d0d  hm / base_z_ohm.
+00027810: 0a20 2020 2078 6674 5f70 7520 3d20 785f  .    xft_pu = x_
+00027820: 6f68 6d20 2f20 6261 7365 5f7a 5f6f 686d  ohm / base_z_ohm
+00027830: 0d0a 0d0a 2020 2020 696e 6465 7820 3d20  ....    index = 
+00027840: 6372 6561 7465 5f69 6d70 6564 616e 6365  create_impedance
+00027850: 286e 6574 2c20 6672 6f6d 5f62 7573 3d66  (net, from_bus=f
+00027860: 726f 6d5f 6275 732c 2074 6f5f 6275 733d  rom_bus, to_bus=
+00027870: 746f 5f62 7573 2c20 7266 745f 7075 3d72  to_bus, rft_pu=r
+00027880: 6674 5f70 752c 2078 6674 5f70 753d 7866  ft_pu, xft_pu=xf
+00027890: 745f 7075 2c0d 0a20 2020 2020 2020 2020  t_pu,..         
+000278a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000278b0: 2020 2020 736e 5f6d 7661 3d73 6e5f 6d76      sn_mva=sn_mv
+000278c0: 612c 206e 616d 653d 6e61 6d65 2c20 696e  a, name=name, in
+000278d0: 5f73 6572 7669 6365 3d69 6e5f 7365 7276  _service=in_serv
+000278e0: 6963 652c 2069 6e64 6578 3d69 6e64 6578  ice, index=index
+000278f0: 290d 0a20 2020 2072 6574 7572 6e20 696e  )..    return in
+00027900: 6465 780d 0a0d 0a0d 0a64 6566 2063 7265  dex......def cre
+00027910: 6174 655f 7761 7264 286e 6574 2c20 6275  ate_ward(net, bu
+00027920: 732c 2070 735f 6d77 2c20 7173 5f6d 7661  s, ps_mw, qs_mva
+00027930: 722c 2070 7a5f 6d77 2c20 717a 5f6d 7661  r, pz_mw, qz_mva
+00027940: 722c 206e 616d 653d 4e6f 6e65 2c20 696e  r, name=None, in
+00027950: 5f73 6572 7669 6365 3d54 7275 652c 2069  _service=True, i
+00027960: 6e64 6578 3d4e 6f6e 6529 3a0d 0a20 2020  ndex=None):..   
+00027970: 2022 2222 0d0a 2020 2020 4372 6561 7465   """..    Create
+00027980: 7320 6120 7761 7264 2065 7175 6976 616c  s a ward equival
+00027990: 656e 742e 0d0a 0d0a 2020 2020 4120 7761  ent.....    A wa
+000279a0: 7264 2065 7175 6976 616c 656e 7420 6973  rd equivalent is
+000279b0: 2061 2063 6f6d 6269 6e61 7469 6f6e 206f   a combination o
+000279c0: 6620 616e 2069 6d70 6564 616e 6365 206c  f an impedance l
+000279d0: 6f61 6420 616e 6420 6120 5051 206c 6f61  oad and a PQ loa
+000279e0: 642e 0d0a 0d0a 2020 2020 494e 5055 543a  d.....    INPUT:
+000279f0: 0d0a 2020 2020 2020 2020 2a2a 6e65 742a  ..        **net*
+00027a00: 2a20 2870 616e 6461 706f 7765 726e 6574  * (pandapowernet
+00027a10: 2920 2d20 5468 6520 7061 6e64 6170 6f77  ) - The pandapow
+00027a20: 6572 206e 6574 2077 6974 6869 6e20 7468  er net within th
+00027a30: 6520 656c 656d 656e 7420 7368 6f75 6c64  e element should
+00027a40: 2062 6520 6372 6561 7465 640d 0a0d 0a20   be created.... 
+00027a50: 2020 2020 2020 202a 2a62 7573 2a2a 2028         **bus** (
+00027a60: 696e 7429 202d 2020 6275 7320 6f66 2074  int) -  bus of t
+00027a70: 6865 2077 6172 6420 6571 7569 7661 6c65  he ward equivale
+00027a80: 6e74 0d0a 0d0a 2020 2020 2020 2020 2a2a  nt....        **
+00027a90: 7073 5f6d 772a 2a20 2866 6c6f 6174 2920  ps_mw** (float) 
+00027aa0: 2d20 6163 7469 7665 2070 6f77 6572 206f  - active power o
+00027ab0: 6620 7468 6520 5051 206c 6f61 640d 0a0d  f the PQ load...
+00027ac0: 0a20 2020 2020 2020 202a 2a71 735f 6d76  .        **qs_mv
+00027ad0: 6172 2a2a 2028 666c 6f61 7429 202d 2072  ar** (float) - r
+00027ae0: 6561 6374 6976 6520 706f 7765 7220 6f66  eactive power of
+00027af0: 2074 6865 2050 5120 6c6f 6164 0d0a 0d0a   the PQ load....
+00027b00: 2020 2020 2020 2020 2a2a 707a 5f6d 772a          **pz_mw*
+00027b10: 2a20 2866 6c6f 6174 2920 2d20 6163 7469  * (float) - acti
+00027b20: 7665 2070 6f77 6572 206f 6620 7468 6520  ve power of the 
+00027b30: 696d 7065 6461 6e63 6520 6c6f 6164 2069  impedance load i
+00027b40: 6e20 4d57 2061 7420 312e 7075 2076 6f6c  n MW at 1.pu vol
+00027b50: 7461 6765 0d0a 0d0a 2020 2020 2020 2020  tage....        
+00027b60: 2a2a 717a 5f6d 7661 722a 2a20 2866 6c6f  **qz_mvar** (flo
+00027b70: 6174 2920 2d20 7265 6163 7469 7665 2070  at) - reactive p
+00027b80: 6f77 6572 206f 6620 7468 6520 696d 7065  ower of the impe
+00027b90: 6461 6e63 6520 6c6f 6164 2069 6e20 4d56  dance load in MV
+00027ba0: 6172 2061 7420 312e 7075 2076 6f6c 7461  ar at 1.pu volta
+00027bb0: 6765 0d0a 0d0a 2020 2020 4f55 5450 5554  ge....    OUTPUT
+00027bc0: 3a0d 0a20 2020 2020 2020 2077 6172 6420  :..        ward 
+00027bd0: 6964 0d0a 2020 2020 2222 220d 0a20 2020  id..    """..   
+00027be0: 205f 6368 6563 6b5f 6e6f 6465 5f65 6c65   _check_node_ele
+00027bf0: 6d65 6e74 286e 6574 2c20 6275 7329 0d0a  ment(net, bus)..
+00027c00: 0d0a 2020 2020 696e 6465 7820 3d20 5f67  ..    index = _g
+00027c10: 6574 5f69 6e64 6578 5f77 6974 685f 6368  et_index_with_ch
+00027c20: 6563 6b28 6e65 742c 2022 7761 7264 222c  eck(net, "ward",
+00027c30: 2069 6e64 6578 2c20 2277 6172 6420 6571   index, "ward eq
+00027c40: 7569 7661 6c65 6e74 2229 0d0a 0d0a 2020  uivalent")....  
+00027c50: 2020 656e 7472 6965 7320 3d20 6469 6374    entries = dict
+00027c60: 287a 6970 285b 2262 7573 222c 2022 7073  (zip(["bus", "ps
+00027c70: 5f6d 7722 2c20 2271 735f 6d76 6172 222c  _mw", "qs_mvar",
+00027c80: 2022 707a 5f6d 7722 2c20 2271 7a5f 6d76   "pz_mw", "qz_mv
+00027c90: 6172 222c 2022 6e61 6d65 222c 2022 696e  ar", "name", "in
+00027ca0: 5f73 6572 7669 6365 225d 2c0d 0a20 2020  _service"],..   
+00027cb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00027cc0: 2020 2020 5b62 7573 2c20 7073 5f6d 772c      [bus, ps_mw,
+00027cd0: 2071 735f 6d76 6172 2c20 707a 5f6d 772c   qs_mvar, pz_mw,
+00027ce0: 2071 7a5f 6d76 6172 2c20 6e61 6d65 2c20   qz_mvar, name, 
+00027cf0: 696e 5f73 6572 7669 6365 5d29 290d 0a20  in_service])).. 
+00027d00: 2020 205f 7365 745f 656e 7472 6965 7328     _set_entries(
+00027d10: 6e65 742c 2022 7761 7264 222c 2069 6e64  net, "ward", ind
+00027d20: 6578 2c20 2a2a 656e 7472 6965 7329 0d0a  ex, **entries)..
+00027d30: 0d0a 2020 2020 7265 7475 726e 2069 6e64  ..    return ind
+00027d40: 6578 0d0a 0d0a 0d0a 6465 6620 6372 6561  ex......def crea
+00027d50: 7465 5f78 7761 7264 286e 6574 2c20 6275  te_xward(net, bu
+00027d60: 732c 2070 735f 6d77 2c20 7173 5f6d 7661  s, ps_mw, qs_mva
+00027d70: 722c 2070 7a5f 6d77 2c20 717a 5f6d 7661  r, pz_mw, qz_mva
+00027d80: 722c 2072 5f6f 686d 2c20 785f 6f68 6d2c  r, r_ohm, x_ohm,
+00027d90: 2076 6d5f 7075 2c20 696e 5f73 6572 7669   vm_pu, in_servi
+00027da0: 6365 3d54 7275 652c 0d0a 2020 2020 2020  ce=True,..      
+00027db0: 2020 2020 2020 2020 2020 206e 616d 653d             name=
+00027dc0: 4e6f 6e65 2c20 696e 6465 783d 4e6f 6e65  None, index=None
+00027dd0: 2c20 736c 6163 6b5f 7765 6967 6874 3d30  , slack_weight=0
+00027de0: 2e30 293a 0d0a 2020 2020 2222 220d 0a20  .0):..    """.. 
+00027df0: 2020 2043 7265 6174 6573 2061 6e20 6578     Creates an ex
+00027e00: 7465 6e64 6564 2077 6172 6420 6571 7569  tended ward equi
+00027e10: 7661 6c65 6e74 2e0d 0a0d 0a20 2020 2041  valent.....    A
+00027e20: 2077 6172 6420 6571 7569 7661 6c65 6e74   ward equivalent
+00027e30: 2069 7320 6120 636f 6d62 696e 6174 696f   is a combinatio
+00027e40: 6e20 6f66 2061 6e20 696d 7065 6461 6e63  n of an impedanc
+00027e50: 6520 6c6f 6164 2c20 6120 5051 206c 6f61  e load, a PQ loa
+00027e60: 6420 616e 6420 6173 2076 6f6c 7461 6765  d and as voltage
+00027e70: 2073 6f75 7263 6520 7769 7468 0d0a 2020   source with..  
+00027e80: 2020 616e 2069 6e74 6572 6e61 6c20 696d    an internal im
+00027e90: 7065 6461 6e63 652e 0d0a 0d0a 2020 2020  pedance.....    
+00027ea0: 494e 5055 543a 0d0a 2020 2020 2020 2020  INPUT:..        
+00027eb0: 2a2a 6e65 742a 2a20 2d20 5468 6520 7061  **net** - The pa
+00027ec0: 6e64 6170 6f77 6572 206e 6574 2077 6974  ndapower net wit
+00027ed0: 6869 6e20 7468 6520 696d 7065 6461 6e63  hin the impedanc
+00027ee0: 6520 7368 6f75 6c64 2062 6520 6372 6561  e should be crea
+00027ef0: 7465 640d 0a0d 0a20 2020 2020 2020 202a  ted....        *
+00027f00: 2a62 7573 2a2a 2028 696e 7429 202d 2020  *bus** (int) -  
+00027f10: 6275 7320 6f66 2074 6865 2077 6172 6420  bus of the ward 
+00027f20: 6571 7569 7661 6c65 6e74 0d0a 0d0a 2020  equivalent....  
+00027f30: 2020 2020 2020 2a2a 7073 5f6d 772a 2a20        **ps_mw** 
+00027f40: 2866 6c6f 6174 2920 2d20 6163 7469 7665  (float) - active
+00027f50: 2070 6f77 6572 206f 6620 7468 6520 5051   power of the PQ
+00027f60: 206c 6f61 640d 0a0d 0a20 2020 2020 2020   load....       
+00027f70: 202a 2a71 735f 6d76 6172 2a2a 2028 666c   **qs_mvar** (fl
+00027f80: 6f61 7429 202d 2072 6561 6374 6976 6520  oat) - reactive 
+00027f90: 706f 7765 7220 6f66 2074 6865 2050 5120  power of the PQ 
+00027fa0: 6c6f 6164 0d0a 0d0a 2020 2020 2020 2020  load....        
+00027fb0: 2a2a 707a 5f6d 772a 2a20 2866 6c6f 6174  **pz_mw** (float
+00027fc0: 2920 2d20 6163 7469 7665 2070 6f77 6572  ) - active power
+00027fd0: 206f 6620 7468 6520 696d 7065 6461 6e63   of the impedanc
+00027fe0: 6520 6c6f 6164 2069 6e20 4d57 2061 7420  e load in MW at 
+00027ff0: 312e 7075 2076 6f6c 7461 6765 0d0a 0d0a  1.pu voltage....
+00028000: 2020 2020 2020 2020 2a2a 717a 5f6d 7661          **qz_mva
+00028010: 722a 2a20 2866 6c6f 6174 2920 2d20 7265  r** (float) - re
+00028020: 6163 7469 7665 2070 6f77 6572 206f 6620  active power of 
+00028030: 7468 6520 696d 7065 6461 6e63 6520 6c6f  the impedance lo
+00028040: 6164 2069 6e20 4d56 6172 2061 7420 312e  ad in MVar at 1.
+00028050: 7075 2076 6f6c 7461 6765 0d0a 0d0a 2020  pu voltage....  
+00028060: 2020 2020 2020 2a2a 725f 6f68 6d2a 2a20        **r_ohm** 
+00028070: 2866 6c6f 6174 2920 2d20 696e 7465 726e  (float) - intern
+00028080: 616c 2072 6573 6973 7461 6e63 6520 6f66  al resistance of
+00028090: 2074 6865 2076 6f6c 7461 6765 2073 6f75   the voltage sou
+000280a0: 7263 650d 0a0d 0a20 2020 2020 2020 202a  rce....        *
+000280b0: 2a78 5f6f 686d 2a2a 2028 666c 6f61 7429  *x_ohm** (float)
+000280c0: 202d 2069 6e74 6572 6e61 6c20 7265 6163   - internal reac
+000280d0: 7461 6e63 6520 6f66 2074 6865 2076 6f6c  tance of the vol
+000280e0: 7461 6765 2073 6f75 7263 650d 0a0d 0a20  tage source.... 
+000280f0: 2020 2020 2020 202a 2a76 6d5f 7075 2a2a         **vm_pu**
+00028100: 2028 666c 6f61 7429 202d 2076 6f6c 7461   (float) - volta
+00028110: 6765 206d 6167 6e69 7475 6465 2061 7420  ge magnitude at 
+00028120: 7468 6520 6164 6469 7469 6f6e 616c 2050  the additional P
+00028130: 562d 6e6f 6465 0d0a 0d0a 2020 2020 2020  V-node....      
+00028140: 2020 2a2a 736c 6163 6b5f 7765 6967 6874    **slack_weight
+00028150: 2a2a 2028 666c 6f61 742c 2064 6566 6175  ** (float, defau
+00028160: 6c74 2031 2e30 2920 2d20 436f 6e74 7269  lt 1.0) - Contri
+00028170: 6275 7469 6f6e 2066 6163 746f 7220 666f  bution factor fo
+00028180: 7220 6469 7374 7269 6275 7465 6420 736c  r distributed sl
+00028190: 6163 6b20 706f 7765 7220 666c 6f77 2063  ack power flow c
+000281a0: 616c 6375 6c61 7469 6f6e 2028 6163 7469  alculation (acti
+000281b0: 7665 2070 6f77 6572 2062 616c 616e 6369  ve power balanci
+000281c0: 6e67 290d 0a0d 0a20 2020 204f 5554 5055  ng)....    OUTPU
+000281d0: 543a 0d0a 2020 2020 2020 2020 7877 6172  T:..        xwar
+000281e0: 6420 6964 0d0a 2020 2020 2222 220d 0a20  d id..    """.. 
+000281f0: 2020 205f 6368 6563 6b5f 6e6f 6465 5f65     _check_node_e
+00028200: 6c65 6d65 6e74 286e 6574 2c20 6275 7329  lement(net, bus)
+00028210: 0d0a 0d0a 2020 2020 696e 6465 7820 3d20  ....    index = 
+00028220: 5f67 6574 5f69 6e64 6578 5f77 6974 685f  _get_index_with_
+00028230: 6368 6563 6b28 6e65 742c 2022 7877 6172  check(net, "xwar
+00028240: 6422 2c20 696e 6465 782c 2022 6578 7465  d", index, "exte
+00028250: 6e64 6564 2077 6172 6420 6571 7569 7661  nded ward equiva
+00028260: 6c65 6e74 2229 0d0a 0d0a 2020 2020 636f  lent")....    co
+00028270: 6c75 6d6e 7320 3d20 5b22 6275 7322 2c20  lumns = ["bus", 
+00028280: 2270 735f 6d77 222c 2022 7173 5f6d 7661  "ps_mw", "qs_mva
+00028290: 7222 2c20 2270 7a5f 6d77 222c 2022 717a  r", "pz_mw", "qz
+000282a0: 5f6d 7661 7222 2c20 2272 5f6f 686d 222c  _mvar", "r_ohm",
+000282b0: 2022 785f 6f68 6d22 2c20 2276 6d5f 7075   "x_ohm", "vm_pu
+000282c0: 222c 2022 6e61 6d65 222c 0d0a 2020 2020  ", "name",..    
+000282d0: 2020 2020 2020 2020 2020 2022 736c 6163             "slac
+000282e0: 6b5f 7765 6967 6874 222c 2022 696e 5f73  k_weight", "in_s
+000282f0: 6572 7669 6365 225d 0d0a 2020 2020 7661  ervice"]..    va
+00028300: 6c75 6573 203d 205b 6275 732c 2070 735f  lues = [bus, ps_
+00028310: 6d77 2c20 7173 5f6d 7661 722c 2070 7a5f  mw, qs_mvar, pz_
+00028320: 6d77 2c20 717a 5f6d 7661 722c 2072 5f6f  mw, qz_mvar, r_o
+00028330: 686d 2c20 785f 6f68 6d2c 2076 6d5f 7075  hm, x_ohm, vm_pu
+00028340: 2c20 6e61 6d65 2c20 736c 6163 6b5f 7765  , name, slack_we
+00028350: 6967 6874 2c20 696e 5f73 6572 7669 6365  ight, in_service
+00028360: 5d0d 0a20 2020 205f 7365 745f 656e 7472  ]..    _set_entr
+00028370: 6965 7328 6e65 742c 2022 7877 6172 6422  ies(net, "xward"
+00028380: 2c20 696e 6465 782c 202a 2a64 6963 7428  , index, **dict(
+00028390: 7a69 7028 636f 6c75 6d6e 732c 2076 616c  zip(columns, val
+000283a0: 7565 7329 2929 0d0a 0d0a 2020 2020 7265  ues)))....    re
+000283b0: 7475 726e 2069 6e64 6578 0d0a 0d0a 0d0a  turn index......
+000283c0: 6465 6620 6372 6561 7465 5f64 636c 696e  def create_dclin
+000283d0: 6528 6e65 742c 2066 726f 6d5f 6275 732c  e(net, from_bus,
+000283e0: 2074 6f5f 6275 732c 2070 5f6d 772c 206c   to_bus, p_mw, l
+000283f0: 6f73 735f 7065 7263 656e 742c 206c 6f73  oss_percent, los
+00028400: 735f 6d77 2c20 766d 5f66 726f 6d5f 7075  s_mw, vm_from_pu
+00028410: 2c20 766d 5f74 6f5f 7075 2c0d 0a20 2020  , vm_to_pu,..   
+00028420: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+00028430: 6e64 6578 3d4e 6f6e 652c 206e 616d 653d  ndex=None, name=
+00028440: 4e6f 6e65 2c20 6d61 785f 705f 6d77 3d6e  None, max_p_mw=n
+00028450: 616e 2c20 6d69 6e5f 715f 6672 6f6d 5f6d  an, min_q_from_m
+00028460: 7661 723d 6e61 6e2c 206d 696e 5f71 5f74  var=nan, min_q_t
+00028470: 6f5f 6d76 6172 3d6e 616e 2c0d 0a20 2020  o_mvar=nan,..   
+00028480: 2020 2020 2020 2020 2020 2020 2020 206d                 m
+00028490: 6178 5f71 5f66 726f 6d5f 6d76 6172 3d6e  ax_q_from_mvar=n
+000284a0: 616e 2c20 6d61 785f 715f 746f 5f6d 7661  an, max_q_to_mva
+000284b0: 723d 6e61 6e2c 2069 6e5f 7365 7276 6963  r=nan, in_servic
+000284c0: 653d 5472 7565 293a 0d0a 2020 2020 2222  e=True):..    ""
+000284d0: 220d 0a20 2020 2043 7265 6174 6573 2061  "..    Creates a
+000284e0: 2064 6320 6c69 6e65 2e0d 0a0d 0a20 2020   dc line.....   
+000284f0: 2049 4e50 5554 3a0d 0a20 2020 2020 2020   INPUT:..       
+00028500: 202a 2a66 726f 6d5f 6275 732a 2a20 2869   **from_bus** (i
+00028510: 6e74 2920 2d20 4944 206f 6620 7468 6520  nt) - ID of the 
+00028520: 6275 7320 6f6e 206f 6e65 2073 6964 6520  bus on one side 
+00028530: 7768 6963 6820 7468 6520 6c69 6e65 2077  which the line w
+00028540: 696c 6c20 6265 2063 6f6e 6e65 6374 6564  ill be connected
+00028550: 2077 6974 680d 0a0d 0a20 2020 2020 2020   with....       
+00028560: 202a 2a74 6f5f 6275 732a 2a20 2869 6e74   **to_bus** (int
+00028570: 2920 2d20 4944 206f 6620 7468 6520 6275  ) - ID of the bu
+00028580: 7320 6f6e 2074 6865 206f 7468 6572 2073  s on the other s
+00028590: 6964 6520 7768 6963 6820 7468 6520 6c69  ide which the li
+000285a0: 6e65 2077 696c 6c20 6265 2063 6f6e 6e65  ne will be conne
+000285b0: 6374 6564 2077 6974 680d 0a0d 0a20 2020  cted with....   
+000285c0: 2020 2020 202a 2a70 5f6d 772a 2a20 2d20       **p_mw** - 
+000285d0: 2866 6c6f 6174 2920 4163 7469 7665 2070  (float) Active p
+000285e0: 6f77 6572 2074 7261 6e73 6d69 7474 6564  ower transmitted
+000285f0: 2066 726f 6d20 2766 726f 6d5f 6275 7327   from 'from_bus'
+00028600: 2074 6f20 2774 6f5f 6275 7327 0d0a 0d0a   to 'to_bus'....
+00028610: 2020 2020 2020 2020 2a2a 6c6f 7373 5f70          **loss_p
+00028620: 6572 6365 6e74 2a2a 202d 2028 666c 6f61  ercent** - (floa
+00028630: 7429 2052 656c 6174 6976 6520 7472 616e  t) Relative tran
+00028640: 736d 6973 7369 6f6e 206c 6f73 7320 696e  smission loss in
+00028650: 2070 6572 6365 6e74 206f 6620 6163 7469   percent of acti
+00028660: 7665 2070 6f77 6572 0d0a 2020 2020 2020  ve power..      
+00028670: 2020 2020 2020 7472 616e 736d 6973 7369        transmissi
+00028680: 6f6e 0d0a 0d0a 2020 2020 2020 2020 2a2a  on....        **
+00028690: 6c6f 7373 5f6d 772a 2a20 2d20 2866 6c6f  loss_mw** - (flo
+000286a0: 6174 2920 546f 7461 6c20 7472 616e 736d  at) Total transm
+000286b0: 6973 7369 6f6e 206c 6f73 7320 696e 204d  ission loss in M
+000286c0: 570d 0a0d 0a20 2020 2020 2020 202a 2a76  W....        **v
+000286d0: 6d5f 6672 6f6d 5f70 752a 2a20 2d20 2866  m_from_pu** - (f
+000286e0: 6c6f 6174 2920 566f 6c74 6167 6520 7365  loat) Voltage se
+000286f0: 7470 6f69 6e74 2061 7420 6672 6f6d 2062  tpoint at from b
+00028700: 7573 0d0a 0d0a 2020 2020 2020 2020 2a2a  us....        **
+00028710: 766d 5f74 6f5f 7075 2a2a 202d 2028 666c  vm_to_pu** - (fl
+00028720: 6f61 7429 2056 6f6c 7461 6765 2073 6574  oat) Voltage set
+00028730: 706f 696e 7420 6174 2074 6f20 6275 730d  point at to bus.
+00028740: 0a0d 0a20 2020 204f 5054 494f 4e41 4c3a  ...    OPTIONAL:
+00028750: 0d0a 2020 2020 2020 2020 2a2a 696e 6465  ..        **inde
+00028760: 782a 2a20 2869 6e74 2c20 4e6f 6e65 2920  x** (int, None) 
+00028770: 2d20 466f 7263 6520 6120 7370 6563 6966  - Force a specif
+00028780: 6965 6420 4944 2069 6620 6974 2069 7320  ied ID if it is 
+00028790: 6176 6169 6c61 626c 652e 2049 6620 4e6f  available. If No
+000287a0: 6e65 2c20 7468 6520 696e 6465 7820 6f6e  ne, the index on
+000287b0: 6520 5c0d 0a20 2020 2020 2020 2020 2020  e \..           
+000287c0: 2068 6967 6865 7220 7468 616e 2074 6865   higher than the
+000287d0: 2068 6967 6865 7374 2061 6c72 6561 6479   highest already
+000287e0: 2065 7869 7374 696e 6720 696e 6465 7820   existing index 
+000287f0: 6973 2073 656c 6563 7465 642e 0d0a 0d0a  is selected.....
+00028800: 2020 2020 2020 2020 2a2a 6e61 6d65 2a2a          **name**
+00028810: 2028 7374 722c 204e 6f6e 6529 202d 2041   (str, None) - A
+00028820: 2063 7573 746f 6d20 6e61 6d65 2066 6f72   custom name for
+00028830: 2074 6869 7320 6463 206c 696e 650d 0a0d   this dc line...
+00028840: 0a20 2020 2020 2020 202a 2a69 6e5f 7365  .        **in_se
+00028850: 7276 6963 652a 2a20 2862 6f6f 6c65 616e  rvice** (boolean
+00028860: 2920 2d20 5472 7565 2066 6f72 2069 6e5f  ) - True for in_
+00028870: 7365 7276 6963 6520 6f72 2046 616c 7365  service or False
+00028880: 2066 6f72 206f 7574 206f 6620 7365 7276   for out of serv
+00028890: 6963 650d 0a0d 0a20 2020 2020 2020 202a  ice....        *
+000288a0: 2a6d 6178 5f70 5f6d 772a 2a20 2d20 4d61  *max_p_mw** - Ma
+000288b0: 7869 6d75 6d20 6163 7469 7665 2070 6f77  ximum active pow
+000288c0: 6572 2066 6c6f 772e 204f 6e6c 7920 7265  er flow. Only re
+000288d0: 7370 6563 7465 6420 666f 7220 4f50 460d  spected for OPF.
+000288e0: 0a0d 0a20 2020 2020 2020 202a 2a6d 696e  ...        **min
+000288f0: 5f71 5f66 726f 6d5f 6d76 6172 2a2a 202d  _q_from_mvar** -
+00028900: 204d 696e 696d 756d 2072 6561 6374 6976   Minimum reactiv
+00028910: 6520 706f 7765 7220 6174 2066 726f 6d20  e power at from 
+00028920: 6275 732e 204e 6563 6573 7361 7279 2066  bus. Necessary f
+00028930: 6f72 204f 5046 0d0a 0d0a 2020 2020 2020  or OPF....      
+00028940: 2020 2a2a 6d69 6e5f 715f 746f 5f6d 7661    **min_q_to_mva
+00028950: 722a 2a20 2d20 4d69 6e69 6d75 6d20 7265  r** - Minimum re
+00028960: 6163 7469 7665 2070 6f77 6572 2061 7420  active power at 
+00028970: 746f 2062 7573 2e20 4e65 6365 7373 6172  to bus. Necessar
+00028980: 7920 666f 7220 4f50 460d 0a0d 0a20 2020  y for OPF....   
+00028990: 2020 2020 202a 2a6d 6178 5f71 5f66 726f       **max_q_fro
+000289a0: 6d5f 6d76 6172 2a2a 202d 204d 6178 696d  m_mvar** - Maxim
+000289b0: 756d 2072 6561 6374 6976 6520 706f 7765  um reactive powe
+000289c0: 7220 6174 2066 726f 6d20 6275 732e 204e  r at from bus. N
+000289d0: 6563 6573 7361 7279 2066 6f72 204f 5046  ecessary for OPF
+000289e0: 0d0a 0d0a 2020 2020 2020 2020 2a2a 6d61  ....        **ma
+000289f0: 785f 715f 746f 5f6d 7661 722a 2a20 2d20  x_q_to_mvar** - 
+00028a00: 4d61 7869 6d75 6d20 7265 6163 7469 7665  Maximum reactive
+00028a10: 2070 6f77 6572 2061 7420 746f 2062 7573   power at to bus
+00028a20: 2e20 4e65 6365 7373 6172 7920 666f 7220  . Necessary for 
+00028a30: 4f50 460d 0a0d 0a20 2020 204f 5554 5055  OPF....    OUTPU
+00028a40: 543a 0d0a 2020 2020 2020 2020 2a2a 696e  T:..        **in
+00028a50: 6465 782a 2a20 2869 6e74 2920 2d20 5468  dex** (int) - Th
+00028a60: 6520 756e 6971 7565 2049 4420 6f66 2074  e unique ID of t
+00028a70: 6865 2063 7265 6174 6564 2065 6c65 6d65  he created eleme
+00028a80: 6e74 0d0a 0d0a 2020 2020 4558 414d 504c  nt....    EXAMPL
+00028a90: 453a 0d0a 2020 2020 2020 2020 6372 6561  E:..        crea
+00028aa0: 7465 5f64 636c 696e 6528 6e65 742c 2066  te_dcline(net, f
+00028ab0: 726f 6d5f 6275 733d 302c 2074 6f5f 6275  rom_bus=0, to_bu
+00028ac0: 733d 312c 2070 5f6d 773d 3165 342c 206c  s=1, p_mw=1e4, l
+00028ad0: 6f73 735f 7065 7263 656e 743d 312e 322c  oss_percent=1.2,
+00028ae0: 206c 6f73 735f 6d77 3d32 352c 205c 0d0a   loss_mw=25, \..
+00028af0: 2020 2020 2020 2020 2020 2020 766d 5f66              vm_f
+00028b00: 726f 6d5f 7075 3d31 2e30 312c 2076 6d5f  rom_pu=1.01, vm_
+00028b10: 746f 5f70 753d 312e 3032 290d 0a20 2020  to_pu=1.02)..   
+00028b20: 2022 2222 0d0a 2020 2020 696e 6465 7820   """..    index 
+00028b30: 3d20 5f67 6574 5f69 6e64 6578 5f77 6974  = _get_index_wit
+00028b40: 685f 6368 6563 6b28 6e65 742c 2022 6463  h_check(net, "dc
+00028b50: 6c69 6e65 222c 2069 6e64 6578 290d 0a0d  line", index)...
+00028b60: 0a20 2020 205f 6368 6563 6b5f 6272 616e  .    _check_bran
+00028b70: 6368 5f65 6c65 6d65 6e74 286e 6574 2c20  ch_element(net, 
+00028b80: 2244 434c 696e 6522 2c20 696e 6465 782c  "DCLine", index,
+00028b90: 2066 726f 6d5f 6275 732c 2074 6f5f 6275   from_bus, to_bu
+00028ba0: 7329 0d0a 0d0a 2020 2020 636f 6c75 6d6e  s)....    column
+00028bb0: 7320 3d20 5b22 6e61 6d65 222c 2022 6672  s = ["name", "fr
+00028bc0: 6f6d 5f62 7573 222c 2022 746f 5f62 7573  om_bus", "to_bus
+00028bd0: 222c 2022 705f 6d77 222c 2022 6c6f 7373  ", "p_mw", "loss
+00028be0: 5f70 6572 6365 6e74 222c 2022 6c6f 7373  _percent", "loss
+00028bf0: 5f6d 7722 2c20 2276 6d5f 6672 6f6d 5f70  _mw", "vm_from_p
+00028c00: 7522 2c0d 0a20 2020 2020 2020 2020 2020  u",..           
+00028c10: 2020 2020 2276 6d5f 746f 5f70 7522 2c20      "vm_to_pu", 
+00028c20: 226d 6178 5f70 5f6d 7722 2c20 226d 696e  "max_p_mw", "min
+00028c30: 5f71 5f66 726f 6d5f 6d76 6172 222c 2022  _q_from_mvar", "
+00028c40: 6d69 6e5f 715f 746f 5f6d 7661 7222 2c20  min_q_to_mvar", 
+00028c50: 226d 6178 5f71 5f66 726f 6d5f 6d76 6172  "max_q_from_mvar
+00028c60: 222c 0d0a 2020 2020 2020 2020 2020 2020  ",..            
+00028c70: 2020 2022 6d61 785f 715f 746f 5f6d 7661     "max_q_to_mva
+00028c80: 7222 2c20 2269 6e5f 7365 7276 6963 6522  r", "in_service"
+00028c90: 5d0d 0a20 2020 2076 616c 7565 7320 3d20  ]..    values = 
+00028ca0: 5b6e 616d 652c 2066 726f 6d5f 6275 732c  [name, from_bus,
+00028cb0: 2074 6f5f 6275 732c 2070 5f6d 772c 206c   to_bus, p_mw, l
+00028cc0: 6f73 735f 7065 7263 656e 742c 206c 6f73  oss_percent, los
+00028cd0: 735f 6d77 2c20 766d 5f66 726f 6d5f 7075  s_mw, vm_from_pu
+00028ce0: 2c20 766d 5f74 6f5f 7075 2c20 6d61 785f  , vm_to_pu, max_
+00028cf0: 705f 6d77 2c0d 0a20 2020 2020 2020 2020  p_mw,..         
+00028d00: 2020 2020 206d 696e 5f71 5f66 726f 6d5f       min_q_from_
+00028d10: 6d76 6172 2c20 6d69 6e5f 715f 746f 5f6d  mvar, min_q_to_m
+00028d20: 7661 722c 206d 6178 5f71 5f66 726f 6d5f  var, max_q_from_
+00028d30: 6d76 6172 2c20 6d61 785f 715f 746f 5f6d  mvar, max_q_to_m
+00028d40: 7661 722c 2069 6e5f 7365 7276 6963 655d  var, in_service]
+00028d50: 0d0a 2020 2020 5f73 6574 5f65 6e74 7269  ..    _set_entri
+00028d60: 6573 286e 6574 2c20 2264 636c 696e 6522  es(net, "dcline"
+00028d70: 2c20 696e 6465 782c 202a 2a64 6963 7428  , index, **dict(
+00028d80: 7a69 7028 636f 6c75 6d6e 732c 2076 616c  zip(columns, val
+00028d90: 7565 7329 2929 0d0a 0d0a 2020 2020 7265  ues)))....    re
+00028da0: 7475 726e 2069 6e64 6578 0d0a 0d0a 0d0a  turn index......
+00028db0: 6465 6620 6372 6561 7465 5f6d 6561 7375  def create_measu
+00028dc0: 7265 6d65 6e74 286e 6574 2c20 6d65 6173  rement(net, meas
+00028dd0: 5f74 7970 652c 2065 6c65 6d65 6e74 5f74  _type, element_t
+00028de0: 7970 652c 2076 616c 7565 2c20 7374 645f  ype, value, std_
+00028df0: 6465 762c 2065 6c65 6d65 6e74 2c20 7369  dev, element, si
+00028e00: 6465 3d4e 6f6e 652c 0d0a 2020 2020 2020  de=None,..      
+00028e10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00028e20: 2063 6865 636b 5f65 7869 7374 696e 673d   check_existing=
+00028e30: 5472 7565 2c20 696e 6465 783d 4e6f 6e65  True, index=None
+00028e40: 2c20 6e61 6d65 3d4e 6f6e 6529 3a0d 0a20  , name=None):.. 
+00028e50: 2020 2022 2222 0d0a 2020 2020 4372 6561     """..    Crea
+00028e60: 7465 7320 6120 6d65 6173 7572 656d 656e  tes a measuremen
+00028e70: 742c 2077 6869 6368 2069 7320 7573 6564  t, which is used
+00028e80: 2062 7920 7468 6520 6573 7469 6d61 7469   by the estimati
+00028e90: 6f6e 206d 6f64 756c 652e 2050 6f73 7369  on module. Possi
+00028ea0: 626c 6520 7479 7065 7320 6f66 206d 6561  ble types of mea
+00028eb0: 7375 7265 6d65 6e74 730d 0a20 2020 2061  surements..    a
+00028ec0: 7265 3a20 762c 2070 2c20 712c 2069 2c20  re: v, p, q, i, 
+00028ed0: 7661 2c20 6961 0d0a 0d0a 2020 2020 494e  va, ia....    IN
+00028ee0: 5055 543a 0d0a 2020 2020 2020 2020 2a2a  PUT:..        **
+00028ef0: 6d65 6173 5f74 7970 652a 2a20 2873 7472  meas_type** (str
+00028f00: 696e 6729 202d 2054 7970 6520 6f66 206d  ing) - Type of m
+00028f10: 6561 7375 7265 6d65 6e74 2e20 2276 222c  easurement. "v",
+00028f20: 2022 7022 2c20 2271 222c 2022 6922 2c20   "p", "q", "i", 
+00028f30: 2276 6122 2c20 2269 6122 2061 7265 2070  "va", "ia" are p
+00028f40: 6f73 7369 626c 650d 0a0d 0a20 2020 2020  ossible....     
+00028f50: 2020 202a 2a65 6c65 6d65 6e74 5f74 7970     **element_typ
+00028f60: 652a 2a20 2873 7472 696e 6729 202d 2043  e** (string) - C
+00028f70: 6c61 7269 6669 6573 2077 6869 6368 2065  larifies which e
+00028f80: 6c65 6d65 6e74 2069 7320 6d65 6173 7572  lement is measur
+00028f90: 6564 2e20 2262 7573 222c 2022 6c69 6e65  ed. "bus", "line
+00028fa0: 222c 0d0a 2020 2020 2020 2020 2274 7261  ",..        "tra
+00028fb0: 666f 222c 2061 6e64 2022 7472 6166 6f33  fo", and "trafo3
+00028fc0: 7722 2061 7265 2070 6f73 7369 626c 650d  w" are possible.
+00028fd0: 0a0d 0a20 2020 2020 2020 202a 2a76 616c  ...        **val
+00028fe0: 7565 2a2a 2028 666c 6f61 7429 202d 204d  ue** (float) - M
+00028ff0: 6561 7375 7265 6d65 6e74 2076 616c 7565  easurement value
+00029000: 2e20 556e 6974 7320 6172 6520 224d 5722  . Units are "MW"
+00029010: 2066 6f72 2050 2c20 224d 5661 7222 2066   for P, "MVar" f
+00029020: 6f72 2051 2c20 2270 2e75 2e22 2066 6f72  or Q, "p.u." for
+00029030: 2056 2c0d 0a20 2020 2020 2020 2022 6b41   V,..        "kA
+00029040: 2220 666f 7220 492e 2042 7573 2070 6f77  " for I. Bus pow
+00029050: 6572 206d 6561 7375 7265 6d65 6e74 2069  er measurement i
+00029060: 7320 696e 206c 6f61 6420 7265 6665 7265  s in load refere
+00029070: 6e63 6520 7379 7374 656d 2c20 7768 6963  nce system, whic
+00029080: 6820 6973 2063 6f6e 7369 7374 656e 7420  h is consistent 
+00029090: 746f 0d0a 2020 2020 2020 2020 7468 6520  to..        the 
+000290a0: 7265 7374 206f 6620 7061 6e64 6170 6f77  rest of pandapow
+000290b0: 6572 2e0d 0a0d 0a20 2020 2020 2020 202a  er.....        *
+000290c0: 2a73 7464 5f64 6576 2a2a 2028 666c 6f61  *std_dev** (floa
+000290d0: 7429 202d 2053 7461 6e64 6172 6420 6465  t) - Standard de
+000290e0: 7669 6174 696f 6e20 696e 2074 6865 2073  viation in the s
+000290f0: 616d 6520 756e 6974 2061 7320 7468 6520  ame unit as the 
+00029100: 6d65 6173 7572 656d 656e 740d 0a0d 0a20  measurement.... 
+00029110: 2020 2020 2020 202a 2a65 6c65 6d65 6e74         **element
+00029120: 2a2a 2028 696e 7429 202d 2049 6e64 6578  ** (int) - Index
+00029130: 206f 6620 7468 6520 6d65 6173 7572 6564   of the measured
+00029140: 2065 6c65 6d65 6e74 2028 6569 7468 6572   element (either
+00029150: 2062 7573 2069 6e64 6578 2c20 6c69 6e65   bus index, line
+00029160: 2069 6e64 6578 2c5c 0d0a 2020 2020 2020   index,\..      
+00029170: 2020 2020 2020 7472 6166 6f20 696e 6465        trafo inde
+00029180: 782c 2074 7261 666f 3377 2069 6e64 6578  x, trafo3w index
+00029190: 290d 0a0d 0a20 2020 2020 2020 202a 2a73  )....        **s
+000291a0: 6964 652a 2a20 2869 6e74 2c20 7374 7269  ide** (int, stri
+000291b0: 6e67 2c20 6465 6661 756c 743a 204e 6f6e  ng, default: Non
+000291c0: 6529 202d 204f 6e6c 7920 7573 6564 2066  e) - Only used f
+000291d0: 6f72 206d 6561 7375 7265 6420 6c69 6e65  or measured line
+000291e0: 7320 6f72 2074 7261 6e73 666f 726d 6572  s or transformer
+000291f0: 732e 2053 6964 6520 5c0d 0a20 2020 2020  s. Side \..     
+00029200: 2020 2020 2020 2064 6566 696e 6573 2061         defines a
+00029210: 7420 7768 6963 6820 656e 6420 6f66 2074  t which end of t
+00029220: 6865 2062 7261 6e63 6820 7468 6520 6d65  he branch the me
+00029230: 6173 7572 656d 656e 7420 6973 2067 6174  asurement is gat
+00029240: 6865 7265 642e 2046 6f72 206c 696e 6573  hered. For lines
+00029250: 2074 6869 7320 6d61 7920 6265 205c 0d0a   this may be \..
+00029260: 2020 2020 2020 2020 2020 2020 2266 726f              "fro
+00029270: 6d22 2c20 2274 6f22 2074 6f20 6465 6e6f  m", "to" to deno
+00029280: 7465 2074 6865 2073 6964 6520 7769 7468  te the side with
+00029290: 2074 6865 2066 726f 6d5f 6275 7320 6f72   the from_bus or
+000292a0: 2074 6f5f 6275 732e 2049 7420 6361 6e20   to_bus. It can 
+000292b0: 616c 736f 2074 6865 2062 6520 696e 6465  also the be inde
+000292c0: 7820 5c0d 0a20 2020 2020 2020 2020 2020  x \..           
+000292d0: 206f 6620 7468 6520 6672 6f6d 5f62 7573   of the from_bus
+000292e0: 206f 7220 746f 5f62 7573 2e20 466f 7220   or to_bus. For 
+000292f0: 7472 616e 7366 6f72 6d65 7273 2c20 6974  transformers, it
+00029300: 2063 616e 2062 6520 2268 7622 2c20 226d   can be "hv", "m
+00029310: 7622 206f 7220 226c 7622 206f 7220 7468  v" or "lv" or th
+00029320: 6520 5c0d 0a20 2020 2020 2020 2020 2020  e \..           
+00029330: 2063 6f72 7265 7370 6f6e 6469 6e67 2062   corresponding b
+00029340: 7573 2069 6e64 6578 2c20 7265 7370 6563  us index, respec
+00029350: 7469 7665 6c79 0d0a 0d0a 2020 2020 4f50  tively....    OP
+00029360: 5449 4f4e 414c 3a0d 0a20 2020 2020 2020  TIONAL:..       
+00029370: 202a 2a63 6865 636b 5f65 7869 7374 696e   **check_existin
+00029380: 672a 2a20 2862 6f6f 6c2c 2064 6566 6175  g** (bool, defau
+00029390: 6c74 3a20 4e6f 6e65 2920 2d20 4368 6563  lt: None) - Chec
+000293a0: 6b20 666f 7220 616e 6420 7265 706c 6163  k for and replac
+000293b0: 6520 6578 6973 7469 6e67 206d 6561 7375  e existing measu
+000293c0: 7265 6d65 6e74 7320 666f 725c 0d0a 2020  rements for\..  
+000293d0: 2020 2020 2020 2020 2020 7468 6973 2062            this b
+000293e0: 7573 2c20 7479 7065 2061 6e64 2065 6c65  us, type and ele
+000293f0: 6d65 6e74 5f74 7970 652e 2053 6574 2069  ment_type. Set i
+00029400: 7420 746f 2066 616c 7365 2066 6f72 2070  t to false for p
+00029410: 6572 666f 726d 616e 6365 2069 6d70 726f  erformance impro
+00029420: 7665 6d65 6e74 7320 7768 6963 6820 6361  vements which ca
+00029430: 6e5c 0d0a 2020 2020 2020 2020 2020 2020  n\..            
+00029440: 6361 7573 6520 756e 7361 6665 2062 6568  cause unsafe beh
+00029450: 6176 696f 720d 0a0d 0a20 2020 2020 2020  avior....       
+00029460: 202a 2a69 6e64 6578 2a2a 2028 696e 742c   **index** (int,
+00029470: 2064 6566 6175 6c74 3a20 4e6f 6e65 2920   default: None) 
+00029480: 2d20 496e 6465 7820 6f66 2074 6865 206d  - Index of the m
+00029490: 6561 7375 7265 6d65 6e74 2069 6e20 7468  easurement in th
+000294a0: 6520 6d65 6173 7572 656d 656e 7420 7461  e measurement ta
+000294b0: 626c 652e 2053 686f 756c 645c 0d0a 2020  ble. Should\..  
+000294c0: 2020 2020 2020 2020 2020 6e6f 7420 6578            not ex
+000294d0: 6973 7420 616c 7265 6164 792e 0d0a 0d0a  ist already.....
+000294e0: 2020 2020 2020 2020 2a2a 6e61 6d65 2a2a          **name**
+000294f0: 2028 7374 722c 2064 6566 6175 6c74 3a20   (str, default: 
+00029500: 4e6f 6e65 2920 2d20 4e61 6d65 206f 6620  None) - Name of 
+00029510: 6d65 6173 7572 656d 656e 740d 0a0d 0a20  measurement.... 
+00029520: 2020 204f 5554 5055 543a 0d0a 2020 2020     OUTPUT:..    
+00029530: 2020 2020 2869 6e74 2920 496e 6465 7820      (int) Index 
+00029540: 6f66 206d 6561 7375 7265 6d65 6e74 0d0a  of measurement..
+00029550: 0d0a 2020 2020 4558 414d 504c 4553 3a0d  ..    EXAMPLES:.
+00029560: 0a20 2020 2020 2020 2032 204d 5720 6c6f  .        2 MW lo
+00029570: 6164 206d 6561 7375 7265 6d65 6e74 2077  ad measurement w
+00029580: 6974 6820 302e 3035 204d 5720 7374 616e  ith 0.05 MW stan
+00029590: 6461 7264 2064 6576 6961 7469 6f6e 206f  dard deviation o
+000295a0: 6e20 6275 7320 303a 0d0a 2020 2020 2020  n bus 0:..      
+000295b0: 2020 6372 6561 7465 5f6d 6561 7375 7265    create_measure
+000295c0: 6d65 6e74 286e 6574 2c20 2270 222c 2022  ment(net, "p", "
+000295d0: 6275 7322 2c20 302c 2032 2e2c 2030 2e30  bus", 0, 2., 0.0
+000295e0: 352e 290d 0a0d 0a20 2020 2020 2020 2034  5.)....        4
+000295f0: 2e35 204d 5661 7220 6c69 6e65 206d 6561  .5 MVar line mea
+00029600: 7375 7265 6d65 6e74 2077 6974 6820 302e  surement with 0.
+00029610: 3120 4d56 6172 2073 7461 6e64 6172 6420  1 MVar standard 
+00029620: 6465 7669 6174 696f 6e20 6f6e 2074 6865  deviation on the
+00029630: 2022 746f 5f62 7573 2220 7369 6465 206f   "to_bus" side o
+00029640: 6620 6c69 6e65 2032 0d0a 2020 2020 2020  f line 2..      
+00029650: 2020 6372 6561 7465 5f6d 6561 7375 7265    create_measure
+00029660: 6d65 6e74 286e 6574 2c20 2271 222c 2022  ment(net, "q", "
+00029670: 6c69 6e65 222c 2032 2c20 342e 352c 2030  line", 2, 4.5, 0
+00029680: 2e31 2c20 2274 6f22 290d 0a20 2020 2022  .1, "to")..    "
+00029690: 2222 0d0a 2020 2020 6966 206d 6561 735f  ""..    if meas_
+000296a0: 7479 7065 206e 6f74 2069 6e20 2822 7622  type not in ("v"
+000296b0: 2c20 2270 222c 2022 7122 2c20 2269 222c  , "p", "q", "i",
+000296c0: 2022 7661 222c 2022 6961 2229 3a0d 0a20   "va", "ia"):.. 
+000296d0: 2020 2020 2020 2072 6169 7365 2055 7365         raise Use
+000296e0: 7257 6172 6e69 6e67 2822 496e 7661 6c69  rWarning("Invali
+000296f0: 6420 6d65 6173 7572 656d 656e 7420 7479  d measurement ty
+00029700: 7065 2028 7b7d 2922 2e66 6f72 6d61 7428  pe ({})".format(
+00029710: 6d65 6173 5f74 7970 6529 290d 0a0d 0a20  meas_type)).... 
+00029720: 2020 2069 6620 7369 6465 2069 7320 4e6f     if side is No
+00029730: 6e65 2061 6e64 2065 6c65 6d65 6e74 5f74  ne and element_t
+00029740: 7970 6520 696e 2028 226c 696e 6522 2c20  ype in ("line", 
+00029750: 2274 7261 666f 2229 3a0d 0a20 2020 2020  "trafo"):..     
+00029760: 2020 2072 6169 7365 2055 7365 7257 6172     raise UserWar
+00029770: 6e69 6e67 2822 5468 6520 656c 656d 656e  ning("The elemen
+00029780: 7420 7479 7065 2027 7b65 6c65 6d65 6e74  t type '{element
+00029790: 5f74 7970 657d 2720 7265 7175 6972 6573  _type}' requires
+000297a0: 2061 2076 616c 7565 2069 6e20 2773 6964   a value in 'sid
+000297b0: 6527 2229 0d0a 0d0a 2020 2020 6966 206d  e'")....    if m
+000297c0: 6561 735f 7479 7065 2069 6e20 2822 7622  eas_type in ("v"
+000297d0: 2c20 2276 6122 293a 0d0a 2020 2020 2020  , "va"):..      
+000297e0: 2020 656c 656d 656e 745f 7479 7065 203d    element_type =
+000297f0: 2022 6275 7322 0d0a 0d0a 2020 2020 6966   "bus"....    if
+00029800: 2065 6c65 6d65 6e74 5f74 7970 6520 6e6f   element_type no
+00029810: 7420 696e 2028 2262 7573 222c 2022 6c69  t in ("bus", "li
+00029820: 6e65 222c 2022 7472 6166 6f22 2c20 2274  ne", "trafo", "t
+00029830: 7261 666f 3377 2229 3a0d 0a20 2020 2020  rafo3w"):..     
+00029840: 2020 2072 6169 7365 2055 7365 7257 6172     raise UserWar
+00029850: 6e69 6e67 2822 496e 7661 6c69 6420 656c  ning("Invalid el
+00029860: 656d 656e 7420 7479 7065 2028 7b7d 2922  ement type ({})"
+00029870: 2e66 6f72 6d61 7428 656c 656d 656e 745f  .format(element_
+00029880: 7479 7065 2929 0d0a 0d0a 2020 2020 6966  type))....    if
+00029890: 2065 6c65 6d65 6e74 2069 7320 6e6f 7420   element is not 
+000298a0: 4e6f 6e65 2061 6e64 2065 6c65 6d65 6e74  None and element
+000298b0: 206e 6f74 2069 6e20 6e65 745b 656c 656d   not in net[elem
+000298c0: 656e 745f 7479 7065 5d2e 696e 6465 782e  ent_type].index.
+000298d0: 7661 6c75 6573 3a0d 0a20 2020 2020 2020  values:..       
+000298e0: 2072 6169 7365 2055 7365 7257 6172 6e69   raise UserWarni
+000298f0: 6e67 2822 7b7d 2077 6974 6820 696e 6465  ng("{} with inde
+00029900: 783d 7b7d 2064 6f65 7320 6e6f 7420 6578  x={} does not ex
+00029910: 6973 7422 2e66 6f72 6d61 7428 656c 656d  ist".format(elem
+00029920: 656e 745f 7479 7065 2e63 6170 6974 616c  ent_type.capital
+00029930: 697a 6528 292c 0d0a 2020 2020 2020 2020  ize(),..        
 00029940: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00029950: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00029960: 2020 2020 2020 2020 2020 2020 656c 656d              elem
-00029970: 656e 7429 290d 0a0d 0a20 2020 2069 6e64  ent))....    ind
-00029980: 6578 203d 205f 6765 745f 696e 6465 785f  ex = _get_index_
-00029990: 7769 7468 5f63 6865 636b 286e 6574 2c20  with_check(net, 
-000299a0: 226d 6561 7375 7265 6d65 6e74 222c 2069  "measurement", i
-000299b0: 6e64 6578 290d 0a0d 0a20 2020 2069 6620  ndex)....    if 
-000299c0: 6d65 6173 5f74 7970 6520 696e 2028 2269  meas_type in ("i
-000299d0: 222c 2022 6961 2229 2061 6e64 2065 6c65  ", "ia") and ele
-000299e0: 6d65 6e74 5f74 7970 6520 3d3d 2022 6275  ment_type == "bu
-000299f0: 7322 3a0d 0a20 2020 2020 2020 2072 6169  s":..        rai
-00029a00: 7365 2055 7365 7257 6172 6e69 6e67 2822  se UserWarning("
-00029a10: 4c69 6e65 2063 7572 7265 6e74 206d 6561  Line current mea
-00029a20: 7375 7265 6d65 6e74 7320 6361 6e6e 6f74  surements cannot
-00029a30: 2062 6520 706c 6163 6564 2061 7420 6275   be placed at bu
-00029a40: 7365 7322 290d 0a0d 0a20 2020 2069 6620  ses")....    if 
-00029a50: 6d65 6173 5f74 7970 6520 696e 2028 2276  meas_type in ("v
-00029a60: 222c 2022 7661 2229 2061 6e64 2065 6c65  ", "va") and ele
-00029a70: 6d65 6e74 5f74 7970 6520 696e 2028 226c  ment_type in ("l
-00029a80: 696e 6522 2c20 2274 7261 666f 222c 2022  ine", "trafo", "
-00029a90: 7472 6166 6f33 7722 293a 0d0a 2020 2020  trafo3w"):..    
-00029aa0: 2020 2020 7261 6973 6520 5573 6572 5761      raise UserWa
-00029ab0: 726e 696e 6728 0d0a 2020 2020 2020 2020  rning(..        
-00029ac0: 2020 2020 2256 6f6c 7461 6765 206d 6561      "Voltage mea
-00029ad0: 7375 7265 6d65 6e74 7320 6361 6e20 6f6e  surements can on
-00029ae0: 6c79 2062 6520 706c 6163 6564 2061 7420  ly be placed at 
-00029af0: 6275 7365 732c 206e 6f74 2061 7420 7b7d  buses, not at {}
-00029b00: 222e 666f 726d 6174 2865 6c65 6d65 6e74  ".format(element
-00029b10: 5f74 7970 6529 290d 0a0d 0a20 2020 2069  _type))....    i
-00029b20: 6620 6368 6563 6b5f 6578 6973 7469 6e67  f check_existing
-00029b30: 3a0d 0a20 2020 2020 2020 2069 6620 7369  :..        if si
-00029b40: 6465 2069 7320 4e6f 6e65 3a0d 0a20 2020  de is None:..   
-00029b50: 2020 2020 2020 2020 2065 7869 7374 696e           existin
-00029b60: 6720 3d20 6e65 742e 6d65 6173 7572 656d  g = net.measurem
-00029b70: 656e 745b 286e 6574 2e6d 6561 7375 7265  ent[(net.measure
-00029b80: 6d65 6e74 2e6d 6561 7375 7265 6d65 6e74  ment.measurement
-00029b90: 5f74 7970 6520 3d3d 206d 6561 735f 7479  _type == meas_ty
-00029ba0: 7065 2920 260d 0a20 2020 2020 2020 2020  pe) &..         
-00029bb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00029bc0: 2020 2020 2020 2020 2020 2020 2020 286e                (n
-00029bd0: 6574 2e6d 6561 7375 7265 6d65 6e74 2e65  et.measurement.e
-00029be0: 6c65 6d65 6e74 5f74 7970 6520 3d3d 2065  lement_type == e
-00029bf0: 6c65 6d65 6e74 5f74 7970 6529 2026 0d0a  lement_type) &..
-00029c00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00029960: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00029970: 2020 2020 2020 2020 2020 2065 6c65 6d65             eleme
+00029980: 6e74 2929 0d0a 0d0a 2020 2020 696e 6465  nt))....    inde
+00029990: 7820 3d20 5f67 6574 5f69 6e64 6578 5f77  x = _get_index_w
+000299a0: 6974 685f 6368 6563 6b28 6e65 742c 2022  ith_check(net, "
+000299b0: 6d65 6173 7572 656d 656e 7422 2c20 696e  measurement", in
+000299c0: 6465 7829 0d0a 0d0a 2020 2020 6966 206d  dex)....    if m
+000299d0: 6561 735f 7479 7065 2069 6e20 2822 6922  eas_type in ("i"
+000299e0: 2c20 2269 6122 2920 616e 6420 656c 656d  , "ia") and elem
+000299f0: 656e 745f 7479 7065 203d 3d20 2262 7573  ent_type == "bus
+00029a00: 223a 0d0a 2020 2020 2020 2020 7261 6973  ":..        rais
+00029a10: 6520 5573 6572 5761 726e 696e 6728 224c  e UserWarning("L
+00029a20: 696e 6520 6375 7272 656e 7420 6d65 6173  ine current meas
+00029a30: 7572 656d 656e 7473 2063 616e 6e6f 7420  urements cannot 
+00029a40: 6265 2070 6c61 6365 6420 6174 2062 7573  be placed at bus
+00029a50: 6573 2229 0d0a 0d0a 2020 2020 6966 206d  es")....    if m
+00029a60: 6561 735f 7479 7065 2069 6e20 2822 7622  eas_type in ("v"
+00029a70: 2c20 2276 6122 2920 616e 6420 656c 656d  , "va") and elem
+00029a80: 656e 745f 7479 7065 2069 6e20 2822 6c69  ent_type in ("li
+00029a90: 6e65 222c 2022 7472 6166 6f22 2c20 2274  ne", "trafo", "t
+00029aa0: 7261 666f 3377 2229 3a0d 0a20 2020 2020  rafo3w"):..     
+00029ab0: 2020 2072 6169 7365 2055 7365 7257 6172     raise UserWar
+00029ac0: 6e69 6e67 280d 0a20 2020 2020 2020 2020  ning(..         
+00029ad0: 2020 2022 566f 6c74 6167 6520 6d65 6173     "Voltage meas
+00029ae0: 7572 656d 656e 7473 2063 616e 206f 6e6c  urements can onl
+00029af0: 7920 6265 2070 6c61 6365 6420 6174 2062  y be placed at b
+00029b00: 7573 6573 2c20 6e6f 7420 6174 207b 7d22  uses, not at {}"
+00029b10: 2e66 6f72 6d61 7428 656c 656d 656e 745f  .format(element_
+00029b20: 7479 7065 2929 0d0a 0d0a 2020 2020 6966  type))....    if
+00029b30: 2063 6865 636b 5f65 7869 7374 696e 673a   check_existing:
+00029b40: 0d0a 2020 2020 2020 2020 6966 2073 6964  ..        if sid
+00029b50: 6520 6973 204e 6f6e 653a 0d0a 2020 2020  e is None:..    
+00029b60: 2020 2020 2020 2020 6578 6973 7469 6e67          existing
+00029b70: 203d 206e 6574 2e6d 6561 7375 7265 6d65   = net.measureme
+00029b80: 6e74 5b28 6e65 742e 6d65 6173 7572 656d  nt[(net.measurem
+00029b90: 656e 742e 6d65 6173 7572 656d 656e 745f  ent.measurement_
+00029ba0: 7479 7065 203d 3d20 6d65 6173 5f74 7970  type == meas_typ
+00029bb0: 6529 2026 0d0a 2020 2020 2020 2020 2020  e) &..          
+00029bc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00029bd0: 2020 2020 2020 2020 2020 2020 2028 6e65               (ne
+00029be0: 742e 6d65 6173 7572 656d 656e 742e 656c  t.measurement.el
+00029bf0: 656d 656e 745f 7479 7065 203d 3d20 656c  ement_type == el
+00029c00: 656d 656e 745f 7479 7065 2920 260d 0a20  ement_type) &.. 
 00029c10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00029c20: 2020 2020 2020 2028 6e65 742e 6d65 6173         (net.meas
-00029c30: 7572 656d 656e 742e 656c 656d 656e 7420  urement.element 
-00029c40: 3d3d 2065 6c65 6d65 6e74 2920 260d 0a20  == element) &.. 
-00029c50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00029c20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00029c30: 2020 2020 2020 286e 6574 2e6d 6561 7375        (net.measu
+00029c40: 7265 6d65 6e74 2e65 6c65 6d65 6e74 203d  rement.element =
+00029c50: 3d20 656c 656d 656e 7429 2026 0d0a 2020  = element) &..  
 00029c60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00029c70: 2020 2020 2020 2870 642e 6973 6e75 6c6c        (pd.isnull
-00029c80: 286e 6574 2e6d 6561 7375 7265 6d65 6e74  (net.measurement
-00029c90: 2e73 6964 6529 295d 2e69 6e64 6578 0d0a  .side))].index..
-00029ca0: 2020 2020 2020 2020 656c 7365 3a0d 0a20          else:.. 
-00029cb0: 2020 2020 2020 2020 2020 2065 7869 7374             exist
-00029cc0: 696e 6720 3d20 6e65 742e 6d65 6173 7572  ing = net.measur
-00029cd0: 656d 656e 745b 286e 6574 2e6d 6561 7375  ement[(net.measu
-00029ce0: 7265 6d65 6e74 2e6d 6561 7375 7265 6d65  rement.measureme
-00029cf0: 6e74 5f74 7970 6520 3d3d 206d 6561 735f  nt_type == meas_
-00029d00: 7479 7065 2920 260d 0a20 2020 2020 2020  type) &..       
-00029d10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00029c70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00029c80: 2020 2020 2028 7064 2e69 736e 756c 6c28       (pd.isnull(
+00029c90: 6e65 742e 6d65 6173 7572 656d 656e 742e  net.measurement.
+00029ca0: 7369 6465 2929 5d2e 696e 6465 780d 0a20  side))].index.. 
+00029cb0: 2020 2020 2020 2065 6c73 653a 0d0a 2020         else:..  
+00029cc0: 2020 2020 2020 2020 2020 6578 6973 7469            existi
+00029cd0: 6e67 203d 206e 6574 2e6d 6561 7375 7265  ng = net.measure
+00029ce0: 6d65 6e74 5b28 6e65 742e 6d65 6173 7572  ment[(net.measur
+00029cf0: 656d 656e 742e 6d65 6173 7572 656d 656e  ement.measuremen
+00029d00: 745f 7479 7065 203d 3d20 6d65 6173 5f74  t_type == meas_t
+00029d10: 7970 6529 2026 0d0a 2020 2020 2020 2020  ype) &..        
 00029d20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00029d30: 286e 6574 2e6d 6561 7375 7265 6d65 6e74  (net.measurement
-00029d40: 2e65 6c65 6d65 6e74 5f74 7970 6520 3d3d  .element_type ==
-00029d50: 2065 6c65 6d65 6e74 5f74 7970 6529 2026   element_type) &
-00029d60: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00029d70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00029d80: 2020 2020 2020 2020 2028 6e65 742e 6d65           (net.me
-00029d90: 6173 7572 656d 656e 742e 656c 656d 656e  asurement.elemen
-00029da0: 7420 3d3d 2065 6c65 6d65 6e74 2920 260d  t == element) &.
-00029db0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00029d30: 2020 2020 2020 2020 2020 2020 2020 2028                 (
+00029d40: 6e65 742e 6d65 6173 7572 656d 656e 742e  net.measurement.
+00029d50: 656c 656d 656e 745f 7479 7065 203d 3d20  element_type == 
+00029d60: 656c 656d 656e 745f 7479 7065 2920 260d  element_type) &.
+00029d70: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00029d80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00029d90: 2020 2020 2020 2020 286e 6574 2e6d 6561          (net.mea
+00029da0: 7375 7265 6d65 6e74 2e65 6c65 6d65 6e74  surement.element
+00029db0: 203d 3d20 656c 656d 656e 7429 2026 0d0a   == element) &..
 00029dc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00029dd0: 2020 2020 2020 2020 286e 6574 2e6d 6561          (net.mea
-00029de0: 7375 7265 6d65 6e74 2e73 6964 6520 3d3d  surement.side ==
-00029df0: 2073 6964 6529 5d2e 696e 6465 780d 0a20   side)].index.. 
-00029e00: 2020 2020 2020 2069 6620 6c65 6e28 6578         if len(ex
-00029e10: 6973 7469 6e67 2920 3d3d 2031 3a0d 0a20  isting) == 1:.. 
-00029e20: 2020 2020 2020 2020 2020 2069 6e64 6578             index
-00029e30: 203d 2065 7869 7374 696e 675b 305d 0d0a   = existing[0]..
-00029e40: 2020 2020 2020 2020 656c 6966 206c 656e          elif len
-00029e50: 2865 7869 7374 696e 6729 203e 2031 3a0d  (existing) > 1:.
-00029e60: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
-00029e70: 7365 2055 7365 7257 6172 6e69 6e67 2822  se UserWarning("
-00029e80: 4d6f 7265 2074 6861 6e20 6f6e 6520 6d65  More than one me
-00029e90: 6173 7572 656d 656e 7420 6f66 2074 6869  asurement of thi
-00029ea0: 7320 7479 7065 2065 7869 7374 7322 290d  s type exists").
-00029eb0: 0a0d 0a20 2020 2063 6f6c 756d 6e73 203d  ...    columns =
-00029ec0: 205b 226e 616d 6522 2c20 226d 6561 7375   ["name", "measu
-00029ed0: 7265 6d65 6e74 5f74 7970 6522 2c20 2265  rement_type", "e
-00029ee0: 6c65 6d65 6e74 5f74 7970 6522 2c20 2265  lement_type", "e
-00029ef0: 6c65 6d65 6e74 222c 2022 7661 6c75 6522  lement", "value"
-00029f00: 2c20 2273 7464 5f64 6576 222c 2022 7369  , "std_dev", "si
-00029f10: 6465 225d 0d0a 2020 2020 7661 6c75 6573  de"]..    values
-00029f20: 203d 205b 6e61 6d65 2c20 6d65 6173 5f74   = [name, meas_t
-00029f30: 7970 652e 6c6f 7765 7228 292c 2065 6c65  ype.lower(), ele
-00029f40: 6d65 6e74 5f74 7970 652c 2065 6c65 6d65  ment_type, eleme
-00029f50: 6e74 2c20 7661 6c75 652c 2073 7464 5f64  nt, value, std_d
-00029f60: 6576 2c20 7369 6465 5d0d 0a20 2020 205f  ev, side]..    _
-00029f70: 7365 745f 656e 7472 6965 7328 6e65 742c  set_entries(net,
-00029f80: 2022 6d65 6173 7572 656d 656e 7422 2c20   "measurement", 
-00029f90: 696e 6465 782c 202a 2a64 6963 7428 7a69  index, **dict(zi
-00029fa0: 7028 636f 6c75 6d6e 732c 2076 616c 7565  p(columns, value
-00029fb0: 7329 2929 0d0a 2020 2020 7265 7475 726e  s)))..    return
-00029fc0: 2069 6e64 6578 0d0a 0d0a 0d0a 6465 6620   index......def 
-00029fd0: 6372 6561 7465 5f70 776c 5f63 6f73 7428  create_pwl_cost(
-00029fe0: 6e65 742c 2065 6c65 6d65 6e74 2c20 6574  net, element, et
-00029ff0: 2c20 706f 696e 7473 2c20 706f 7765 725f  , points, power_
-0002a000: 7479 7065 3d22 7022 2c20 696e 6465 783d  type="p", index=
-0002a010: 4e6f 6e65 2c20 6368 6563 6b3d 5472 7565  None, check=True
-0002a020: 293a 0d0a 2020 2020 2222 220d 0a20 2020  ):..    """..   
-0002a030: 2043 7265 6174 6573 2061 6e20 656e 7472   Creates an entr
-0002a040: 7920 666f 7220 7069 6563 6577 6973 6520  y for piecewise 
-0002a050: 6c69 6e65 6172 2063 6f73 7473 2066 6f72  linear costs for
-0002a060: 2061 6e20 656c 656d 656e 742e 2054 6865   an element. The
-0002a070: 2063 7572 7265 6e74 6c79 2073 7570 706f   currently suppo
-0002a080: 7274 6564 2065 6c65 6d65 6e74 7320 6172  rted elements ar
-0002a090: 650d 0a20 2020 2020 2d20 4765 6e65 7261  e..     - Genera
-0002a0a0: 746f 720d 0a20 2020 2020 2d20 4578 7465  tor..     - Exte
-0002a0b0: 726e 616c 2047 7269 640d 0a20 2020 2020  rnal Grid..     
-0002a0c0: 2d20 5374 6174 6963 2047 656e 6572 6174  - Static Generat
-0002a0d0: 6f72 0d0a 2020 2020 202d 204c 6f61 640d  or..     - Load.
-0002a0e0: 0a20 2020 2020 2d20 4463 6c69 6e65 0d0a  .     - Dcline..
-0002a0f0: 2020 2020 202d 2053 746f 7261 6765 0d0a       - Storage..
-0002a100: 0d0a 2020 2020 494e 5055 543a 0d0a 2020  ..    INPUT:..  
-0002a110: 2020 2020 2020 2a2a 656c 656d 656e 742a        **element*
-0002a120: 2a20 2869 6e74 2920 2d20 4944 206f 6620  * (int) - ID of 
-0002a130: 7468 6520 656c 656d 656e 7420 696e 2074  the element in t
-0002a140: 6865 2072 6573 7065 6374 6976 6520 656c  he respective el
-0002a150: 656d 656e 7420 7461 626c 650d 0a0d 0a20  ement table.... 
-0002a160: 2020 2020 2020 202a 2a65 742a 2a20 2873         **et** (s
-0002a170: 7472 696e 6729 202d 2065 6c65 6d65 6e74  tring) - element
-0002a180: 2074 7970 652c 206f 6e65 206f 6620 2267   type, one of "g
-0002a190: 656e 222c 2022 7367 656e 222c 2022 6578  en", "sgen", "ex
-0002a1a0: 745f 6772 6964 222c 2022 6c6f 6164 222c  t_grid", "load",
-0002a1b0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-0002a1c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002a1d0: 2020 2264 636c 696e 6522 2c20 2273 746f    "dcline", "sto
-0002a1e0: 7261 6765 225d 0d0a 0d0a 2020 2020 2020  rage"]....      
-0002a1f0: 2020 2a2a 706f 696e 7473 2a2a 202d 2028    **points** - (
-0002a200: 6c69 7374 2920 6c69 7374 206f 6620 6c69  list) list of li
-0002a210: 7374 7320 7769 7468 205b 5b70 312c 2070  sts with [[p1, p
-0002a220: 322c 2063 315d 2c20 5b70 322c 2070 332c  2, c1], [p2, p3,
-0002a230: 2063 325d 2c20 2e2e 2e5d 2077 6865 7265   c2], ...] where
-0002a240: 2063 286e 2920 5c0d 0a20 2020 2020 2020   c(n) \..       
-0002a250: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002a260: 2020 2020 2064 6566 696e 6573 2074 6865       defines the
-0002a270: 2063 6f73 7473 2062 6574 7765 656e 2070   costs between p
-0002a280: 286e 2920 616e 6420 7028 6e2b 3129 0d0a  (n) and p(n+1)..
-0002a290: 0d0a 2020 2020 4f50 5449 4f4e 414c 3a0d  ..    OPTIONAL:.
-0002a2a0: 0a20 2020 2020 2020 202a 2a74 7970 652a  .        **type*
-0002a2b0: 2a20 2d20 2873 7472 696e 6729 202d 2054  * - (string) - T
-0002a2c0: 7970 6520 6f66 2063 6f73 7420 5b22 7022  ype of cost ["p"
-0002a2d0: 2c20 2271 225d 2061 7265 2061 6c6c 6f77  , "q"] are allow
-0002a2e0: 6564 2066 6f72 2061 6374 6976 6520 6f72  ed for active or
-0002a2f0: 2072 6561 6374 6976 6520 706f 7765 720d   reactive power.
-0002a300: 0a0d 0a20 2020 2020 2020 202a 2a69 6e64  ...        **ind
-0002a310: 6578 2a2a 2028 696e 742c 2069 6e64 6578  ex** (int, index
-0002a320: 2920 2d20 466f 7263 6520 6120 7370 6563  ) - Force a spec
-0002a330: 6966 6965 6420 4944 2069 6620 6974 2069  ified ID if it i
-0002a340: 7320 6176 6169 6c61 626c 652e 2049 6620  s available. If 
-0002a350: 4e6f 6e65 2c20 7468 6520 696e 6465 7820  None, the index 
-0002a360: 6f6e 6520 5c0d 0a20 2020 2020 2020 2020  one \..         
-0002a370: 2020 2068 6967 6865 7220 7468 616e 2074     higher than t
-0002a380: 6865 2068 6967 6865 7374 2061 6c72 6561  he highest alrea
-0002a390: 6479 2065 7869 7374 696e 6720 696e 6465  dy existing inde
-0002a3a0: 7820 6973 2073 656c 6563 7465 642e 0d0a  x is selected...
-0002a3b0: 0d0a 2020 2020 2020 2020 2a2a 6368 6563  ..        **chec
-0002a3c0: 6b2a 2a20 2862 6f6f 6c2c 2054 7275 6529  k** (bool, True)
-0002a3d0: 202d 2072 6169 7365 7320 5573 6572 5761   - raises UserWa
-0002a3e0: 726e 696e 6720 6966 2063 6f73 7473 2061  rning if costs a
-0002a3f0: 6c72 6561 6479 2065 7869 7374 2074 6f20  lready exist to 
-0002a400: 7468 6973 2065 6c65 6d65 6e74 2e0d 0a0d  this element....
-0002a410: 0a20 2020 204f 5554 5055 543a 0d0a 2020  .    OUTPUT:..  
-0002a420: 2020 2020 2020 2a2a 696e 6465 782a 2a20        **index** 
-0002a430: 2869 6e74 2920 2d20 5468 6520 756e 6971  (int) - The uniq
-0002a440: 7565 2049 4420 6f66 2063 7265 6174 6564  ue ID of created
-0002a450: 2063 6f73 7420 656e 7472 790d 0a0d 0a20   cost entry.... 
-0002a460: 2020 2045 5841 4d50 4c45 3a0d 0a20 2020     EXAMPLE:..   
-0002a470: 2020 2020 2054 6865 2063 6f73 7420 6675       The cost fu
-0002a480: 6e63 7469 6f6e 2069 7320 6769 7665 6e20  nction is given 
-0002a490: 6279 2074 6865 2078 2d76 616c 7565 7320  by the x-values 
-0002a4a0: 7031 2061 6e64 2070 3220 7769 7468 2074  p1 and p2 with t
-0002a4b0: 6865 2073 6c6f 7065 206d 2062 6574 7765  he slope m betwe
-0002a4c0: 656e 2074 686f 7365 2070 6f69 6e74 732e  en those points.
-0002a4d0: 5c0d 0a20 2020 2020 2020 2054 6865 2063  \..        The c
-0002a4e0: 6f6e 7374 616e 7420 7061 7274 2062 206f  onstant part b o
-0002a4f0: 6620 6120 6c69 6e65 6172 2066 756e 6374  f a linear funct
-0002a500: 696f 6e20 7920 3d20 6d2a 7820 2b20 6220  ion y = m*x + b 
-0002a510: 6361 6e20 6265 206e 6567 6c65 6374 6564  can be neglected
-0002a520: 2066 6f72 204f 5046 2070 7572 706f 7365   for OPF purpose
-0002a530: 732e 205c 0d0a 2020 2020 2020 2020 5468  s. \..        Th
-0002a540: 6520 696e 7465 7276 616c 7320 6861 7665  e intervals have
-0002a550: 2074 6f20 6265 2063 6f6e 7469 6e75 6f75   to be continuou
-0002a560: 7320 2874 6865 2073 7461 7274 696e 6720  s (the starting 
-0002a570: 706f 696e 7420 6f66 2061 6e20 696e 7465  point of an inte
-0002a580: 7276 616c 2068 6173 2074 6f20 6265 2065  rval has to be e
-0002a590: 7175 616c 2074 6f20 5c0d 0a20 2020 2020  qual to \..     
-0002a5a0: 2020 2074 6865 2065 6e64 2070 6f69 6e74     the end point
-0002a5b0: 206f 6620 7468 6520 7072 6576 696f 7573   of the previous
-0002a5c0: 2069 6e74 6572 7661 6c29 2e0d 0a0d 0a20   interval)..... 
-0002a5d0: 2020 2020 2020 2054 6f20 6372 6561 7465         To create
-0002a5e0: 2061 2067 656e 2077 6974 6820 636f 7374   a gen with cost
-0002a5f0: 7320 6f66 2031 e282 ac2f 4d57 2062 6574  s of 1.../MW bet
-0002a600: 7765 656e 2030 2061 6e64 2032 3020 4d57  ween 0 and 20 MW
-0002a610: 2061 6e64 2032 e282 ac2f 4d57 2062 6574   and 2.../MW bet
-0002a620: 7765 656e 2032 3020 616e 6420 3330 3a0d  ween 20 and 30:.
-0002a630: 0a0d 0a20 2020 2020 2020 2063 7265 6174  ...        creat
-0002a640: 655f 7077 6c5f 636f 7374 286e 6574 2c20  e_pwl_cost(net, 
-0002a650: 302c 2022 6765 6e22 2c20 5b5b 302c 2032  0, "gen", [[0, 2
-0002a660: 302c 2031 5d2c 205b 3230 2c20 3330 2c20  0, 1], [20, 30, 
-0002a670: 325d 5d29 0d0a 2020 2020 2222 220d 0a20  2]])..    """.. 
-0002a680: 2020 2065 6c65 6d65 6e74 203d 2065 6c65     element = ele
-0002a690: 6d65 6e74 2069 6620 6e6f 7420 6861 7361  ment if not hasa
-0002a6a0: 7474 7228 656c 656d 656e 742c 2022 5f5f  ttr(element, "__
-0002a6b0: 6974 6572 5f5f 2229 2065 6c73 6520 656c  iter__") else el
-0002a6c0: 656d 656e 745b 305d 0d0a 2020 2020 6966  ement[0]..    if
-0002a6d0: 2063 6865 636b 2061 6e64 205f 636f 7374   check and _cost
-0002a6e0: 5f65 7869 7374 616e 6365 5f63 6865 636b  _existance_check
-0002a6f0: 286e 6574 2c20 656c 656d 656e 742c 2065  (net, element, e
-0002a700: 742c 2070 6f77 6572 5f74 7970 653d 706f  t, power_type=po
-0002a710: 7765 725f 7479 7065 293a 0d0a 2020 2020  wer_type):..    
-0002a720: 2020 2020 7261 6973 6520 5573 6572 5761      raise UserWa
-0002a730: 726e 696e 6728 2254 6865 7265 2061 6c72  rning("There alr
-0002a740: 6561 6479 2065 7869 7374 2063 6f73 7473  eady exist costs
-0002a750: 2066 6f72 2025 7320 2569 2220 2520 2865   for %s %i" % (e
-0002a760: 742c 2065 6c65 6d65 6e74 2929 0d0a 0d0a  t, element))....
-0002a770: 2020 2020 696e 6465 7820 3d20 5f67 6574      index = _get
-0002a780: 5f69 6e64 6578 5f77 6974 685f 6368 6563  _index_with_chec
-0002a790: 6b28 6e65 742c 2022 7077 6c5f 636f 7374  k(net, "pwl_cost
-0002a7a0: 222c 2069 6e64 6578 2c20 2270 6965 6365  ", index, "piece
-0002a7b0: 7769 7365 5f6c 696e 6561 725f 636f 7374  wise_linear_cost
-0002a7c0: 2229 0d0a 0d0a 2020 2020 656e 7472 6965  ")....    entrie
-0002a7d0: 7320 3d20 6469 6374 287a 6970 285b 2270  s = dict(zip(["p
-0002a7e0: 6f77 6572 5f74 7970 6522 2c20 2265 6c65  ower_type", "ele
-0002a7f0: 6d65 6e74 222c 2022 6574 222c 2022 706f  ment", "et", "po
-0002a800: 696e 7473 225d 2c0d 0a20 2020 2020 2020  ints"],..       
-0002a810: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002a820: 5b70 6f77 6572 5f74 7970 652c 2065 6c65  [power_type, ele
-0002a830: 6d65 6e74 2c20 6574 2c20 706f 696e 7473  ment, et, points
-0002a840: 5d29 290d 0a20 2020 205f 7365 745f 656e  ]))..    _set_en
-0002a850: 7472 6965 7328 6e65 742c 2022 7077 6c5f  tries(net, "pwl_
-0002a860: 636f 7374 222c 2069 6e64 6578 2c20 2a2a  cost", index, **
-0002a870: 656e 7472 6965 7329 0d0a 2020 2020 7265  entries)..    re
-0002a880: 7475 726e 2069 6e64 6578 0d0a 0d0a 0d0a  turn index......
-0002a890: 6465 6620 6372 6561 7465 5f70 6f6c 795f  def create_poly_
-0002a8a0: 636f 7374 286e 6574 2c20 656c 656d 656e  cost(net, elemen
-0002a8b0: 742c 2065 742c 2063 7031 5f65 7572 5f70  t, et, cp1_eur_p
-0002a8c0: 6572 5f6d 772c 2063 7030 5f65 7572 3d30  er_mw, cp0_eur=0
-0002a8d0: 2c20 6371 315f 6575 725f 7065 725f 6d76  , cq1_eur_per_mv
-0002a8e0: 6172 3d30 2c0d 0a20 2020 2020 2020 2020  ar=0,..         
-0002a8f0: 2020 2020 2020 2020 2020 2020 6371 305f              cq0_
-0002a900: 6575 723d 302c 2063 7032 5f65 7572 5f70  eur=0, cp2_eur_p
-0002a910: 6572 5f6d 7732 3d30 2c20 6371 325f 6575  er_mw2=0, cq2_eu
-0002a920: 725f 7065 725f 6d76 6172 323d 302c 2069  r_per_mvar2=0, i
-0002a930: 6e64 6578 3d4e 6f6e 652c 2063 6865 636b  ndex=None, check
-0002a940: 3d54 7275 6529 3a0d 0a20 2020 2022 2222  =True):..    """
-0002a950: 0d0a 2020 2020 4372 6561 7465 7320 616e  ..    Creates an
-0002a960: 2065 6e74 7279 2066 6f72 2070 6f6c 796e   entry for polyn
-0002a970: 696d 6f61 6c20 636f 7374 7320 666f 7220  imoal costs for 
-0002a980: 616e 2065 6c65 6d65 6e74 2e20 5468 6520  an element. The 
-0002a990: 6375 7272 656e 746c 7920 7375 7070 6f72  currently suppor
-0002a9a0: 7465 6420 656c 656d 656e 7473 2061 7265  ted elements are
-0002a9b0: 3a0d 0a20 2020 2020 2d20 4765 6e65 7261  :..     - Genera
-0002a9c0: 746f 7220 2822 6765 6e22 290d 0a20 2020  tor ("gen")..   
-0002a9d0: 2020 2d20 4578 7465 726e 616c 2047 7269    - External Gri
-0002a9e0: 6420 2822 6578 745f 6772 6964 2229 0d0a  d ("ext_grid")..
-0002a9f0: 2020 2020 202d 2053 7461 7469 6320 4765       - Static Ge
-0002aa00: 6e65 7261 746f 7220 2822 7367 656e 2229  nerator ("sgen")
-0002aa10: 0d0a 2020 2020 202d 204c 6f61 6420 2822  ..     - Load ("
-0002aa20: 6c6f 6164 2229 0d0a 2020 2020 202d 2044  load")..     - D
-0002aa30: 636c 696e 6520 2822 6463 6c69 6e65 2229  cline ("dcline")
-0002aa40: 0d0a 2020 2020 202d 2053 746f 7261 6765  ..     - Storage
-0002aa50: 2028 2273 746f 7261 6765 2229 0d0a 0d0a   ("storage")....
-0002aa60: 2020 2020 494e 5055 543a 0d0a 2020 2020      INPUT:..    
-0002aa70: 2020 2020 2a2a 656c 656d 656e 742a 2a20      **element** 
-0002aa80: 2869 6e74 2920 2d20 4944 206f 6620 7468  (int) - ID of th
-0002aa90: 6520 656c 656d 656e 7420 696e 2074 6865  e element in the
-0002aaa0: 2072 6573 7065 6374 6976 6520 656c 656d   respective elem
-0002aab0: 656e 7420 7461 626c 650d 0a0d 0a20 2020  ent table....   
-0002aac0: 2020 2020 202a 2a65 742a 2a20 2873 7472       **et** (str
-0002aad0: 696e 6729 202d 2054 7970 6520 6f66 2065  ing) - Type of e
-0002aae0: 6c65 6d65 6e74 205b 2267 656e 222c 2022  lement ["gen", "
-0002aaf0: 7367 656e 222c 2022 6578 745f 6772 6964  sgen", "ext_grid
-0002ab00: 222c 2022 6c6f 6164 222c 2022 6463 6c69  ", "load", "dcli
-0002ab10: 6e65 222c 2022 7374 6f72 6167 6522 5d20  ne", "storage"] 
-0002ab20: 5c0d 0a20 2020 2020 2020 2020 2020 2061  \..            a
-0002ab30: 7265 2070 6f73 7369 626c 650d 0a0d 0a20  re possible.... 
-0002ab40: 2020 2020 2020 202a 2a63 7031 5f65 7572         **cp1_eur
-0002ab50: 5f70 6572 5f6d 772a 2a20 2866 6c6f 6174  _per_mw** (float
-0002ab60: 2920 2d20 4c69 6e65 6172 2063 6f73 7473  ) - Linear costs
-0002ab70: 2070 6572 204d 570d 0a0d 0a20 2020 2020   per MW....     
-0002ab80: 2020 202a 2a63 7030 5f65 7572 3d30 2a2a     **cp0_eur=0**
-0002ab90: 2028 666c 6f61 7429 202d 204f 6666 7365   (float) - Offse
-0002aba0: 7420 6163 7469 7665 2070 6f77 6572 2063  t active power c
-0002abb0: 6f73 7473 2069 6e20 6575 726f 0d0a 0d0a  osts in euro....
-0002abc0: 2020 2020 2020 2020 2a2a 6371 315f 6575          **cq1_eu
-0002abd0: 725f 7065 725f 6d76 6172 3d30 2a2a 2028  r_per_mvar=0** (
-0002abe0: 666c 6f61 7429 202d 204c 696e 6561 7220  float) - Linear 
-0002abf0: 636f 7374 7320 7065 7220 4d76 6172 0d0a  costs per Mvar..
-0002ac00: 0d0a 2020 2020 2020 2020 2a2a 6371 305f  ..        **cq0_
-0002ac10: 6575 723d 302a 2a20 2866 6c6f 6174 2920  eur=0** (float) 
-0002ac20: 2d20 4f66 6673 6574 2072 6561 6374 6976  - Offset reactiv
-0002ac30: 6520 706f 7765 7220 636f 7374 7320 696e  e power costs in
-0002ac40: 2065 7572 6f0d 0a0d 0a20 2020 2020 2020   euro....       
-0002ac50: 202a 2a63 7032 5f65 7572 5f70 6572 5f6d   **cp2_eur_per_m
-0002ac60: 7732 3d30 2a2a 2028 666c 6f61 7429 202d  w2=0** (float) -
-0002ac70: 2051 7561 6472 6174 6963 2063 6f73 7473   Quadratic costs
-0002ac80: 2070 6572 204d 570d 0a0d 0a20 2020 2020   per MW....     
-0002ac90: 2020 202a 2a63 7132 5f65 7572 5f70 6572     **cq2_eur_per
-0002aca0: 5f6d 7661 7232 3d30 2a2a 2028 666c 6f61  _mvar2=0** (floa
-0002acb0: 7429 202d 2051 7561 6472 6174 6963 2063  t) - Quadratic c
-0002acc0: 6f73 7473 2070 6572 204d 7661 720d 0a0d  osts per Mvar...
-0002acd0: 0a20 2020 204f 5054 494f 4e41 4c3a 0d0a  .    OPTIONAL:..
-0002ace0: 0d0a 2020 2020 2020 2020 2a2a 696e 6465  ..        **inde
-0002acf0: 782a 2a20 2869 6e74 2c20 696e 6465 7829  x** (int, index)
-0002ad00: 202d 2046 6f72 6365 2061 2073 7065 6369   - Force a speci
-0002ad10: 6669 6564 2049 4420 6966 2069 7420 6973  fied ID if it is
-0002ad20: 2061 7661 696c 6162 6c65 2e20 4966 204e   available. If N
-0002ad30: 6f6e 652c 2074 6865 2069 6e64 6578 206f  one, the index o
-0002ad40: 6e65 205c 0d0a 2020 2020 2020 2020 2020  ne \..          
-0002ad50: 2020 6869 6768 6572 2074 6861 6e20 7468    higher than th
-0002ad60: 6520 6869 6768 6573 7420 616c 7265 6164  e highest alread
-0002ad70: 7920 6578 6973 7469 6e67 2069 6e64 6578  y existing index
-0002ad80: 2069 7320 7365 6c65 6374 6564 2e0d 0a0d   is selected....
-0002ad90: 0a20 2020 2020 2020 202a 2a63 6865 636b  .        **check
-0002ada0: 2a2a 2028 626f 6f6c 2c20 5472 7565 2920  ** (bool, True) 
-0002adb0: 2d20 7261 6973 6573 2055 7365 7257 6172  - raises UserWar
-0002adc0: 6e69 6e67 2069 6620 636f 7374 7320 616c  ning if costs al
-0002add0: 7265 6164 7920 6578 6973 7420 746f 2074  ready exist to t
-0002ade0: 6869 7320 656c 656d 656e 742e 0d0a 0d0a  his element.....
-0002adf0: 2020 2020 4f55 5450 5554 3a0d 0a20 2020      OUTPUT:..   
-0002ae00: 2020 2020 202a 2a69 6e64 6578 2a2a 2028       **index** (
-0002ae10: 696e 7429 202d 2054 6865 2075 6e69 7175  int) - The uniqu
-0002ae20: 6520 4944 206f 6620 6372 6561 7465 6420  e ID of created 
-0002ae30: 636f 7374 2065 6e74 7279 0d0a 0d0a 2020  cost entry....  
-0002ae40: 2020 4558 414d 504c 453a 0d0a 2020 2020    EXAMPLE:..    
-0002ae50: 2020 2020 5468 6520 706f 6c79 6e6f 6d69      The polynomi
-0002ae60: 616c 2063 6f73 7420 6675 6e63 7469 6f6e  al cost function
-0002ae70: 2069 7320 6769 7665 6e20 6279 2074 6865   is given by the
-0002ae80: 206c 696e 6561 7220 616e 6420 7175 6164   linear and quad
-0002ae90: 7261 7469 6320 636f 7374 2063 6f65 6666  ratic cost coeff
-0002aea0: 6963 6965 6e74 732e 0d0a 0d0a 2020 2020  icients.....    
-0002aeb0: 2020 2020 6372 6561 7465 5f70 6f6c 795f      create_poly_
-0002aec0: 636f 7374 286e 6574 2c20 302c 2022 6c6f  cost(net, 0, "lo
-0002aed0: 6164 222c 2063 7031 5f65 7572 5f70 6572  ad", cp1_eur_per
-0002aee0: 5f6d 7720 3d20 302e 3129 0d0a 2020 2020  _mw = 0.1)..    
-0002aef0: 2222 220d 0a20 2020 2065 6c65 6d65 6e74  """..    element
-0002af00: 203d 2065 6c65 6d65 6e74 2069 6620 6e6f   = element if no
-0002af10: 7420 6861 7361 7474 7228 656c 656d 656e  t hasattr(elemen
-0002af20: 742c 2022 5f5f 6974 6572 5f5f 2229 2065  t, "__iter__") e
-0002af30: 6c73 6520 656c 656d 656e 745b 305d 0d0a  lse element[0]..
-0002af40: 2020 2020 6966 2063 6865 636b 2061 6e64      if check and
-0002af50: 205f 636f 7374 5f65 7869 7374 616e 6365   _cost_existance
-0002af60: 5f63 6865 636b 286e 6574 2c20 656c 656d  _check(net, elem
-0002af70: 656e 742c 2065 7429 3a0d 0a20 2020 2020  ent, et):..     
-0002af80: 2020 2072 6169 7365 2055 7365 7257 6172     raise UserWar
-0002af90: 6e69 6e67 2822 5468 6572 6520 616c 7265  ning("There alre
-0002afa0: 6164 7920 6578 6973 7420 636f 7374 7320  ady exist costs 
-0002afb0: 666f 7220 2573 2025 6922 2025 2028 6574  for %s %i" % (et
-0002afc0: 2c20 656c 656d 656e 7429 290d 0a0d 0a20  , element)).... 
-0002afd0: 2020 2069 6e64 6578 203d 205f 6765 745f     index = _get_
-0002afe0: 696e 6465 785f 7769 7468 5f63 6865 636b  index_with_check
-0002aff0: 286e 6574 2c20 2270 6f6c 795f 636f 7374  (net, "poly_cost
-0002b000: 222c 2069 6e64 6578 290d 0a20 2020 2063  ", index)..    c
-0002b010: 6f6c 756d 6e73 203d 205b 2265 6c65 6d65  olumns = ["eleme
-0002b020: 6e74 222c 2022 6574 222c 2022 6370 305f  nt", "et", "cp0_
-0002b030: 6575 7222 2c20 2263 7031 5f65 7572 5f70  eur", "cp1_eur_p
-0002b040: 6572 5f6d 7722 2c20 2263 7130 5f65 7572  er_mw", "cq0_eur
-0002b050: 222c 2022 6371 315f 6575 725f 7065 725f  ", "cq1_eur_per_
-0002b060: 6d76 6172 222c 0d0a 2020 2020 2020 2020  mvar",..        
-0002b070: 2020 2020 2020 2022 6370 325f 6575 725f         "cp2_eur_
-0002b080: 7065 725f 6d77 3222 2c20 2263 7132 5f65  per_mw2", "cq2_e
-0002b090: 7572 5f70 6572 5f6d 7661 7232 225d 0d0a  ur_per_mvar2"]..
-0002b0a0: 2020 2020 7661 7269 6162 6c65 7320 3d20      variables = 
-0002b0b0: 5b65 6c65 6d65 6e74 2c20 6574 2c20 6370  [element, et, cp
-0002b0c0: 305f 6575 722c 2063 7031 5f65 7572 5f70  0_eur, cp1_eur_p
-0002b0d0: 6572 5f6d 772c 2063 7130 5f65 7572 2c20  er_mw, cq0_eur, 
-0002b0e0: 6371 315f 6575 725f 7065 725f 6d76 6172  cq1_eur_per_mvar
-0002b0f0: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
-0002b100: 2020 2020 6370 325f 6575 725f 7065 725f      cp2_eur_per_
-0002b110: 6d77 322c 2063 7132 5f65 7572 5f70 6572  mw2, cq2_eur_per
-0002b120: 5f6d 7661 7232 5d0d 0a20 2020 205f 7365  _mvar2]..    _se
-0002b130: 745f 656e 7472 6965 7328 6e65 742c 2022  t_entries(net, "
-0002b140: 706f 6c79 5f63 6f73 7422 2c20 696e 6465  poly_cost", inde
-0002b150: 782c 202a 2a64 6963 7428 7a69 7028 636f  x, **dict(zip(co
-0002b160: 6c75 6d6e 732c 2076 6172 6961 626c 6573  lumns, variables
-0002b170: 2929 290d 0a20 2020 2072 6574 7572 6e20  )))..    return 
-0002b180: 696e 6465 780d 0a0d 0a0d 0a64 6566 205f  index......def _
-0002b190: 6765 745f 696e 6465 785f 7769 7468 5f63  get_index_with_c
-0002b1a0: 6865 636b 286e 6574 2c20 7461 626c 652c  heck(net, table,
-0002b1b0: 2069 6e64 6578 2c20 6e61 6d65 3d4e 6f6e   index, name=Non
-0002b1c0: 6529 3a0d 0a20 2020 2069 6620 6e61 6d65  e):..    if name
-0002b1d0: 2069 7320 4e6f 6e65 3a0d 0a20 2020 2020   is None:..     
-0002b1e0: 2020 206e 616d 6520 3d20 7461 626c 650d     name = table.
-0002b1f0: 0a20 2020 2069 6620 696e 6465 7820 6973  .    if index is
-0002b200: 204e 6f6e 653a 0d0a 2020 2020 2020 2020   None:..        
-0002b210: 696e 6465 7820 3d20 6765 745f 6672 6565  index = get_free
-0002b220: 5f69 6428 6e65 745b 7461 626c 655d 290d  _id(net[table]).
-0002b230: 0a20 2020 2069 6620 696e 6465 7820 696e  .    if index in
-0002b240: 206e 6574 5b74 6162 6c65 5d2e 696e 6465   net[table].inde
-0002b250: 783a 0d0a 2020 2020 2020 2020 7261 6973  x:..        rais
-0002b260: 6520 5573 6572 5761 726e 696e 6728 2241  e UserWarning("A
-0002b270: 2025 7320 7769 7468 2074 6865 2069 6420   %s with the id 
-0002b280: 2573 2061 6c72 6561 6479 2065 7869 7374  %s already exist
-0002b290: 7322 2025 2028 6e61 6d65 2c20 696e 6465  s" % (name, inde
-0002b2a0: 7829 290d 0a20 2020 2072 6574 7572 6e20  x))..    return 
-0002b2b0: 696e 6465 780d 0a0d 0a0d 0a64 6566 205f  index......def _
-0002b2c0: 636f 7374 5f65 7869 7374 616e 6365 5f63  cost_existance_c
-0002b2d0: 6865 636b 286e 6574 2c20 656c 656d 656e  heck(net, elemen
-0002b2e0: 742c 2065 742c 2070 6f77 6572 5f74 7970  t, et, power_typ
-0002b2f0: 653d 4e6f 6e65 293a 0d0a 2020 2020 6966  e=None):..    if
-0002b300: 2070 6f77 6572 5f74 7970 6520 6973 204e   power_type is N
-0002b310: 6f6e 653a 0d0a 2020 2020 2020 2020 7265  one:..        re
-0002b320: 7475 726e 2028 626f 6f6c 286e 6574 2e70  turn (bool(net.p
-0002b330: 6f6c 795f 636f 7374 2e73 6861 7065 5b30  oly_cost.shape[0
-0002b340: 5d29 2061 6e64 0d0a 2020 2020 2020 2020  ]) and..        
-0002b350: 2020 2020 2020 2020 6e70 5f61 6e79 2828          np_any((
-0002b360: 6e65 742e 706f 6c79 5f63 6f73 742e 656c  net.poly_cost.el
-0002b370: 656d 656e 7420 3d3d 2065 6c65 6d65 6e74  ement == element
-0002b380: 292e 7661 6c75 6573 2026 0d0a 2020 2020  ).values &..    
-0002b390: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002b3a0: 2020 2028 6e65 742e 706f 6c79 5f63 6f73     (net.poly_cos
-0002b3b0: 742e 6574 203d 3d20 6574 292e 7661 6c75  t.et == et).valu
-0002b3c0: 6573 2929 205c 0d0a 2020 2020 2020 2020  es)) \..        
-0002b3d0: 2020 2020 6f72 2028 626f 6f6c 286e 6574      or (bool(net
-0002b3e0: 2e70 776c 5f63 6f73 742e 7368 6170 655b  .pwl_cost.shape[
-0002b3f0: 305d 2920 616e 640d 0a20 2020 2020 2020  0]) and..       
-0002b400: 2020 2020 2020 2020 206e 705f 616e 7928           np_any(
-0002b410: 286e 6574 2e70 776c 5f63 6f73 742e 656c  (net.pwl_cost.el
-0002b420: 656d 656e 7420 3d3d 2065 6c65 6d65 6e74  ement == element
-0002b430: 292e 7661 6c75 6573 2026 0d0a 2020 2020  ).values &..    
-0002b440: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002b450: 2020 2028 6e65 742e 7077 6c5f 636f 7374     (net.pwl_cost
-0002b460: 2e65 7420 3d3d 2065 7429 2e76 616c 7565  .et == et).value
-0002b470: 7329 290d 0a20 2020 2065 6c73 653a 0d0a  s))..    else:..
-0002b480: 2020 2020 2020 2020 7265 7475 726e 2028          return (
-0002b490: 626f 6f6c 286e 6574 2e70 6f6c 795f 636f  bool(net.poly_co
-0002b4a0: 7374 2e73 6861 7065 5b30 5d29 2061 6e64  st.shape[0]) and
-0002b4b0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-0002b4c0: 2020 6e70 5f61 6e79 2828 6e65 742e 706f    np_any((net.po
-0002b4d0: 6c79 5f63 6f73 742e 656c 656d 656e 7420  ly_cost.element 
-0002b4e0: 3d3d 2065 6c65 6d65 6e74 292e 7661 6c75  == element).valu
-0002b4f0: 6573 2026 0d0a 2020 2020 2020 2020 2020  es &..          
-0002b500: 2020 2020 2020 2020 2020 2020 2028 6e65               (ne
-0002b510: 742e 706f 6c79 5f63 6f73 742e 6574 203d  t.poly_cost.et =
-0002b520: 3d20 6574 292e 7661 6c75 6573 2929 205c  = et).values)) \
-0002b530: 0d0a 2020 2020 2020 2020 2020 2020 6f72  ..            or
-0002b540: 2028 626f 6f6c 286e 6574 2e70 776c 5f63   (bool(net.pwl_c
-0002b550: 6f73 742e 7368 6170 655b 305d 2920 616e  ost.shape[0]) an
-0002b560: 640d 0a20 2020 2020 2020 2020 2020 2020  d..             
-0002b570: 2020 206e 705f 616e 7928 286e 6574 2e70     np_any((net.p
-0002b580: 776c 5f63 6f73 742e 656c 656d 656e 7420  wl_cost.element 
-0002b590: 3d3d 2065 6c65 6d65 6e74 292e 7661 6c75  == element).valu
-0002b5a0: 6573 2026 0d0a 2020 2020 2020 2020 2020  es &..          
-0002b5b0: 2020 2020 2020 2020 2020 2020 2028 6e65               (ne
-0002b5c0: 742e 7077 6c5f 636f 7374 2e65 7420 3d3d  t.pwl_cost.et ==
-0002b5d0: 2065 7429 2e76 616c 7565 7320 260d 0a20   et).values &.. 
-0002b5e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002b5f0: 2020 2020 2020 286e 6574 2e70 776c 5f63        (net.pwl_c
-0002b600: 6f73 742e 706f 7765 725f 7479 7065 203d  ost.power_type =
-0002b610: 3d20 706f 7765 725f 7479 7065 292e 7661  = power_type).va
-0002b620: 6c75 6573 2929 0d0a 0d0a 0d0a 6465 6620  lues))......def 
-0002b630: 5f67 6574 5f6d 756c 7469 706c 655f 696e  _get_multiple_in
-0002b640: 6465 785f 7769 7468 5f63 6865 636b 286e  dex_with_check(n
-0002b650: 6574 2c20 7461 626c 652c 2069 6e64 6578  et, table, index
-0002b660: 2c20 6e75 6d62 6572 2c20 6e61 6d65 3d4e  , number, name=N
-0002b670: 6f6e 6529 3a0d 0a20 2020 2069 6620 6e61  one):..    if na
-0002b680: 6d65 2069 7320 4e6f 6e65 3a0d 0a20 2020  me is None:..   
-0002b690: 2020 2020 206e 616d 6520 3d20 7461 626c       name = tabl
-0002b6a0: 652e 6361 7069 7461 6c69 7a65 2829 202b  e.capitalize() +
-0002b6b0: 2022 7322 0d0a 2020 2020 6966 2069 6e64   "s"..    if ind
-0002b6c0: 6578 2069 7320 4e6f 6e65 3a0d 0a20 2020  ex is None:..   
-0002b6d0: 2020 2020 2062 6964 203d 2067 6574 5f66       bid = get_f
-0002b6e0: 7265 655f 6964 286e 6574 5b74 6162 6c65  ree_id(net[table
-0002b6f0: 5d29 0d0a 2020 2020 2020 2020 7265 7475  ])..        retu
-0002b700: 726e 2061 7261 6e67 6528 6269 642c 2062  rn arange(bid, b
-0002b710: 6964 202b 206e 756d 6265 722c 2031 290d  id + number, 1).
-0002b720: 0a20 2020 2063 6f6e 7461 696e 6564 203d  .    contained =
-0002b730: 2069 7369 6e28 6e65 745b 7461 626c 655d   isin(net[table]
-0002b740: 2e69 6e64 6578 2e76 616c 7565 732c 2069  .index.values, i
-0002b750: 6e64 6578 290d 0a20 2020 2069 6620 6e70  ndex)..    if np
-0002b760: 5f61 6e79 2863 6f6e 7461 696e 6564 293a  _any(contained):
-0002b770: 0d0a 2020 2020 2020 2020 7261 6973 6520  ..        raise 
-0002b780: 5573 6572 5761 726e 696e 6728 2225 7320  UserWarning("%s 
-0002b790: 7769 7468 2069 6e64 6578 6573 2025 7320  with indexes %s 
-0002b7a0: 616c 7265 6164 7920 6578 6973 742e 220d  already exist.".
-0002b7b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0002b7c0: 2020 2020 2020 2020 2020 2025 2028 6e61             % (na
-0002b7d0: 6d65 2c20 6e65 745b 7461 626c 655d 2e69  me, net[table].i
-0002b7e0: 6e64 6578 2e76 616c 7565 735b 636f 6e74  ndex.values[cont
-0002b7f0: 6169 6e65 645d 2929 0d0a 2020 2020 7265  ained]))..    re
-0002b800: 7475 726e 2069 6e64 6578 0d0a 0d0a 0d0a  turn index......
-0002b810: 6465 6620 5f63 6865 636b 5f6e 6f64 655f  def _check_node_
-0002b820: 656c 656d 656e 7428 6e65 742c 206e 6f64  element(net, nod
-0002b830: 652c 206e 6f64 655f 7461 626c 653d 2262  e, node_table="b
-0002b840: 7573 2229 3a0d 0a20 2020 2069 6620 6e6f  us"):..    if no
-0002b850: 6465 206e 6f74 2069 6e20 6e65 745b 6e6f  de not in net[no
-0002b860: 6465 5f74 6162 6c65 5d2e 696e 6465 782e  de_table].index.
-0002b870: 7661 6c75 6573 3a0d 0a20 2020 2020 2020  values:..       
-0002b880: 2072 6169 7365 2055 7365 7257 6172 6e69   raise UserWarni
-0002b890: 6e67 2822 4361 6e6e 6f74 2061 7474 6163  ng("Cannot attac
-0002b8a0: 6820 746f 2025 7320 2573 2c20 2573 2064  h to %s %s, %s d
-0002b8b0: 6f65 7320 6e6f 7420 6578 6973 7422 0d0a  oes not exist"..
-0002b8c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002b8d0: 2020 2020 2020 2020 2020 2520 286e 6f64            % (nod
-0002b8e0: 655f 7461 626c 652c 206e 6f64 652c 206e  e_table, node, n
-0002b8f0: 6f64 655f 7461 626c 6529 290d 0a0d 0a0d  ode_table)).....
-0002b900: 0a64 6566 205f 6368 6563 6b5f 6d75 6c74  .def _check_mult
-0002b910: 6970 6c65 5f6e 6f64 655f 656c 656d 656e  iple_node_elemen
-0002b920: 7473 286e 6574 2c20 6e6f 6465 732c 206e  ts(net, nodes, n
-0002b930: 6f64 655f 7461 626c 653d 2262 7573 222c  ode_table="bus",
-0002b940: 206e 616d 653d 2262 7573 6573 2229 3a0d   name="buses"):.
-0002b950: 0a20 2020 2069 6620 6e70 5f61 6e79 287e  .    if np_any(~
-0002b960: 6973 696e 286e 6f64 6573 2c20 6e65 745b  isin(nodes, net[
-0002b970: 6e6f 6465 5f74 6162 6c65 5d2e 696e 6465  node_table].inde
-0002b980: 782e 7661 6c75 6573 2929 3a0d 0a20 2020  x.values)):..   
-0002b990: 2020 2020 206e 6f64 655f 6e6f 745f 6578       node_not_ex
-0002b9a0: 6973 7420 3d20 7365 7428 6e6f 6465 7329  ist = set(nodes)
-0002b9b0: 202d 2073 6574 286e 6574 5b6e 6f64 655f   - set(net[node_
-0002b9c0: 7461 626c 655d 2e69 6e64 6578 2e76 616c  table].index.val
-0002b9d0: 7565 7329 0d0a 2020 2020 2020 2020 7261  ues)..        ra
-0002b9e0: 6973 6520 5573 6572 5761 726e 696e 6728  ise UserWarning(
-0002b9f0: 2243 616e 6e6f 7420 6174 7461 6368 2074  "Cannot attach t
-0002ba00: 6f20 2573 2025 732c 2074 6865 7920 646f  o %s %s, they do
-0002ba10: 206e 6f74 2065 7869 7374 2220 2520 286e   not exist" % (n
-0002ba20: 616d 652c 206e 6f64 655f 6e6f 745f 6578  ame, node_not_ex
-0002ba30: 6973 7429 290d 0a0d 0a0d 0a64 6566 205f  ist))......def _
-0002ba40: 6368 6563 6b5f 6272 616e 6368 5f65 6c65  check_branch_ele
-0002ba50: 6d65 6e74 286e 6574 2c20 656c 656d 656e  ment(net, elemen
-0002ba60: 745f 6e61 6d65 2c20 696e 6465 782c 2066  t_name, index, f
-0002ba70: 726f 6d5f 6e6f 6465 2c20 746f 5f6e 6f64  rom_node, to_nod
-0002ba80: 652c 206e 6f64 655f 6e61 6d65 3d22 6275  e, node_name="bu
-0002ba90: 7322 2c0d 0a20 2020 2020 2020 2020 2020  s",..           
-0002baa0: 2020 2020 2020 2020 2020 2020 2020 2070                 p
-0002bab0: 6c75 7261 6c3d 2265 7322 293a 0d0a 2020  lural="es"):..  
-0002bac0: 2020 6d69 7373 696e 675f 6e6f 6465 7320    missing_nodes 
-0002bad0: 3d20 7b66 726f 6d5f 6e6f 6465 2c20 746f  = {from_node, to
-0002bae0: 5f6e 6f64 657d 202d 2073 6574 286e 6574  _node} - set(net
-0002baf0: 5b6e 6f64 655f 6e61 6d65 5d2e 696e 6465  [node_name].inde
-0002bb00: 782e 7661 6c75 6573 290d 0a20 2020 2069  x.values)..    i
-0002bb10: 6620 6d69 7373 696e 675f 6e6f 6465 733a  f missing_nodes:
-0002bb20: 0d0a 2020 2020 2020 2020 7261 6973 6520  ..        raise 
-0002bb30: 5573 6572 5761 726e 696e 6728 2225 7320  UserWarning("%s 
-0002bb40: 2564 2074 7269 6573 2074 6f20 6174 7461  %d tries to atta
-0002bb50: 6368 2074 6f20 6e6f 6e2d 6578 6973 7469  ch to non-existi
-0002bb60: 6e67 2025 7328 2573 2920 2573 220d 0a20  ng %s(%s) %s".. 
-0002bb70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002bb80: 2020 2020 2020 2020 2025 2028 656c 656d           % (elem
-0002bb90: 656e 745f 6e61 6d65 2e63 6170 6974 616c  ent_name.capital
-0002bba0: 697a 6528 292c 2069 6e64 6578 2c20 6e6f  ize(), index, no
-0002bbb0: 6465 5f6e 616d 652c 2070 6c75 7261 6c2c  de_name, plural,
-0002bbc0: 206d 6973 7369 6e67 5f6e 6f64 6573 2929   missing_nodes))
-0002bbd0: 0d0a 0d0a 0d0a 6465 6620 5f63 6865 636b  ......def _check
-0002bbe0: 5f6d 756c 7469 706c 655f 6272 616e 6368  _multiple_branch
-0002bbf0: 5f65 6c65 6d65 6e74 7328 6e65 742c 2066  _elements(net, f
-0002bc00: 726f 6d5f 6e6f 6465 732c 2074 6f5f 6e6f  rom_nodes, to_no
-0002bc10: 6465 732c 2065 6c65 6d65 6e74 5f6e 616d  des, element_nam
-0002bc20: 652c 206e 6f64 655f 6e61 6d65 3d22 6275  e, node_name="bu
-0002bc30: 7322 2c0d 0a20 2020 2020 2020 2020 2020  s",..           
-0002bc40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002bc50: 2020 2020 2020 2020 2070 6c75 7261 6c3d           plural=
-0002bc60: 2265 7322 293a 0d0a 2020 2020 616c 6c5f  "es"):..    all_
-0002bc70: 6e6f 6465 7320 3d20 6172 7261 7928 6c69  nodes = array(li
-0002bc80: 7374 2866 726f 6d5f 6e6f 6465 7329 202b  st(from_nodes) +
-0002bc90: 206c 6973 7428 746f 5f6e 6f64 6573 2929   list(to_nodes))
-0002bca0: 0d0a 2020 2020 6966 206e 705f 616e 7928  ..    if np_any(
-0002bcb0: 7e69 7369 6e28 616c 6c5f 6e6f 6465 732c  ~isin(all_nodes,
-0002bcc0: 206e 6574 5b6e 6f64 655f 6e61 6d65 5d2e   net[node_name].
-0002bcd0: 696e 6465 782e 7661 6c75 6573 2929 3a0d  index.values)):.
-0002bce0: 0a20 2020 2020 2020 206e 6f64 655f 6e6f  .        node_no
-0002bcf0: 745f 6578 6973 7420 3d20 7365 7428 616c  t_exist = set(al
-0002bd00: 6c5f 6e6f 6465 7329 202d 2073 6574 286e  l_nodes) - set(n
-0002bd10: 6574 5b6e 6f64 655f 6e61 6d65 5d2e 696e  et[node_name].in
-0002bd20: 6465 7829 0d0a 2020 2020 2020 2020 7261  dex)..        ra
-0002bd30: 6973 6520 5573 6572 5761 726e 696e 6728  ise UserWarning(
-0002bd40: 2225 7320 7472 7969 6e67 2074 6f20 6174  "%s trying to at
-0002bd50: 7461 6368 2074 6f20 6e6f 6e20 6578 6973  tach to non exis
-0002bd60: 7469 6e67 2025 7325 7320 2573 220d 0a20  ting %s%s %s".. 
-0002bd70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002bd80: 2020 2020 2020 2020 2025 2028 656c 656d           % (elem
-0002bd90: 656e 745f 6e61 6d65 2c20 6e6f 6465 5f6e  ent_name, node_n
-0002bda0: 616d 652c 2070 6c75 7261 6c2c 206e 6f64  ame, plural, nod
-0002bdb0: 655f 6e6f 745f 6578 6973 7429 290d 0a0d  e_not_exist))...
-0002bdc0: 0a0d 0a64 6566 205f 6372 6561 7465 5f63  ...def _create_c
-0002bdd0: 6f6c 756d 6e5f 616e 645f 7365 745f 7661  olumn_and_set_va
-0002bde0: 6c75 6528 6e65 742c 2069 6e64 6578 2c20  lue(net, index, 
-0002bdf0: 7661 7269 6162 6c65 2c20 636f 6c75 6d6e  variable, column
-0002be00: 2c20 656c 656d 656e 742c 2064 7479 703d  , element, dtyp=
-0002be10: 666c 6f61 7436 342c 0d0a 2020 2020 2020  float64,..      
-0002be20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002be30: 2020 2020 2020 2020 2020 2064 6566 6175             defau
-0002be40: 6c74 5f76 616c 3d6e 616e 2c20 6465 6661  lt_val=nan, defa
-0002be50: 756c 745f 666f 725f 6e61 6e3d 4661 6c73  ult_for_nan=Fals
-0002be60: 6529 3a0d 0a20 2020 2023 2069 6620 7661  e):..    # if va
-0002be70: 7269 6162 6c65 2028 652e 672e 2070 5f6d  riable (e.g. p_m
-0002be80: 7729 2069 7320 6e6f 7420 4e6f 6e65 2061  w) is not None a
-0002be90: 6e64 2063 6f6c 756d 6e20 2865 2e67 2e20  nd column (e.g. 
-0002bea0: 2270 5f6d 7722 2920 646f 6573 6e27 7420  "p_mw") doesn't 
-0002beb0: 6578 6973 7420 696e 2065 6c65 6d65 6e74  exist in element
-0002bec0: 0d0a 2020 2020 2320 2865 2e67 2e20 2267  ..    # (e.g. "g
-0002bed0: 656e 2229 2074 6162 6c65 0d0a 2020 2020  en") table..    
-0002bee0: 2320 6372 6561 7465 2074 6869 7320 636f  # create this co
-0002bef0: 6c75 6d6e 2061 6e64 2077 7269 7465 2074  lumn and write t
-0002bf00: 6865 2076 616c 7565 206f 6620 7661 7269  he value of vari
-0002bf10: 6162 6c65 2074 6f20 7468 6520 696e 6465  able to the inde
-0002bf20: 7820 6f66 2074 6869 7320 656c 656d 656e  x of this elemen
-0002bf30: 740d 0a20 2020 2074 7279 3a0d 0a20 2020  t..    try:..   
-0002bf40: 2020 2020 2073 6574 5f76 616c 7565 203d       set_value =
-0002bf50: 206e 6f74 2028 6973 6e61 6e28 7661 7269   not (isnan(vari
-0002bf60: 6162 6c65 2920 6f72 2076 6172 6961 626c  able) or variabl
-0002bf70: 6520 6973 204e 6f6e 6529 0d0a 2020 2020  e is None)..    
-0002bf80: 6578 6365 7074 2054 7970 6545 7272 6f72  except TypeError
-0002bf90: 3a0d 0a20 2020 2020 2020 2073 6574 5f76  :..        set_v
-0002bfa0: 616c 7565 203d 2054 7275 650d 0a20 2020  alue = True..   
-0002bfb0: 2069 6620 7365 745f 7661 6c75 653a 0d0a   if set_value:..
-0002bfc0: 2020 2020 2020 2020 6966 2063 6f6c 756d          if colum
-0002bfd0: 6e20 6e6f 7420 696e 206e 6574 5b65 6c65  n not in net[ele
-0002bfe0: 6d65 6e74 5d2e 636f 6c75 6d6e 733a 0d0a  ment].columns:..
-0002bff0: 2020 2020 2020 2020 2020 2020 2320 7468              # th
-0002c000: 6973 2070 6172 7420 6973 2066 6f72 2063  is part is for c
-0002c010: 6f6d 7061 7469 6269 6c69 7479 2077 6974  ompatibility wit
-0002c020: 6820 7061 6e64 6173 203c 2031 2e30 2c20  h pandas < 1.0, 
-0002c030: 6361 6e20 6265 2072 656d 6f76 6564 2069  can be removed i
-0002c040: 6620 7061 6e64 6173 203e 3d20 312e 3020  f pandas >= 1.0 
-0002c050: 6973 2072 6571 7569 7265 6420 696e 2073  is required in s
-0002c060: 6574 7570 2e70 790d 0a20 2020 2020 2020  etup.py..       
-0002c070: 2020 2020 2069 6620 6973 696e 7374 616e       if isinstan
-0002c080: 6365 2864 6566 6175 6c74 5f76 616c 2c20  ce(default_val, 
-0002c090: 7374 7229 205c 0d0a 2020 2020 2020 2020  str) \..        
-0002c0a0: 2020 2020 2020 2020 2020 2020 616e 6420              and 
-0002c0b0: 7665 7273 696f 6e2e 7061 7273 6528 7064  version.parse(pd
-0002c0c0: 2e5f 5f76 6572 7369 6f6e 5f5f 2920 3c20  .__version__) < 
-0002c0d0: 7665 7273 696f 6e2e 7061 7273 6528 2231  version.parse("1
-0002c0e0: 2e30 2229 3a0d 0a20 2020 2020 2020 2020  .0"):..         
-0002c0f0: 2020 2020 2020 206e 6574 5b65 6c65 6d65         net[eleme
-0002c100: 6e74 5d2e 6c6f 635b 3a2c 2063 6f6c 756d  nt].loc[:, colum
-0002c110: 6e5d 203d 2070 642e 5365 7269 6573 285b  n] = pd.Series([
-0002c120: 6465 6661 756c 745f 7661 6c5d 202a 206c  default_val] * l
-0002c130: 656e 286e 6574 5b65 6c65 6d65 6e74 5d29  en(net[element])
-0002c140: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
-0002c150: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00029dd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00029de0: 2020 2020 2020 2028 6e65 742e 6d65 6173         (net.meas
+00029df0: 7572 656d 656e 742e 7369 6465 203d 3d20  urement.side == 
+00029e00: 7369 6465 295d 2e69 6e64 6578 0d0a 2020  side)].index..  
+00029e10: 2020 2020 2020 6966 206c 656e 2865 7869        if len(exi
+00029e20: 7374 696e 6729 203d 3d20 313a 0d0a 2020  sting) == 1:..  
+00029e30: 2020 2020 2020 2020 2020 696e 6465 7820            index 
+00029e40: 3d20 6578 6973 7469 6e67 5b30 5d0d 0a20  = existing[0].. 
+00029e50: 2020 2020 2020 2065 6c69 6620 6c65 6e28         elif len(
+00029e60: 6578 6973 7469 6e67 2920 3e20 313a 0d0a  existing) > 1:..
+00029e70: 2020 2020 2020 2020 2020 2020 7261 6973              rais
+00029e80: 6520 5573 6572 5761 726e 696e 6728 224d  e UserWarning("M
+00029e90: 6f72 6520 7468 616e 206f 6e65 206d 6561  ore than one mea
+00029ea0: 7375 7265 6d65 6e74 206f 6620 7468 6973  surement of this
+00029eb0: 2074 7970 6520 6578 6973 7473 2229 0d0a   type exists")..
+00029ec0: 0d0a 2020 2020 636f 6c75 6d6e 7320 3d20  ..    columns = 
+00029ed0: 5b22 6e61 6d65 222c 2022 6d65 6173 7572  ["name", "measur
+00029ee0: 656d 656e 745f 7479 7065 222c 2022 656c  ement_type", "el
+00029ef0: 656d 656e 745f 7479 7065 222c 2022 656c  ement_type", "el
+00029f00: 656d 656e 7422 2c20 2276 616c 7565 222c  ement", "value",
+00029f10: 2022 7374 645f 6465 7622 2c20 2273 6964   "std_dev", "sid
+00029f20: 6522 5d0d 0a20 2020 2076 616c 7565 7320  e"]..    values 
+00029f30: 3d20 5b6e 616d 652c 206d 6561 735f 7479  = [name, meas_ty
+00029f40: 7065 2e6c 6f77 6572 2829 2c20 656c 656d  pe.lower(), elem
+00029f50: 656e 745f 7479 7065 2c20 656c 656d 656e  ent_type, elemen
+00029f60: 742c 2076 616c 7565 2c20 7374 645f 6465  t, value, std_de
+00029f70: 762c 2073 6964 655d 0d0a 2020 2020 5f73  v, side]..    _s
+00029f80: 6574 5f65 6e74 7269 6573 286e 6574 2c20  et_entries(net, 
+00029f90: 226d 6561 7375 7265 6d65 6e74 222c 2069  "measurement", i
+00029fa0: 6e64 6578 2c20 2a2a 6469 6374 287a 6970  ndex, **dict(zip
+00029fb0: 2863 6f6c 756d 6e73 2c20 7661 6c75 6573  (columns, values
+00029fc0: 2929 290d 0a20 2020 2072 6574 7572 6e20  )))..    return 
+00029fd0: 696e 6465 780d 0a0d 0a0d 0a64 6566 2063  index......def c
+00029fe0: 7265 6174 655f 7077 6c5f 636f 7374 286e  reate_pwl_cost(n
+00029ff0: 6574 2c20 656c 656d 656e 742c 2065 742c  et, element, et,
+0002a000: 2070 6f69 6e74 732c 2070 6f77 6572 5f74   points, power_t
+0002a010: 7970 653d 2270 222c 2069 6e64 6578 3d4e  ype="p", index=N
+0002a020: 6f6e 652c 2063 6865 636b 3d54 7275 6529  one, check=True)
+0002a030: 3a0d 0a20 2020 2022 2222 0d0a 2020 2020  :..    """..    
+0002a040: 4372 6561 7465 7320 616e 2065 6e74 7279  Creates an entry
+0002a050: 2066 6f72 2070 6965 6365 7769 7365 206c   for piecewise l
+0002a060: 696e 6561 7220 636f 7374 7320 666f 7220  inear costs for 
+0002a070: 616e 2065 6c65 6d65 6e74 2e20 5468 6520  an element. The 
+0002a080: 6375 7272 656e 746c 7920 7375 7070 6f72  currently suppor
+0002a090: 7465 6420 656c 656d 656e 7473 2061 7265  ted elements are
+0002a0a0: 0d0a 2020 2020 202d 2047 656e 6572 6174  ..     - Generat
+0002a0b0: 6f72 0d0a 2020 2020 202d 2045 7874 6572  or..     - Exter
+0002a0c0: 6e61 6c20 4772 6964 0d0a 2020 2020 202d  nal Grid..     -
+0002a0d0: 2053 7461 7469 6320 4765 6e65 7261 746f   Static Generato
+0002a0e0: 720d 0a20 2020 2020 2d20 4c6f 6164 0d0a  r..     - Load..
+0002a0f0: 2020 2020 202d 2044 636c 696e 650d 0a20       - Dcline.. 
+0002a100: 2020 2020 2d20 5374 6f72 6167 650d 0a0d      - Storage...
+0002a110: 0a20 2020 2049 4e50 5554 3a0d 0a20 2020  .    INPUT:..   
+0002a120: 2020 2020 202a 2a65 6c65 6d65 6e74 2a2a       **element**
+0002a130: 2028 696e 7429 202d 2049 4420 6f66 2074   (int) - ID of t
+0002a140: 6865 2065 6c65 6d65 6e74 2069 6e20 7468  he element in th
+0002a150: 6520 7265 7370 6563 7469 7665 2065 6c65  e respective ele
+0002a160: 6d65 6e74 2074 6162 6c65 0d0a 0d0a 2020  ment table....  
+0002a170: 2020 2020 2020 2a2a 6574 2a2a 2028 7374        **et** (st
+0002a180: 7269 6e67 2920 2d20 656c 656d 656e 7420  ring) - element 
+0002a190: 7479 7065 2c20 6f6e 6520 6f66 2022 6765  type, one of "ge
+0002a1a0: 6e22 2c20 2273 6765 6e22 2c20 2265 7874  n", "sgen", "ext
+0002a1b0: 5f67 7269 6422 2c20 226c 6f61 6422 2c0d  _grid", "load",.
+0002a1c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0002a1d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002a1e0: 2022 6463 6c69 6e65 222c 2022 7374 6f72   "dcline", "stor
+0002a1f0: 6167 6522 5d0d 0a0d 0a20 2020 2020 2020  age"]....       
+0002a200: 202a 2a70 6f69 6e74 732a 2a20 2d20 286c   **points** - (l
+0002a210: 6973 7429 206c 6973 7420 6f66 206c 6973  ist) list of lis
+0002a220: 7473 2077 6974 6820 5b5b 7031 2c20 7032  ts with [[p1, p2
+0002a230: 2c20 6331 5d2c 205b 7032 2c20 7033 2c20  , c1], [p2, p3, 
+0002a240: 6332 5d2c 202e 2e2e 5d20 7768 6572 6520  c2], ...] where 
+0002a250: 6328 6e29 205c 0d0a 2020 2020 2020 2020  c(n) \..        
+0002a260: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002a270: 2020 2020 6465 6669 6e65 7320 7468 6520      defines the 
+0002a280: 636f 7374 7320 6265 7477 6565 6e20 7028  costs between p(
+0002a290: 6e29 2061 6e64 2070 286e 2b31 290d 0a0d  n) and p(n+1)...
+0002a2a0: 0a20 2020 204f 5054 494f 4e41 4c3a 0d0a  .    OPTIONAL:..
+0002a2b0: 2020 2020 2020 2020 2a2a 7479 7065 2a2a          **type**
+0002a2c0: 202d 2028 7374 7269 6e67 2920 2d20 5479   - (string) - Ty
+0002a2d0: 7065 206f 6620 636f 7374 205b 2270 222c  pe of cost ["p",
+0002a2e0: 2022 7122 5d20 6172 6520 616c 6c6f 7765   "q"] are allowe
+0002a2f0: 6420 666f 7220 6163 7469 7665 206f 7220  d for active or 
+0002a300: 7265 6163 7469 7665 2070 6f77 6572 0d0a  reactive power..
+0002a310: 0d0a 2020 2020 2020 2020 2a2a 696e 6465  ..        **inde
+0002a320: 782a 2a20 2869 6e74 2c20 696e 6465 7829  x** (int, index)
+0002a330: 202d 2046 6f72 6365 2061 2073 7065 6369   - Force a speci
+0002a340: 6669 6564 2049 4420 6966 2069 7420 6973  fied ID if it is
+0002a350: 2061 7661 696c 6162 6c65 2e20 4966 204e   available. If N
+0002a360: 6f6e 652c 2074 6865 2069 6e64 6578 206f  one, the index o
+0002a370: 6e65 205c 0d0a 2020 2020 2020 2020 2020  ne \..          
+0002a380: 2020 6869 6768 6572 2074 6861 6e20 7468    higher than th
+0002a390: 6520 6869 6768 6573 7420 616c 7265 6164  e highest alread
+0002a3a0: 7920 6578 6973 7469 6e67 2069 6e64 6578  y existing index
+0002a3b0: 2069 7320 7365 6c65 6374 6564 2e0d 0a0d   is selected....
+0002a3c0: 0a20 2020 2020 2020 202a 2a63 6865 636b  .        **check
+0002a3d0: 2a2a 2028 626f 6f6c 2c20 5472 7565 2920  ** (bool, True) 
+0002a3e0: 2d20 7261 6973 6573 2055 7365 7257 6172  - raises UserWar
+0002a3f0: 6e69 6e67 2069 6620 636f 7374 7320 616c  ning if costs al
+0002a400: 7265 6164 7920 6578 6973 7420 746f 2074  ready exist to t
+0002a410: 6869 7320 656c 656d 656e 742e 0d0a 0d0a  his element.....
+0002a420: 2020 2020 4f55 5450 5554 3a0d 0a20 2020      OUTPUT:..   
+0002a430: 2020 2020 202a 2a69 6e64 6578 2a2a 2028       **index** (
+0002a440: 696e 7429 202d 2054 6865 2075 6e69 7175  int) - The uniqu
+0002a450: 6520 4944 206f 6620 6372 6561 7465 6420  e ID of created 
+0002a460: 636f 7374 2065 6e74 7279 0d0a 0d0a 2020  cost entry....  
+0002a470: 2020 4558 414d 504c 453a 0d0a 2020 2020    EXAMPLE:..    
+0002a480: 2020 2020 5468 6520 636f 7374 2066 756e      The cost fun
+0002a490: 6374 696f 6e20 6973 2067 6976 656e 2062  ction is given b
+0002a4a0: 7920 7468 6520 782d 7661 6c75 6573 2070  y the x-values p
+0002a4b0: 3120 616e 6420 7032 2077 6974 6820 7468  1 and p2 with th
+0002a4c0: 6520 736c 6f70 6520 6d20 6265 7477 6565  e slope m betwee
+0002a4d0: 6e20 7468 6f73 6520 706f 696e 7473 2e5c  n those points.\
+0002a4e0: 0d0a 2020 2020 2020 2020 5468 6520 636f  ..        The co
+0002a4f0: 6e73 7461 6e74 2070 6172 7420 6220 6f66  nstant part b of
+0002a500: 2061 206c 696e 6561 7220 6675 6e63 7469   a linear functi
+0002a510: 6f6e 2079 203d 206d 2a78 202b 2062 2063  on y = m*x + b c
+0002a520: 616e 2062 6520 6e65 676c 6563 7465 6420  an be neglected 
+0002a530: 666f 7220 4f50 4620 7075 7270 6f73 6573  for OPF purposes
+0002a540: 2e20 5c0d 0a20 2020 2020 2020 2054 6865  . \..        The
+0002a550: 2069 6e74 6572 7661 6c73 2068 6176 6520   intervals have 
+0002a560: 746f 2062 6520 636f 6e74 696e 756f 7573  to be continuous
+0002a570: 2028 7468 6520 7374 6172 7469 6e67 2070   (the starting p
+0002a580: 6f69 6e74 206f 6620 616e 2069 6e74 6572  oint of an inter
+0002a590: 7661 6c20 6861 7320 746f 2062 6520 6571  val has to be eq
+0002a5a0: 7561 6c20 746f 205c 0d0a 2020 2020 2020  ual to \..      
+0002a5b0: 2020 7468 6520 656e 6420 706f 696e 7420    the end point 
+0002a5c0: 6f66 2074 6865 2070 7265 7669 6f75 7320  of the previous 
+0002a5d0: 696e 7465 7276 616c 292e 0d0a 0d0a 2020  interval).....  
+0002a5e0: 2020 2020 2020 546f 2063 7265 6174 6520        To create 
+0002a5f0: 6120 6765 6e20 7769 7468 2063 6f73 7473  a gen with costs
+0002a600: 206f 6620 31e2 82ac 2f4d 5720 6265 7477   of 1.../MW betw
+0002a610: 6565 6e20 3020 616e 6420 3230 204d 5720  een 0 and 20 MW 
+0002a620: 616e 6420 32e2 82ac 2f4d 5720 6265 7477  and 2.../MW betw
+0002a630: 6565 6e20 3230 2061 6e64 2033 303a 0d0a  een 20 and 30:..
+0002a640: 0d0a 2020 2020 2020 2020 6372 6561 7465  ..        create
+0002a650: 5f70 776c 5f63 6f73 7428 6e65 742c 2030  _pwl_cost(net, 0
+0002a660: 2c20 2267 656e 222c 205b 5b30 2c20 3230  , "gen", [[0, 20
+0002a670: 2c20 315d 2c20 5b32 302c 2033 302c 2032  , 1], [20, 30, 2
+0002a680: 5d5d 290d 0a20 2020 2022 2222 0d0a 2020  ]])..    """..  
+0002a690: 2020 656c 656d 656e 7420 3d20 656c 656d    element = elem
+0002a6a0: 656e 7420 6966 206e 6f74 2068 6173 6174  ent if not hasat
+0002a6b0: 7472 2865 6c65 6d65 6e74 2c20 225f 5f69  tr(element, "__i
+0002a6c0: 7465 725f 5f22 2920 656c 7365 2065 6c65  ter__") else ele
+0002a6d0: 6d65 6e74 5b30 5d0d 0a20 2020 2069 6620  ment[0]..    if 
+0002a6e0: 6368 6563 6b20 616e 6420 5f63 6f73 745f  check and _cost_
+0002a6f0: 6578 6973 7461 6e63 655f 6368 6563 6b28  existance_check(
+0002a700: 6e65 742c 2065 6c65 6d65 6e74 2c20 6574  net, element, et
+0002a710: 2c20 706f 7765 725f 7479 7065 3d70 6f77  , power_type=pow
+0002a720: 6572 5f74 7970 6529 3a0d 0a20 2020 2020  er_type):..     
+0002a730: 2020 2072 6169 7365 2055 7365 7257 6172     raise UserWar
+0002a740: 6e69 6e67 2822 5468 6572 6520 616c 7265  ning("There alre
+0002a750: 6164 7920 6578 6973 7420 636f 7374 7320  ady exist costs 
+0002a760: 666f 7220 2573 2025 6922 2025 2028 6574  for %s %i" % (et
+0002a770: 2c20 656c 656d 656e 7429 290d 0a0d 0a20  , element)).... 
+0002a780: 2020 2069 6e64 6578 203d 205f 6765 745f     index = _get_
+0002a790: 696e 6465 785f 7769 7468 5f63 6865 636b  index_with_check
+0002a7a0: 286e 6574 2c20 2270 776c 5f63 6f73 7422  (net, "pwl_cost"
+0002a7b0: 2c20 696e 6465 782c 2022 7069 6563 6577  , index, "piecew
+0002a7c0: 6973 655f 6c69 6e65 6172 5f63 6f73 7422  ise_linear_cost"
+0002a7d0: 290d 0a0d 0a20 2020 2065 6e74 7269 6573  )....    entries
+0002a7e0: 203d 2064 6963 7428 7a69 7028 5b22 706f   = dict(zip(["po
+0002a7f0: 7765 725f 7479 7065 222c 2022 656c 656d  wer_type", "elem
+0002a800: 656e 7422 2c20 2265 7422 2c20 2270 6f69  ent", "et", "poi
+0002a810: 6e74 7322 5d2c 0d0a 2020 2020 2020 2020  nts"],..        
+0002a820: 2020 2020 2020 2020 2020 2020 2020 205b                 [
+0002a830: 706f 7765 725f 7479 7065 2c20 656c 656d  power_type, elem
+0002a840: 656e 742c 2065 742c 2070 6f69 6e74 735d  ent, et, points]
+0002a850: 2929 0d0a 2020 2020 5f73 6574 5f65 6e74  ))..    _set_ent
+0002a860: 7269 6573 286e 6574 2c20 2270 776c 5f63  ries(net, "pwl_c
+0002a870: 6f73 7422 2c20 696e 6465 782c 202a 2a65  ost", index, **e
+0002a880: 6e74 7269 6573 290d 0a20 2020 2072 6574  ntries)..    ret
+0002a890: 7572 6e20 696e 6465 780d 0a0d 0a0d 0a64  urn index......d
+0002a8a0: 6566 2063 7265 6174 655f 706f 6c79 5f63  ef create_poly_c
+0002a8b0: 6f73 7428 6e65 742c 2065 6c65 6d65 6e74  ost(net, element
+0002a8c0: 2c20 6574 2c20 6370 315f 6575 725f 7065  , et, cp1_eur_pe
+0002a8d0: 725f 6d77 2c20 6370 305f 6575 723d 302c  r_mw, cp0_eur=0,
+0002a8e0: 2063 7131 5f65 7572 5f70 6572 5f6d 7661   cq1_eur_per_mva
+0002a8f0: 723d 302c 0d0a 2020 2020 2020 2020 2020  r=0,..          
+0002a900: 2020 2020 2020 2020 2020 2063 7130 5f65             cq0_e
+0002a910: 7572 3d30 2c20 6370 325f 6575 725f 7065  ur=0, cp2_eur_pe
+0002a920: 725f 6d77 323d 302c 2063 7132 5f65 7572  r_mw2=0, cq2_eur
+0002a930: 5f70 6572 5f6d 7661 7232 3d30 2c20 696e  _per_mvar2=0, in
+0002a940: 6465 783d 4e6f 6e65 2c20 6368 6563 6b3d  dex=None, check=
+0002a950: 5472 7565 293a 0d0a 2020 2020 2222 220d  True):..    """.
+0002a960: 0a20 2020 2043 7265 6174 6573 2061 6e20  .    Creates an 
+0002a970: 656e 7472 7920 666f 7220 706f 6c79 6e69  entry for polyni
+0002a980: 6d6f 616c 2063 6f73 7473 2066 6f72 2061  moal costs for a
+0002a990: 6e20 656c 656d 656e 742e 2054 6865 2063  n element. The c
+0002a9a0: 7572 7265 6e74 6c79 2073 7570 706f 7274  urrently support
+0002a9b0: 6564 2065 6c65 6d65 6e74 7320 6172 653a  ed elements are:
+0002a9c0: 0d0a 2020 2020 202d 2047 656e 6572 6174  ..     - Generat
+0002a9d0: 6f72 2028 2267 656e 2229 0d0a 2020 2020  or ("gen")..    
+0002a9e0: 202d 2045 7874 6572 6e61 6c20 4772 6964   - External Grid
+0002a9f0: 2028 2265 7874 5f67 7269 6422 290d 0a20   ("ext_grid").. 
+0002aa00: 2020 2020 2d20 5374 6174 6963 2047 656e      - Static Gen
+0002aa10: 6572 6174 6f72 2028 2273 6765 6e22 290d  erator ("sgen").
+0002aa20: 0a20 2020 2020 2d20 4c6f 6164 2028 226c  .     - Load ("l
+0002aa30: 6f61 6422 290d 0a20 2020 2020 2d20 4463  oad")..     - Dc
+0002aa40: 6c69 6e65 2028 2264 636c 696e 6522 290d  line ("dcline").
+0002aa50: 0a20 2020 2020 2d20 5374 6f72 6167 6520  .     - Storage 
+0002aa60: 2822 7374 6f72 6167 6522 290d 0a0d 0a20  ("storage").... 
+0002aa70: 2020 2049 4e50 5554 3a0d 0a20 2020 2020     INPUT:..     
+0002aa80: 2020 202a 2a65 6c65 6d65 6e74 2a2a 2028     **element** (
+0002aa90: 696e 7429 202d 2049 4420 6f66 2074 6865  int) - ID of the
+0002aaa0: 2065 6c65 6d65 6e74 2069 6e20 7468 6520   element in the 
+0002aab0: 7265 7370 6563 7469 7665 2065 6c65 6d65  respective eleme
+0002aac0: 6e74 2074 6162 6c65 0d0a 0d0a 2020 2020  nt table....    
+0002aad0: 2020 2020 2a2a 6574 2a2a 2028 7374 7269      **et** (stri
+0002aae0: 6e67 2920 2d20 5479 7065 206f 6620 656c  ng) - Type of el
+0002aaf0: 656d 656e 7420 5b22 6765 6e22 2c20 2273  ement ["gen", "s
+0002ab00: 6765 6e22 2c20 2265 7874 5f67 7269 6422  gen", "ext_grid"
+0002ab10: 2c20 226c 6f61 6422 2c20 2264 636c 696e  , "load", "dclin
+0002ab20: 6522 2c20 2273 746f 7261 6765 225d 205c  e", "storage"] \
+0002ab30: 0d0a 2020 2020 2020 2020 2020 2020 6172  ..            ar
+0002ab40: 6520 706f 7373 6962 6c65 0d0a 0d0a 2020  e possible....  
+0002ab50: 2020 2020 2020 2a2a 6370 315f 6575 725f        **cp1_eur_
+0002ab60: 7065 725f 6d77 2a2a 2028 666c 6f61 7429  per_mw** (float)
+0002ab70: 202d 204c 696e 6561 7220 636f 7374 7320   - Linear costs 
+0002ab80: 7065 7220 4d57 0d0a 0d0a 2020 2020 2020  per MW....      
+0002ab90: 2020 2a2a 6370 305f 6575 723d 302a 2a20    **cp0_eur=0** 
+0002aba0: 2866 6c6f 6174 2920 2d20 4f66 6673 6574  (float) - Offset
+0002abb0: 2061 6374 6976 6520 706f 7765 7220 636f   active power co
+0002abc0: 7374 7320 696e 2065 7572 6f0d 0a0d 0a20  sts in euro.... 
+0002abd0: 2020 2020 2020 202a 2a63 7131 5f65 7572         **cq1_eur
+0002abe0: 5f70 6572 5f6d 7661 723d 302a 2a20 2866  _per_mvar=0** (f
+0002abf0: 6c6f 6174 2920 2d20 4c69 6e65 6172 2063  loat) - Linear c
+0002ac00: 6f73 7473 2070 6572 204d 7661 720d 0a0d  osts per Mvar...
+0002ac10: 0a20 2020 2020 2020 202a 2a63 7130 5f65  .        **cq0_e
+0002ac20: 7572 3d30 2a2a 2028 666c 6f61 7429 202d  ur=0** (float) -
+0002ac30: 204f 6666 7365 7420 7265 6163 7469 7665   Offset reactive
+0002ac40: 2070 6f77 6572 2063 6f73 7473 2069 6e20   power costs in 
+0002ac50: 6575 726f 0d0a 0d0a 2020 2020 2020 2020  euro....        
+0002ac60: 2a2a 6370 325f 6575 725f 7065 725f 6d77  **cp2_eur_per_mw
+0002ac70: 323d 302a 2a20 2866 6c6f 6174 2920 2d20  2=0** (float) - 
+0002ac80: 5175 6164 7261 7469 6320 636f 7374 7320  Quadratic costs 
+0002ac90: 7065 7220 4d57 0d0a 0d0a 2020 2020 2020  per MW....      
+0002aca0: 2020 2a2a 6371 325f 6575 725f 7065 725f    **cq2_eur_per_
+0002acb0: 6d76 6172 323d 302a 2a20 2866 6c6f 6174  mvar2=0** (float
+0002acc0: 2920 2d20 5175 6164 7261 7469 6320 636f  ) - Quadratic co
+0002acd0: 7374 7320 7065 7220 4d76 6172 0d0a 0d0a  sts per Mvar....
+0002ace0: 2020 2020 4f50 5449 4f4e 414c 3a0d 0a0d      OPTIONAL:...
+0002acf0: 0a20 2020 2020 2020 202a 2a69 6e64 6578  .        **index
+0002ad00: 2a2a 2028 696e 742c 2069 6e64 6578 2920  ** (int, index) 
+0002ad10: 2d20 466f 7263 6520 6120 7370 6563 6966  - Force a specif
+0002ad20: 6965 6420 4944 2069 6620 6974 2069 7320  ied ID if it is 
+0002ad30: 6176 6169 6c61 626c 652e 2049 6620 4e6f  available. If No
+0002ad40: 6e65 2c20 7468 6520 696e 6465 7820 6f6e  ne, the index on
+0002ad50: 6520 5c0d 0a20 2020 2020 2020 2020 2020  e \..           
+0002ad60: 2068 6967 6865 7220 7468 616e 2074 6865   higher than the
+0002ad70: 2068 6967 6865 7374 2061 6c72 6561 6479   highest already
+0002ad80: 2065 7869 7374 696e 6720 696e 6465 7820   existing index 
+0002ad90: 6973 2073 656c 6563 7465 642e 0d0a 0d0a  is selected.....
+0002ada0: 2020 2020 2020 2020 2a2a 6368 6563 6b2a          **check*
+0002adb0: 2a20 2862 6f6f 6c2c 2054 7275 6529 202d  * (bool, True) -
+0002adc0: 2072 6169 7365 7320 5573 6572 5761 726e   raises UserWarn
+0002add0: 696e 6720 6966 2063 6f73 7473 2061 6c72  ing if costs alr
+0002ade0: 6561 6479 2065 7869 7374 2074 6f20 7468  eady exist to th
+0002adf0: 6973 2065 6c65 6d65 6e74 2e0d 0a0d 0a20  is element..... 
+0002ae00: 2020 204f 5554 5055 543a 0d0a 2020 2020     OUTPUT:..    
+0002ae10: 2020 2020 2a2a 696e 6465 782a 2a20 2869      **index** (i
+0002ae20: 6e74 2920 2d20 5468 6520 756e 6971 7565  nt) - The unique
+0002ae30: 2049 4420 6f66 2063 7265 6174 6564 2063   ID of created c
+0002ae40: 6f73 7420 656e 7472 790d 0a0d 0a20 2020  ost entry....   
+0002ae50: 2045 5841 4d50 4c45 3a0d 0a20 2020 2020   EXAMPLE:..     
+0002ae60: 2020 2054 6865 2070 6f6c 796e 6f6d 6961     The polynomia
+0002ae70: 6c20 636f 7374 2066 756e 6374 696f 6e20  l cost function 
+0002ae80: 6973 2067 6976 656e 2062 7920 7468 6520  is given by the 
+0002ae90: 6c69 6e65 6172 2061 6e64 2071 7561 6472  linear and quadr
+0002aea0: 6174 6963 2063 6f73 7420 636f 6566 6669  atic cost coeffi
+0002aeb0: 6369 656e 7473 2e0d 0a0d 0a20 2020 2020  cients.....     
+0002aec0: 2020 2063 7265 6174 655f 706f 6c79 5f63     create_poly_c
+0002aed0: 6f73 7428 6e65 742c 2030 2c20 226c 6f61  ost(net, 0, "loa
+0002aee0: 6422 2c20 6370 315f 6575 725f 7065 725f  d", cp1_eur_per_
+0002aef0: 6d77 203d 2030 2e31 290d 0a20 2020 2022  mw = 0.1)..    "
+0002af00: 2222 0d0a 2020 2020 656c 656d 656e 7420  ""..    element 
+0002af10: 3d20 656c 656d 656e 7420 6966 206e 6f74  = element if not
+0002af20: 2068 6173 6174 7472 2865 6c65 6d65 6e74   hasattr(element
+0002af30: 2c20 225f 5f69 7465 725f 5f22 2920 656c  , "__iter__") el
+0002af40: 7365 2065 6c65 6d65 6e74 5b30 5d0d 0a20  se element[0].. 
+0002af50: 2020 2069 6620 6368 6563 6b20 616e 6420     if check and 
+0002af60: 5f63 6f73 745f 6578 6973 7461 6e63 655f  _cost_existance_
+0002af70: 6368 6563 6b28 6e65 742c 2065 6c65 6d65  check(net, eleme
+0002af80: 6e74 2c20 6574 293a 0d0a 2020 2020 2020  nt, et):..      
+0002af90: 2020 7261 6973 6520 5573 6572 5761 726e    raise UserWarn
+0002afa0: 696e 6728 2254 6865 7265 2061 6c72 6561  ing("There alrea
+0002afb0: 6479 2065 7869 7374 2063 6f73 7473 2066  dy exist costs f
+0002afc0: 6f72 2025 7320 2569 2220 2520 2865 742c  or %s %i" % (et,
+0002afd0: 2065 6c65 6d65 6e74 2929 0d0a 0d0a 2020   element))....  
+0002afe0: 2020 696e 6465 7820 3d20 5f67 6574 5f69    index = _get_i
+0002aff0: 6e64 6578 5f77 6974 685f 6368 6563 6b28  ndex_with_check(
+0002b000: 6e65 742c 2022 706f 6c79 5f63 6f73 7422  net, "poly_cost"
+0002b010: 2c20 696e 6465 7829 0d0a 2020 2020 636f  , index)..    co
+0002b020: 6c75 6d6e 7320 3d20 5b22 656c 656d 656e  lumns = ["elemen
+0002b030: 7422 2c20 2265 7422 2c20 2263 7030 5f65  t", "et", "cp0_e
+0002b040: 7572 222c 2022 6370 315f 6575 725f 7065  ur", "cp1_eur_pe
+0002b050: 725f 6d77 222c 2022 6371 305f 6575 7222  r_mw", "cq0_eur"
+0002b060: 2c20 2263 7131 5f65 7572 5f70 6572 5f6d  , "cq1_eur_per_m
+0002b070: 7661 7222 2c0d 0a20 2020 2020 2020 2020  var",..         
+0002b080: 2020 2020 2020 2263 7032 5f65 7572 5f70        "cp2_eur_p
+0002b090: 6572 5f6d 7732 222c 2022 6371 325f 6575  er_mw2", "cq2_eu
+0002b0a0: 725f 7065 725f 6d76 6172 3222 5d0d 0a20  r_per_mvar2"].. 
+0002b0b0: 2020 2076 6172 6961 626c 6573 203d 205b     variables = [
+0002b0c0: 656c 656d 656e 742c 2065 742c 2063 7030  element, et, cp0
+0002b0d0: 5f65 7572 2c20 6370 315f 6575 725f 7065  _eur, cp1_eur_pe
+0002b0e0: 725f 6d77 2c20 6371 305f 6575 722c 2063  r_mw, cq0_eur, c
+0002b0f0: 7131 5f65 7572 5f70 6572 5f6d 7661 722c  q1_eur_per_mvar,
+0002b100: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+0002b110: 2020 2063 7032 5f65 7572 5f70 6572 5f6d     cp2_eur_per_m
+0002b120: 7732 2c20 6371 325f 6575 725f 7065 725f  w2, cq2_eur_per_
+0002b130: 6d76 6172 325d 0d0a 2020 2020 5f73 6574  mvar2]..    _set
+0002b140: 5f65 6e74 7269 6573 286e 6574 2c20 2270  _entries(net, "p
+0002b150: 6f6c 795f 636f 7374 222c 2069 6e64 6578  oly_cost", index
+0002b160: 2c20 2a2a 6469 6374 287a 6970 2863 6f6c  , **dict(zip(col
+0002b170: 756d 6e73 2c20 7661 7269 6162 6c65 7329  umns, variables)
+0002b180: 2929 0d0a 2020 2020 7265 7475 726e 2069  ))..    return i
+0002b190: 6e64 6578 0d0a 0d0a 0d0a 6465 6620 5f67  ndex......def _g
+0002b1a0: 6574 5f69 6e64 6578 5f77 6974 685f 6368  et_index_with_ch
+0002b1b0: 6563 6b28 6e65 742c 2074 6162 6c65 2c20  eck(net, table, 
+0002b1c0: 696e 6465 782c 206e 616d 653d 4e6f 6e65  index, name=None
+0002b1d0: 293a 0d0a 2020 2020 6966 206e 616d 6520  ):..    if name 
+0002b1e0: 6973 204e 6f6e 653a 0d0a 2020 2020 2020  is None:..      
+0002b1f0: 2020 6e61 6d65 203d 2074 6162 6c65 0d0a    name = table..
+0002b200: 2020 2020 6966 2069 6e64 6578 2069 7320      if index is 
+0002b210: 4e6f 6e65 3a0d 0a20 2020 2020 2020 2069  None:..        i
+0002b220: 6e64 6578 203d 2067 6574 5f66 7265 655f  ndex = get_free_
+0002b230: 6964 286e 6574 5b74 6162 6c65 5d29 0d0a  id(net[table])..
+0002b240: 2020 2020 6966 2069 6e64 6578 2069 6e20      if index in 
+0002b250: 6e65 745b 7461 626c 655d 2e69 6e64 6578  net[table].index
+0002b260: 3a0d 0a20 2020 2020 2020 2072 6169 7365  :..        raise
+0002b270: 2055 7365 7257 6172 6e69 6e67 2822 4120   UserWarning("A 
+0002b280: 2573 2077 6974 6820 7468 6520 6964 2025  %s with the id %
+0002b290: 7320 616c 7265 6164 7920 6578 6973 7473  s already exists
+0002b2a0: 2220 2520 286e 616d 652c 2069 6e64 6578  " % (name, index
+0002b2b0: 2929 0d0a 2020 2020 7265 7475 726e 2069  ))..    return i
+0002b2c0: 6e64 6578 0d0a 0d0a 0d0a 6465 6620 5f63  ndex......def _c
+0002b2d0: 6f73 745f 6578 6973 7461 6e63 655f 6368  ost_existance_ch
+0002b2e0: 6563 6b28 6e65 742c 2065 6c65 6d65 6e74  eck(net, element
+0002b2f0: 2c20 6574 2c20 706f 7765 725f 7479 7065  , et, power_type
+0002b300: 3d4e 6f6e 6529 3a0d 0a20 2020 2069 6620  =None):..    if 
+0002b310: 706f 7765 725f 7479 7065 2069 7320 4e6f  power_type is No
+0002b320: 6e65 3a0d 0a20 2020 2020 2020 2072 6574  ne:..        ret
+0002b330: 7572 6e20 2862 6f6f 6c28 6e65 742e 706f  urn (bool(net.po
+0002b340: 6c79 5f63 6f73 742e 7368 6170 655b 305d  ly_cost.shape[0]
+0002b350: 2920 616e 640d 0a20 2020 2020 2020 2020  ) and..         
+0002b360: 2020 2020 2020 206e 705f 616e 7928 286e         np_any((n
+0002b370: 6574 2e70 6f6c 795f 636f 7374 2e65 6c65  et.poly_cost.ele
+0002b380: 6d65 6e74 203d 3d20 656c 656d 656e 7429  ment == element)
+0002b390: 2e76 616c 7565 7320 260d 0a20 2020 2020  .values &..     
+0002b3a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002b3b0: 2020 286e 6574 2e70 6f6c 795f 636f 7374    (net.poly_cost
+0002b3c0: 2e65 7420 3d3d 2065 7429 2e76 616c 7565  .et == et).value
+0002b3d0: 7329 2920 5c0d 0a20 2020 2020 2020 2020  s)) \..         
+0002b3e0: 2020 206f 7220 2862 6f6f 6c28 6e65 742e     or (bool(net.
+0002b3f0: 7077 6c5f 636f 7374 2e73 6861 7065 5b30  pwl_cost.shape[0
+0002b400: 5d29 2061 6e64 0d0a 2020 2020 2020 2020  ]) and..        
+0002b410: 2020 2020 2020 2020 6e70 5f61 6e79 2828          np_any((
+0002b420: 6e65 742e 7077 6c5f 636f 7374 2e65 6c65  net.pwl_cost.ele
+0002b430: 6d65 6e74 203d 3d20 656c 656d 656e 7429  ment == element)
+0002b440: 2e76 616c 7565 7320 260d 0a20 2020 2020  .values &..     
+0002b450: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002b460: 2020 286e 6574 2e70 776c 5f63 6f73 742e    (net.pwl_cost.
+0002b470: 6574 203d 3d20 6574 292e 7661 6c75 6573  et == et).values
+0002b480: 2929 0d0a 2020 2020 656c 7365 3a0d 0a20  ))..    else:.. 
+0002b490: 2020 2020 2020 2072 6574 7572 6e20 2862         return (b
+0002b4a0: 6f6f 6c28 6e65 742e 706f 6c79 5f63 6f73  ool(net.poly_cos
+0002b4b0: 742e 7368 6170 655b 305d 2920 616e 640d  t.shape[0]) and.
+0002b4c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0002b4d0: 206e 705f 616e 7928 286e 6574 2e70 6f6c   np_any((net.pol
+0002b4e0: 795f 636f 7374 2e65 6c65 6d65 6e74 203d  y_cost.element =
+0002b4f0: 3d20 656c 656d 656e 7429 2e76 616c 7565  = element).value
+0002b500: 7320 260d 0a20 2020 2020 2020 2020 2020  s &..           
+0002b510: 2020 2020 2020 2020 2020 2020 286e 6574              (net
+0002b520: 2e70 6f6c 795f 636f 7374 2e65 7420 3d3d  .poly_cost.et ==
+0002b530: 2065 7429 2e76 616c 7565 7329 2920 5c0d   et).values)) \.
+0002b540: 0a20 2020 2020 2020 2020 2020 206f 7220  .            or 
+0002b550: 2862 6f6f 6c28 6e65 742e 7077 6c5f 636f  (bool(net.pwl_co
+0002b560: 7374 2e73 6861 7065 5b30 5d29 2061 6e64  st.shape[0]) and
+0002b570: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+0002b580: 2020 6e70 5f61 6e79 2828 6e65 742e 7077    np_any((net.pw
+0002b590: 6c5f 636f 7374 2e65 6c65 6d65 6e74 203d  l_cost.element =
+0002b5a0: 3d20 656c 656d 656e 7429 2e76 616c 7565  = element).value
+0002b5b0: 7320 260d 0a20 2020 2020 2020 2020 2020  s &..           
+0002b5c0: 2020 2020 2020 2020 2020 2020 286e 6574              (net
+0002b5d0: 2e70 776c 5f63 6f73 742e 6574 203d 3d20  .pwl_cost.et == 
+0002b5e0: 6574 292e 7661 6c75 6573 2026 0d0a 2020  et).values &..  
+0002b5f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002b600: 2020 2020 2028 6e65 742e 7077 6c5f 636f       (net.pwl_co
+0002b610: 7374 2e70 6f77 6572 5f74 7970 6520 3d3d  st.power_type ==
+0002b620: 2070 6f77 6572 5f74 7970 6529 2e76 616c   power_type).val
+0002b630: 7565 7329 290d 0a0d 0a0d 0a64 6566 205f  ues))......def _
+0002b640: 6765 745f 6d75 6c74 6970 6c65 5f69 6e64  get_multiple_ind
+0002b650: 6578 5f77 6974 685f 6368 6563 6b28 6e65  ex_with_check(ne
+0002b660: 742c 2074 6162 6c65 2c20 696e 6465 782c  t, table, index,
+0002b670: 206e 756d 6265 722c 206e 616d 653d 4e6f   number, name=No
+0002b680: 6e65 293a 0d0a 2020 2020 6966 206e 616d  ne):..    if nam
+0002b690: 6520 6973 204e 6f6e 653a 0d0a 2020 2020  e is None:..    
+0002b6a0: 2020 2020 6e61 6d65 203d 2074 6162 6c65      name = table
+0002b6b0: 2e63 6170 6974 616c 697a 6528 2920 2b20  .capitalize() + 
+0002b6c0: 2273 220d 0a20 2020 2069 6620 696e 6465  "s"..    if inde
+0002b6d0: 7820 6973 204e 6f6e 653a 0d0a 2020 2020  x is None:..    
+0002b6e0: 2020 2020 6269 6420 3d20 6765 745f 6672      bid = get_fr
+0002b6f0: 6565 5f69 6428 6e65 745b 7461 626c 655d  ee_id(net[table]
+0002b700: 290d 0a20 2020 2020 2020 2072 6574 7572  )..        retur
+0002b710: 6e20 6172 616e 6765 2862 6964 2c20 6269  n arange(bid, bi
+0002b720: 6420 2b20 6e75 6d62 6572 2c20 3129 0d0a  d + number, 1)..
+0002b730: 2020 2020 636f 6e74 6169 6e65 6420 3d20      contained = 
+0002b740: 6973 696e 286e 6574 5b74 6162 6c65 5d2e  isin(net[table].
+0002b750: 696e 6465 782e 7661 6c75 6573 2c20 696e  index.values, in
+0002b760: 6465 7829 0d0a 2020 2020 6966 206e 705f  dex)..    if np_
+0002b770: 616e 7928 636f 6e74 6169 6e65 6429 3a0d  any(contained):.
+0002b780: 0a20 2020 2020 2020 2072 6169 7365 2055  .        raise U
+0002b790: 7365 7257 6172 6e69 6e67 2822 2573 2077  serWarning("%s w
+0002b7a0: 6974 6820 696e 6465 7865 7320 2573 2061  ith indexes %s a
+0002b7b0: 6c72 6561 6479 2065 7869 7374 2e22 0d0a  lready exist."..
+0002b7c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002b7d0: 2020 2020 2020 2020 2020 2520 286e 616d            % (nam
+0002b7e0: 652c 206e 6574 5b74 6162 6c65 5d2e 696e  e, net[table].in
+0002b7f0: 6465 782e 7661 6c75 6573 5b63 6f6e 7461  dex.values[conta
+0002b800: 696e 6564 5d29 290d 0a20 2020 2072 6574  ined]))..    ret
+0002b810: 7572 6e20 696e 6465 780d 0a0d 0a0d 0a64  urn index......d
+0002b820: 6566 205f 6368 6563 6b5f 6e6f 6465 5f65  ef _check_node_e
+0002b830: 6c65 6d65 6e74 286e 6574 2c20 6e6f 6465  lement(net, node
+0002b840: 2c20 6e6f 6465 5f74 6162 6c65 3d22 6275  , node_table="bu
+0002b850: 7322 293a 0d0a 2020 2020 6966 206e 6f64  s"):..    if nod
+0002b860: 6520 6e6f 7420 696e 206e 6574 5b6e 6f64  e not in net[nod
+0002b870: 655f 7461 626c 655d 2e69 6e64 6578 2e76  e_table].index.v
+0002b880: 616c 7565 733a 0d0a 2020 2020 2020 2020  alues:..        
+0002b890: 7261 6973 6520 5573 6572 5761 726e 696e  raise UserWarnin
+0002b8a0: 6728 2243 616e 6e6f 7420 6174 7461 6368  g("Cannot attach
+0002b8b0: 2074 6f20 2573 2025 732c 2025 7320 646f   to %s %s, %s do
+0002b8c0: 6573 206e 6f74 2065 7869 7374 220d 0a20  es not exist".. 
+0002b8d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002b8e0: 2020 2020 2020 2020 2025 2028 6e6f 6465           % (node
+0002b8f0: 5f74 6162 6c65 2c20 6e6f 6465 2c20 6e6f  _table, node, no
+0002b900: 6465 5f74 6162 6c65 2929 0d0a 0d0a 0d0a  de_table))......
+0002b910: 6465 6620 5f63 6865 636b 5f6d 756c 7469  def _check_multi
+0002b920: 706c 655f 6e6f 6465 5f65 6c65 6d65 6e74  ple_node_element
+0002b930: 7328 6e65 742c 206e 6f64 6573 2c20 6e6f  s(net, nodes, no
+0002b940: 6465 5f74 6162 6c65 3d22 6275 7322 2c20  de_table="bus", 
+0002b950: 6e61 6d65 3d22 6275 7365 7322 293a 0d0a  name="buses"):..
+0002b960: 2020 2020 6966 206e 705f 616e 7928 7e69      if np_any(~i
+0002b970: 7369 6e28 6e6f 6465 732c 206e 6574 5b6e  sin(nodes, net[n
+0002b980: 6f64 655f 7461 626c 655d 2e69 6e64 6578  ode_table].index
+0002b990: 2e76 616c 7565 7329 293a 0d0a 2020 2020  .values)):..    
+0002b9a0: 2020 2020 6e6f 6465 5f6e 6f74 5f65 7869      node_not_exi
+0002b9b0: 7374 203d 2073 6574 286e 6f64 6573 2920  st = set(nodes) 
+0002b9c0: 2d20 7365 7428 6e65 745b 6e6f 6465 5f74  - set(net[node_t
+0002b9d0: 6162 6c65 5d2e 696e 6465 782e 7661 6c75  able].index.valu
+0002b9e0: 6573 290d 0a20 2020 2020 2020 2072 6169  es)..        rai
+0002b9f0: 7365 2055 7365 7257 6172 6e69 6e67 2822  se UserWarning("
+0002ba00: 4361 6e6e 6f74 2061 7474 6163 6820 746f  Cannot attach to
+0002ba10: 2025 7320 2573 2c20 7468 6579 2064 6f20   %s %s, they do 
+0002ba20: 6e6f 7420 6578 6973 7422 2025 2028 6e61  not exist" % (na
+0002ba30: 6d65 2c20 6e6f 6465 5f6e 6f74 5f65 7869  me, node_not_exi
+0002ba40: 7374 2929 0d0a 0d0a 0d0a 6465 6620 5f63  st))......def _c
+0002ba50: 6865 636b 5f62 7261 6e63 685f 656c 656d  heck_branch_elem
+0002ba60: 656e 7428 6e65 742c 2065 6c65 6d65 6e74  ent(net, element
+0002ba70: 5f6e 616d 652c 2069 6e64 6578 2c20 6672  _name, index, fr
+0002ba80: 6f6d 5f6e 6f64 652c 2074 6f5f 6e6f 6465  om_node, to_node
+0002ba90: 2c20 6e6f 6465 5f6e 616d 653d 2262 7573  , node_name="bus
+0002baa0: 222c 0d0a 2020 2020 2020 2020 2020 2020  ",..            
+0002bab0: 2020 2020 2020 2020 2020 2020 2020 706c                pl
+0002bac0: 7572 616c 3d22 6573 2229 3a0d 0a20 2020  ural="es"):..   
+0002bad0: 206d 6973 7369 6e67 5f6e 6f64 6573 203d   missing_nodes =
+0002bae0: 207b 6672 6f6d 5f6e 6f64 652c 2074 6f5f   {from_node, to_
+0002baf0: 6e6f 6465 7d20 2d20 7365 7428 6e65 745b  node} - set(net[
+0002bb00: 6e6f 6465 5f6e 616d 655d 2e69 6e64 6578  node_name].index
+0002bb10: 2e76 616c 7565 7329 0d0a 2020 2020 6966  .values)..    if
+0002bb20: 206d 6973 7369 6e67 5f6e 6f64 6573 3a0d   missing_nodes:.
+0002bb30: 0a20 2020 2020 2020 2072 6169 7365 2055  .        raise U
+0002bb40: 7365 7257 6172 6e69 6e67 2822 2573 2025  serWarning("%s %
+0002bb50: 6420 7472 6965 7320 746f 2061 7474 6163  d tries to attac
+0002bb60: 6820 746f 206e 6f6e 2d65 7869 7374 696e  h to non-existin
+0002bb70: 6720 2573 2825 7329 2025 7322 0d0a 2020  g %s(%s) %s"..  
+0002bb80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002bb90: 2020 2020 2020 2020 2520 2865 6c65 6d65          % (eleme
+0002bba0: 6e74 5f6e 616d 652e 6361 7069 7461 6c69  nt_name.capitali
+0002bbb0: 7a65 2829 2c20 696e 6465 782c 206e 6f64  ze(), index, nod
+0002bbc0: 655f 6e61 6d65 2c20 706c 7572 616c 2c20  e_name, plural, 
+0002bbd0: 6d69 7373 696e 675f 6e6f 6465 7329 290d  missing_nodes)).
+0002bbe0: 0a0d 0a0d 0a64 6566 205f 6368 6563 6b5f  .....def _check_
+0002bbf0: 6d75 6c74 6970 6c65 5f62 7261 6e63 685f  multiple_branch_
+0002bc00: 656c 656d 656e 7473 286e 6574 2c20 6672  elements(net, fr
+0002bc10: 6f6d 5f6e 6f64 6573 2c20 746f 5f6e 6f64  om_nodes, to_nod
+0002bc20: 6573 2c20 656c 656d 656e 745f 6e61 6d65  es, element_name
+0002bc30: 2c20 6e6f 6465 5f6e 616d 653d 2262 7573  , node_name="bus
+0002bc40: 222c 0d0a 2020 2020 2020 2020 2020 2020  ",..            
+0002bc50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002bc60: 2020 2020 2020 2020 706c 7572 616c 3d22          plural="
+0002bc70: 6573 2229 3a0d 0a20 2020 2061 6c6c 5f6e  es"):..    all_n
+0002bc80: 6f64 6573 203d 2061 7272 6179 286c 6973  odes = array(lis
+0002bc90: 7428 6672 6f6d 5f6e 6f64 6573 2920 2b20  t(from_nodes) + 
+0002bca0: 6c69 7374 2874 6f5f 6e6f 6465 7329 290d  list(to_nodes)).
+0002bcb0: 0a20 2020 2069 6620 6e70 5f61 6e79 287e  .    if np_any(~
+0002bcc0: 6973 696e 2861 6c6c 5f6e 6f64 6573 2c20  isin(all_nodes, 
+0002bcd0: 6e65 745b 6e6f 6465 5f6e 616d 655d 2e69  net[node_name].i
+0002bce0: 6e64 6578 2e76 616c 7565 7329 293a 0d0a  ndex.values)):..
+0002bcf0: 2020 2020 2020 2020 6e6f 6465 5f6e 6f74          node_not
+0002bd00: 5f65 7869 7374 203d 2073 6574 2861 6c6c  _exist = set(all
+0002bd10: 5f6e 6f64 6573 2920 2d20 7365 7428 6e65  _nodes) - set(ne
+0002bd20: 745b 6e6f 6465 5f6e 616d 655d 2e69 6e64  t[node_name].ind
+0002bd30: 6578 290d 0a20 2020 2020 2020 2072 6169  ex)..        rai
+0002bd40: 7365 2055 7365 7257 6172 6e69 6e67 2822  se UserWarning("
+0002bd50: 2573 2074 7279 696e 6720 746f 2061 7474  %s trying to att
+0002bd60: 6163 6820 746f 206e 6f6e 2065 7869 7374  ach to non exist
+0002bd70: 696e 6720 2573 2573 2025 7322 0d0a 2020  ing %s%s %s"..  
+0002bd80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002bd90: 2020 2020 2020 2020 2520 2865 6c65 6d65          % (eleme
+0002bda0: 6e74 5f6e 616d 652c 206e 6f64 655f 6e61  nt_name, node_na
+0002bdb0: 6d65 2c20 706c 7572 616c 2c20 6e6f 6465  me, plural, node
+0002bdc0: 5f6e 6f74 5f65 7869 7374 2929 0d0a 0d0a  _not_exist))....
+0002bdd0: 0d0a 6465 6620 5f63 7265 6174 655f 636f  ..def _create_co
+0002bde0: 6c75 6d6e 5f61 6e64 5f73 6574 5f76 616c  lumn_and_set_val
+0002bdf0: 7565 286e 6574 2c20 696e 6465 782c 2076  ue(net, index, v
+0002be00: 6172 6961 626c 652c 2063 6f6c 756d 6e2c  ariable, column,
+0002be10: 2065 6c65 6d65 6e74 2c20 6474 7970 3d66   element, dtyp=f
+0002be20: 6c6f 6174 3634 2c0d 0a20 2020 2020 2020  loat64,..       
+0002be30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002be40: 2020 2020 2020 2020 2020 6465 6661 756c            defaul
+0002be50: 745f 7661 6c3d 6e61 6e2c 2064 6566 6175  t_val=nan, defau
+0002be60: 6c74 5f66 6f72 5f6e 616e 3d46 616c 7365  lt_for_nan=False
+0002be70: 293a 0d0a 2020 2020 2320 6966 2076 6172  ):..    # if var
+0002be80: 6961 626c 6520 2865 2e67 2e20 705f 6d77  iable (e.g. p_mw
+0002be90: 2920 6973 206e 6f74 204e 6f6e 6520 616e  ) is not None an
+0002bea0: 6420 636f 6c75 6d6e 2028 652e 672e 2022  d column (e.g. "
+0002beb0: 705f 6d77 2229 2064 6f65 736e 2774 2065  p_mw") doesn't e
+0002bec0: 7869 7374 2069 6e20 656c 656d 656e 740d  xist in element.
+0002bed0: 0a20 2020 2023 2028 652e 672e 2022 6765  .    # (e.g. "ge
+0002bee0: 6e22 2920 7461 626c 650d 0a20 2020 2023  n") table..    #
+0002bef0: 2063 7265 6174 6520 7468 6973 2063 6f6c   create this col
+0002bf00: 756d 6e20 616e 6420 7772 6974 6520 7468  umn and write th
+0002bf10: 6520 7661 6c75 6520 6f66 2076 6172 6961  e value of varia
+0002bf20: 626c 6520 746f 2074 6865 2069 6e64 6578  ble to the index
+0002bf30: 206f 6620 7468 6973 2065 6c65 6d65 6e74   of this element
+0002bf40: 0d0a 2020 2020 7472 793a 0d0a 2020 2020  ..    try:..    
+0002bf50: 2020 2020 7365 745f 7661 6c75 6520 3d20      set_value = 
+0002bf60: 6e6f 7420 2869 736e 616e 2876 6172 6961  not (isnan(varia
+0002bf70: 626c 6529 206f 7220 7661 7269 6162 6c65  ble) or variable
+0002bf80: 2069 7320 4e6f 6e65 290d 0a20 2020 2065   is None)..    e
+0002bf90: 7863 6570 7420 5479 7065 4572 726f 723a  xcept TypeError:
+0002bfa0: 0d0a 2020 2020 2020 2020 7365 745f 7661  ..        set_va
+0002bfb0: 6c75 6520 3d20 5472 7565 0d0a 2020 2020  lue = True..    
+0002bfc0: 6966 2073 6574 5f76 616c 7565 3a0d 0a20  if set_value:.. 
+0002bfd0: 2020 2020 2020 2069 6620 636f 6c75 6d6e         if column
+0002bfe0: 206e 6f74 2069 6e20 6e65 745b 656c 656d   not in net[elem
+0002bff0: 656e 745d 2e63 6f6c 756d 6e73 3a0d 0a20  ent].columns:.. 
+0002c000: 2020 2020 2020 2020 2020 2023 2074 6869             # thi
+0002c010: 7320 7061 7274 2069 7320 666f 7220 636f  s part is for co
+0002c020: 6d70 6174 6962 696c 6974 7920 7769 7468  mpatibility with
+0002c030: 2070 616e 6461 7320 3c20 312e 302c 2063   pandas < 1.0, c
+0002c040: 616e 2062 6520 7265 6d6f 7665 6420 6966  an be removed if
+0002c050: 2070 616e 6461 7320 3e3d 2031 2e30 2069   pandas >= 1.0 i
+0002c060: 7320 7265 7175 6972 6564 2069 6e20 7365  s required in se
+0002c070: 7475 702e 7079 0d0a 2020 2020 2020 2020  tup.py..        
+0002c080: 2020 2020 6966 2069 7369 6e73 7461 6e63      if isinstanc
+0002c090: 6528 6465 6661 756c 745f 7661 6c2c 2073  e(default_val, s
+0002c0a0: 7472 2920 5c0d 0a20 2020 2020 2020 2020  tr) \..         
+0002c0b0: 2020 2020 2020 2020 2020 2061 6e64 2076             and v
+0002c0c0: 6572 7369 6f6e 2e70 6172 7365 2870 642e  ersion.parse(pd.
+0002c0d0: 5f5f 7665 7273 696f 6e5f 5f29 203c 2076  __version__) < v
+0002c0e0: 6572 7369 6f6e 2e70 6172 7365 2822 312e  ersion.parse("1.
+0002c0f0: 3022 293a 0d0a 2020 2020 2020 2020 2020  0"):..          
+0002c100: 2020 2020 2020 6e65 745b 656c 656d 656e        net[elemen
+0002c110: 745d 2e6c 6f63 5b3a 2c20 636f 6c75 6d6e  t].loc[:, column
+0002c120: 5d20 3d20 7064 2e53 6572 6965 7328 5b64  ] = pd.Series([d
+0002c130: 6566 6175 6c74 5f76 616c 5d20 2a20 6c65  efault_val] * le
+0002c140: 6e28 6e65 745b 656c 656d 656e 745d 292c  n(net[element]),
+0002c150: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
 0002c160: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002c170: 2020 2020 2020 2020 2020 2064 7479 7065             dtype
-0002c180: 3d64 7479 7029 0d0a 2020 2020 2020 2020  =dtyp)..        
-0002c190: 2020 2020 656c 7365 3a0d 0a20 2020 2020      else:..     
-0002c1a0: 2020 2020 2020 2020 2020 206e 6574 5b65             net[e
-0002c1b0: 6c65 6d65 6e74 5d2e 6c6f 635b 3a2c 2063  lement].loc[:, c
-0002c1c0: 6f6c 756d 6e5d 203d 2070 642e 5365 7269  olumn] = pd.Seri
-0002c1d0: 6573 2864 6174 613d 6465 6661 756c 745f  es(data=default_
-0002c1e0: 7661 6c2c 2069 6e64 6578 3d6e 6574 5b65  val, index=net[e
-0002c1f0: 6c65 6d65 6e74 5d2e 696e 6465 782c 2064  lement].index, d
-0002c200: 7479 7065 3d64 7479 7029 0d0a 2020 2020  type=dtyp)..    
-0002c210: 2020 2020 6e65 745b 656c 656d 656e 745d      net[element]
-0002c220: 2e61 745b 696e 6465 782c 2063 6f6c 756d  .at[index, colum
-0002c230: 6e5d 203d 2076 6172 6961 626c 650d 0a20  n] = variable.. 
-0002c240: 2020 2065 6c69 6620 6465 6661 756c 745f     elif default_
-0002c250: 666f 725f 6e61 6e20 616e 6420 636f 6c75  for_nan and colu
-0002c260: 6d6e 2069 6e20 6e65 745b 656c 656d 656e  mn in net[elemen
-0002c270: 745d 2e63 6f6c 756d 6e73 3a0d 0a20 2020  t].columns:..   
-0002c280: 2020 2020 206e 6574 5b65 6c65 6d65 6e74       net[element
-0002c290: 5d2e 6174 5b69 6e64 6578 2c20 636f 6c75  ].at[index, colu
-0002c2a0: 6d6e 5d20 3d20 6465 6661 756c 745f 7661  mn] = default_va
-0002c2b0: 6c0d 0a20 2020 2072 6574 7572 6e20 6e65  l..    return ne
-0002c2c0: 740d 0a0d 0a0d 0a64 6566 205f 6164 645f  t......def _add_
-0002c2d0: 7365 7269 6573 5f74 6f5f 656e 7472 6965  series_to_entrie
-0002c2e0: 7328 656e 7472 6965 732c 2069 6e64 6578  s(entries, index
-0002c2f0: 2c20 636f 6c75 6d6e 2c20 7661 6c75 6573  , column, values
-0002c300: 2c20 6474 7970 3d66 6c6f 6174 3634 2c20  , dtyp=float64, 
-0002c310: 6465 6661 756c 745f 7661 6c3d 6e61 6e29  default_val=nan)
-0002c320: 3a0d 0a20 2020 2069 6620 7661 6c75 6573  :..    if values
-0002c330: 2069 7320 6e6f 7420 4e6f 6e65 3a0d 0a20   is not None:.. 
-0002c340: 2020 2020 2020 2074 7279 3a0d 0a20 2020         try:..   
-0002c350: 2020 2020 2020 2020 2066 696c 6c5f 6465           fill_de
-0002c360: 6661 756c 7420 3d20 6e6f 7420 6973 6e61  fault = not isna
-0002c370: 6e28 6465 6661 756c 745f 7661 6c29 0d0a  n(default_val)..
-0002c380: 2020 2020 2020 2020 6578 6365 7074 2054          except T
-0002c390: 7970 6545 7272 6f72 3a0d 0a20 2020 2020  ypeError:..     
-0002c3a0: 2020 2020 2020 2066 696c 6c5f 6465 6661         fill_defa
-0002c3b0: 756c 7420 3d20 5472 7565 0d0a 2020 2020  ult = True..    
-0002c3c0: 2020 2020 6966 2069 7369 6e73 7461 6e63      if isinstanc
-0002c3d0: 6528 7661 6c75 6573 2c20 7374 7229 2061  e(values, str) a
-0002c3e0: 6e64 2076 6572 7369 6f6e 2e70 6172 7365  nd version.parse
-0002c3f0: 2870 642e 5f5f 7665 7273 696f 6e5f 5f29  (pd.__version__)
-0002c400: 203c 2076 6572 7369 6f6e 2e70 6172 7365   < version.parse
-0002c410: 2822 312e 3022 293a 0d0a 2020 2020 2020  ("1.0"):..      
-0002c420: 2020 2020 2020 7320 3d20 7064 2e53 6572        s = pd.Ser
-0002c430: 6965 7328 5b76 616c 7565 735d 202a 206c  ies([values] * l
-0002c440: 656e 2869 6e64 6578 292c 2069 6e64 6578  en(index), index
-0002c450: 3d69 6e64 6578 2c20 6474 7970 653d 6474  =index, dtype=dt
-0002c460: 7970 290d 0a20 2020 2020 2020 2065 6c73  yp)..        els
-0002c470: 653a 0d0a 2020 2020 2020 2020 2020 2020  e:..            
-0002c480: 7320 3d20 7064 2e53 6572 6965 7328 7661  s = pd.Series(va
-0002c490: 6c75 6573 2c20 696e 6465 783d 696e 6465  lues, index=inde
-0002c4a0: 782c 2064 7479 7065 3d64 7479 7029 0d0a  x, dtype=dtyp)..
-0002c4b0: 2020 2020 2020 2020 6966 2066 696c 6c5f          if fill_
-0002c4c0: 6465 6661 756c 743a 0d0a 2020 2020 2020  default:..      
-0002c4d0: 2020 2020 2020 7320 3d20 732e 6669 6c6c        s = s.fill
-0002c4e0: 6e61 2864 6566 6175 6c74 5f76 616c 290d  na(default_val).
-0002c4f0: 0a20 2020 2020 2020 2065 6e74 7269 6573  .        entries
-0002c500: 5b63 6f6c 756d 6e5d 203d 2073 0d0a 0d0a  [column] = s....
-0002c510: 0d0a 6465 6620 5f61 6464 5f6d 756c 7469  ..def _add_multi
-0002c520: 706c 655f 6272 616e 6368 5f67 656f 6461  ple_branch_geoda
-0002c530: 7461 286e 6574 2c20 7461 626c 652c 2067  ta(net, table, g
-0002c540: 656f 6461 7461 2c20 696e 6465 7829 3a0d  eodata, index):.
-0002c550: 0a20 2020 2067 656f 5f74 6162 6c65 203d  .    geo_table =
-0002c560: 2022 2573 5f67 656f 6461 7461 2220 2520   "%s_geodata" % 
-0002c570: 7461 626c 650d 0a20 2020 2064 7479 7065  table..    dtype
-0002c580: 7320 3d20 6e65 745b 6765 6f5f 7461 626c  s = net[geo_tabl
-0002c590: 655d 2e64 7479 7065 730d 0a20 2020 2064  e].dtypes..    d
-0002c5a0: 6620 3d20 7064 2e44 6174 6146 7261 6d65  f = pd.DataFrame
-0002c5b0: 2869 6e64 6578 3d69 6e64 6578 2c20 636f  (index=index, co
-0002c5c0: 6c75 6d6e 733d 6e65 745b 6765 6f5f 7461  lumns=net[geo_ta
-0002c5d0: 626c 655d 2e63 6f6c 756d 6e73 290d 0a20  ble].columns).. 
-0002c5e0: 2020 2023 2077 6f72 6b73 2077 6974 6820     # works with 
-0002c5f0: 7369 6e67 6c65 206f 7220 6d75 6c74 6970  single or multip
-0002c600: 6c65 206c 6973 7473 206f 6620 636f 6f72  le lists of coor
-0002c610: 6469 6e61 7465 730d 0a20 2020 2069 6620  dinates..    if 
-0002c620: 6c65 6e28 6765 6f64 6174 615b 305d 2920  len(geodata[0]) 
-0002c630: 3d3d 2032 2061 6e64 206e 6f74 2068 6173  == 2 and not has
-0002c640: 6174 7472 2867 656f 6461 7461 5b30 5d5b  attr(geodata[0][
-0002c650: 305d 2c20 225f 5f69 7465 725f 5f22 293a  0], "__iter__"):
-0002c660: 0d0a 2020 2020 2020 2020 2320 6765 6f64  ..        # geod
-0002c670: 6174 6120 6973 2061 2073 696e 676c 6520  ata is a single 
-0002c680: 6c69 7374 206f 6620 636f 6f72 6469 6e61  list of coordina
-0002c690: 7465 730d 0a20 2020 2020 2020 2064 665b  tes..        df[
-0002c6a0: 2263 6f6f 7264 7322 5d20 3d20 5b67 656f  "coords"] = [geo
-0002c6b0: 6461 7461 5d20 2a20 6c65 6e28 696e 6465  data] * len(inde
-0002c6c0: 7829 0d0a 2020 2020 656c 7365 3a0d 0a20  x)..    else:.. 
-0002c6d0: 2020 2020 2020 2023 2067 656f 6461 7461         # geodata
-0002c6e0: 2069 7320 6d75 6c74 6970 6c65 206c 6973   is multiple lis
-0002c6f0: 7473 206f 6620 636f 6f72 6469 6e61 7465  ts of coordinate
-0002c700: 730d 0a20 2020 2020 2020 2064 665b 2263  s..        df["c
-0002c710: 6f6f 7264 7322 5d20 3d20 6765 6f64 6174  oords"] = geodat
-0002c720: 610d 0a0d 0a20 2020 2023 2074 6f64 6f3a  a....    # todo:
-0002c730: 2064 726f 7020 7665 7273 696f 6e20 6368   drop version ch
-0002c740: 6563 6b73 0d0a 2020 2020 6966 2076 6572  ecks..    if ver
-0002c750: 7369 6f6e 2e70 6172 7365 2870 642e 5f5f  sion.parse(pd.__
-0002c760: 7665 7273 696f 6e5f 5f29 203e 3d20 7665  version__) >= ve
-0002c770: 7273 696f 6e2e 7061 7273 6528 2230 2e32  rsion.parse("0.2
-0002c780: 3322 293a 0d0a 2020 2020 2020 2020 6e65  3"):..        ne
-0002c790: 745b 6765 6f5f 7461 626c 655d 203d 2070  t[geo_table] = p
-0002c7a0: 642e 636f 6e63 6174 285b 6e65 745b 6765  d.concat([net[ge
-0002c7b0: 6f5f 7461 626c 655d 2c64 665d 2c20 736f  o_table],df], so
-0002c7c0: 7274 3d46 616c 7365 290d 0a20 2020 2065  rt=False)..    e
-0002c7d0: 6c73 653a 0d0a 2020 2020 2020 2020 2320  lse:..        # 
-0002c7e0: 7072 696f 7220 746f 2070 616e 6461 7320  prior to pandas 
-0002c7f0: 302e 3233 2074 6865 7265 2077 6173 206e  0.23 there was n
-0002c800: 6f20 6578 706c 6963 6974 2070 6172 616d  o explicit param
-0002c810: 6574 6572 2028 696e 7374 6561 6420 6974  eter (instead it
-0002c820: 2077 6173 2073 7461 6e64 6172 6420 6265   was standard be
-0002c830: 6861 7669 6f72 290d 0a20 2020 2020 2020  havior)..       
-0002c840: 206e 6574 5b67 656f 5f74 6162 6c65 5d20   net[geo_table] 
-0002c850: 3d20 6e65 745b 6765 6f5f 7461 626c 655d  = net[geo_table]
-0002c860: 2e61 7070 656e 6428 6466 290d 0a0d 0a20  .append(df).... 
-0002c870: 2020 205f 7072 6573 6572 7665 5f64 7479     _preserve_dty
-0002c880: 7065 7328 6e65 745b 6765 6f5f 7461 626c  pes(net[geo_tabl
-0002c890: 655d 2c20 6474 7970 6573 290d 0a0d 0a0d  e], dtypes).....
-0002c8a0: 0a64 6566 205f 7365 745f 656e 7472 6965  .def _set_entrie
-0002c8b0: 7328 6e65 742c 2074 6162 6c65 2c20 696e  s(net, table, in
-0002c8c0: 6465 782c 2070 7265 7365 7276 655f 6474  dex, preserve_dt
-0002c8d0: 7970 6573 3d54 7275 652c 202a 2a65 6e74  ypes=True, **ent
-0002c8e0: 7269 6573 293a 0d0a 2020 2020 6474 7970  ries):..    dtyp
-0002c8f0: 6573 203d 204e 6f6e 650d 0a20 2020 2069  es = None..    i
-0002c900: 6620 7072 6573 6572 7665 5f64 7479 7065  f preserve_dtype
-0002c910: 733a 0d0a 2020 2020 2020 2020 2320 6f6e  s:..        # on
-0002c920: 6c79 2067 6574 2064 7479 7065 7320 6f66  ly get dtypes of
-0002c930: 2063 6f6c 756d 6e73 2074 6861 7420 6172   columns that ar
-0002c940: 6520 7365 7420 616e 6420 7468 6174 2061  e set and that a
-0002c950: 7265 2061 6c72 6561 6479 2070 7265 7365  re already prese
-0002c960: 6e74 2069 6e20 7468 6520 7461 626c 650d  nt in the table.
-0002c970: 0a20 2020 2020 2020 2064 7479 7065 7320  .        dtypes 
-0002c980: 3d20 6e65 745b 7461 626c 655d 5b69 6e74  = net[table][int
-0002c990: 6572 7365 6374 3164 286e 6574 5b74 6162  ersect1d(net[tab
-0002c9a0: 6c65 5d2e 636f 6c75 6d6e 732c 206c 6973  le].columns, lis
-0002c9b0: 7428 656e 7472 6965 732e 6b65 7973 2829  t(entries.keys()
-0002c9c0: 2929 5d2e 6474 7970 6573 0d0a 0d0a 2020  ))].dtypes....  
-0002c9d0: 2020 666f 7220 636f 6c2c 2076 616c 2069    for col, val i
-0002c9e0: 6e20 656e 7472 6965 732e 6974 656d 7328  n entries.items(
-0002c9f0: 293a 0d0a 2020 2020 2020 2020 6e65 745b  ):..        net[
-0002ca00: 7461 626c 655d 2e61 745b 696e 6465 782c  table].at[index,
-0002ca10: 2063 6f6c 5d20 3d20 7661 6c0d 0a0d 0a20   col] = val.... 
-0002ca20: 2020 2023 2061 6e64 2070 7265 7365 7276     # and preserv
-0002ca30: 6520 6474 7970 6573 0d0a 2020 2020 6966  e dtypes..    if
-0002ca40: 2070 7265 7365 7276 655f 6474 7970 6573   preserve_dtypes
-0002ca50: 3a0d 0a20 2020 2020 2020 205f 7072 6573  :..        _pres
-0002ca60: 6572 7665 5f64 7479 7065 7328 6e65 745b  erve_dtypes(net[
-0002ca70: 7461 626c 655d 2c20 6474 7970 6573 290d  table], dtypes).
-0002ca80: 0a0d 0a0d 0a64 6566 205f 7365 745f 6d75  .....def _set_mu
-0002ca90: 6c74 6970 6c65 5f65 6e74 7269 6573 286e  ltiple_entries(n
-0002caa0: 6574 2c20 7461 626c 652c 2069 6e64 6578  et, table, index
-0002cab0: 2c20 7072 6573 6572 7665 5f64 7479 7065  , preserve_dtype
-0002cac0: 733d 5472 7565 2c20 2a2a 656e 7472 6965  s=True, **entrie
-0002cad0: 7329 3a0d 0a20 2020 2064 7479 7065 7320  s):..    dtypes 
-0002cae0: 3d20 4e6f 6e65 0d0a 2020 2020 6966 2070  = None..    if p
-0002caf0: 7265 7365 7276 655f 6474 7970 6573 3a0d  reserve_dtypes:.
-0002cb00: 0a20 2020 2020 2020 2023 2073 746f 7265  .        # store
-0002cb10: 2064 7479 7065 730d 0a20 2020 2020 2020   dtypes..       
-0002cb20: 2064 7479 7065 7320 3d20 6e65 745b 7461   dtypes = net[ta
-0002cb30: 626c 655d 2e64 7479 7065 730d 0a0d 0a20  ble].dtypes.... 
-0002cb40: 2020 2064 6566 2063 6865 636b 5f65 6e74     def check_ent
-0002cb50: 7279 2876 616c 293a 0d0a 2020 2020 2020  ry(val):..      
-0002cb60: 2020 6966 2069 7369 6e73 7461 6e63 6528    if isinstance(
-0002cb70: 7661 6c2c 2070 642e 5365 7269 6573 2920  val, pd.Series) 
-0002cb80: 616e 6420 6e6f 7420 6e70 5f61 6c6c 2869  and not np_all(i
-0002cb90: 7369 6e28 7661 6c2e 696e 6465 782c 2069  sin(val.index, i
-0002cba0: 6e64 6578 2929 3a0d 0a20 2020 2020 2020  ndex)):..       
-0002cbb0: 2020 2020 2072 6574 7572 6e20 7661 6c2e       return val.
-0002cbc0: 7661 6c75 6573 0d0a 2020 2020 2020 2020  values..        
-0002cbd0: 656c 6966 2069 7369 6e73 7461 6e63 6528  elif isinstance(
-0002cbe0: 7661 6c2c 2073 6574 2920 616e 6420 6c65  val, set) and le
-0002cbf0: 6e28 7661 6c29 203d 3d20 6c65 6e28 696e  n(val) == len(in
-0002cc00: 6465 7829 3a0d 0a20 2020 2020 2020 2020  dex):..         
-0002cc10: 2020 2072 6574 7572 6e20 6c69 7374 2876     return list(v
-0002cc20: 616c 290d 0a20 2020 2020 2020 2072 6574  al)..        ret
-0002cc30: 7572 6e20 7661 6c0d 0a0d 0a20 2020 2065  urn val....    e
-0002cc40: 6e74 7269 6573 203d 207b 6b3a 2063 6865  ntries = {k: che
-0002cc50: 636b 5f65 6e74 7279 2876 2920 666f 7220  ck_entry(v) for 
-0002cc60: 6b2c 2076 2069 6e20 656e 7472 6965 732e  k, v in entries.
-0002cc70: 6974 656d 7328 297d 0d0a 0d0a 2020 2020  items()}....    
-0002cc80: 6464 203d 2070 642e 4461 7461 4672 616d  dd = pd.DataFram
-0002cc90: 6528 696e 6465 783d 696e 6465 782c 2063  e(index=index, c
-0002cca0: 6f6c 756d 6e73 3d6e 6574 5b74 6162 6c65  olumns=net[table
-0002ccb0: 5d2e 636f 6c75 6d6e 7329 0d0a 2020 2020  ].columns)..    
-0002ccc0: 6464 203d 2064 642e 6173 7369 676e 282a  dd = dd.assign(*
-0002ccd0: 2a65 6e74 7269 6573 290d 0a0d 0a20 2020  *entries)....   
-0002cce0: 2023 2065 7874 656e 6420 7468 6520 7461   # extend the ta
-0002ccf0: 626c 6520 6279 2074 6865 2066 7261 6d65  ble by the frame
-0002cd00: 2077 6520 6a75 7374 2063 7265 6174 6564   we just created
-0002cd10: 0d0a 2020 2020 6966 2076 6572 7369 6f6e  ..    if version
-0002cd20: 2e70 6172 7365 2870 642e 5f5f 7665 7273  .parse(pd.__vers
-0002cd30: 696f 6e5f 5f29 203e 3d20 7665 7273 696f  ion__) >= versio
-0002cd40: 6e2e 7061 7273 6528 2230 2e32 3322 293a  n.parse("0.23"):
-0002cd50: 0d0a 2020 2020 2020 2020 6e65 745b 7461  ..        net[ta
-0002cd60: 626c 655d 203d 2070 642e 636f 6e63 6174  ble] = pd.concat
-0002cd70: 285b 6e65 745b 7461 626c 655d 2c64 645d  ([net[table],dd]
-0002cd80: 2c20 736f 7274 3d46 616c 7365 290d 0a20  , sort=False).. 
-0002cd90: 2020 2065 6c73 653a 0d0a 2020 2020 2020     else:..      
-0002cda0: 2020 2320 7072 696f 7220 746f 2070 616e    # prior to pan
-0002cdb0: 6461 7320 302e 3233 2074 6865 7265 2077  das 0.23 there w
-0002cdc0: 6173 206e 6f20 6578 706c 6963 6974 2070  as no explicit p
-0002cdd0: 6172 616d 6574 6572 2028 696e 7374 6561  arameter (instea
-0002cde0: 6420 6974 2077 6173 2073 7461 6e64 6172  d it was standar
-0002cdf0: 6420 6265 6861 7669 6f72 290d 0a20 2020  d behavior)..   
-0002ce00: 2020 2020 206e 6574 5b74 6162 6c65 5d20       net[table] 
-0002ce10: 3d20 6e65 745b 7461 626c 655d 2e61 7070  = net[table].app
-0002ce20: 656e 6428 6464 290d 0a0d 0a20 2020 2023  end(dd)....    #
-0002ce30: 2061 6e64 2070 7265 7365 7276 6520 6474   and preserve dt
-0002ce40: 7970 6573 0d0a 2020 2020 6966 2070 7265  ypes..    if pre
-0002ce50: 7365 7276 655f 6474 7970 6573 3a0d 0a20  serve_dtypes:.. 
-0002ce60: 2020 2020 2020 205f 7072 6573 6572 7665         _preserve
-0002ce70: 5f64 7479 7065 7328 6e65 745b 7461 626c  _dtypes(net[tabl
-0002ce80: 655d 2c20 6474 7970 6573 290d 0a         e], dtypes)..
+0002c170: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002c180: 2020 2020 2020 2020 2020 6474 7970 653d            dtype=
+0002c190: 6474 7970 290d 0a20 2020 2020 2020 2020  dtyp)..         
+0002c1a0: 2020 2065 6c73 653a 0d0a 2020 2020 2020     else:..      
+0002c1b0: 2020 2020 2020 2020 2020 6e65 745b 656c            net[el
+0002c1c0: 656d 656e 745d 2e6c 6f63 5b3a 2c20 636f  ement].loc[:, co
+0002c1d0: 6c75 6d6e 5d20 3d20 7064 2e53 6572 6965  lumn] = pd.Serie
+0002c1e0: 7328 6461 7461 3d64 6566 6175 6c74 5f76  s(data=default_v
+0002c1f0: 616c 2c20 696e 6465 783d 6e65 745b 656c  al, index=net[el
+0002c200: 656d 656e 745d 2e69 6e64 6578 2c20 6474  ement].index, dt
+0002c210: 7970 653d 6474 7970 290d 0a20 2020 2020  ype=dtyp)..     
+0002c220: 2020 206e 6574 5b65 6c65 6d65 6e74 5d2e     net[element].
+0002c230: 6174 5b69 6e64 6578 2c20 636f 6c75 6d6e  at[index, column
+0002c240: 5d20 3d20 7661 7269 6162 6c65 0d0a 2020  ] = variable..  
+0002c250: 2020 656c 6966 2064 6566 6175 6c74 5f66    elif default_f
+0002c260: 6f72 5f6e 616e 2061 6e64 2063 6f6c 756d  or_nan and colum
+0002c270: 6e20 696e 206e 6574 5b65 6c65 6d65 6e74  n in net[element
+0002c280: 5d2e 636f 6c75 6d6e 733a 0d0a 2020 2020  ].columns:..    
+0002c290: 2020 2020 6e65 745b 656c 656d 656e 745d      net[element]
+0002c2a0: 2e61 745b 696e 6465 782c 2063 6f6c 756d  .at[index, colum
+0002c2b0: 6e5d 203d 2064 6566 6175 6c74 5f76 616c  n] = default_val
+0002c2c0: 0d0a 2020 2020 7265 7475 726e 206e 6574  ..    return net
+0002c2d0: 0d0a 0d0a 0d0a 6465 6620 5f61 6464 5f73  ......def _add_s
+0002c2e0: 6572 6965 735f 746f 5f65 6e74 7269 6573  eries_to_entries
+0002c2f0: 2865 6e74 7269 6573 2c20 696e 6465 782c  (entries, index,
+0002c300: 2063 6f6c 756d 6e2c 2076 616c 7565 732c   column, values,
+0002c310: 2064 7479 703d 666c 6f61 7436 342c 2064   dtyp=float64, d
+0002c320: 6566 6175 6c74 5f76 616c 3d6e 616e 293a  efault_val=nan):
+0002c330: 0d0a 2020 2020 6966 2076 616c 7565 7320  ..    if values 
+0002c340: 6973 206e 6f74 204e 6f6e 653a 0d0a 2020  is not None:..  
+0002c350: 2020 2020 2020 7472 793a 0d0a 2020 2020        try:..    
+0002c360: 2020 2020 2020 2020 6669 6c6c 5f64 6566          fill_def
+0002c370: 6175 6c74 203d 206e 6f74 2069 736e 616e  ault = not isnan
+0002c380: 2864 6566 6175 6c74 5f76 616c 290d 0a20  (default_val).. 
+0002c390: 2020 2020 2020 2065 7863 6570 7420 5479         except Ty
+0002c3a0: 7065 4572 726f 723a 0d0a 2020 2020 2020  peError:..      
+0002c3b0: 2020 2020 2020 6669 6c6c 5f64 6566 6175        fill_defau
+0002c3c0: 6c74 203d 2054 7275 650d 0a20 2020 2020  lt = True..     
+0002c3d0: 2020 2069 6620 6973 696e 7374 616e 6365     if isinstance
+0002c3e0: 2876 616c 7565 732c 2073 7472 2920 616e  (values, str) an
+0002c3f0: 6420 7665 7273 696f 6e2e 7061 7273 6528  d version.parse(
+0002c400: 7064 2e5f 5f76 6572 7369 6f6e 5f5f 2920  pd.__version__) 
+0002c410: 3c20 7665 7273 696f 6e2e 7061 7273 6528  < version.parse(
+0002c420: 2231 2e30 2229 3a0d 0a20 2020 2020 2020  "1.0"):..       
+0002c430: 2020 2020 2073 203d 2070 642e 5365 7269       s = pd.Seri
+0002c440: 6573 285b 7661 6c75 6573 5d20 2a20 6c65  es([values] * le
+0002c450: 6e28 696e 6465 7829 2c20 696e 6465 783d  n(index), index=
+0002c460: 696e 6465 782c 2064 7479 7065 3d64 7479  index, dtype=dty
+0002c470: 7029 0d0a 2020 2020 2020 2020 656c 7365  p)..        else
+0002c480: 3a0d 0a20 2020 2020 2020 2020 2020 2073  :..            s
+0002c490: 203d 2070 642e 5365 7269 6573 2876 616c   = pd.Series(val
+0002c4a0: 7565 732c 2069 6e64 6578 3d69 6e64 6578  ues, index=index
+0002c4b0: 2c20 6474 7970 653d 6474 7970 290d 0a20  , dtype=dtyp).. 
+0002c4c0: 2020 2020 2020 2069 6620 6669 6c6c 5f64         if fill_d
+0002c4d0: 6566 6175 6c74 3a0d 0a20 2020 2020 2020  efault:..       
+0002c4e0: 2020 2020 2073 203d 2073 2e66 696c 6c6e       s = s.filln
+0002c4f0: 6128 6465 6661 756c 745f 7661 6c29 0d0a  a(default_val)..
+0002c500: 2020 2020 2020 2020 656e 7472 6965 735b          entries[
+0002c510: 636f 6c75 6d6e 5d20 3d20 730d 0a0d 0a0d  column] = s.....
+0002c520: 0a64 6566 205f 6164 645f 6d75 6c74 6970  .def _add_multip
+0002c530: 6c65 5f62 7261 6e63 685f 6765 6f64 6174  le_branch_geodat
+0002c540: 6128 6e65 742c 2074 6162 6c65 2c20 6765  a(net, table, ge
+0002c550: 6f64 6174 612c 2069 6e64 6578 293a 0d0a  odata, index):..
+0002c560: 2020 2020 6765 6f5f 7461 626c 6520 3d20      geo_table = 
+0002c570: 2225 735f 6765 6f64 6174 6122 2025 2074  "%s_geodata" % t
+0002c580: 6162 6c65 0d0a 2020 2020 6474 7970 6573  able..    dtypes
+0002c590: 203d 206e 6574 5b67 656f 5f74 6162 6c65   = net[geo_table
+0002c5a0: 5d2e 6474 7970 6573 0d0a 2020 2020 6466  ].dtypes..    df
+0002c5b0: 203d 2070 642e 4461 7461 4672 616d 6528   = pd.DataFrame(
+0002c5c0: 696e 6465 783d 696e 6465 782c 2063 6f6c  index=index, col
+0002c5d0: 756d 6e73 3d6e 6574 5b67 656f 5f74 6162  umns=net[geo_tab
+0002c5e0: 6c65 5d2e 636f 6c75 6d6e 7329 0d0a 2020  le].columns)..  
+0002c5f0: 2020 2320 776f 726b 7320 7769 7468 2073    # works with s
+0002c600: 696e 676c 6520 6f72 206d 756c 7469 706c  ingle or multipl
+0002c610: 6520 6c69 7374 7320 6f66 2063 6f6f 7264  e lists of coord
+0002c620: 696e 6174 6573 0d0a 2020 2020 6966 206c  inates..    if l
+0002c630: 656e 2867 656f 6461 7461 5b30 5d29 203d  en(geodata[0]) =
+0002c640: 3d20 3220 616e 6420 6e6f 7420 6861 7361  = 2 and not hasa
+0002c650: 7474 7228 6765 6f64 6174 615b 305d 5b30  ttr(geodata[0][0
+0002c660: 5d2c 2022 5f5f 6974 6572 5f5f 2229 3a0d  ], "__iter__"):.
+0002c670: 0a20 2020 2020 2020 2023 2067 656f 6461  .        # geoda
+0002c680: 7461 2069 7320 6120 7369 6e67 6c65 206c  ta is a single l
+0002c690: 6973 7420 6f66 2063 6f6f 7264 696e 6174  ist of coordinat
+0002c6a0: 6573 0d0a 2020 2020 2020 2020 6466 5b22  es..        df["
+0002c6b0: 636f 6f72 6473 225d 203d 205b 6765 6f64  coords"] = [geod
+0002c6c0: 6174 615d 202a 206c 656e 2869 6e64 6578  ata] * len(index
+0002c6d0: 290d 0a20 2020 2065 6c73 653a 0d0a 2020  )..    else:..  
+0002c6e0: 2020 2020 2020 2320 6765 6f64 6174 6120        # geodata 
+0002c6f0: 6973 206d 756c 7469 706c 6520 6c69 7374  is multiple list
+0002c700: 7320 6f66 2063 6f6f 7264 696e 6174 6573  s of coordinates
+0002c710: 0d0a 2020 2020 2020 2020 6466 5b22 636f  ..        df["co
+0002c720: 6f72 6473 225d 203d 2067 656f 6461 7461  ords"] = geodata
+0002c730: 0d0a 0d0a 2020 2020 2320 746f 646f 3a20  ....    # todo: 
+0002c740: 6472 6f70 2076 6572 7369 6f6e 2063 6865  drop version che
+0002c750: 636b 730d 0a20 2020 2069 6620 7665 7273  cks..    if vers
+0002c760: 696f 6e2e 7061 7273 6528 7064 2e5f 5f76  ion.parse(pd.__v
+0002c770: 6572 7369 6f6e 5f5f 2920 3e3d 2076 6572  ersion__) >= ver
+0002c780: 7369 6f6e 2e70 6172 7365 2822 302e 3233  sion.parse("0.23
+0002c790: 2229 3a0d 0a20 2020 2020 2020 206e 6574  "):..        net
+0002c7a0: 5b67 656f 5f74 6162 6c65 5d20 3d20 7064  [geo_table] = pd
+0002c7b0: 2e63 6f6e 6361 7428 5b6e 6574 5b67 656f  .concat([net[geo
+0002c7c0: 5f74 6162 6c65 5d2c 6466 5d2c 2073 6f72  _table],df], sor
+0002c7d0: 743d 4661 6c73 6529 0d0a 2020 2020 656c  t=False)..    el
+0002c7e0: 7365 3a0d 0a20 2020 2020 2020 2023 2070  se:..        # p
+0002c7f0: 7269 6f72 2074 6f20 7061 6e64 6173 2030  rior to pandas 0
+0002c800: 2e32 3320 7468 6572 6520 7761 7320 6e6f  .23 there was no
+0002c810: 2065 7870 6c69 6369 7420 7061 7261 6d65   explicit parame
+0002c820: 7465 7220 2869 6e73 7465 6164 2069 7420  ter (instead it 
+0002c830: 7761 7320 7374 616e 6461 7264 2062 6568  was standard beh
+0002c840: 6176 696f 7229 0d0a 2020 2020 2020 2020  avior)..        
+0002c850: 6e65 745b 6765 6f5f 7461 626c 655d 203d  net[geo_table] =
+0002c860: 206e 6574 5b67 656f 5f74 6162 6c65 5d2e   net[geo_table].
+0002c870: 6170 7065 6e64 2864 6629 0d0a 0d0a 2020  append(df)....  
+0002c880: 2020 5f70 7265 7365 7276 655f 6474 7970    _preserve_dtyp
+0002c890: 6573 286e 6574 5b67 656f 5f74 6162 6c65  es(net[geo_table
+0002c8a0: 5d2c 2064 7479 7065 7329 0d0a 0d0a 0d0a  ], dtypes)......
+0002c8b0: 6465 6620 5f73 6574 5f65 6e74 7269 6573  def _set_entries
+0002c8c0: 286e 6574 2c20 7461 626c 652c 2069 6e64  (net, table, ind
+0002c8d0: 6578 2c20 7072 6573 6572 7665 5f64 7479  ex, preserve_dty
+0002c8e0: 7065 733d 5472 7565 2c20 2a2a 656e 7472  pes=True, **entr
+0002c8f0: 6965 7329 3a0d 0a20 2020 2064 7479 7065  ies):..    dtype
+0002c900: 7320 3d20 4e6f 6e65 0d0a 2020 2020 6966  s = None..    if
+0002c910: 2070 7265 7365 7276 655f 6474 7970 6573   preserve_dtypes
+0002c920: 3a0d 0a20 2020 2020 2020 2023 206f 6e6c  :..        # onl
+0002c930: 7920 6765 7420 6474 7970 6573 206f 6620  y get dtypes of 
+0002c940: 636f 6c75 6d6e 7320 7468 6174 2061 7265  columns that are
+0002c950: 2073 6574 2061 6e64 2074 6861 7420 6172   set and that ar
+0002c960: 6520 616c 7265 6164 7920 7072 6573 656e  e already presen
+0002c970: 7420 696e 2074 6865 2074 6162 6c65 0d0a  t in the table..
+0002c980: 2020 2020 2020 2020 6474 7970 6573 203d          dtypes =
+0002c990: 206e 6574 5b74 6162 6c65 5d5b 696e 7465   net[table][inte
+0002c9a0: 7273 6563 7431 6428 6e65 745b 7461 626c  rsect1d(net[tabl
+0002c9b0: 655d 2e63 6f6c 756d 6e73 2c20 6c69 7374  e].columns, list
+0002c9c0: 2865 6e74 7269 6573 2e6b 6579 7328 2929  (entries.keys())
+0002c9d0: 295d 2e64 7479 7065 730d 0a0d 0a20 2020  )].dtypes....   
+0002c9e0: 2066 6f72 2063 6f6c 2c20 7661 6c20 696e   for col, val in
+0002c9f0: 2065 6e74 7269 6573 2e69 7465 6d73 2829   entries.items()
+0002ca00: 3a0d 0a20 2020 2020 2020 206e 6574 5b74  :..        net[t
+0002ca10: 6162 6c65 5d2e 6174 5b69 6e64 6578 2c20  able].at[index, 
+0002ca20: 636f 6c5d 203d 2076 616c 0d0a 0d0a 2020  col] = val....  
+0002ca30: 2020 2320 616e 6420 7072 6573 6572 7665    # and preserve
+0002ca40: 2064 7479 7065 730d 0a20 2020 2069 6620   dtypes..    if 
+0002ca50: 7072 6573 6572 7665 5f64 7479 7065 733a  preserve_dtypes:
+0002ca60: 0d0a 2020 2020 2020 2020 5f70 7265 7365  ..        _prese
+0002ca70: 7276 655f 6474 7970 6573 286e 6574 5b74  rve_dtypes(net[t
+0002ca80: 6162 6c65 5d2c 2064 7479 7065 7329 0d0a  able], dtypes)..
+0002ca90: 0d0a 0d0a 6465 6620 5f73 6574 5f6d 756c  ....def _set_mul
+0002caa0: 7469 706c 655f 656e 7472 6965 7328 6e65  tiple_entries(ne
+0002cab0: 742c 2074 6162 6c65 2c20 696e 6465 782c  t, table, index,
+0002cac0: 2070 7265 7365 7276 655f 6474 7970 6573   preserve_dtypes
+0002cad0: 3d54 7275 652c 202a 2a65 6e74 7269 6573  =True, **entries
+0002cae0: 293a 0d0a 2020 2020 6474 7970 6573 203d  ):..    dtypes =
+0002caf0: 204e 6f6e 650d 0a20 2020 2069 6620 7072   None..    if pr
+0002cb00: 6573 6572 7665 5f64 7479 7065 733a 0d0a  eserve_dtypes:..
+0002cb10: 2020 2020 2020 2020 2320 7374 6f72 6520          # store 
+0002cb20: 6474 7970 6573 0d0a 2020 2020 2020 2020  dtypes..        
+0002cb30: 6474 7970 6573 203d 206e 6574 5b74 6162  dtypes = net[tab
+0002cb40: 6c65 5d2e 6474 7970 6573 0d0a 0d0a 2020  le].dtypes....  
+0002cb50: 2020 6465 6620 6368 6563 6b5f 656e 7472    def check_entr
+0002cb60: 7928 7661 6c29 3a0d 0a20 2020 2020 2020  y(val):..       
+0002cb70: 2069 6620 6973 696e 7374 616e 6365 2876   if isinstance(v
+0002cb80: 616c 2c20 7064 2e53 6572 6965 7329 2061  al, pd.Series) a
+0002cb90: 6e64 206e 6f74 206e 705f 616c 6c28 6973  nd not np_all(is
+0002cba0: 696e 2876 616c 2e69 6e64 6578 2c20 696e  in(val.index, in
+0002cbb0: 6465 7829 293a 0d0a 2020 2020 2020 2020  dex)):..        
+0002cbc0: 2020 2020 7265 7475 726e 2076 616c 2e76      return val.v
+0002cbd0: 616c 7565 730d 0a20 2020 2020 2020 2065  alues..        e
+0002cbe0: 6c69 6620 6973 696e 7374 616e 6365 2876  lif isinstance(v
+0002cbf0: 616c 2c20 7365 7429 2061 6e64 206c 656e  al, set) and len
+0002cc00: 2876 616c 2920 3d3d 206c 656e 2869 6e64  (val) == len(ind
+0002cc10: 6578 293a 0d0a 2020 2020 2020 2020 2020  ex):..          
+0002cc20: 2020 7265 7475 726e 206c 6973 7428 7661    return list(va
+0002cc30: 6c29 0d0a 2020 2020 2020 2020 7265 7475  l)..        retu
+0002cc40: 726e 2076 616c 0d0a 0d0a 2020 2020 656e  rn val....    en
+0002cc50: 7472 6965 7320 3d20 7b6b 3a20 6368 6563  tries = {k: chec
+0002cc60: 6b5f 656e 7472 7928 7629 2066 6f72 206b  k_entry(v) for k
+0002cc70: 2c20 7620 696e 2065 6e74 7269 6573 2e69  , v in entries.i
+0002cc80: 7465 6d73 2829 7d0d 0a0d 0a20 2020 2064  tems()}....    d
+0002cc90: 6420 3d20 7064 2e44 6174 6146 7261 6d65  d = pd.DataFrame
+0002cca0: 2869 6e64 6578 3d69 6e64 6578 2c20 636f  (index=index, co
+0002ccb0: 6c75 6d6e 733d 6e65 745b 7461 626c 655d  lumns=net[table]
+0002ccc0: 2e63 6f6c 756d 6e73 290d 0a20 2020 2064  .columns)..    d
+0002ccd0: 6420 3d20 6464 2e61 7373 6967 6e28 2a2a  d = dd.assign(**
+0002cce0: 656e 7472 6965 7329 0d0a 0d0a 2020 2020  entries)....    
+0002ccf0: 2320 6578 7465 6e64 2074 6865 2074 6162  # extend the tab
+0002cd00: 6c65 2062 7920 7468 6520 6672 616d 6520  le by the frame 
+0002cd10: 7765 206a 7573 7420 6372 6561 7465 640d  we just created.
+0002cd20: 0a20 2020 2069 6620 7665 7273 696f 6e2e  .    if version.
+0002cd30: 7061 7273 6528 7064 2e5f 5f76 6572 7369  parse(pd.__versi
+0002cd40: 6f6e 5f5f 2920 3e3d 2076 6572 7369 6f6e  on__) >= version
+0002cd50: 2e70 6172 7365 2822 302e 3233 2229 3a0d  .parse("0.23"):.
+0002cd60: 0a20 2020 2020 2020 206e 6574 5b74 6162  .        net[tab
+0002cd70: 6c65 5d20 3d20 7064 2e63 6f6e 6361 7428  le] = pd.concat(
+0002cd80: 5b6e 6574 5b74 6162 6c65 5d2c 6464 5d2c  [net[table],dd],
+0002cd90: 2073 6f72 743d 4661 6c73 6529 0d0a 2020   sort=False)..  
+0002cda0: 2020 656c 7365 3a0d 0a20 2020 2020 2020    else:..       
+0002cdb0: 2023 2070 7269 6f72 2074 6f20 7061 6e64   # prior to pand
+0002cdc0: 6173 2030 2e32 3320 7468 6572 6520 7761  as 0.23 there wa
+0002cdd0: 7320 6e6f 2065 7870 6c69 6369 7420 7061  s no explicit pa
+0002cde0: 7261 6d65 7465 7220 2869 6e73 7465 6164  rameter (instead
+0002cdf0: 2069 7420 7761 7320 7374 616e 6461 7264   it was standard
+0002ce00: 2062 6568 6176 696f 7229 0d0a 2020 2020   behavior)..    
+0002ce10: 2020 2020 6e65 745b 7461 626c 655d 203d      net[table] =
+0002ce20: 206e 6574 5b74 6162 6c65 5d2e 6170 7065   net[table].appe
+0002ce30: 6e64 2864 6429 0d0a 0d0a 2020 2020 2320  nd(dd)....    # 
+0002ce40: 616e 6420 7072 6573 6572 7665 2064 7479  and preserve dty
+0002ce50: 7065 730d 0a20 2020 2069 6620 7072 6573  pes..    if pres
+0002ce60: 6572 7665 5f64 7479 7065 733a 0d0a 2020  erve_dtypes:..  
+0002ce70: 2020 2020 2020 5f70 7265 7365 7276 655f        _preserve_
+0002ce80: 6474 7970 6573 286e 6574 5b74 6162 6c65  dtypes(net[table
+0002ce90: 5d2c 2064 7479 7065 7329 0d0a            ], dtypes)..
```

## Comparing `pandapower-2.8.0/pandapower/diagnostic.py` & `pandapower-2.9.0/pandapower/diagnostic.py`

 * *Files 0% similar despite different names*

```diff
@@ -6,15 +6,15 @@
 
 import copy
 import pandas as pd
 import numpy as np
 import pandapower as pp
 
 try:
-    import pplog as logging
+    import pandaplan.core.pplog as logging
 except ImportError:
     import logging
 
 logger = logging.getLogger(__name__)
 
 from pandapower.run import runpp
 from pandapower.diagnostic_reports import diagnostic_report
```

## Comparing `pandapower-2.8.0/pandapower/diagnostic_reports.py` & `pandapower-2.9.0/pandapower/diagnostic_reports.py`

 * *Files 0% similar despite different names*

```diff
@@ -2,15 +2,15 @@
 
 # Copyright (c) 2016-2022 by University of Kassel and Fraunhofer Institute for Energy Economics
 # and Energy System Technology (IEE), Kassel. All rights reserved.
 
 
 
 try:
-    import pplog as logging
+    import pandaplan.core.pplog as logging
 except ImportError:
     import logging
 
 logger = logging.getLogger(__name__)
 
 # separator between log messages
 log_message_sep = ("\n --------\n")
@@ -662,8 +662,8 @@
                 logger.warning("")
                 logger.warning("SUMMARY: %s missing bus indices found." % element_counter)
 
         elif "missing_bus_indices" in self.diag_errors:
             logger.warning("Check for missing bus indices failed due to the following error:")
             logger.warning(self.diag_errors["missing_bus_indices"])
         else:
-            logger.info("PASSED: No missing bus indices found.")
+            logger.info("PASSED: No missing bus indices found.")
```

## Comparing `pandapower-2.8.0/pandapower/file_io.py` & `pandapower-2.9.0/pandapower/file_io.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/io_utils.py` & `pandapower-2.9.0/pandapower/io_utils.py`

 * *Files 0% similar despite different names*

```diff
@@ -78,15 +78,15 @@
     import shapely.geometry
 
     SHAPELY_INSTALLED = True
 except (ImportError, OSError):
     SHAPELY_INSTALLED = False
 
 try:
-    import pplog as logging
+    import pandaplan.core.pplog as logging
 except ImportError:
     import logging
 
 logger = logging.getLogger(__name__)
 
 
 def coords_to_df(value, geotype="line"):
```

## Comparing `pandapower-2.8.0/pandapower/optimal_powerflow.py` & `pandapower-2.9.0/pandapower/optimal_powerflow.py`

 * *Files 1% similar despite different names*

```diff
@@ -18,15 +18,15 @@
 from pandapower.pypower.printpf import printpf
 from pandapower.pd2ppc import _pd2ppc
 from pandapower.pf.run_newton_raphson_pf import _run_newton_raphson_pf
 from pandapower.results import _copy_results_ppci_to_ppc, init_results, verify_results, \
     _extract_results
 
 try:
-    import pplog as logging
+    import pandaplan.core.pplog as logging
 except ImportError:
     import logging
 
 logger = logging.getLogger(__name__)
 
 
 class OPFNotConverged(ppException):
```

## Comparing `pandapower-2.8.0/pandapower/pd2ppc.py` & `pandapower-2.9.0/pandapower/pd2ppc.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/pd2ppc_zero.py` & `pandapower-2.9.0/pandapower/pd2ppc_zero.py`

 * *Files 1% similar despite different names*

```diff
@@ -174,14 +174,17 @@
                                                    vn_trafo_lv, bus_lookup)
         ppc["branch"][ppc_idx, TAP] = ratio
         ppc["branch"][ppc_idx, SHIFT] = shift
 
         # zero seq. transformer impedance
         tap_lv = np.square(vn_trafo_lv / vn_lv) * net.sn_mva
         if mode == 'pf_3ph':
+            if vector_group not in ["YNyn", "Dyn", "Yzn"]:
+                raise NotImplementedError("Calculation of 3-phase power flow is only implemented for the transformer "
+                                          "vector groups 'YNyn', 'Dyn', 'Yzn'")
             # =============================================================================
             #     Changing base from transformer base to Network base to get Zpu(Net)
             #     Zbase = (kV).squared/S_mva
             #     Zpu(Net)={Zpu(trafo) * Zb(trafo)} / {Zb(Net)}
             #        Note:
             #             Network base voltage is Line-Neutral voltage in each phase
             #             Line-Neutral voltage= Line-Line Voltage(vn_lv) divided by sq.root(3)
```

## Comparing `pandapower-2.8.0/pandapower/powerflow.py` & `pandapower-2.9.0/pandapower/powerflow.py`

 * *Files 1% similar despite different names*

```diff
@@ -18,15 +18,15 @@
 from pandapower.pypower.idx_bus import VM
 from pandapower.pypower.makeYbus import makeYbus as makeYbus_pypower
 from pandapower.pypower.pfsoln import pfsoln as pfsoln_pypower
 from pandapower.results import _extract_results, _copy_results_ppci_to_ppc, init_results, \
     verify_results, _ppci_bus_to_ppc, _ppci_other_to_ppc
 
 try:
-    import pplog as logging
+    import pandaplan.core.pplog as logging
 except ImportError:
     import logging
 
 logger = logging.getLogger(__name__)
 
 
 class AlgorithmUnknown(ppException):
```

## Comparing `pandapower-2.8.0/pandapower/results.py` & `pandapower-2.9.0/pandapower/results.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/results_branch.py` & `pandapower-2.9.0/pandapower/results_branch.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/results_bus.py` & `pandapower-2.9.0/pandapower/results_bus.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/results_gen.py` & `pandapower-2.9.0/pandapower/results_gen.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/run.py` & `pandapower-2.9.0/pandapower/run.py`

 * *Files 1% similar despite different names*

```diff
@@ -10,15 +10,15 @@
     _check_gen_index_and_print_warning_if_high, _init_runpp_options, _init_rundcopp_options, \
     _init_rundcpp_options, _init_runopp_options, _internal_stored
 from pandapower.opf.validate_opf_input import _check_necessary_opf_parameters
 from pandapower.optimal_powerflow import _optimal_powerflow
 from pandapower.powerflow import _powerflow, _recycled_powerflow
 
 try:
-    import pplog as logging
+    import pandaplan.core.pplog as logging
 except ImportError:
     import logging
 
 logger = logging.getLogger(__name__)
 
 
 def set_user_pf_options(net, overwrite=False, **kwargs):
```

## Comparing `pandapower-2.8.0/pandapower/runpm.py` & `pandapower-2.9.0/pandapower/runpm.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/std_types.py` & `pandapower-2.9.0/pandapower/std_types.py`

 * *Files 0% similar despite different names*

```diff
@@ -4,15 +4,15 @@
 # and Energy System Technology (IEE), Kassel. All rights reserved.
 
 
 import pandas as pd
 import warnings
 
 try:
-    import pplog as logging
+    import pandaplan.core.pplog as logging
 except ImportError:
     import logging
 
 logger = logging.getLogger(__name__)
 
 
 def create_std_type(net, data, name, element="line", overwrite=True, check_required=True):
```

## Comparing `pandapower-2.8.0/pandapower/toolbox.py` & `pandapower-2.9.0/pandapower/toolbox.py`

 * *Files 2% similar despite different names*

```diff
@@ -8,14 +8,15 @@
 from collections import defaultdict
 from collections.abc import Iterable
 from itertools import chain
 
 import networkx as nx
 import numpy as np
 import pandas as pd
+import numbers
 from packaging import version
 from pandapower.auxiliary import get_indices, pandapowerNet, _preserve_dtypes
 from pandapower.create import create_switch, create_line_from_parameters, \
     create_impedance, create_empty_network, create_gen, create_ext_grid, \
     create_load, create_shunt, create_bus, create_sgen, create_storage
 from pandapower.opf.validate_opf_input import _check_necessary_opf_parameters
 from pandapower.run import runpp
@@ -29,15 +30,15 @@
 try:
     from networkx.utils.misc import graphs_equal
     GRAPHS_EQUAL_POSSIBLE = True
 except ImportError:
     GRAPHS_EQUAL_POSSIBLE = False
 
 try:
-    import pplog as logging
+    import pandaplan.core.pplog as logging
 except ImportError:
     import logging
 
 logger = logging.getLogger(__name__)
 
 
 # --- general issues
@@ -1460,15 +1461,15 @@
     """
     Set all isolated buses and all elements connected to isolated buses out of service.
     """
     from pandapower.topology import unsupplied_buses
     closed_switches = set()
     unsupplied = unsupplied_buses(net, respect_switches=respect_switches)
     logger.info("set %d of %d unsupplied buses out of service" % (
-        len(net.bus.loc[unsupplied].query('~in_service')), len(unsupplied)))
+        len(net.bus.loc[list(unsupplied)].query('~in_service')), len(unsupplied)))
     set_element_status(net, unsupplied, False)
 
     # TODO: remove this loop after unsupplied_buses are fixed
     for tr3w in net.trafo3w.index.values:
         tr3w_buses = net.trafo3w.loc[tr3w, ['hv_bus', 'mv_bus', 'lv_bus']].values
         if not all(net.bus.loc[tr3w_buses, 'in_service'].values):
             net.trafo3w.at[tr3w, 'in_service'] = False
@@ -2037,15 +2038,15 @@
         for b in branch_zero:
             if in_service_only and ~net[elm].in_service.at[b]:
                 continue
             create_replacement_switch_for_branch(net, element=elm, idx=b)
             net[elm].loc[b, 'in_service'] = False
             affected_elements.add(b)
 
-        replaced[elm] = net[elm].loc[affected_elements]
+        replaced[elm] = net[elm].loc[list(affected_elements)]
 
         if drop_affected:
             if elm == 'line':
                 drop_lines(net, affected_elements)
             else:
                 net[elm].drop(affected_elements, inplace=True)
 
@@ -3217,7 +3218,141 @@
             elif elm == "measurement":
                 fl = fl.union(false_elm_links(net, elm, "element", net[elm]["element_type"]))
             else:
                 fl = fl.union(false_elm_links(net, elm, "bus", "bus"))
             if len(fl):
                 false_links[elm] = fl
     return false_links
+
+
+def read_from_net(net, element, index, variable, flag='auto'):
+    """
+    Reads values from the specified element table at the specified index in the column according to the specified variable
+    Chooses the method to read based on flag
+
+    Parameters
+    ----------
+    net
+    element : str
+        element table in pandapower net; can also be a results table
+    index : int or array_like
+        index of the element table where values are read from
+    variable : str
+        column of the element table
+    flag : str
+        defines which underlying function to use, can be one of ['auto', 'single_index', 'all_index', 'loc', 'object']
+
+    Returns
+    -------
+    values
+        the values of the variable for the element table according to the index
+    """
+    if flag == "single_index":
+        return _read_from_single_index(net, element, variable, index)
+    elif flag == "all_index":
+        return _read_from_all_index(net, element, variable)
+    elif flag == "loc":
+        return _read_with_loc(net, element, variable, index)
+    elif flag == "object":
+        return _read_from_object_attribute(net, element, variable, index)
+    elif flag == "auto":
+        auto_flag, auto_variable = _detect_read_write_flag(net, element, index, variable)
+        return read_from_net(net, element, index, auto_variable, auto_flag)
+    else:
+        raise NotImplementedError("read: flag must be one of ['auto', 'single_index', 'all_index', 'loc', 'object']")
+
+
+def write_to_net(net, element, index, variable, values, flag='auto'):
+    """
+    Writes values to the specified element table at the specified index in the column according to the specified variable
+    Chooses the method to write based on flag
+
+    Parameters
+    ----------
+    net
+    element : str
+        element table in pandapower net
+    index : int or array_like
+        index of the element table where values are written to
+    variable : str
+        column of the element table
+    flag : str
+        defines which underlying function to use, can be one of ['auto', 'single_index', 'all_index', 'loc', 'object']
+
+    Returns
+    -------
+    None
+    """
+    # write functions faster, depending on type of element_index
+    if flag == "single_index":
+        _write_to_single_index(net, element, index, variable, values)
+    elif flag == "all_index":
+        _write_to_all_index(net, element, variable, values)
+    elif flag == "loc":
+        _write_with_loc(net, element, index, variable, values)
+    elif flag == "object":
+        _write_to_object_attribute(net, element, index, variable, values)
+    elif flag == "auto":
+        auto_flag, auto_variable = _detect_read_write_flag(net, element, index, variable)
+        write_to_net(net, element, index, auto_variable, values, auto_flag)
+    else:
+        raise NotImplementedError("write: flag must be one of ['auto', 'single_index', 'all_index', 'loc', 'object']")
+
+
+def _detect_read_write_flag(net, element, index, variable):
+    if variable.startswith('object'):
+        # write to object attribute
+        return "object", variable.split(".")[1]
+    elif isinstance(index, numbers.Number):
+        # use .at if element_index is integer for speedup
+        return "single_index", variable
+    # commenting this out for now, see issue 609
+    # elif net[element].index.equals(Index(index)):
+    #     # use : indexer if all elements are in index
+    #     return "all_index", variable
+    else:
+        # use common .loc
+        return "loc", variable
+
+
+# read functions:
+def _read_from_single_index(net, element, variable, index):
+    return net[element].at[index, variable]
+
+
+def _read_from_all_index(net, element, variable):
+    return net[element].loc[:, variable].values
+
+
+def _read_with_loc(net, element, variable, index):
+    return net[element].loc[index, variable].values
+
+
+def _read_from_object_attribute(net, element, variable, index):
+    if hasattr(index, '__iter__') and len(index) > 1:
+        values = np.array(shape=index.shape)
+        for i, idx in enumerate(index):
+            values[i] = getattr(net[element]["object"].at[idx], variable)
+    else:
+        values = getattr(net[element]["object"].at[index], variable)
+    return values
+
+
+# write functions:
+def _write_to_single_index(net, element, index, variable, values):
+    net[element].at[index, variable] = values
+
+
+def _write_to_all_index(net, element, variable, values):
+    net[element].loc[:, variable] = values
+
+
+def _write_with_loc(net, element, index, variable, values):
+    net[element].loc[index, variable] = values
+
+
+def _write_to_object_attribute(net, element, index, variable, values):
+    if hasattr(index, '__iter__') and len(index) > 1:
+        for idx, val in zip(index, values):
+            setattr(net[element]["object"].at[idx], variable, val)
+    else:
+        setattr(net[element]["object"].at[index], variable, values)
```

## Comparing `pandapower-2.8.0/pandapower/__init__.py` & `pandapower-2.9.0/pandapower/__init__.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,8 +1,8 @@
-__version__ = "2.8.0"
+__version__ = "2.9.0"
 
 import os
 pp_dir = os.path.dirname(os.path.realpath(__file__))
 
 from pandapower.auxiliary import *
 from pandapower.convert_format import *
 from pandapower.create import *
```

## Comparing `pandapower-2.8.0/pandapower/control/basic_controller.py` & `pandapower-2.9.0/pandapower/control/basic_controller.py`

 * *Files 2% similar despite different names*

```diff
@@ -7,15 +7,15 @@
 
 from pandapower.auxiliary import get_free_id
 from pandapower.control.util.auxiliary import \
     drop_same_type_existing_controllers, log_same_type_existing_controllers
 from pandapower.io_utils import JSONSerializableClass
 
 try:
-    import pplog
+    import pandaplan.core.pplog as pplog
 except:
     import logging as pplog
 
 logger = pplog.getLogger(__name__)
 
 
 class BasicCtrl(JSONSerializableClass):
```

## Comparing `pandapower-2.8.0/pandapower/control/run_control.py` & `pandapower-2.9.0/pandapower/control/run_control.py`

 * *Files 0% similar despite different names*

```diff
@@ -3,15 +3,15 @@
 # Copyright (c) 2016-2022 by University of Kassel and Fraunhofer Institute for Energy Economics
 # and Energy System Technology (IEE), Kassel. All rights reserved.
 
 import pandapower as pp
 import numpy as np
 
 try:
-    import pplog
+    import pandaplan.core.pplog as pplog
 except:
     import logging as pplog
 
 from pandapower import ppException, LoadflowNotConverged, OPFNotConverged
 from pandapower.control.util.auxiliary import asarray
 
 logger = pplog.getLogger(__name__)
```

## Comparing `pandapower-2.8.0/pandapower/control/__init__.py` & `pandapower-2.9.0/pandapower/control/__init__.py`

 * *Files 5% similar despite different names*

```diff
@@ -1,15 +1,16 @@
 import pandapower.control.basic_controller
 import pandapower.control.controller
 # --- Controller ---
 from pandapower.control.controller.const_control import ConstControl
 from pandapower.control.controller.characteristic_control import CharacteristicControl
 from pandapower.control.controller.trafo.ContinuousTapControl import ContinuousTapControl
 from pandapower.control.controller.trafo.DiscreteTapControl import DiscreteTapControl
-from pandapower.control.controller.trafo.USetTapControl import USetTapControl
+from pandapower.control.controller.trafo.VmSetTapControl import VmSetTapControl
+from pandapower.control.controller.trafo.USetTapControl import USetTapControl  # TODO: drop after next release
 from pandapower.control.controller.trafo.TapDependentImpedance import TapDependentImpedance
 from pandapower.control.controller.trafo_control import TrafoController
 
 # --- Other ---
 from pandapower.control.run_control import *
 from pandapower.control.run_control import ControllerNotConverged
 from pandapower.control.util.characteristic import Characteristic, SplineCharacteristic
```

## Comparing `pandapower-2.8.0/pandapower/control/controller/const_control.py` & `pandapower-2.9.0/pandapower/control/controller/const_control.py`

 * *Files 18% similar despite different names*

```diff
@@ -1,18 +1,17 @@
 # -*- coding: utf-8 -*-
 
 # Copyright (c) 2016-2022 by University of Kassel and Fraunhofer Institute for Energy Economics
 # and Energy System Technology (IEE), Kassel. All rights reserved.
 
-import numpy as np
-from pandas import Index
 from pandapower.control.basic_controller import Controller
+from pandapower.toolbox import _detect_read_write_flag, write_to_net
 
 try:
-    import pplog as logging
+    import pandaplan.core.pplog as logging
 except ImportError:
     import logging
 
 logger = logging.getLogger(__name__)
 
 
 class ConstControl(Controller):
@@ -74,40 +73,23 @@
 
         # data source for time series values
         self.data_source = data_source
         # ids of sgens or loads
         self.element_index = element_index
         # element type
         self.element = element
-        self.variable = variable
         self.values = None
         self.profile_name = profile_name
         self.scale_factor = scale_factor
         self.applied = False
-        self.object_attribute = None
-        # write functions faster, depending on type of self.element_index
-        if self.variable.startswith('object'):
-            # write to object attribute
-            self.write = "object"
-            self.object_attribute = self.variable.split(".")[1]
-        elif isinstance(self.element_index, int):
-            # use .at if element_index is integer for speedup
-            self.write = "single_index"
-        # commenting this out for now, see issue 609
-        # elif self.net[self.element].index.equals(Index(self.element_index)):
-        #     # use : indexer if all elements are in index
-        #     self.write = "all_index"
-        else:
-            # use common .loc
-            self.write = "loc"
+        self.write_flag, self.variable = _detect_read_write_flag(net, element, element_index, variable)
         self.set_recycle(net)
 
     def set_recycle(self, net):
-        allowed_elements = ["load", "sgen", "storage", "gen", "ext_grid", "trafo", "trafo3w",
-                            "line"]
+        allowed_elements = ["load", "sgen", "storage", "gen", "ext_grid", "trafo", "trafo3w", "line"]
         if net.controller.at[self.index, 'recycle'] is False or self.element not in allowed_elements:
             # if recycle is set to False by the user when creating the controller it is deactivated
             # or when const control controls an element which is not able to be recycled
             net.controller.at[self.index, 'recycle'] = False
             return
         # these variables determine what is re-calculated during a time series run
         recycle = dict(trafo=False, gen=False, bus_pq=False)
@@ -119,32 +101,14 @@
             recycle["gen"] = True
         if self.element in ["trafo", "trafo3w", "line"]:
             recycle["trafo"] = True
         # recycle is either the dict what should be recycled
         # or False if the element + variable combination is not supported
         net.controller.at[self.index, 'recycle'] = recycle if any(list(recycle.values())) else False
 
-    def write_to_net(self, net):
-        """
-        Writes to self.element at index self.element_index in the column self.variable the data
-        from self.values
-        """
-        # write functions faster, depending on type of self.element_index
-        if self.write == "single_index":
-            self._write_to_single_index(net)
-        elif self.write == "all_index":
-            self._write_to_all_index(net)
-        elif self.write == "loc":
-            self._write_with_loc(net)
-        elif self.write == "object":
-            self._write_to_object_attribute(net)
-        else:
-            raise NotImplementedError("ConstControl: self.write must be one of "
-                                      "['single_index', 'all_index', 'loc', 'object']")
-
     def time_step(self, net, time):
         """
         Get the values of the element from data source
         Write to pandapower net by calling write_to_net()
         If ConstControl is used without a data_source, it will reset the controlled values to the initial values,
         preserving the initial net state.
         """
@@ -152,40 +116,23 @@
         if self.data_source is None:
             self.values = net[self.element][self.variable].loc[self.element_index]
         else:
             self.values = self.data_source.get_time_step_value(time_step=time,
                                                                profile_name=self.profile_name,
                                                                scale_factor=self.scale_factor)
         if self.values is not None:
-            self.write_to_net(net)
+            write_to_net(net, self.element, self.element_index, self.variable, self.values, self.write_flag)
 
     def is_converged(self, net):
         """
         Actual implementation of the convergence criteria: If controller is applied, it can stop
         """
         return self.applied
 
     def control_step(self, net):
         """
         Set applied to True, which means that the values set in time_step have been included in the load flow calculation.
         """
         self.applied = True
 
-    def _write_to_single_index(self, net):
-        net[self.element].at[self.element_index, self.variable] = self.values
-
-    def _write_to_all_index(self, net):
-        net[self.element].loc[:, self.variable] = self.values
-
-    def _write_with_loc(self, net):
-        net[self.element].loc[self.element_index, self.variable] = self.values
-
-    def _write_to_object_attribute(self, net):
-        if hasattr(self.element_index, '__iter__') and len(self.element_index) > 1:
-            for idx, val in zip(self.element_index, self.values):
-                setattr(net[self.element]["object"].at[idx], self.object_attribute, val)
-        else:
-            setattr(net[self.element]["object"].at[self.element_index], self.object_attribute, self.values)
-
     def __str__(self):
         return super().__str__() + " [%s.%s]" % (self.element, self.variable)
-
```

## Comparing `pandapower-2.8.0/pandapower/control/controller/trafo_control.py` & `pandapower-2.9.0/pandapower/control/controller/trafo/DiscreteTapControl.py`

 * *Files 25% similar despite different names*

```diff
@@ -1,135 +1,129 @@
 # -*- coding: utf-8 -*-
 
 # Copyright (c) 2016-2022 by University of Kassel and Fraunhofer Institute for Energy Economics
 # and Energy System Technology (IEE), Kassel. All rights reserved.
-
 import numpy as np
-from pandapower.control.basic_controller import Controller
-
-try:
-    import pplog as logging
-except ImportError:
-    import logging
-logger = logging.getLogger(__name__)
-
+from pandapower.control.controller.trafo_control import TrafoController
+from pandapower.toolbox import read_from_net, write_to_net
 
-class TrafoController(Controller):
+class DiscreteTapControl(TrafoController):
     """
     Trafo Controller with local tap changer voltage control.
 
     INPUT:
-       **net** (attrdict) - Pandapower struct
+        **net** (attrdict) - Pandapower struct
 
-       **tid** (int) - ID of the trafo that is controlled
+        **tid** (int) - ID of the trafo that is controlled
 
-       **side** (string) - Side of the transformer where the voltage is controlled ("hv", "mv"
-       or "lv")
+        **vm_lower_pu** (float) - Lower voltage limit in pu
 
-       **tol** (float) - Voltage tolerance band at bus in Percent
+        **vm_upper_pu** (float) - Upper voltage limit in pu
 
-       **in_service** (bool) - Indicates if the element is currently active
+    OPTIONAL:
 
-       **trafotype** (string) - Type of the controlled trafo ("2W" or "3W")
+        **side** (string, "lv") - Side of the transformer where the voltage is controlled (hv or lv)
 
-    OPTIONAL:
-        **recycle** (bool, True) - Re-use of internal-data in a time series loop.
+        **trafotype** (float, "2W") - Trafo type ("2W" or "3W")
+
+        **tol** (float, 0.001) - Voltage tolerance band at bus in Percent (default: 1% = 0.01pu)
+
+        **in_service** (bool, True) - Indicates if the controller is currently in_service
+
+        **drop_same_existing_ctrl** (bool, False) - Indicates if already existing controllers of the same type and with the same matching parameters (e.g. at same element) should be dropped
     """
 
-    def __init__(self, net, tid, side, tol, in_service, trafotype, level=0, order=0, recycle=True,
-                 **kwargs):
-        super().__init__(net, in_service=in_service, level=level, order=order, recycle=recycle,
+    def __init__(self, net, tid, vm_lower_pu, vm_upper_pu, side="lv", trafotype="2W",
+                 tol=1e-3, in_service=True, order=0, drop_same_existing_ctrl=False,
+                 matching_params=None, **kwargs):
+        if matching_params is None:
+            matching_params = {"tid": tid, 'trafotype': trafotype}
+        super().__init__(net, tid, side, tol=tol, in_service=in_service, order=order, trafotype=trafotype,
+                         drop_same_existing_ctrl=drop_same_existing_ctrl, matching_params=matching_params,
                          **kwargs)
-        self.tid = tid
-        self.trafotype = trafotype
 
-        if trafotype == "2W":
-            if side not in ["hv", "lv"]:
-                raise UserWarning("side has to be 'hv' or 'lv' for high/low voltage, "
-                                  "received %s" % side)
-            self.trafotable = "trafo"
-        elif trafotype == "3W":
-            if side not in ["hv", "mv", "lv"]:
-                raise UserWarning("side has to be 'hv', 'mv' or 'lv' for high/middle/low voltage, "
-                                  "received %s" % side)
-            self.trafotable = "trafo3w"
-        else:
-            raise UserWarning("unknown trafo type, received %s" % trafotype)
-
-        self.element_in_service = net[self.trafotable].at[self.tid, "in_service"]
-
-        self.side = side
-        self.controlled_bus = net[self.trafotable].at[tid, side + "_bus"]
-        if self.controlled_bus in net.ext_grid.loc[net.ext_grid.in_service, 'bus'].values:
-            logger.warning("Controlled Bus is Slack Bus - deactivating controller")
-            self.set_active(net, False)
-        elif self.controlled_bus in net.ext_grid.loc[
-            ~net.ext_grid.in_service, 'bus'].values:
-            logger.warning("Controlled Bus is Slack Bus with slack out of service - "
-                           "not deactivating controller")
-
-        self.tap_min = net[self.trafotable].at[tid, "tap_min"]
-        self.tap_max = net[self.trafotable].at[tid, "tap_max"]
-        self.tap_step_percent = net[self.trafotable].at[tid, "tap_step_percent"]
-        self.tap_step_degree = net[self.trafotable].at[tid, "tap_step_degree"]
-        if not np.isnan(self.tap_step_degree):
-            self.tap_sign = np.sign(np.cos(np.deg2rad(self.tap_step_degree)))
-        else:
-            self.tap_sign = 1
-        if self.tap_sign == 0 or np.isnan(self.tap_sign):
-            # 0 is very unprobable case because of numpy, but still checking to be 100 % sure
-            self.tap_sign = 1
-        self.tap_pos = net[self.trafotable].at[self.tid, "tap_pos"]
-        if np.isnan(self.tap_pos):
-            self.tap_pos = net[self.trafotable].at[tid, "tap_neutral"]
-
-        if np.isnan(self.tap_min) or \
-                np.isnan(self.tap_max) or \
-                np.isnan(self.tap_step_percent):
-            logger.error("Trafo-Controller has been initialized with NaN values, check "
-                         "net.trafo.tap_pos etc. if they are set correctly!")
-
-        self.tol = tol
-        tap_side = net[self.trafotable].tap_side.at[tid]
-        if trafotype == "2W":
-            if tap_side == "hv":
-                self.tap_side_coeff = 1
-            elif tap_side == "lv":
-                self.tap_side_coeff = -1
-            else:
-                raise ValueError("Trafo tap side (in net.%s) has to be either hv or lv, "
-                                 "but received: %s for trafo %s" % (self.trafotable, tap_side,
-                                                                    self.tid))
-        elif trafotype == "3W":
-            if tap_side == "hv":
-                self.tap_side_coeff = 1
-            elif tap_side in ["mv", "lv"]:
-                self.tap_side_coeff = -1
-            else:
-                raise ValueError("Trafo tap side (in net.%s) has to be either hv, mv or lv, "
-                                 "but received %s for trafo %s" % (self.trafotable, tap_side,
-                                                                   self.tid))
-        if net[self.trafotable].at[self.tid, "tap_step_percent"] < 0:
-            self.tap_side_coeff *= -1
-        self.set_recycle(net)
-
-    def set_recycle(self, net):
-        allowed_elements = ["2W", "3W"]
-        if net.controller.at[self.index, 'recycle'] is False or self.trafotype not in allowed_elements:
-            # if recycle is set to False by the user when creating the controller it is deactivated or when
-            # const control controls an element which is not able to be recycled
-            net.controller.at[self.index, 'recycle'] = False
+        self.vm_lower_pu = vm_lower_pu
+        self.vm_upper_pu = vm_upper_pu
+
+        self.vm_delta_pu = self.tap_step_percent / 100. * .5 + self.tol
+        self.vm_set_pu = kwargs.get("vm_set_pu")
+
+    @classmethod
+    def from_tap_step_percent(cls, net, tid, vm_set_pu, side="lv", trafotype="2W", tol=1e-3, in_service=True, order=0,
+                              drop_same_existing_ctrl=False, matching_params=None, **kwargs):
+        """
+        Alternative mode of the controller, which uses a set point for voltage and the value of net.trafo.tap_step_percent to calculate
+        vm_upper_pu and vm_lower_pu. To this end, the parameter vm_set_pu should be provided, instead of vm_lower_pu and vm_upper_pu.
+        To use this mode of the controller, the controller can be initialized as following:
+
+        >>> c = DiscreteTapControl.from_tap_step_percent(net, tid, vm_set_pu)
+
+        INPUT:
+            **net** (attrdict) - Pandapower struct
+
+            **tid** (int) - ID of the trafo that is controlled
+
+            **vm_set_pu** (float) - Voltage setpoint in pu
+        """
+        self = cls(net, tid=tid, vm_lower_pu=None, vm_upper_pu=None, side=side, trafotype=trafotype, tol=tol,
+                   in_service=in_service, order=order, drop_same_existing_ctrl=drop_same_existing_ctrl,
+                   matching_params=matching_params, vm_set_pu=vm_set_pu, **kwargs)
+        return self
+
+    @property
+    def vm_set_pu(self):
+        return self._vm_set_pu
+
+    @vm_set_pu.setter
+    def vm_set_pu(self, value):
+        self._vm_set_pu = value
+        if value is None:
+            return
+        self.vm_lower_pu = value - self.vm_delta_pu
+        self.vm_upper_pu = value + self.vm_delta_pu
+
+    def initialize_control(self, net):
+        super().initialize_control(net)
+        if hasattr(self, 'vm_set_pu') and self.vm_set_pu is not None:
+            self.vm_delta_pu = self.tap_step_percent / 100. * .5 + self.tol
+
+    def control_step(self, net):
+        """
+        Implements one step of the Discrete controller, always stepping only one tap position up or down
+        """
+        if self.nothing_to_do(net):
             return
-        # these variables determine what is re-calculated during a time series run
-        recycle = dict(trafo=True, gen=False, bus_pq=False)
-        net.controller.at[self.index, 'recycle'] = recycle
-
-    def timestep(self, net):
-        self.tap_pos = net[self.trafotable].at[self.tid, "tap_pos"]
-
-    def __repr__(self):
-        s = '%s of %s %d' % (self.__class__.__name__, self.trafotable, self.tid)
-        return s
-
-    def __str__(self):
-        s = '%s of %s %d' % (self.__class__.__name__, self.trafotable, self.tid)
-        return s
+
+        vm_pu = read_from_net(net, "res_bus", self.controlled_bus, "vm_pu", self._read_write_flag)
+        self.tap_pos = read_from_net(net, self.trafotable, self.controlled_tid, "tap_pos", self._read_write_flag)
+
+        increment = np.where(self.tap_side_coeff * self.tap_sign == 1,
+                             np.where(np.logical_and(vm_pu < self.vm_lower_pu, self.tap_pos > self.tap_min), -1,
+                                      np.where(np.logical_and(vm_pu > self.vm_upper_pu, self.tap_pos < self.tap_max), 1, 0)),
+                             np.where(np.logical_and(vm_pu < self.vm_lower_pu, self.tap_pos < self.tap_max), 1,
+                                      np.where(np.logical_and(vm_pu > self.vm_upper_pu, self.tap_pos > self.tap_min), -1, 0)))
+
+        self.tap_pos += increment
+
+        # WRITE TO NET
+        write_to_net(net, self.trafotable, self.controlled_tid, 'tap_pos', self.tap_pos, self._read_write_flag)
+
+    def is_converged(self, net):
+        """
+        Checks if the voltage is within the desired voltage band, then returns True
+        """
+        if self.nothing_to_do(net):
+            return True
+
+        vm_pu = read_from_net(net, "res_bus", self.controlled_bus, "vm_pu", self._read_write_flag)
+        self.tap_pos = read_from_net(net, self.trafotable, self.controlled_tid, "tap_pos", self._read_write_flag)
+
+        reached_limit = np.where(self.tap_side_coeff * self.tap_sign == 1,
+                                 (vm_pu < self.vm_lower_pu) & (self.tap_pos == self.tap_min) |
+                                 (vm_pu > self.vm_upper_pu) & (self.tap_pos == self.tap_max),
+                                 (vm_pu < self.vm_lower_pu) & (self.tap_pos == self.tap_max) |
+                                 (vm_pu > self.vm_upper_pu) & (self.tap_pos == self.tap_min))
+
+        converged = np.logical_or(reached_limit, np.logical_and(self.vm_lower_pu < vm_pu, vm_pu < self.vm_upper_pu))
+
+        return np.all(converged)
+
```

## Comparing `pandapower-2.8.0/pandapower/control/controller/trafo/DiscreteTapControl.py` & `pandapower-2.9.0/pandapower/control/controller/trafo/ContinuousTapControl.py`

 * *Files 26% similar despite different names*

```diff
@@ -1,132 +1,112 @@
 # -*- coding: utf-8 -*-
 
 # Copyright (c) 2016-2022 by University of Kassel and Fraunhofer Institute for Energy Economics
 # and Energy System Technology (IEE), Kassel. All rights reserved.
 
+import numpy as np
 from pandapower.control.controller.trafo_control import TrafoController
+from pandapower.toolbox import read_from_net, write_to_net
 
-class DiscreteTapControl(TrafoController):
+
+class ContinuousTapControl(TrafoController):
     """
     Trafo Controller with local tap changer voltage control.
 
     INPUT:
         **net** (attrdict) - Pandapower struct
 
         **tid** (int) - ID of the trafo that is controlled
 
-        **vm_lower_pu** (float) - Lower voltage limit in pu
-
-        **vm_upper_pu** (float) - Upper voltage limit in pu
+        **vm_set_pu** (float) - Maximum OLTC target voltage at bus in pu
 
     OPTIONAL:
 
-        **side** (string, "lv") - Side of the transformer where the voltage is controlled (hv or lv)
+        **tol** (float, 0.001) - Voltage tolerance band at bus in percent (default: 1% = 0.01pu)
 
-        **trafotype** (float, "2W") - Trafo type ("2W" or "3W")
+        **side** (string, "lv") - Side of the transformer where the voltage is controlled
 
-        **tol** (float, 0.001) - Voltage tolerance band at bus in Percent (default: 1% = 0.01pu)
+        **trafo_type** (float, "2W") - Trafo type ("2W" or "3W")
 
         **in_service** (bool, True) - Indicates if the controller is currently in_service
 
+        **check_tap_bounds** (bool, True) - In case of true the tap_bounds will be considered
+
         **drop_same_existing_ctrl** (bool, False) - Indicates if already existing controllers of the same type and with the same matching parameters (e.g. at same element) should be dropped
     """
 
-    def __init__(self, net, tid, vm_lower_pu, vm_upper_pu, side="lv", trafotype="2W",
-                 tol=1e-3, in_service=True, order=0, drop_same_existing_ctrl=False,
+    def __init__(self, net, tid, vm_set_pu, tol=1e-3, side="lv", trafotype="2W", in_service=True,
+                 check_tap_bounds=True, level=0, order=0, drop_same_existing_ctrl=False,
                  matching_params=None, **kwargs):
         if matching_params is None:
             matching_params = {"tid": tid, 'trafotype': trafotype}
-        super(DiscreteTapControl, self).__init__(
-            net, tid, side, tol=tol, in_service=in_service, order=order, trafotype=trafotype,
-            drop_same_existing_ctrl=drop_same_existing_ctrl, matching_params=matching_params,
-            **kwargs)
-
-        self.vm_lower_pu = vm_lower_pu
-        self.vm_upper_pu = vm_upper_pu
-
-        self.tap_pos = net[self.trafotable].at[tid, "tap_pos"]
-        self.vm_delta_pu = net[self.trafotable].at[tid, "tap_step_percent"] / 100. * .5 + self.tol
-        self.vm_set_pu = kwargs.get("vm_set_pu")
-
-    @classmethod
-    def from_tap_step_percent(cls, net, tid, vm_set_pu, side="lv", trafotype="2W", tol=1e-3, in_service=True, order=0,
-                              drop_same_existing_ctrl=False, matching_params=None, **kwargs):
-        """
-        Alternative mode of the controller, which uses a set point for voltage and the value of net.trafo.tap_step_percent to calculate
-        vm_upper_pu and vm_lower_pu. To this end, the parameter vm_set_pu should be provided, instead of vm_lower_pu and vm_upper_pu.
-        To use this mode of the controller, the controller can be initialized as following:
-
-        >>> c = DiscreteTapControl.from_tap_step_percent(net, tid, vm_set_pu)
-
-        INPUT:
-            **net** (attrdict) - Pandapower struct
-
-            **tid** (int) - ID of the trafo that is controlled
-
-            **vm_set_pu** (float) - Voltage setpoint in pu
-        """
-        self = cls(net, tid=tid, vm_lower_pu=None, vm_upper_pu=None, side=side, trafotype=trafotype, tol=tol,
-                   in_service=in_service, order=order, drop_same_existing_ctrl=drop_same_existing_ctrl,
-                   matching_params=matching_params, vm_set_pu=vm_set_pu, **kwargs)
-        return self
-
-    @property
-    def vm_set_pu(self):
-        return self._vm_set_pu
-
-    @vm_set_pu.setter
-    def vm_set_pu(self, value):
-        self._vm_set_pu = value
-        if value is None:
-            return
-        self.vm_lower_pu = value - self.vm_delta_pu
-        self.vm_upper_pu = value + self.vm_delta_pu
+        super().__init__(net, tid=tid, side=side, tol=tol, in_service=in_service,
+                         trafotype=trafotype, level=level, order=order,
+                         drop_same_existing_ctrl=drop_same_existing_ctrl,
+                         matching_params=matching_params, **kwargs)
+
+        self._set_t_nom(net)
+        self.check_tap_bounds = check_tap_bounds
+        self.vm_set_pu = vm_set_pu
+
+    def _set_t_nom(self, net):
+        vn_hv_kv = read_from_net(net, self.trafotable, self.controlled_tid, 'vn_hv_kv', self._read_write_flag)
+        hv_bus = read_from_net(net, self.trafotable, self.controlled_tid, 'hv_bus', self._read_write_flag)
+        vn_hv_bus_kv = read_from_net(net, "bus", hv_bus, 'vn_kv', self._read_write_flag)
+
+        if self.trafotype == "3W" and self.side == "mv":
+            vn_mv_kv = read_from_net(net, self.trafotable, self.controlled_tid, 'vn_mv_kv', self._read_write_flag)
+            mv_bus = read_from_net(net, self.trafotable, self.controlled_tid, 'mv_bus', self._read_write_flag)
+            vn_mv_bus_kv = read_from_net(net, "bus", mv_bus, 'vn_kv', self._read_write_flag)
+            self.t_nom = vn_mv_kv / vn_hv_kv * vn_hv_bus_kv / vn_mv_bus_kv
+        else:
+            vn_lv_kv = read_from_net(net, self.trafotable, self.controlled_tid, 'vn_lv_kv', self._read_write_flag)
+            lv_bus = read_from_net(net, self.trafotable, self.controlled_tid, 'lv_bus', self._read_write_flag)
+            vn_lv_bus_kv = read_from_net(net, "bus", lv_bus, 'vn_kv', self._read_write_flag)
+            self.t_nom = vn_lv_kv / vn_hv_kv * vn_hv_bus_kv / vn_lv_bus_kv
 
     def initialize_control(self, net):
-        if hasattr(self, 'vm_set_pu') and self.vm_set_pu is not None:
-            self.vm_delta_pu = net[self.trafotable].at[self.tid, "tap_step_percent"] / 100. * .5 + self.tol
+        super().initialize_control(net)
+        self._set_t_nom(net)  # in case some of the trafo elements change their in_service in between runs
 
     def control_step(self, net):
         """
-        Implements one step of the Discrete controller, always stepping only one tap position up or down
+        Implements one step of the ContinuousTapControl
         """
-        vm_pu = net.res_bus.at[self.controlled_bus, "vm_pu"]
-        self.tap_pos = net[self.trafotable].at[self.tid, "tap_pos"]
+        if self.nothing_to_do(net):
+            return
 
-        if self.tap_side_coeff * self.tap_sign == 1:
-            if vm_pu < self.vm_lower_pu and self.tap_pos > self.tap_min:
-                self.tap_pos -= 1
-            elif vm_pu > self.vm_upper_pu and self.tap_pos < self.tap_max:
-                self.tap_pos += 1
-        elif self.tap_side_coeff * self.tap_sign == -1:
-            if vm_pu < self.vm_lower_pu and self.tap_pos < self.tap_max:
-                self.tap_pos += 1
-            elif vm_pu > self.vm_upper_pu and self.tap_pos > self.tap_min:
-                self.tap_pos -= 1
+        delta_vm_pu = read_from_net(net, "res_bus", self.controlled_bus, 'vm_pu', self._read_write_flag) - self.vm_set_pu
+        tc = delta_vm_pu / self.tap_step_percent * 100 / self.t_nom
+        self.tap_pos = self.tap_pos + tc * self.tap_side_coeff * self.tap_sign
+        if self.check_tap_bounds:
+            self.tap_pos = np.clip(self.tap_pos, self.tap_min, self.tap_max)
 
         # WRITE TO NET
-        net[self.trafotable].at[self.tid, "tap_pos"] = self.tap_pos
+        # necessary in case the dtype of the column is int
+        if net[self.trafotable].tap_pos.dtype != "float":
+            net[self.trafotable].tap_pos = net[self.trafotable].tap_pos.astype(float)
+        write_to_net(net, self.trafotable, self.controlled_tid, "tap_pos", self.tap_pos, self._read_write_flag)
 
     def is_converged(self, net):
         """
-        Checks if the voltage is within the desired voltage band, then returns True
+        The ContinuousTapControl is converged, when the difference of the voltage between control steps is smaller
+        than the Tolerance (tol).
         """
-        if not self.tid in net[self.trafotable].index or \
-           not net[self.trafotable].at[self.tid, 'in_service']:
+        if self.nothing_to_do(net):
             return True
-        vm_pu = net.res_bus.at[self.controlled_bus, "vm_pu"]
-        self.tap_pos = net[self.trafotable].at[self.tid, "tap_pos"]
 
-        # render this controller converged if he cant reach the desired point
-        if self.tap_side_coeff * self.tap_sign == 1:
-            if vm_pu < self.vm_lower_pu and self.tap_pos == self.tap_min:
-                return True
-            elif vm_pu > self.vm_upper_pu and self.tap_pos == self.tap_max:
-                return True
-        elif self.tap_side_coeff * self.tap_sign == -1:
-            if vm_pu < self.vm_lower_pu and self.tap_pos == self.tap_max:
-                return True
-            elif vm_pu > self.vm_upper_pu and self.tap_pos == self.tap_min:
-                return True
-        return self.vm_lower_pu < vm_pu < self.vm_upper_pu
+        vm_pu = read_from_net(net, "res_bus", self.controlled_bus, "vm_pu", self._read_write_flag)
+        self.tap_pos = read_from_net(net, self.trafotable, self.controlled_tid, "tap_pos", self._read_write_flag)
+        difference = 1 - self.vm_set_pu / vm_pu
+
+        if self.check_tap_bounds:
+            reached_limit = np.where(self.tap_side_coeff * self.tap_sign == 1,
+                                     (vm_pu < self.vm_set_pu) & (self.tap_pos == self.tap_min) |
+                                     (vm_pu > self.vm_set_pu) & (self.tap_pos == self.tap_max),
+                                     (vm_pu < self.vm_set_pu) & (self.tap_pos == self.tap_max) |
+                                     (vm_pu > self.vm_set_pu) & (self.tap_pos == self.tap_min))
+            converged = np.logical_or(reached_limit, np.abs(difference) < self.tol)
+        else:
+            converged = np.abs(difference) < self.tol
 
+        return np.all(converged)
```

## Comparing `pandapower-2.8.0/pandapower/control/controller/trafo/TapDependentImpedance.py` & `pandapower-2.9.0/pandapower/control/controller/trafo/TapDependentImpedance.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/control/controller/trafo/USetTapControl.py` & `pandapower-2.9.0/pandapower/control/controller/trafo/VmSetTapControl.py`

 * *Files 1% similar despite different names*

```diff
@@ -2,15 +2,15 @@
 
 # Copyright (c) 2016-2022 by University of Kassel and Fraunhofer Institute for Energy Economics
 # and Energy System Technology (IEE), Kassel. All rights reserved.
 
 from pandapower.control.controller.characteristic_control import CharacteristicControl
 from pandapower.control.util.characteristic import Characteristic
 
-class USetTapControl(CharacteristicControl):
+class VmSetTapControl(CharacteristicControl):
     """
     Controller that adjusts the setpoint of a local tap changer voltage control based on a load flow result (e.g. p_lv_mw, i_lv_ka etc.)
     according to a defined characteristic.
 
     INPUT:
         **net** (attrdict) - Pandapower net
```

## Comparing `pandapower-2.8.0/pandapower/control/util/auxiliary.py` & `pandapower-2.9.0/pandapower/control/util/auxiliary.py`

 * *Files 1% similar despite different names*

```diff
@@ -15,15 +15,15 @@
     import matplotlib.pyplot as plt
 
     MATPLOTLIB_INSTALLED = True
 except ImportError:
     MATPLOTLIB_INSTALLED = False
 
 try:
-    import pplog
+    import pandaplan.core.pplog as pplog
 except ImportError:
     import logging as pplog
 
 logger = pplog.getLogger(__name__)
 
 
 def asarray(val, dtype=np.float64):
```

## Comparing `pandapower-2.8.0/pandapower/control/util/characteristic.py` & `pandapower-2.9.0/pandapower/control/util/characteristic.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/control/util/diagnostic.py` & `pandapower-2.9.0/pandapower/control/util/diagnostic.py`

 * *Files 4% similar despite different names*

```diff
@@ -6,15 +6,15 @@
 import numpy as np
 import pandas as pd
 
 from pandapower.control.util.auxiliary import get_controller_index
 from pandapower.control.controller.trafo_control import TrafoController
 
 try:
-    import pplog
+    import pandaplan.core.pplog as pplog
 except:
     import logging as pplog
 
 logger = pplog.getLogger(__name__)
 
 
 def control_diagnostic(net, respect_in_service=True):
```

## Comparing `pandapower-2.8.0/pandapower/converter/matpower/from_mpc.py` & `pandapower-2.9.0/pandapower/converter/matpower/from_mpc.py`

 * *Files 2% similar despite different names*

```diff
@@ -6,15 +6,15 @@
 
 import numpy as np
 import scipy.io
 
 from pandapower.converter.pypower import from_ppc
 
 try:
-    import pplog as logging
+    import pandaplan.core.pplog as logging
 except ImportError:
     import logging
 
 logger = logging.getLogger(__name__)
 
 
 def from_mpc(mpc_file, f_hz=50, casename_mpc_file='mpc', validate_conversion=False):
@@ -94,16 +94,16 @@
 
         try:
             ppc['gencost'] = mpc[casename_mpc_file].gencost
         except:
             logger.info('gencost is not in mpc')
 
         for k in mpc[casename_mpc_file]._fieldnames:
-            if k not in ppc:
-                ppc.setdefault("mpc_additional_data", dict())[k] = getattr(mpc[casename_mpc_file], k)
+           if k not in ppc:
+               ppc.setdefault("mpc_additional_data", dict())[k] = getattr(mpc[casename_mpc_file], k)
 
     else:
         logger.error('Matfile does not contain a valid mpc structure.')
 
 
 def _change_ppc_TAP_value(ppc):
     # adjust for the matpower converter -> taps should be 0 when there is no transformer, but are 1
```

## Comparing `pandapower-2.8.0/pandapower/converter/matpower/to_mpc.py` & `pandapower-2.9.0/pandapower/converter/matpower/to_mpc.py`

 * *Files 2% similar despite different names*

```diff
@@ -8,15 +8,15 @@
 
 import numpy as np
 from scipy.io import savemat
 
 from pandapower.converter.pypower import to_ppc
 
 try:
-    import pplog as logging
+    import pandaplan.core.pplog as logging
 except ImportError:
     import logging
 
 logger = logging.getLogger(__name__)
 
 
 def to_mpc(net, filename=None, **kwargs):
```

## Comparing `pandapower-2.8.0/pandapower/converter/powermodels/from_pm.py` & `pandapower-2.9.0/pandapower/converter/powermodels/from_pm.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/converter/powermodels/to_pm.py` & `pandapower-2.9.0/pandapower/converter/powermodels/to_pm.py`

 * *Files 1% similar despite different names*

```diff
@@ -18,15 +18,15 @@
 from pandapower.pypower.idx_cost import MODEL, NCOST, COST
 from pandapower.pypower.idx_gen import PG, QG, GEN_BUS, VG, GEN_STATUS, QMAX, QMIN, PMIN, PMAX
 from pandapower.results import init_results
 
 # const value in branch for tnep
 CONSTRUCTION_COST = 23
 try:
-    import pplog as logging
+    import pandaplan.core.pplog as logging
 except ImportError:
     import logging
 
 
 class NumpyEncoder(json.JSONEncoder):
     def default(self, obj):
         if isinstance(obj, (np.int_, np.intc, np.intp, np.int8,
@@ -414,14 +414,15 @@
         for key, val in net._options["pm_time_limits"].items():
             pm[key] = val
     else:
         pm["pm_time_limit"], pm["pm_nl_time_limit"], pm["pm_mip_time_limit"] = \
             np.inf, np.inf, np.inf
     pm["correct_pm_network_data"] = net._options["correct_pm_network_data"]
     pm["silence"] = net._options["silence"]
+    pm["ac"] = net._options["ac"]
     return pm
 
 
 def build_ne_branch(net, ppc):
     # this is only used by pm tnep
     if "ne_line" in net:
         length = len(net["ne_line"])
```

## Comparing `pandapower-2.8.0/pandapower/converter/pypower/from_ppc.py` & `pandapower-2.9.0/pandapower/converter/pypower/from_ppc.py`

 * *Files 0% similar despite different names*

```diff
@@ -10,15 +10,15 @@
 from pandas import Series, DataFrame, concat
 from pandapower.pypower.idx_gen import GEN_BUS, PMIN, PMAX, QMIN, QMAX, GEN_STATUS
 from pandapower.pypower.idx_cost import COST, NCOST
 from pandapower.pypower.idx_bus import BUS_I, BASE_KV
 import pandapower as pp
 
 try:
-    import pplog as logging
+    import pandaplan.core.pplog as logging
 except ImportError:
     import logging
 logger = logging.getLogger(__name__)
 
 try:
     from pypower import ppoption, runpf, runopf, rundcpf, rundcopf
     ppopt = ppoption.ppoption(VERBOSE=0, OUT_ALL=0)
```

## Comparing `pandapower-2.8.0/pandapower/converter/pypower/to_ppc.py` & `pandapower-2.9.0/pandapower/converter/pypower/to_ppc.py`

 * *Files 1% similar despite different names*

```diff
@@ -6,15 +6,15 @@
 from numpy import allclose
 
 from pandapower.auxiliary import _add_ppc_options
 from pandapower.powerflow import _pd2ppc
 from pandapower.opf.validate_opf_input import _check_necessary_opf_parameters
 
 try:
-    import pplog as logging
+    import pandaplan.core.pplog as logging
 except ImportError:
     import logging
 
 logger = logging.getLogger(__name__)
 
 
 def to_ppc(net, calculate_voltage_angles=False, trafo_model="t", switch_rx_ratio=2,
```

## Comparing `pandapower-2.8.0/pandapower/estimation/idx_brch.py` & `pandapower-2.9.0/pandapower/estimation/idx_brch.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/estimation/ppc_conversion.py` & `pandapower-2.9.0/pandapower/estimation/ppc_conversion.py`

 * *Files 0% similar despite different names*

```diff
@@ -30,15 +30,15 @@
                                             P_TO, P_TO_IDX, P_TO_STD,
                                             Q_TO, Q_TO_IDX, Q_TO_STD,
                                             IM_TO, IM_TO_IDX, IM_TO_STD,
                                             IA_TO, IA_TO_IDX, IA_TO_STD,
                                             branch_cols_se)
 
 try:
-    import pplog as logging
+    import pandaplan.core.pplog as logging
 except ImportError:
     import logging
 std_logger = logging.getLogger(__name__)
 ZERO_INJECTION_STD_DEV = 0.001
 
 # Constant Lookup
 BR_SIDE = {"line": {"f": "from", "t": "to"},
```

## Comparing `pandapower-2.8.0/pandapower/estimation/results.py` & `pandapower-2.9.0/pandapower/estimation/results.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/estimation/state_estimation.py` & `pandapower-2.9.0/pandapower/estimation/state_estimation.py`

 * *Files 1% similar despite different names*

```diff
@@ -12,15 +12,15 @@
 from pandapower.estimation.algorithm.lp import LPAlgorithm
 from pandapower.estimation.algorithm.optimization import OptAlgorithm
 from pandapower.estimation.ppc_conversion import pp2eppci, _initialize_voltage
 from pandapower.estimation.results import eppci2pp
 from pandapower.estimation.util import set_bb_switch_impedance, reset_bb_switch_impedance
 
 try:
-    import pplog as logging
+    import pandaplan.core.pplog as logging
 except ImportError:
     import logging
 std_logger = logging.getLogger(__name__)
 
 ALGORITHM_MAPPING = {'wls': WLSAlgorithm,
                      'wls_with_zero_constraint': WLSZeroInjectionConstraintsAlgorithm,
                      'opt': OptAlgorithm,
```

## Comparing `pandapower-2.8.0/pandapower/estimation/util.py` & `pandapower-2.9.0/pandapower/estimation/util.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/estimation/algorithm/base.py` & `pandapower-2.9.0/pandapower/estimation/algorithm/base.py`

 * *Files 1% similar despite different names*

```diff
@@ -11,15 +11,15 @@
 from pandapower.estimation.algorithm.matrix_base import BaseAlgebra, \
     BaseAlgebraZeroInjConstraints
 from pandapower.estimation.idx_bus import ZERO_INJ_FLAG, P, P_STD, Q, Q_STD
 from pandapower.estimation.ppc_conversion import ExtendedPPCI
 from pandapower.pypower.idx_bus import bus_cols
 
 try:
-    import pplog as logging
+    import pandaplan.core.pplog as logging
 except ImportError:
     import logging
 std_logger = logging.getLogger(__name__)
 
 __all__ = ["WLSAlgorithm", "WLSZeroInjectionConstraintsAlgorithm", "IRWLSAlgorithm"]
```

## Comparing `pandapower-2.8.0/pandapower/estimation/algorithm/estimator.py` & `pandapower-2.9.0/pandapower/estimation/algorithm/estimator.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/estimation/algorithm/lp.py` & `pandapower-2.9.0/pandapower/estimation/algorithm/lp.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/estimation/algorithm/matrix_base.py` & `pandapower-2.9.0/pandapower/estimation/algorithm/matrix_base.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/estimation/algorithm/optimization.py` & `pandapower-2.9.0/pandapower/estimation/algorithm/optimization.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/networks/cigre_networks.py` & `pandapower-2.9.0/pandapower/networks/cigre_networks.py`

 * *Files 0% similar despite different names*

```diff
@@ -4,15 +4,15 @@
 # and Energy System Technology (IEE), Kassel. All rights reserved.
 
 
 from pandas import read_json
 from numpy import nan
 import pandapower as pp
 try:
-    import pplog as logging
+    import pandaplan.core.pplog as logging
 except ImportError:
     import logging
 logger = logging.getLogger(__name__)
 
 
 def create_cigre_network_hv(length_km_6a_6b=0.1):
     """
```

## Comparing `pandapower-2.8.0/pandapower/networks/create_examples.py` & `pandapower-2.9.0/pandapower/networks/create_examples.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/networks/dickert_lv_networks.py` & `pandapower-2.9.0/pandapower/networks/dickert_lv_networks.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/networks/IEEE_European_LV_Off_Peak_1.json` & `pandapower-2.9.0/pandapower/networks/IEEE_European_LV_Off_Peak_1.json`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/networks/IEEE_European_LV_Off_Peak_1440.json` & `pandapower-2.9.0/pandapower/networks/IEEE_European_LV_Off_Peak_1440.json`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/networks/IEEE_European_LV_On_Peak_566.json` & `pandapower-2.9.0/pandapower/networks/IEEE_European_LV_On_Peak_566.json`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/networks/ieee_europen_lv_asymmetric.py` & `pandapower-2.9.0/pandapower/networks/ieee_europen_lv_asymmetric.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/networks/kerber_extreme_networks.py` & `pandapower-2.9.0/pandapower/networks/kerber_extreme_networks.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/networks/kerber_networks.py` & `pandapower-2.9.0/pandapower/networks/kerber_networks.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/networks/mv_oberrhein.json` & `pandapower-2.9.0/pandapower/networks/mv_oberrhein.json`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/networks/mv_oberrhein.py` & `pandapower-2.9.0/pandapower/networks/mv_oberrhein.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/networks/mv_oberrhein_substations.json` & `pandapower-2.9.0/pandapower/networks/mv_oberrhein_substations.json`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/networks/power_system_test_cases.py` & `pandapower-2.9.0/pandapower/networks/power_system_test_cases.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/networks/simple_pandapower_test_networks.py` & `pandapower-2.9.0/pandapower/networks/simple_pandapower_test_networks.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/networks/synthetic_voltage_control_lv_networks.py` & `pandapower-2.9.0/pandapower/networks/synthetic_voltage_control_lv_networks.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/networks/__init__.py` & `pandapower-2.9.0/pandapower/networks/__init__.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/case118.json` & `pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/case118.json`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/case11_iwamoto.json` & `pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/case11_iwamoto.json`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/case1354pegase.json` & `pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/case1354pegase.json`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/case14.json` & `pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/case14.json`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/case145.json` & `pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/case145.json`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/case1888rte.json` & `pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/case1888rte.json`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/case24_ieee_rts.json` & `pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/case24_ieee_rts.json`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/case2848rte.json` & `pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/case2848rte.json`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/case2869pegase.json` & `pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/case2869pegase.json`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/case30.json` & `pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/case30.json`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/case300.json` & `pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/case300.json`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/case3120sp.json` & `pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/case3120sp.json`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/case33bw.json` & `pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/case33bw.json`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/case39.json` & `pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/case39.json`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/case4gs.json` & `pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/case4gs.json`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/case5.json` & `pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/case5.json`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/case57.json` & `pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/case57.json`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/case5_demo_gridcal.json` & `pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/case5_demo_gridcal.json`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/case6470rte.json` & `pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/case6470rte.json`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/case6495rte.json` & `pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/case6495rte.json`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/case6515rte.json` & `pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/case6515rte.json`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/case6ww.json` & `pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/case6ww.json`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/case89pegase.json` & `pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/case89pegase.json`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/case9.json` & `pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/case9.json`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/case9241pegase.json` & `pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/case9241pegase.json`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/case_ieee30.json` & `pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/case_ieee30.json`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/case_illinois200.json` & `pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/case_illinois200.json`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/GBnetwork.json` & `pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/GBnetwork.json`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/GBreducednetwork.json` & `pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/GBreducednetwork.json`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/networks/power_system_test_case_jsons/iceland.json` & `pandapower-2.9.0/pandapower/networks/power_system_test_case_jsons/iceland.json`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/opf/make_objective.py` & `pandapower-2.9.0/pandapower/opf/make_objective.py`

 * *Files 1% similar despite different names*

```diff
@@ -8,15 +8,15 @@
 # and Energy System Technology (IEE), Kassel. All rights reserved.
 
 from numpy import zeros, array
 from pandapower.pypower.idx_cost import MODEL, NCOST, COST, PW_LINEAR, POLYNOMIAL
 from pandapower.pypower.idx_gen import PMIN, PMAX
 
 try:
-    import pplog as logging
+    import pandaplan.core.pplog as logging
 except ImportError:
     import logging
 
 logger = logging.getLogger(__name__)
 
 
 def _make_objective(ppci, net):
```

## Comparing `pandapower-2.8.0/pandapower/opf/pm_storage.py` & `pandapower-2.9.0/pandapower/opf/pm_storage.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/opf/run_powermodels.py` & `pandapower-2.9.0/pandapower/opf/run_powermodels.py`

 * *Files 3% similar despite different names*

```diff
@@ -1,13 +1,13 @@
 import os
 from pandapower.converter.powermodels.to_pm import convert_to_pm_structure, dump_pm_json
 from pandapower.converter.powermodels.from_pm import read_pm_results_to_net
 
 try:
-    import pplog as logging
+    import pandaplan.core.pplog as logging
 except ImportError:
     import logging
 logger = logging.getLogger(__name__)
 
 
 def _runpm(net, delete_buffer_file=True, pm_file_path=None, pdm_dev_mode=False): 
     """
```

## Comparing `pandapower-2.8.0/pandapower/opf/validate_opf_input.py` & `pandapower-2.9.0/pandapower/opf/validate_opf_input.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/pf/create_jacobian.py` & `pandapower-2.9.0/pandapower/pf/create_jacobian.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/pf/create_jacobian_numba.py` & `pandapower-2.9.0/pandapower/pf/create_jacobian_numba.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/pf/dSbus_dV_numba.py` & `pandapower-2.9.0/pandapower/pf/dSbus_dV_numba.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/pf/iwamoto_multiplier.py` & `pandapower-2.9.0/pandapower/pf/iwamoto_multiplier.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/pf/makeYbus_numba.py` & `pandapower-2.9.0/pandapower/pf/makeYbus_numba.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/pf/pfsoln_numba.py` & `pandapower-2.9.0/pandapower/pf/pfsoln_numba.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/pf/ppci_variables.py` & `pandapower-2.9.0/pandapower/pf/ppci_variables.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/pf/runpf_pypower.py` & `pandapower-2.9.0/pandapower/pf/runpf_pypower.py`

 * *Files 1% similar despite different names*

```diff
@@ -26,15 +26,15 @@
 
 from pandapower.pypower.makeB import makeB
 from pandapower.pypower.ppoption import ppoption
 from pandapower.pypower.fdpf import fdpf
 from pandapower.pypower.gausspf import gausspf
 
 try:
-    import pplog as logging
+    import pandaplan.core.pplog as logging
 except ImportError:
     import logging
 
 logger = logging.getLogger(__name__)
 
 
 def _runpf_pypower(ppci, options, **kwargs):
```

## Comparing `pandapower-2.8.0/pandapower/pf/runpp_3ph.py` & `pandapower-2.9.0/pandapower/pf/runpp_3ph.py`

 * *Files 0% similar despite different names*

```diff
@@ -26,15 +26,15 @@
 from pandapower.pypower.bustypes import bustypes
 from pandapower.run import _passed_runpp_parameters
 from pandapower.pypower.idx_bus import VM, VA
 from pandapower.pypower.idx_gen import GEN_BUS
 from pandapower.results import _copy_results_ppci_to_ppc, _extract_results_3ph,\
     init_results
 try:
-    import pplog as logging
+    import pandaplan.core.pplog as logging
 except ImportError:
     import logging
 logger = logging.getLogger(__name__)
 
 
 class Not_implemented(ppException):
     """
```

## Comparing `pandapower-2.8.0/pandapower/pf/run_bfswpf.py` & `pandapower-2.9.0/pandapower/pf/run_bfswpf.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/pf/run_dc_pf.py` & `pandapower-2.9.0/pandapower/pf/run_dc_pf.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/pf/run_newton_raphson_pf.py` & `pandapower-2.9.0/pandapower/pf/run_newton_raphson_pf.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/plotting/collections.py` & `pandapower-2.9.0/pandapower/plotting/collections.py`

 * *Files 0% similar despite different names*

```diff
@@ -22,22 +22,22 @@
 from pandapower.auxiliary import soft_dependency_error
 from pandapower.plotting.patch_makers import load_patches, node_patches, gen_patches,\
     sgen_patches, ext_grid_patches, trafo_patches, storage_patches
 from pandapower.plotting.plotting_toolbox import _rotate_dim2, coords_from_node_geodata, \
     position_on_busbar, get_index_array
 
 try:
-    import pplog as logging
+    import pandaplan.core.pplog as logging
 except ImportError:
     import logging
 
 logger = logging.getLogger(__name__)
 
 
-class CustomTextPath():
+class CustomTextPath(TextPath):
     """
     Create a path from the text. This class provides functionality for deepcopy, which is not
     implemented for TextPath.
     """
 
     def __init__(self, xy, s, size=None, prop=None, _interpolation_steps=1, usetex=False):
         """
```

## Comparing `pandapower-2.8.0/pandapower/plotting/colormaps.py` & `pandapower-2.9.0/pandapower/plotting/colormaps.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/plotting/generic_geodata.py` & `pandapower-2.9.0/pandapower/plotting/generic_geodata.py`

 * *Files 2% similar despite different names*

```diff
@@ -16,15 +16,15 @@
 try:
     import igraph
     IGRAPH_INSTALLED = True
 except ImportError:
     IGRAPH_INSTALLED = False
 
 try:
-    import pplog as logging
+    import pandaplan.core.pplog as logging
 except ImportError:
     import logging
 
 logger = logging.getLogger(__name__)
 
 
 def build_igraph_from_pp(net, respect_switches=False, buses=None):
```

## Comparing `pandapower-2.8.0/pandapower/plotting/geo.py` & `pandapower-2.9.0/pandapower/plotting/geo.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,14 +1,14 @@
 # -*- coding: utf-8 -*-
 
 # Copyright (c) 2016-2022 by University of Kassel and Fraunhofer Institute for Energy Economics
 # and Energy System Technology (IEE), Kassel. All rights reserved.
 
 import sys
-from numpy import array
+from numpy import array, setdiff1d
 
 from pandapower.auxiliary import soft_dependency_error
 
 try:
     from shapely.geometry import Point, LineString
     shapely_INSTALLED = True
 except ImportError:
```

## Comparing `pandapower-2.8.0/pandapower/plotting/patch_makers.py` & `pandapower-2.9.0/pandapower/plotting/patch_makers.py`

 * *Files 0% similar despite different names*

```diff
@@ -10,15 +10,15 @@
 except ImportError:
     MATPLOTLIB_INSTALLED = False
 from pandapower.auxiliary import soft_dependency_error
 from pandapower.plotting.plotting_toolbox import _rotate_dim2, get_color_list, get_angle_list, \
     get_linewidth_list
 
 try:
-    import pplog as logging
+    import pandaplan.core.pplog as logging
 except ImportError:
     import logging
 
 logger = logging.getLogger(__name__)
 
 
 def node_patches(node_coords, size, patch_type, colors=None, **kwargs):
```

## Comparing `pandapower-2.8.0/pandapower/plotting/plotting_toolbox.py` & `pandapower-2.9.0/pandapower/plotting/plotting_toolbox.py`

 * *Files 13% similar despite different names*

```diff
@@ -1,11 +1,12 @@
 import numpy as np
+import pandas as pd
 
 try:
-    import pplog as logging
+    import pandaplan.core.pplog as logging
 except ImportError:
     import logging
 
 logger = logging.getLogger(__name__)
 
 
 def _rotate_dim2(arr, ang):
@@ -160,14 +161,41 @@
     elements_without_geo = set(element_indices) - set(elements_with_geo)
     if len(elements_without_geo) > 0:
         logger.warning("No coords found for %s %s. %s geodata is missing for those %s!"
                        % (table_name + "s", elements_without_geo, node_name, table_name + "s"))
     return coords, elements_with_geo
 
 
+def set_line_geodata_from_bus_geodata(net, line_index=None, overwrite=False):
+    """
+    Sets coordinates in net.line_geodata based on the from_bus and to_bus x,y coordinates
+    in net.bus_geodata
+    :param net: pandapowerNet
+    :param line_index: index of lines, coordinates of which will be set from bus geodata (all lines if None)
+    :param overwrite: whether the existing coordinates in net.line_geodata must be overwritten
+    :return: None
+    """
+    line_index = line_index if line_index is not None else net.line.index
+    if not overwrite:
+        line_index = np.setdiff1d(line_index, net.line_geodata.index)
+
+    coords, line_index_successful = coords_from_node_geodata(element_indices=line_index,
+                                                             from_nodes=net.line.loc[line_index, 'from_bus'].values,
+                                                             to_nodes=net.line.loc[line_index, 'to_bus'].values,
+                                                             node_geodata=net.bus_geodata,
+                                                             table_name="line_geodata", node_name="bus_geodata")
+
+    net.line_geodata = net.line_geodata.reindex(net.line.index)
+    net.line_geodata.loc[line_index_successful, 'coords'] = coords
+
+    num_failed = len(line_index) - len(line_index_successful)
+    if num_failed > 0:
+        logger.info(f"failed to set coordinates of {num_failed} lines")
+
+
 def position_on_busbar(net, bus, busbar_coords):
     """
     Checks if the first or the last coordinates of a line are on a bus
 
     :param net: The pandapower network
     :type net: pandapowerNet
     :param bus: ID of the target bus on one end of the line
```

## Comparing `pandapower-2.8.0/pandapower/plotting/powerflow_results.py` & `pandapower-2.9.0/pandapower/plotting/powerflow_results.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/plotting/simple_plot.py` & `pandapower-2.9.0/pandapower/plotting/simple_plot.py`

 * *Files 0% similar despite different names*

```diff
@@ -10,15 +10,15 @@
 from pandapower.plotting.collections import create_bus_collection, create_line_collection, \
     create_trafo_collection, create_trafo3w_collection, \
     create_line_switch_collection, draw_collections, create_bus_bus_switch_collection, create_ext_grid_collection, create_sgen_collection, \
     create_gen_collection, create_load_collection
 from pandapower.plotting.generic_geodata import create_generic_coordinates
 
 try:
-    import pplog as logging
+    import pandaplan.core.pplog as logging
 except ImportError:
     import logging
 
 logger = logging.getLogger(__name__)
 
 
 def simple_plot(net, respect_switches=False, line_width=1.0, bus_size=1.0, ext_grid_size=1.0,
```

## Comparing `pandapower-2.8.0/pandapower/plotting/to_html.py` & `pandapower-2.9.0/pandapower/plotting/to_html.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/plotting/__init__.py` & `pandapower-2.9.0/pandapower/plotting/__init__.py`

 * *Files 4% similar despite different names*

```diff
@@ -1,14 +1,15 @@
 from pandapower.plotting.collections import *
 from pandapower.plotting.colormaps import *
 from pandapower.plotting.generic_geodata import *
 from pandapower.plotting.powerflow_results import *
 from pandapower.plotting.simple_plot import *
 from pandapower.plotting.plotly import *
 from pandapower.plotting.geo import *
+from pandapower.plotting.plotting_toolbox import set_line_geodata_from_bus_geodata
 from pandapower.plotting.to_html import to_html
 
 import types
 
 try:
     from matplotlib.backend_bases import GraphicsContextBase, RendererBase
```

## Comparing `pandapower-2.8.0/pandapower/plotting/plotly/get_colors.py` & `pandapower-2.9.0/pandapower/plotting/plotly/get_colors.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/plotting/plotly/mapbox_plot.py` & `pandapower-2.9.0/pandapower/plotting/plotly/mapbox_plot.py`

 * *Files 1% similar despite different names*

```diff
@@ -6,15 +6,15 @@
 
 import os
 import numpy as np
 
 from pandapower.auxiliary import ppException
 
 try:
-    import pplog as logging
+    import pandaplan.core.pplog as logging
 except ImportError:
     import logging
 logger = logging.getLogger(__name__)
 
 class MapboxTokenMissing(ppException):
     """
     Exception being raised in case loadflow did not converge.
```

## Comparing `pandapower-2.8.0/pandapower/plotting/plotly/pf_res_plotly.py` & `pandapower-2.9.0/pandapower/plotting/plotly/pf_res_plotly.py`

 * *Files 1% similar despite different names*

```diff
@@ -9,15 +9,15 @@
 from pandapower.plotting.generic_geodata import create_generic_coordinates
 from pandapower.plotting.plotly.mapbox_plot import *
 from pandapower.plotting.plotly.traces import create_bus_trace, create_line_trace, \
     create_trafo_trace, draw_traces, version_check
 from pandapower.run import runpp
 
 try:
-    import pplog as logging
+    import pandaplan.core.pplog as logging
 except ImportError:
     import logging
 logger = logging.getLogger(__name__)
 
 
 def pf_res_plotly(net, cmap="Jet", use_line_geodata=None, on_map=False, projection=None,
                   map_style='basic', figsize=1, aspectratio='auto', line_width=2, bus_size=10,
```

## Comparing `pandapower-2.8.0/pandapower/plotting/plotly/simple_plotly.py` & `pandapower-2.9.0/pandapower/plotting/plotly/simple_plotly.py`

 * *Files 4% similar despite different names*

```diff
@@ -8,15 +8,15 @@
 
 from pandapower.plotting.generic_geodata import create_generic_coordinates
 from pandapower.plotting.plotly.traces import create_bus_trace, create_line_trace, \
     create_trafo_trace, draw_traces, version_check, _create_node_trace, _create_branch_trace
 from pandapower.plotting.plotly.mapbox_plot import *
 
 try:
-    import pplog as logging
+    import pandaplan.core.pplog as logging
 except ImportError:
     import logging
 logger = logging.getLogger(__name__)
 
 
 def get_hoverinfo(net, element, precision=3, sub_index=None):
     hover_index = net[element].index
@@ -25,63 +25,61 @@
         for ln in [net.load.loc[net.load.bus == b, "p_mw"].sum() for b in net.bus.index]:
             load_str.append("Load: {:.3f} MW<br />".format(ln) if ln != 0. else "")
         for s in [net.sgen.loc[net.sgen.bus == b, "p_mw"].sum() for b in net.bus.index]:
             sgen_str.append("Static generation: {:.3f} MW<br />".format(s) if s != 0. else "")
         hoverinfo = (
                 "Index: " + net.bus.index.astype(str) + '<br />' +
                 "Name: " + net.bus['name'].astype(str) + '<br />' +
-                'V_n: ' + net.bus['vn_kv'].round(precision).astype(str) + ' kV' + '<br />' + load_str + sgen_str)\
-            .tolist()
+                'V_n: ' + net.bus['vn_kv'].round(precision).astype(str) + ' kV' + '<br />' + load_str + sgen_str).tolist()
     elif element == "line":
         hoverinfo = (
                 "Index: " + net.line.index.astype(str) + '<br />' +
                 "Name: " + net.line['name'].astype(str) + '<br />' +
                 'Length: ' + net.line['length_km'].round(precision).astype(str) + ' km' + '<br />' +
-                'R: ' + (net.line['length_km'] * net.line['r_ohm_per_km']).round(precision).astype(str)
+                'R: ' + (net.line['length_km'] * net.line['r_ohm_per_km'] / net.line['parallel']).round(precision).astype(str)
                 + ' Ohm' + '<br />'
-                + 'X: ' + (net.line['length_km'] * net.line['x_ohm_per_km']).round(precision).astype(str)
-                + ' Ohm' + '<br />').tolist()
+                + 'X: ' + (net.line['length_km'] * net.line['x_ohm_per_km'] / net.line['parallel']).round(precision).astype(str)
+                + ' Ohm' +
+                + net.line['parallel'].apply(lambda x: '<br />Parallel: ' + str(x) if x > 1 else  '<br />')
+                ).tolist()
     elif element == "trafo":
         hoverinfo = (
                 "Index: " + net.trafo.index.astype(str) + '<br />' +
                 "Name: " + net.trafo['name'].astype(str) + '<br />' +
                 'V_n HV: ' + net.trafo['vn_hv_kv'].round(precision).astype(str) + ' kV' + '<br />' +
                 'V_n LV: ' + net.trafo['vn_lv_kv'].round(precision).astype(str) + ' kV' + '<br />' +
                 'Tap pos.: ' + net.trafo['tap_pos'].astype(str) + '<br />').tolist()
-
     elif element == "trafo3w":
         hoverinfo = (
                 "Index: " + net.trafo3w.index.astype(str) + '<br />' +
                 "Name: " + net.trafo3w['name'].astype(str) + '<br />' +
                 'V_n HV: ' + net.trafo3w['vn_hv_kv'].round(precision).astype(str) + ' kV' + '<br />' +
                 'V_n MV: ' + net.trafo3w['vn_mv_kv'].round(precision).astype(str) + ' kV' + '<br />' +
                 'V_n LV: ' + net.trafo3w['vn_lv_kv'].round(precision).astype(str) + ' kV' + '<br />' +
                 'Tap pos.: ' + net.trafo3w['tap_pos'].astype(str) + '<br />').tolist()
-
-
-
     elif element == "ext_grid":
         hoverinfo = (
                 "Index: " + net.ext_grid.index.astype(str) + '<br />' +
                 "Name: " + net.ext_grid['name'].astype(str) + '<br />' +
                 'V_m: ' + net.ext_grid['vm_pu'].round(precision).astype(str) + ' p.u.' + '<br />' +
                 'V_a: ' + net.ext_grid['va_degree'].round(precision).astype(str) + ' °' + '<br />').tolist()
         hover_index = net.ext_grid.bus.tolist()
     else:
         return None
-    hoverinfo = pd.Series(index=hover_index, data=hoverinfo)
+    hoverinfo = pd.Series(index=hover_index, data=hoverinfo, dtype=object)
     if sub_index is not None:
         hoverinfo = hoverinfo.loc[list(sub_index)]
     return hoverinfo
 
 
 def simple_plotly(net, respect_switches=True, use_line_geodata=None, on_map=False,
                   projection=None, map_style='basic', figsize=1, aspectratio='auto', line_width=1,
                   bus_size=10, ext_grid_size=20.0, bus_color="blue", line_color='grey',
-                  trafo_color='green',trafo3w_color='green', ext_grid_color="yellow", filename='temp-plot.html', auto_open=True):
+                  trafo_color='green',trafo3w_color='green', ext_grid_color="yellow",
+                  filename='temp-plot.html', auto_open=True, showlegend=True):
     """
     Plots a pandapower network as simple as possible in plotly.
     If no geodata is available, artificial geodata is generated. For advanced plotting see the tutorial
 
     INPUT:
         **net** - The pandapower format network. If none is provided, mv_oberrhein() will be
             plotted as an example
@@ -128,35 +126,58 @@
 
         **trafo3w_color** (String, 'green') - Trafo 3W Color. Init is blue
 
         **ext_grid_color** (String, 'yellow') - External Grid Color. Init is yellow
 
         **auto_open** (bool, True) - automatically open plot in browser
 
+        **showlegend** (bool, True) - If True, a legend will be shown
+
     OUTPUT:
         **figure** (graph_objs._figure.Figure) figure object
     """
     node_element = "bus"
     branch_element = "line"
     trans_element = "trafo"
     trans3w_element = "trafo3w"
     separator_element = "switch"
-    return _simple_plotly_generic(net, respect_switches, use_line_geodata, on_map, projection,
-                                  map_style, figsize, aspectratio, line_width, bus_size,
-                                  ext_grid_size, bus_color, line_color, trafo_color,trafo3w_color, ext_grid_color,
-                                  node_element, branch_element, trans_element, trans3w_element, separator_element,
-                                  create_line_trace, create_bus_trace, get_hoverinfo, filename,
-                                  auto_open=auto_open)
+    return _simple_plotly_generic(net=net,
+                                  respect_separators=respect_switches,
+                                  use_branch_geodata=use_line_geodata,
+                                  on_map=on_map,
+                                  projection=projection,
+                                  map_style=map_style,
+                                  figsize=figsize,
+                                  aspectratio=aspectratio,
+                                  branch_width=line_width,
+                                  node_size=bus_size,
+                                  ext_grid_size=ext_grid_size,
+                                  node_color=bus_color,
+                                  branch_color=line_color,
+                                  trafo_color=trafo_color,
+                                  trafo3w_color=trafo3w_color,
+                                  ext_grid_color=ext_grid_color,
+                                  node_element=node_element,
+                                  branch_element=branch_element,
+                                  trans_element=trans_element,
+                                  trans3w_element=trans3w_element,
+                                  separator_element=separator_element,
+                                  branch_trace_func=create_line_trace,
+                                  node_trace_func=create_bus_trace,
+                                  hoverinfo_func=get_hoverinfo,
+                                  auto_open=auto_open,
+                                  showlegend=showlegend)
 
 
 def _simple_plotly_generic(net, respect_separators, use_branch_geodata, on_map, projection, map_style,
                            figsize, aspectratio, branch_width, node_size, ext_grid_size, node_color,
                            branch_color, trafo_color,trafo3w_color, ext_grid_color, node_element, branch_element,
                            trans_element, trans3w_element, separator_element, branch_trace_func, node_trace_func,
-                           hoverinfo_func, filename='temp-plot.html', auto_open=True):
+                           hoverinfo_func, filename='temp-plot.html', auto_open=True,
+                           showlegend=True):
     version_check()
     # create geocoord if none are available
     branch_geodata = branch_element + "_geodata"
     node_geodata = node_element + "_geodata"
 
     if branch_geodata not in net:
         net[branch_geodata] = pd.DataFrame(columns=['coords'])
@@ -197,21 +218,21 @@
         hoverinfo = hoverinfo_func(net, element=trans_element)
         trans_trace += create_trafo_trace(net, color=trafo_color, width=branch_width * 5,
                                          infofunc=hoverinfo,
                                          use_line_geodata=use_branch_geodata)
     # ----- 3W Trafos ------
     if 'trafo3w' in net:
         hoverinfo = hoverinfo_func(net, element=trans3w_element)
-        trans_trace += create_trafo_trace(net, color=trafo3w_color, trafotype='3W', width=branch_width * 5, trace_name='3w_trafos',
-                                         infofunc=hoverinfo,
-                                         use_line_geodata=use_branch_geodata)
+        trans_trace += create_trafo_trace(net, color=trafo3w_color, trafotype='3W', width=branch_width * 5,
+                                          trace_name='3W transformers', infofunc=hoverinfo,
+                                          use_line_geodata=use_branch_geodata)
     # ----- Ext grid ------
     # get external grid from _create_node_trace
     marker_type = 'circle' if on_map else 'square'  # workaround because doesn't appear on mapbox if square
     hoverinfo = hoverinfo_func(net, element="ext_grid")
     ext_grid_trace = _create_node_trace(net, nodes=net.ext_grid[node_element], size=ext_grid_size,
                                         patch_type=marker_type, color=ext_grid_color,
-                                        infofunc=hoverinfo, trace_name='external_grid',
+                                        infofunc=hoverinfo, trace_name='external grid',
                                         node_element=node_element, branch_element=branch_element)
     return draw_traces(branch_traces + trans_trace + ext_grid_trace + node_trace,
-                       aspectratio=aspectratio, figsize=figsize, on_map=on_map,
-                       map_style=map_style, filename=filename, auto_open=auto_open)
+                       showlegend=showlegend, aspectratio=aspectratio, figsize=figsize,
+                       on_map=on_map, map_style=map_style, filename=filename, auto_open=auto_open)
```

## Comparing `pandapower-2.8.0/pandapower/plotting/plotly/traces.py` & `pandapower-2.9.0/pandapower/plotting/plotly/traces.py`

 * *Files 4% similar despite different names*

```diff
@@ -12,15 +12,15 @@
 from collections.abc import Iterable
 
 from pandapower.plotting.plotly.get_colors import get_plotly_color, get_plotly_cmap
 from pandapower.plotting.plotly.mapbox_plot import _on_map_test, _get_mapbox_token, \
     MapboxTokenMissing
 
 try:
-    import pplog as logging
+    import pandaplan.core.pplog as logging
 except ImportError:
     import logging
 logger = logging.getLogger(__name__)
 
 try:
     from plotly import __version__ as plotly_version
     from plotly.graph_objs.scatter.marker import ColorBar
@@ -73,15 +73,16 @@
     end_coord = coord[ind - 1]
     mid = [(a1 + a2) / 2.0 for a1, a2 in zip(start_coord, end_coord)]
 
     return mid
 
 
 def create_edge_center_trace(line_trace, size=1, patch_type="circle", color="white", infofunc=None,
-                             trace_name='edge_center', use_line_geodata=False):
+                             trace_name='edge_center', use_line_geodata=False, showlegend=False,
+                             legendgroup=None):
     """
     Creates a plotly trace of pandapower buses.
 
     INPUT:
         **line traces** (from pandapowerNet) - The already generated line traces with center geodata
 
     OPTIONAL:
@@ -102,15 +103,16 @@
 
         **color** (String, "blue") - color of buses in the trace
 
     """
     # color = get_plotly_color(color)
 
     center_trace = dict(type='scatter', text=[], mode='markers', hoverinfo='text', name=trace_name,
-                        marker=dict(color=color, size=size, symbol=patch_type))
+                        marker=dict(color=color, size=size, symbol=patch_type),
+                        showlegend=showlegend, legendgroup=legendgroup)
 
     if not use_line_geodata:
         center_trace['x'], center_trace['y'] = (line_trace[0]["x"][1::4], line_trace[0]["y"][1::4])
     else:
         x, y = [], []
         for trace in line_trace:
             coord = list(zip(trace["x"], trace["y"]))
@@ -171,17 +173,31 @@
         **cpos** (float, 1.1) - position of the colorbar
 
         **colormap_column** (str, "vm_pu") - set color of bus according to this variable
 
     """
     node_element = 'bus'
     branch_element = 'line'
-    return _create_node_trace(net, buses, size, patch_type, color, infofunc, trace_name,
-                              legendgroup, cmap, cmap_vals, cbar_title, cmin, cmax, cpos,
-                              colormap_column, node_element, branch_element)
+    return _create_node_trace(net,
+                              nodes=buses,
+                              size=size,
+                              patch_type=patch_type,
+                              color=color,
+                              infofunc=infofunc,
+                              trace_name=trace_name,
+                              legendgroup=legendgroup,
+                              cmap=cmap,
+                              cmap_vals=cmap_vals,
+                              cbar_title=cbar_title,
+                              cmin=cmin,
+                              cmax=cmax,
+                              cpos=cpos,
+                              colormap_column=colormap_column,
+                              node_element=node_element,
+                              branch_element=branch_element)
 
 
 def _create_node_trace(net, nodes=None, size=5, patch_type='circle', color='blue', infofunc=None,
                        trace_name='nodes', legendgroup=None, cmap=None, cmap_vals=None,
                        cbar_title=None, cmin=None, cmax=None, cpos=1.0, colormap_column='vm_pu',
                        node_element='bus', branch_element='line'):
     """
@@ -299,15 +315,15 @@
 
 def _get_branch_geodata_plotly(net, branches, use_branch_geodata, branch_element='line',
                                node_element='bus'):
     xs = []
     ys = []
     if use_branch_geodata:
         for line_ind, _ in branches.iterrows():
-            line_coords = net[branch_element+'_geodata'].loc[line_ind, 'coords']
+            line_coords = net[branch_element+'_geodata'].at[line_ind, 'coords']
             linex, liney = list(zip(*line_coords))
             xs += linex
             xs += [None]
             ys += liney
             ys += [None]
     else:
         # getting x and y values from bus_geodata for from and to side of each line
@@ -330,17 +346,17 @@
         ys = np.array([from_node, center, to_node, none_list]).T.flatten().tolist()
 
     # [:-1] is because the trace will not appear on maps if None is at the end
     return xs[:-1], ys[:-1]
 
 
 def create_line_trace(net, lines=None, use_line_geodata=True, respect_switches=False, width=1.0,
-                      color='grey', infofunc=None, trace_name='lines', legendgroup=None,
+                      color='grey', infofunc=None, trace_name='lines', legendgroup='lines',
                       cmap=None, cbar_title=None, show_colorbar=True, cmap_vals=None, cmin=None,
-                      cmax=None, cpos=1.1):
+                      cmax=None, cpos=1.1, cmap_vals_category='loading_percent'):
     """
     Creates a plotly trace of pandapower lines. It is a power net specific wrapper function for the
     more generic _create_line_trace function.
 
     INPUT:
         **net** (pandapowerNet) - The pandapower network
 
@@ -379,18 +395,34 @@
 
         """
 
     branch_element = "line"
     node_element = "bus"
     separator_element = "switch"
 
-    return _create_branch_trace(net, lines, use_line_geodata, respect_switches, width, color,
-                                infofunc, trace_name, legendgroup, cmap, cbar_title, show_colorbar,
-                                cmap_vals, cmin, cmax, cpos, branch_element, separator_element,
-                                node_element)
+    return _create_branch_trace(net=net,
+                                branches=lines,
+                                use_branch_geodata=use_line_geodata,
+                                respect_separators=respect_switches,
+                                width=width,
+                                color=color,
+                                infofunc=infofunc,
+                                trace_name=trace_name,
+                                legendgroup=legendgroup,
+                                cmap=cmap,
+                                cbar_title=cbar_title,
+                                show_colorbar=show_colorbar,
+                                cmap_vals=cmap_vals,
+                                cmin=cmin,
+                                cmax=cmax,
+                                cpos=cpos,
+                                branch_element=branch_element,
+                                separator_element=separator_element,
+                                node_element=node_element,
+                                cmap_vals_category=cmap_vals_category)
 
 
 def _create_branch_trace(net, branches=None, use_branch_geodata=True, respect_separators=False,
                          width=1.0, color='grey', infofunc=None, trace_name='lines',
                          legendgroup=None, cmap=None, cbar_title=None, show_colorbar=True,
                          cmap_vals=None, cmin=None, cmax=None, cpos=1.1, branch_element='line',
                          separator_element='switch', node_element='bus',
@@ -476,22 +508,23 @@
         elif separator_element == "valve":
             no_go_branches = set(branches) & \
                              set(net[separator_element][(~net[separator_element].in_service) |
                                                         (net[separator_element].opened)])
         else:
             raise NotImplementedError("respect separtors is only implements for switches, "
                                       "not for {}s.".format(separator_element))
-    branches_to_plot = net[branch_element].loc[set(net[branch_element].index) & (set(branches) - no_go_branches)]
+    branches_to_plot = net[branch_element].loc[list(set(net[branch_element].index) &
+                                                    (set(branches) - no_go_branches))]
     no_go_branches_to_plot = None
     branch_geodata = branch_element + "_geodata"
     node_geodata = node_element + "_geodata"
     use_branch_geodata = use_branch_geodata if net[branch_geodata].shape[0] > 0 else False
     if use_branch_geodata:
-        branches_to_plot = branches_to_plot.loc[set(branches_to_plot.index) &
-                                                set(net[branch_geodata].index)]
+        branches_to_plot = branches_to_plot.loc[np.intersect1d(branches_to_plot.index,
+                                                               net[branch_geodata].index)]
     else:
         branches_with_geodata = branches_to_plot['from_'+node_element].isin(
                                                     net[node_geodata].index) & \
                                 branches_to_plot['to_'+node_element].isin(net[node_geodata].index)
         branches_to_plot = branches_to_plot.loc[branches_with_geodata]
     cmap_branches = None
     if cmap is not None:
@@ -521,36 +554,40 @@
             cmap_branches = [cmap_branches[branch_idx_map[idx]] for idx in branches_to_plot.index]
         else:
             assert len(cmap_branches) == len(branches_to_plot), \
                 "Different amounts of cmap values and branches to plot were supplied"
     branch_traces = []
     for col_i, (idx, branch) in enumerate(branches_to_plot.iterrows()):
         line_color = color
-        line_info = branch['name']
+        line_info = branch['name'] if infofunc is None else infofunc.at[idx]
         if cmap is not None:
             try:
                 line_color = cmap_branches[col_i]
-                line_info = branch['name'] if infofunc is None else infofunc.loc[idx]
             except IndexError:
                 logger.warning("No color and info for {} {:d} (name: {}) available".format(
                     branch_element, idx, branch['name']))
 
         line_trace = dict(type='scatter', text=[], hoverinfo='text', mode='lines', name=trace_name,
-                          line=Line(width=width, color=color))
+                          line=Line(width=width, color=color), showlegend=False,
+                          legendgroup=legendgroup)
 
         line_trace['x'], line_trace['y'] = _get_branch_geodata_plotly(net,
                                                                       branches_to_plot.loc[idx:idx],
                                                                       use_branch_geodata,
                                                                       branch_element, node_element)
 
         line_trace['line']['color'] = line_color
 
         line_trace['text'] = line_info
 
         branch_traces.append(line_trace)
+
+    # enable legend for one element to make the legend group show up in the legend:
+    branch_traces[0]["showlegend"] = True
+
     if show_colorbar and cmap is not None:
 
         cmin = cmap_vals.min() if cmin is None else cmin
         cmax = cmap_vals.max() if cmax is None else cmax
         try:
             # TODO for custom colormaps
             cbar_cmap_name = 'Jet' if cmap == 'jet' else cmap
@@ -571,57 +608,62 @@
 
             branches_cbar['marker']['colorbar']['title']['side'] = 'right'
 
             branch_traces.append(branches_cbar)
         except:
             pass
     if len(no_go_branches) > 0:
-        no_go_branches_to_plot = net[branch_element].loc[no_go_branches]
+        ng_traces = []
+        no_go_branches_to_plot = net[branch_element].loc[list(no_go_branches)]
         for idx, branch in no_go_branches_to_plot.iterrows():
             line_color = color
             line_trace = dict(type='scatter',
                               text=[], hoverinfo='text', mode='lines', name='disconnected branches',
-                              line=Line(width=width / 2, color='grey', dash='dot'))
+                              line=Line(width=width / 2, color='grey', dash='dot'),
+                              legendgroup="disconnected " + legendgroup, showlegend=False)
 
             line_trace['x'], line_trace['y'] = _get_branch_geodata_plotly(net,
                                                                           no_go_branches_to_plot.loc[
                                                                           idx:idx],
                                                                           use_branch_geodata,
                                                                           branch_element, node_element)
 
             line_trace['line']['color'] = line_color
             try:
                 line_trace['text'] = infofunc.loc[idx]
             except (KeyError, IndexError, AttributeError):
                 line_trace["text"] = branch['name']
 
-            branch_traces.append(line_trace)
+            ng_traces.append(line_trace)
+        # enable legend for one element to make the legend group show up in the legend:
+        ng_traces[0]["showlegend"] = True
+        branch_traces += ng_traces
 
-            if legendgroup:
-                line_trace['legendgroup'] = legendgroup
     # sort infofunc so that it is the correct order lines_to_plot + no_go_lines_to_plot
     if infofunc is not None:
         if not isinstance(infofunc, pd.Series) and isinstance(infofunc, Iterable) and \
                 len(infofunc) == len(net[branch_element]):
             infofunc = pd.Series(index=net[branch_element].index, data=infofunc)
         assert isinstance(infofunc, pd.Series), \
             "infofunc should be a pandas series with the net.{}.index to the infofunc contents" \
             .format(branch_element)
         sorted_idx = branches_to_plot.index.tolist()
         if no_go_branches_to_plot is not None:
             sorted_idx += no_go_branches_to_plot.index.tolist()
         infofunc = infofunc.loc[sorted_idx]
     center_trace = create_edge_center_trace(branch_traces, color=color, infofunc=infofunc,
-                                            use_line_geodata=use_branch_geodata)
+                                            use_line_geodata=use_branch_geodata,
+                                            showlegend=False, legendgroup=legendgroup)
     branch_traces.append(center_trace)
+
     return branch_traces
 
 
 def create_trafo_trace(net, trafos=None, color='green', trafotype='2W', width=5, infofunc=None, cmap=None,
-                       trace_name='trafos', cmin=None, cmax=None, cmap_vals=None, matching_params=None,
+                       trace_name='2W transformers', cmin=None, cmax=None, cmap_vals=None, matching_params=None,
                        use_line_geodata=None):
 
     """
     Creates a plotly trace of pandapower trafos.
 
     INPUT:
         **net** (pandapowerNet) - The pandapower network
@@ -711,27 +753,30 @@
 
     for col_i, (idx, trafo) in enumerate(trafos_to_plot.iterrows()):
         if cmap is not None:
             color = cmap_colors[col_i]
         for from_bus1, to_bus1 in connections:
 
             trafo_trace = dict(type='scatter', text=[], line=Line(width=width, color=color),
-                                 hoverinfo='text', mode='lines', name=trace_name)
+                                 hoverinfo='text', mode='lines', name=trace_name,
+                               legendgroup="transformer", showlegend=False)
 
             trafo_trace['text'] = trafo['name'] if infofunc is None else infofunc.loc[idx]
 
             for k in ('x', 'y'):
                 from_bus = net.bus_geodata.loc[trafo[from_bus1], k]
                 to_bus = net.bus_geodata.loc[trafo[to_bus1], k]
                 trafo_trace[k] = [from_bus, (from_bus + to_bus) / 2, to_bus]
 
             trafo_traces.append(trafo_trace)
+    trafo_traces[0]["showlegend"] = True
 
     center_trace = create_edge_center_trace(trafo_traces, color=color, infofunc=infofunc,
-                                                    use_line_geodata=use_line_geodata)
+                                                    use_line_geodata=use_line_geodata,
+                                            showlegend=False, legendgroup="transformer")
     trafo_traces.append(center_trace)
     return trafo_traces
 
 
 def draw_traces(traces, on_map=False, map_style='basic', showlegend=True, figsize=1,
                 aspectratio='auto', filename='temp-plot.html', auto_open=True):
     """
```

## Comparing `pandapower-2.8.0/pandapower/plotting/plotly/vlevel_plotly.py` & `pandapower-2.9.0/pandapower/plotting/plotly/vlevel_plotly.py`

 * *Files 15% similar despite different names*

```diff
@@ -10,23 +10,23 @@
 from pandapower.plotting.plotly.traces import create_bus_trace, create_line_trace, \
     create_trafo_trace, draw_traces, version_check
 from pandapower.plotting.plotly.get_colors import get_plotly_color_palette
 from pandapower.plotting.plotly.mapbox_plot import geo_data_to_latlong
 from pandapower.topology import create_nxgraph, connected_components
 
 try:
-    import pplog as logging
+    import pandaplan.core.pplog as logging
 except ImportError:
     import logging
 logger = logging.getLogger(__name__)
 
 
 def vlevel_plotly(net, respect_switches=True, use_line_geodata=None, colors_dict=None, on_map=False,
                   projection=None, map_style='basic', figsize=1, aspectratio='auto', line_width=2,
-                  bus_size=10, auto_open=True):
+                  bus_size=10, filename="temp-plot.html", auto_open=True):
     """
     Plots a pandapower network in plotly
     using lines/buses colors according to the voltage level they belong to.
     If no geodata is available, artificial geodata is generated. For advanced plotting see the
     tutorial
 
     INPUT:
@@ -62,21 +62,60 @@
         **aspectratio** (tuple, 'auto') - when 'auto' it preserves original aspect ratio of the
             network geodata any custom aspectration can be given as a tuple, e.g. (1.2, 1)
 
         **line_width** (float, 1.0) - width of lines
 
         **bus_size** (float, 10.0) -  size of buses to plot.
 
+        **filename** (str, "temp-plot.html") - filename / path to plot to. Should end on `*.html`
+
         **auto_open** (bool, True) - automatically open plot in browser
 
     OUTPUT:
         **figure** (graph_objs._figure.Figure) figure object
 
     """
+    # getting connected componenets without consideration of trafos
+    graph = create_nxgraph(net, include_trafos=False)
+    vlev_buses = connected_components(graph)
+    # getting unique sets of buses for each voltage level
+    vlev_bus_dict = {}
+    for vl_buses in vlev_buses:
+        if net.bus.loc[vl_buses, 'vn_kv'].unique().shape[0] > 1:
+            logger.warning('buses from the same voltage level does not have the same vn_kv !?')
+        vn_kv = net.bus.loc[vl_buses, 'vn_kv'].unique()[0]
+        if vlev_bus_dict.get(vn_kv):
+            vlev_bus_dict[vn_kv].update(vl_buses)
+        else:
+            vlev_bus_dict[vn_kv] = vl_buses
+
+    # create a default colormap for voltage levels
+    nvlevs = len(vlev_bus_dict)
+    colors = get_plotly_color_palette(nvlevs)
+    colors_dict = colors_dict or dict(zip(vlev_bus_dict.keys(), colors))
+    bus_groups = [(buses, colors_dict[vlev], f"{vlev} kV") for vlev, buses in vlev_bus_dict.items()]
+
+    return _draw_colored_bus_groups_plotly(
+        net, bus_groups, respect_switches=respect_switches,
+        use_line_geodata=use_line_geodata, on_map=on_map, projection=projection,
+        map_style=map_style, figsize=figsize, aspectratio=aspectratio, line_width=line_width,
+        bus_size=bus_size, filename=filename, auto_open=auto_open)
+
+
+def _draw_colored_bus_groups_plotly(
+    net, bus_groups, respect_switches=True, use_line_geodata=None,
+    on_map=False, projection=None, map_style='basic', figsize=1, aspectratio='auto', line_width=2,
+    bus_size=10, filename="temp-plot.html", auto_open=True):
+    """
+    Internal function of vlevel_plotly()
+
+    **bus_groups** - list of tuples consisting of set of bus indices, color, legendgroup
+    """
     version_check()
+
     # create geocoord if none are available
     if 'line_geodata' not in net:
         net.line_geodata = pd.DataFrame(columns=['coords'])
     if 'bus_geodata' not in net:
         net.bus_geodata = pd.DataFrame(columns=["x", "y"])
     if len(net.line_geodata) == 0 and len(net.bus_geodata) == 0:
         logger.warning("No or insufficient geodata available --> Creating artificial coordinates." +
@@ -95,59 +134,50 @@
     if use_line_geodata is None:
         use_line_geodata = False if len(net.line_geodata) == 0 else True
     elif use_line_geodata and len(net.line_geodata) == 0:
         logger.warning(
             "No or insufficient line geodata available --> only bus geodata will be used.")
         use_line_geodata = False
 
-    # getting connected componenets without consideration of trafos
-    graph = create_nxgraph(net, include_trafos=False)
-    vlev_buses = connected_components(graph)
-    # getting unique sets of buses for each voltage level
-    vlev_bus_dict = {}
-    for vl_buses in vlev_buses:
-        if net.bus.loc[vl_buses, 'vn_kv'].unique().shape[0] > 1:
-            logger.warning('buses from the same voltage level does not have the same vn_kv !?')
-        vn_kv = net.bus.loc[vl_buses, 'vn_kv'].unique()[0]
-        if vlev_bus_dict.get(vn_kv):
-            vlev_bus_dict[vn_kv].update(vl_buses)
-        else:
-            vlev_bus_dict[vn_kv] = vl_buses
-
-    # create a default colormap for voltage levels
-    nvlevs = len(vlev_bus_dict)
-    colors = get_plotly_color_palette(nvlevs)
-    colors_dict = colors_dict or dict(zip(vlev_bus_dict.keys(), colors))
-
     # creating traces for buses and lines for each voltage level
     bus_traces = []
     line_traces = []
-    for vn_kv, buses_vl in vlev_bus_dict.items():
+    traced_lines = set()
+    for bus_group_legend in bus_groups:
+        buses_vl, vlev_color, legend_group = bus_group_legend
 
-        vlev_color = colors_dict[vn_kv]
         bus_trace_vlev = create_bus_trace(
-            net, buses=buses_vl, size=bus_size, legendgroup=str(vn_kv), color=vlev_color,
-            trace_name='buses {0} kV'.format(vn_kv))
+            net, buses=buses_vl, size=bus_size, legendgroup=legend_group, color=vlev_color,
+            trace_name=f'buses {legend_group}')
         if bus_trace_vlev is not None:
             bus_traces += bus_trace_vlev
 
         vlev_lines = net.line[net.line.from_bus.isin(buses_vl) &
                               net.line.to_bus.isin(buses_vl)].index.tolist()
+        traced_lines |= set(vlev_lines)
         line_trace_vlev = create_line_trace(
             net, lines=vlev_lines, use_line_geodata=use_line_geodata,
-            respect_switches=respect_switches, legendgroup=str(vn_kv), color=vlev_color,
-            width=line_width, trace_name='lines {0} kV'.format(vn_kv))
+            respect_switches=respect_switches, legendgroup=legend_group, color=vlev_color,
+            width=line_width, trace_name=f'lines {legend_group}')
         if line_trace_vlev is not None:
             line_traces += line_trace_vlev
 
+    # creating traces for other lines
+    line_trace_other = create_line_trace(
+        net, lines=net.line.index.difference(traced_lines).tolist(),
+        use_line_geodata=use_line_geodata, respect_switches=respect_switches,
+        color="grey", width=line_width)
+    if line_trace_vlev is not None:
+        line_traces += line_trace_other
+
     trafo_traces = create_trafo_trace(net, color='gray', width=line_width * 2)
 
     return draw_traces(line_traces + trafo_traces + bus_traces, showlegend=True,
                        aspectratio=aspectratio, on_map=on_map, map_style=map_style, figsize=figsize,
-                       auto_open=auto_open)
+                       filename=filename, auto_open=auto_open)
 
 
 if __name__ == '__main__':
     from pandapower.plotting.plotly import simple_plotly
     from pandapower.networks import mv_oberrhein
     from pandapower import runpp
     net = mv_oberrhein()
```

## Comparing `pandapower-2.8.0/pandapower/pypower/add_userfcn.py` & `pandapower-2.9.0/pandapower/pypower/add_userfcn.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/pypower/bustypes.py` & `pandapower-2.9.0/pandapower/pypower/bustypes.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/pypower/d2AIbr_dV2.py` & `pandapower-2.9.0/pandapower/pypower/d2AIbr_dV2.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/pypower/d2ASbr_dV2.py` & `pandapower-2.9.0/pandapower/pypower/d2ASbr_dV2.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/pypower/d2Ibr_dV2.py` & `pandapower-2.9.0/pandapower/pypower/d2Ibr_dV2.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/pypower/d2Sbr_dV2.py` & `pandapower-2.9.0/pandapower/pypower/d2Sbr_dV2.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/pypower/d2Sbus_dV2.py` & `pandapower-2.9.0/pandapower/pypower/d2Sbus_dV2.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/pypower/dAbr_dV.py` & `pandapower-2.9.0/pandapower/pypower/dAbr_dV.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/pypower/dcopf_solver.py` & `pandapower-2.9.0/pandapower/pypower/dcopf_solver.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/pypower/dcpf.py` & `pandapower-2.9.0/pandapower/pypower/dcpf.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/pypower/dIbr_dV.py` & `pandapower-2.9.0/pandapower/pypower/dIbr_dV.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/pypower/dSbr_dV.py` & `pandapower-2.9.0/pandapower/pypower/dSbr_dV.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/pypower/dSbus_dV.py` & `pandapower-2.9.0/pandapower/pypower/dSbus_dV.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/pypower/fdpf.py` & `pandapower-2.9.0/pandapower/pypower/fdpf.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/pypower/gausspf.py` & `pandapower-2.9.0/pandapower/pypower/gausspf.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/pypower/hasPQcap.py` & `pandapower-2.9.0/pandapower/pypower/hasPQcap.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/pypower/idx_area.py` & `pandapower-2.9.0/pandapower/pypower/idx_area.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/pypower/idx_brch.py` & `pandapower-2.9.0/pandapower/pypower/idx_brch.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/pypower/idx_bus.py` & `pandapower-2.9.0/pandapower/pypower/idx_bus.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/pypower/idx_cost.py` & `pandapower-2.9.0/pandapower/pypower/idx_cost.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/pypower/idx_gen.py` & `pandapower-2.9.0/pandapower/pypower/idx_gen.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/pypower/isload.py` & `pandapower-2.9.0/pandapower/pypower/isload.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/pypower/makeAang.py` & `pandapower-2.9.0/pandapower/pypower/makeAang.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/pypower/makeApq.py` & `pandapower-2.9.0/pandapower/pypower/makeApq.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/pypower/makeAvl.py` & `pandapower-2.9.0/pandapower/pypower/makeAvl.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/pypower/makeAy.py` & `pandapower-2.9.0/pandapower/pypower/makeAy.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/pypower/makeB.py` & `pandapower-2.9.0/pandapower/pypower/makeB.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/pypower/makeBdc.py` & `pandapower-2.9.0/pandapower/pypower/makeBdc.py`

 * *Files 2% similar despite different names*

```diff
@@ -13,15 +13,15 @@
 from numpy import ones, r_, pi, flatnonzero as find, real
 from pandapower.pypower.idx_brch import F_BUS, T_BUS, BR_X, TAP, SHIFT, BR_STATUS
 from pandapower.pypower.idx_bus import BUS_I
 
 from scipy.sparse import csr_matrix, csc_matrix
 
 try:
-    import pplog as logging
+    import pandaplan.core.pplog as logging
 except ImportError:
     import logging
 
 logger = logging.getLogger(__name__)
 
 
 def makeBdc(bus, branch, return_csr=True):
```

## Comparing `pandapower-2.8.0/pandapower/pypower/makeLODF.py` & `pandapower-2.9.0/pandapower/pypower/makeLODF.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/pypower/makePTDF.py` & `pandapower-2.9.0/pandapower/pypower/makePTDF.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/pypower/makeSbus.py` & `pandapower-2.9.0/pandapower/pypower/makeSbus.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/pypower/makeYbus.py` & `pandapower-2.9.0/pandapower/pypower/makeYbus.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/pypower/newtonpf.py` & `pandapower-2.9.0/pandapower/pypower/newtonpf.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/pypower/opf.py` & `pandapower-2.9.0/pandapower/pypower/opf.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/pypower/opf_args.py` & `pandapower-2.9.0/pandapower/pypower/opf_args.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/pypower/opf_consfcn.py` & `pandapower-2.9.0/pandapower/pypower/opf_consfcn.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/pypower/opf_costfcn.py` & `pandapower-2.9.0/pandapower/pypower/opf_costfcn.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/pypower/opf_execute.py` & `pandapower-2.9.0/pandapower/pypower/opf_execute.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/pypower/opf_hessfcn.py` & `pandapower-2.9.0/pandapower/pypower/opf_hessfcn.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/pypower/opf_model.py` & `pandapower-2.9.0/pandapower/pypower/opf_model.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/pypower/opf_setup.py` & `pandapower-2.9.0/pandapower/pypower/opf_setup.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/pypower/pfsoln.py` & `pandapower-2.9.0/pandapower/pypower/pfsoln.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/pypower/pips.py` & `pandapower-2.9.0/pandapower/pypower/pips.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/pypower/pipsopf_solver.py` & `pandapower-2.9.0/pandapower/pypower/pipsopf_solver.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/pypower/polycost.py` & `pandapower-2.9.0/pandapower/pypower/polycost.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/pypower/ppoption.py` & `pandapower-2.9.0/pandapower/pypower/ppoption.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/pypower/pqcost.py` & `pandapower-2.9.0/pandapower/pypower/pqcost.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/pypower/printpf.py` & `pandapower-2.9.0/pandapower/pypower/printpf.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/pypower/qps_pips.py` & `pandapower-2.9.0/pandapower/pypower/qps_pips.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/pypower/qps_pypower.py` & `pandapower-2.9.0/pandapower/pypower/qps_pypower.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/pypower/run_userfcn.py` & `pandapower-2.9.0/pandapower/pypower/run_userfcn.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/pypower/totcost.py` & `pandapower-2.9.0/pandapower/pypower/totcost.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/pypower/update_mupq.py` & `pandapower-2.9.0/pandapower/pypower/update_mupq.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/pypower/util.py` & `pandapower-2.9.0/pandapower/pypower/util.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/shortcircuit/calc_sc.py` & `pandapower-2.9.0/pandapower/shortcircuit/calc_sc.py`

 * *Files 0% similar despite different names*

```diff
@@ -1,15 +1,15 @@
 # -*- coding: utf-8 -*-
 
 # Copyright (c) 2016-2022 by University of Kassel and Fraunhofer Institute for Energy Economics
 # and Energy System Technology (IEE), Kassel. All rights reserved.
 
 
 try:
-    import pplog as logging
+    import pandaplan.core.pplog as logging
 except ImportError:
     import logging
 
 logger = logging.getLogger(__name__)
 
 import numpy as np
 from scipy.sparse.linalg import factorized
```

## Comparing `pandapower-2.8.0/pandapower/shortcircuit/currents.py` & `pandapower-2.9.0/pandapower/shortcircuit/currents.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/shortcircuit/idx_brch.py` & `pandapower-2.9.0/pandapower/shortcircuit/idx_brch.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/shortcircuit/idx_bus.py` & `pandapower-2.9.0/pandapower/shortcircuit/idx_bus.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/shortcircuit/impedance.py` & `pandapower-2.9.0/pandapower/shortcircuit/impedance.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/shortcircuit/kappa.py` & `pandapower-2.9.0/pandapower/shortcircuit/kappa.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/shortcircuit/ppc_conversion.py` & `pandapower-2.9.0/pandapower/shortcircuit/ppc_conversion.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,14 +1,14 @@
 # -*- coding: utf-8 -*-
 
 # Copyright (c) 2016-2022 by University of Kassel and Fraunhofer Institute for Energy Economics
 # and Energy System Technology (IEE), Kassel. All rights reserved.
 
 try:
-    import pplog as logging
+    import pandaplan.core.pplog as logging
 except ImportError:
     import logging
 
 logger = logging.getLogger(__name__)
 
 from copy import deepcopy
 import numpy as np
```

## Comparing `pandapower-2.8.0/pandapower/shortcircuit/results.py` & `pandapower-2.9.0/pandapower/shortcircuit/results.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/shortcircuit/toolbox.py` & `pandapower-2.9.0/pandapower/shortcircuit/toolbox.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,15 +1,15 @@
 # -*- coding: utf-8 -*-
 
 # Copyright (c) 2016-2022 by University of Kassel and Fraunhofer Institute for Energy Economics
 # and Energy System Technology (IEE), Kassel. All rights reserved.
 
 
 try:
-    import pplog as logging
+    import pandaplan.core.pplog as logging
 except ImportError:
     import logging
 
 logger = logging.getLogger(__name__)
 
 import numpy as np
 import pandas as pd
```

## Comparing `pandapower-2.8.0/pandapower/test/conftest.py` & `pandapower-2.9.0/pandapower/test/conftest.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/consistency_checks.py` & `pandapower-2.9.0/pandapower/test/consistency_checks.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/run_tests.py` & `pandapower-2.9.0/pandapower/test/run_tests.py`

 * *Files 4% similar despite different names*

```diff
@@ -9,15 +9,15 @@
 from multiprocessing import cpu_count
 
 import pytest
 
 import pandapower as pp
 
 try:
-    import pplog as logging
+    import pandaplan.core.pplog as logging
 except ImportError:
     import logging
 test_dir = os.path.abspath(os.path.join(pp.pp_dir, "test"))
 
 logger = logging.getLogger()
```

## Comparing `pandapower-2.8.0/pandapower/test/toolbox.py` & `pandapower-2.9.0/pandapower/test/toolbox.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/api/old_net.p` & `pandapower-2.9.0/pandapower/test/api/old_net.p`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/api/test_auxiliary.py` & `pandapower-2.9.0/pandapower/test/api/test_auxiliary.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/api/test_convert_format.py` & `pandapower-2.9.0/pandapower/test/api/test_convert_format.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/api/test_create.py` & `pandapower-2.9.0/pandapower/test/api/test_create.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/api/test_diagnostic.py` & `pandapower-2.9.0/pandapower/test/api/test_diagnostic.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/api/test_file_io.py` & `pandapower-2.9.0/pandapower/test/api/test_file_io.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/api/test_std_types.py` & `pandapower-2.9.0/pandapower/test/api/test_std_types.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/api/test_toolbox.py` & `pandapower-2.9.0/pandapower/test/api/test_toolbox.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/control/test_const_control.py` & `pandapower-2.9.0/pandapower/test/control/test_const_control.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/control/test_control.py` & `pandapower-2.9.0/pandapower/test/control/test_control.py`

 * *Files 1% similar despite different names*

```diff
@@ -12,15 +12,15 @@
 from pandapower.control.basic_controller import Controller
 from pandapower.control.controller.trafo_control import TrafoController
 from pandapower.control.controller.trafo.ContinuousTapControl import ContinuousTapControl
 from pandapower.timeseries.output_writer import OutputWriter
 from pandapower.timeseries.run_time_series import run_timeseries
 
 try:
-    import pplog
+    import pandaplan.core.pplog as pplog
 except:
     import logging as pplog
 
 logger = pplog.getLogger(__name__)
 ctrl_logger = pplog.getLogger("hp.control.control_handler")
 logger.setLevel(pplog.CRITICAL)
```

## Comparing `pandapower-2.8.0/pandapower/test/control/test_discrete_tap_control.py` & `pandapower-2.9.0/pandapower/test/control/test_discrete_tap_control.py`

 * *Files 8% similar despite different names*

```diff
@@ -1,12 +1,13 @@
 # -*- coding: utf-8 -*-
 
 # Copyright (c) 2016-2022 by University of Kassel and Fraunhofer Institute for Energy Economics
 # and Energy System Technology (IEE), Kassel. All rights reserved.
 
+import numpy as np
 import pandapower as pp
 from pandapower.control import DiscreteTapControl
 import pytest
 import pandapower.networks as nw
 import logging as log
 
 logger = log.getLogger(__name__)
@@ -271,9 +272,72 @@
     pp.runpp(net, run_control=True)
     logger.info(
         "after DiscreteTapControl: trafo voltage at low voltage bus is %f, tap position is %f"
         % (net.res_bus.vm_pu[net.trafo.lv_bus].values, net.trafo.tap_pos.values))
     assert net.trafo.tap_pos.at[0] == -1
 
 
+def test_discrete_tap_control_vectorized_lv():
+    # --- load system and run power flow
+    net = pp.create_empty_network()
+    pp.create_buses(net, 6, 110)
+    pp.create_buses(net, 5, 20)
+    pp.create_ext_grid(net, 0)
+    pp.create_lines(net, np.zeros(5), np.arange(1, 6), 10, "243-AL1/39-ST1A 110.0")
+    for hv, lv in zip(np.arange(1, 6), np.arange(6,11)):
+        pp.create_transformer(net, hv, lv, "63 MVA 110/20 kV")
+        pp.create_load(net, lv, 25*(lv-8), 25*(lv-8) * 0.4)
+    pp.set_user_pf_options(net, init='dc', calculate_voltage_angles=True)
+    # --- run loadflow
+    pp.runpp(net)
+
+    net_ref = net.deepcopy()
+
+    # create with individual controllers for comparison
+    for tid in net.trafo.index.values:
+        # pp.control.ContinuousTapControl(net_ref, tid=tid, side='lv', vm_set_pu=1.02)
+        DiscreteTapControl(net_ref, tid=tid, side='lv', vm_lower_pu=1.01, vm_upper_pu=1.03)
+
+    # run control reference
+    pp.runpp(net_ref, run_control=True)
+
+    # now create the vectorized version
+    DiscreteTapControl(net, tid=net.trafo.index.values, side='lv', vm_lower_pu=1.01, vm_upper_pu=1.03)
+    pp.runpp(net, run_control=True)
+
+    assert np.all(net_ref.trafo.tap_pos == net.trafo.tap_pos)
+
+
+def test_discrete_tap_control_vectorized_hv():
+    # --- load system and run power flow
+    net = pp.create_empty_network()
+    pp.create_buses(net, 6, 110)
+    pp.create_buses(net, 5, 20)
+    pp.create_ext_grid(net, 0)
+    pp.create_lines(net, np.zeros(5), np.arange(1, 6), 10, "243-AL1/39-ST1A 110.0")
+    for hv, lv in zip(np.arange(1, 6), np.arange(6,11)):
+        pp.create_transformer(net, hv, lv, "63 MVA 110/20 kV")
+        pp.create_load(net, lv, 25*(lv-8), 25*(lv-8) * 0.4)
+    pp.set_user_pf_options(net, init='dc', calculate_voltage_angles=True)
+    # --- run loadflow
+    pp.runpp(net)
+
+    net_ref = net.deepcopy()
+
+    # create with individual controllers for comparison
+    for tid in net.trafo.index.values:
+        # pp.control.ContinuousTapControl(net_ref, tid=tid, side='hv', vm_set_pu=1.02)
+        DiscreteTapControl(net_ref, tid=tid, side='hv', vm_lower_pu=1.01, vm_upper_pu=1.03)
+
+    # run control reference
+    pp.runpp(net_ref, run_control=True)
+
+    # now create the vectorized version
+    DiscreteTapControl(net, tid=net.trafo.index.values, side='hv', vm_lower_pu=1.01, vm_upper_pu=1.03)
+    pp.runpp(net, run_control=True)
+
+    assert np.all(net_ref.trafo.tap_pos == net.trafo.tap_pos)
+
+
+
 if __name__ == '__main__':
     pytest.main(['-xs', __file__])
```

## Comparing `pandapower-2.8.0/pandapower/test/control/test_tap_dependent_impedance.py` & `pandapower-2.9.0/pandapower/test/control/test_tap_dependent_impedance.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/control/test_u_set_tap_control.py` & `pandapower-2.9.0/pandapower/test/control/test_vm_set_tap_control.py`

 * *Files 2% similar despite different names*

```diff
@@ -16,15 +16,15 @@
     t = pp.create_transformer(net, hv, lv, std_type='40 MVA 110/20 kV')
     pp.create_ext_grid(net, hv)
     eps = 0.0005
 
     c = control.ContinuousTapControl(net, t, 1., tol=eps)
 
     characteristic = Characteristic(net, [10, 20], [0.95, 1.05])
-    tc = control.USetTapControl(net, 0, characteristic.index, tol=eps)
+    tc = control.VmSetTapControl(net, 0, characteristic.index, tol=eps)
 
     # create 20kW load
     lid = pp.create_load(net, lv, 20)
     gid = pp.create_sgen(net, lv, 0)
     pp.runpp(net, run_control=True)
 
     # we expect the tap to converge at upper voltage limit
@@ -69,15 +69,15 @@
     pp.create_ext_grid(net, hv)
     eps = 0.0005
 
     c = control.ContinuousTapControl(net, t, 1., tol=eps)
 
     # a different characteristic for i_lv_ka rather than for p_lv_mw
     characteristic = Characteristic(net, [0.315, 0.55], [0.95, 1.05])
-    tc = control.USetTapControl(net, 0, characteristic.index, variable='i_lv_ka', tol=eps)
+    tc = control.VmSetTapControl(net, 0, characteristic.index, variable='i_lv_ka', tol=eps)
 
     # create 20kW load
     lid = pp.create_load(net, lv, 20)
     gid = pp.create_sgen(net, lv, 0)
     pp.runpp(net, run_control=True)
 
     # we expect the tap to converge at upper voltage limit
```

## Comparing `pandapower-2.8.0/pandapower/test/converter/case24_ieee_rts.mat` & `pandapower-2.9.0/pandapower/test/converter/case24_ieee_rts.mat`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/converter/case2_2_by_code.json` & `pandapower-2.9.0/pandapower/test/converter/case2_2_by_code.json`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/converter/ppc_testgrids.p` & `pandapower-2.9.0/pandapower/test/converter/ppc_testgrids.p`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/converter/pypower_cases.p` & `pandapower-2.9.0/pandapower/test/converter/pypower_cases.p`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/converter/test_from_mpc.py` & `pandapower-2.9.0/pandapower/test/converter/test_from_mpc.py`

 * *Files 3% similar despite different names*

```diff
@@ -9,15 +9,15 @@
 import pytest
 
 import pandapower as pp
 import pandapower.networks as pn
 from pandapower.converter import from_mpc
 
 try:
-    import pplog as logging
+    import pandaplan.core.pplog as logging
 except ImportError:
     import logging
 
 logger = logging.getLogger(__name__)
 
 
 def test_from_mpc():
```

## Comparing `pandapower-2.8.0/pandapower/test/converter/test_from_ppc.py` & `pandapower-2.9.0/pandapower/test/converter/test_from_ppc.py`

 * *Files 1% similar despite different names*

```diff
@@ -17,15 +17,15 @@
     import pypower.case24_ieee_rts as c24
 
     pypower_installed = True
 except ImportError:
     pypower_installed = False
 
 try:
-    import pplog as logging
+    import pandaplan.core.pplog as logging
 except:
     import logging
 
 logger = logging.getLogger(__name__)
 max_diff_values1 = {"bus_vm_pu": 1e-6, "bus_va_degree": 1e-5, "branch_p_mw": 1e-3,
                     "branch_q_mvar": 1e-3, "gen_p_mw": 1e-3, "gen_q_mvar": 1e-3}
```

## Comparing `pandapower-2.8.0/pandapower/test/converter/test_to_ppc_and_mpc.py` & `pandapower-2.9.0/pandapower/test/converter/test_to_ppc_and_mpc.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/estimation/3bus_wls.json` & `pandapower-2.9.0/pandapower/test/estimation/3bus_wls.json`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/estimation/test_conditions.py` & `pandapower-2.9.0/pandapower/test/estimation/test_conditions.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/estimation/test_irwls_estimation.py` & `pandapower-2.9.0/pandapower/test/estimation/test_irwls_estimation.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/estimation/test_opt_lp_estimation.py` & `pandapower-2.9.0/pandapower/test/estimation/test_opt_lp_estimation.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/estimation/test_pmu.py` & `pandapower-2.9.0/pandapower/test/estimation/test_pmu.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/estimation/test_recycle.py` & `pandapower-2.9.0/pandapower/test/estimation/test_recycle.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/estimation/test_wls_estimation.py` & `pandapower-2.9.0/pandapower/test/estimation/test_wls_estimation.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/loadflow/PF_Results.py` & `pandapower-2.9.0/pandapower/test/loadflow/PF_Results.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/loadflow/result_test_network_generator.py` & `pandapower-2.9.0/pandapower/test/loadflow/result_test_network_generator.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/loadflow/testgrid.p` & `pandapower-2.9.0/pandapower/test/loadflow/testgrid.p`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/loadflow/test_dist_slack.py` & `pandapower-2.9.0/pandapower/test/loadflow/test_dist_slack.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/loadflow/test_PTDF_LODF.py` & `pandapower-2.9.0/pandapower/test/loadflow/test_PTDF_LODF.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/loadflow/test_recycle.py` & `pandapower-2.9.0/pandapower/test/loadflow/test_recycle.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/loadflow/test_results.py` & `pandapower-2.9.0/pandapower/test/loadflow/test_results.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/loadflow/test_rundcpp.py` & `pandapower-2.9.0/pandapower/test/loadflow/test_rundcpp.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/loadflow/test_runpp.py` & `pandapower-2.9.0/pandapower/test/loadflow/test_runpp.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/loadflow/test_runpp_3ph.py` & `pandapower-2.9.0/pandapower/test/loadflow/test_runpp_3ph.py`

 * *Files 0% similar despite different names*

```diff
@@ -435,15 +435,15 @@
 
 #    pp.add_zero_impedance_parameters(net) Not required here since added through parameters
 
 
 def test_trafo_asym():
     nw_dir = os.path.abspath(os.path.join(pp.pp_dir, "test/loadflow"))
     for trafo_vector_group in ["YNyn", "Dyn", "Yzn"]:
-        net = pp.from_pickle(nw_dir + '/runpp_3ph Validation.p')
+        net = pp.from_json(nw_dir + '/runpp_3ph Validation.json')
         net['trafo'].vector_group = trafo_vector_group
         runpp_3ph_with_consistency_checks(net)
         assert net['converged']
         check_results(net, trafo_vector_group, get_PF_Results(trafo_vector_group))
 
 
 def test_2trafos():
```

## Comparing `pandapower-2.8.0/pandapower/test/loadflow/test_runpp_3ph_n_line.py` & `pandapower-2.9.0/pandapower/test/loadflow/test_runpp_3ph_n_line.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/loadflow/test_scenarios.py` & `pandapower-2.9.0/pandapower/test/loadflow/test_scenarios.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/networks/test_cigre_networks.py` & `pandapower-2.9.0/pandapower/test/networks/test_cigre_networks.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/networks/test_create_example.py` & `pandapower-2.9.0/pandapower/test/networks/test_create_example.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/networks/test_dickert_lv_networks.py` & `pandapower-2.9.0/pandapower/test/networks/test_dickert_lv_networks.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/networks/test_kerber_extreme_networks.py` & `pandapower-2.9.0/pandapower/test/networks/test_kerber_extreme_networks.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/networks/test_kerber_networks.py` & `pandapower-2.9.0/pandapower/test/networks/test_kerber_networks.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/networks/test_mv_oberrhein.py` & `pandapower-2.9.0/pandapower/test/networks/test_mv_oberrhein.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/networks/test_power_system_test_cases.py` & `pandapower-2.9.0/pandapower/test/networks/test_power_system_test_cases.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/networks/test_simple_pandapower_test_networks.py` & `pandapower-2.9.0/pandapower/test/networks/test_simple_pandapower_test_networks.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/networks/test_synthetic_voltage_control_lv_networks.py` & `pandapower-2.9.0/pandapower/test/networks/test_synthetic_voltage_control_lv_networks.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/opf/case5_clm_matfile.json` & `pandapower-2.9.0/pandapower/test/opf/case5_clm_matfile.json`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/opf/case5_clm_pp.json` & `pandapower-2.9.0/pandapower/test/opf/case5_clm_pp.json`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/opf/test_basic.py` & `pandapower-2.9.0/pandapower/test/opf/test_basic.py`

 * *Files 0% similar despite different names*

```diff
@@ -9,15 +9,15 @@
 
 import pandapower as pp
 from pandapower.convert_format import convert_format
 from pandapower.networks import simple_four_bus_system
 from pandapower.test.toolbox import add_grid_connection
 
 try:
-    import pplog as logging
+    import pandaplan.core.pplog as logging
 except ImportError:
     import logging
 
 logger = logging.getLogger(__name__)
 
 
 def simplest_grid():
```

## Comparing `pandapower-2.8.0/pandapower/test/opf/test_check_opf_data.py` & `pandapower-2.9.0/pandapower/test/opf/test_check_opf_data.py`

 * *Files 2% similar despite different names*

```diff
@@ -1,14 +1,14 @@
 from numpy import nan
 import pytest
 
 import pandapower as pp
 from pandapower.opf.validate_opf_input import _check_necessary_opf_parameters
 try:
-    import pplog as logging
+    import pandaplan.core.pplog as logging
 except ImportError:
     import logging
 
 logger = logging.getLogger(__name__)
 
 
 def _opf_net():
```

## Comparing `pandapower-2.8.0/pandapower/test/opf/test_costs_mixed.py` & `pandapower-2.9.0/pandapower/test/opf/test_costs_mixed.py`

 * *Files 1% similar despite different names*

```diff
@@ -6,15 +6,15 @@
 
 import numpy as np
 import pytest
 
 import pandapower as pp
 
 try:
-    import pplog as logging
+    import pandaplan.core.pplog as logging
 except ImportError:
     import logging
 
 
 def test_cost_mixed():
     """ Testing a very simple network for the resulting cost value
     constraints with OPF """
```

## Comparing `pandapower-2.8.0/pandapower/test/opf/test_costs_pol.py` & `pandapower-2.9.0/pandapower/test/opf/test_costs_pol.py`

 * *Files 2% similar despite different names*

```diff
@@ -6,15 +6,15 @@
 
 import numpy as np
 import pytest
 
 import pandapower as pp
 
 try:
-    import pplog as logging
+    import pandaplan.core.pplog as logging
 except ImportError:
     import logging
 
 
 def test_cost_pol_gen():
     """ Testing a very simple network for the resulting cost value
     constraints with OPF """
@@ -123,8 +123,8 @@
     assert np.isclose(net.res_cost, net.res_sgen.q_mvar.values**2)
 
 
 
 if __name__ == "__main__":
     logger = logging.getLogger(__name__)
     logger.setLevel("DEBUG")
-    pytest.main(["test_costs_pol.py", "-xs"])
+    pytest.main(["test_costs_pol.py", "-xs"])
```

## Comparing `pandapower-2.8.0/pandapower/test/opf/test_costs_pwl.py` & `pandapower-2.9.0/pandapower/test/opf/test_costs_pwl.py`

 * *Files 0% similar despite different names*

```diff
@@ -6,15 +6,15 @@
 
 import numpy as np
 import pytest
 
 import pandapower as pp
 
 try:
-    import pplog as logging
+    import pandaplan.core.pplog as logging
 except ImportError:
     import logging
 
 
 def test_cost_piecewise_linear_gen():
     """ Testing a very simple network for the resulting cost value
     constraints with OPF """
```

## Comparing `pandapower-2.8.0/pandapower/test/opf/test_costs_pwl_q.py` & `pandapower-2.9.0/pandapower/test/opf/test_costs_pwl_q.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/opf/test_cost_consistency.py` & `pandapower-2.9.0/pandapower/test/opf/test_cost_consistency.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/opf/test_curtailment.py` & `pandapower-2.9.0/pandapower/test/opf/test_curtailment.py`

 * *Files 0% similar despite different names*

```diff
@@ -5,15 +5,15 @@
 
 
 import pytest
 from numpy import array, allclose, all
 import pandapower as pp
 
 try:
-    import pplog as logging
+    import pandaplan.core.pplog as logging
 except ImportError:
     import logging
 
 logger = logging.getLogger(__name__)
 
 
 def test_minimize_active_power_curtailment():
```

## Comparing `pandapower-2.8.0/pandapower/test/opf/test_dcline.py` & `pandapower-2.9.0/pandapower/test/opf/test_dcline.py`

 * *Files 0% similar despite different names*

```diff
@@ -7,15 +7,15 @@
 import pytest
 from numpy import array, allclose, isclose
 
 import pandapower as pp
 from pandapower.test.consistency_checks import consistency_checks
 
 try:
-    import pplog as logging
+    import pandaplan.core.pplog as logging
 except ImportError:
     import logging
 
 logger = logging.getLogger(__name__)
 
 
 @pytest.fixture
```

## Comparing `pandapower-2.8.0/pandapower/test/opf/test_oberrhein.py` & `pandapower-2.9.0/pandapower/test/opf/test_oberrhein.py`

 * *Files 2% similar despite different names*

```diff
@@ -4,15 +4,15 @@
 # and Energy System Technology (IEE), Kassel. All rights reserved.
 
 
 import pandapower as pp
 import pandapower.networks as nw
 import pytest
 try:
-    import pplog as logging
+    import pandaplan.core.pplog as logging
 except ImportError:
     import logging
 
 logger = logging.getLogger(__name__)
 
 
 def test_opf_oberrhein():
```

## Comparing `pandapower-2.8.0/pandapower/test/opf/test_opf_cigre.py` & `pandapower-2.9.0/pandapower/test/opf/test_opf_cigre.py`

 * *Files 2% similar despite different names*

```diff
@@ -8,15 +8,15 @@
 import numpy as np
 import pytest
 
 import pandapower as pp
 import pandapower.networks as nw
 
 try:
-    import pplog as logging
+    import pandaplan.core.pplog as logging
 except ImportError:
     import logging
 
 logger = logging.getLogger(__name__)
 
 
 def test_opf_cigre():
```

## Comparing `pandapower-2.8.0/pandapower/test/opf/test_pandamodels_installation.py` & `pandapower-2.9.0/pandapower/test/opf/test_pandamodels_installation.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/opf/test_powermodels.py` & `pandapower-2.9.0/pandapower/test/opf/test_powermodels.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/opf/test_pp_vs_pm.py` & `pandapower-2.9.0/pandapower/test/opf/test_pp_vs_pm.py`

 * *Files 0% similar despite different names*

```diff
@@ -21,15 +21,15 @@
 
     julia_installed = True
 except (ImportError, RuntimeError, UnsupportedPythonError) as e:
     julia_installed = False
     print(e)
 
 try:
-    import pplog as logging
+    import pandaplan.core.pplog as logging
 except ImportError:
     import logging
 
 logger = logging.getLogger(__name__)
 
 
 # test data from :https://github.com/lanl-ansi/PowerModels.jl/blob/master/test/data/matpower/case5_clm.m
```

## Comparing `pandapower-2.8.0/pandapower/test/opf/test_TNEP.py` & `pandapower-2.9.0/pandapower/test/opf/test_TNEP.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/shortcircuit/sc_test_meshed_grid.json` & `pandapower-2.9.0/pandapower/test/shortcircuit/sc_test_meshed_grid.json`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/shortcircuit/test_1ph.py` & `pandapower-2.9.0/pandapower/test/shortcircuit/test_1ph.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/shortcircuit/test_all_currents.py` & `pandapower-2.9.0/pandapower/test/shortcircuit/test_all_currents.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/shortcircuit/test_gen.py` & `pandapower-2.9.0/pandapower/test/shortcircuit/test_gen.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/shortcircuit/test_iec60909_4.py` & `pandapower-2.9.0/pandapower/test/shortcircuit/test_iec60909_4.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/shortcircuit/test_impedance.py` & `pandapower-2.9.0/pandapower/test/shortcircuit/test_impedance.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/shortcircuit/test_meshing_detection.py` & `pandapower-2.9.0/pandapower/test/shortcircuit/test_meshing_detection.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/shortcircuit/test_min_branch_results.py` & `pandapower-2.9.0/pandapower/test/shortcircuit/test_min_branch_results.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/shortcircuit/test_motor.py` & `pandapower-2.9.0/pandapower/test/shortcircuit/test_motor.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/shortcircuit/test_ring.py` & `pandapower-2.9.0/pandapower/test/shortcircuit/test_ring.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/shortcircuit/test_sc_multi_bus.py` & `pandapower-2.9.0/pandapower/test/shortcircuit/test_sc_multi_bus.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/shortcircuit/test_sc_single_bus.py` & `pandapower-2.9.0/pandapower/test/shortcircuit/test_sc_single_bus.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/shortcircuit/test_sgen.py` & `pandapower-2.9.0/pandapower/test/shortcircuit/test_sgen.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/shortcircuit/test_trafo3w.py` & `pandapower-2.9.0/pandapower/test/shortcircuit/test_trafo3w.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/shortcircuit/test_transformer.py` & `pandapower-2.9.0/pandapower/test/shortcircuit/test_transformer.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/controller_containing_NoneNan.json` & `pandapower-2.9.0/pandapower/test/test_files/controller_containing_NoneNan.json`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/IEC60909-4_example.json` & `pandapower-2.9.0/pandapower/test/test_files/IEC60909-4_example.json`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/pm_example_res.json` & `pandapower-2.9.0/pandapower/test/test_files/pm_example_res.json`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Buscoords.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Buscoords.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Lines.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Lines.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Loads.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Loads.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/LoadShapes.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/LoadShapes.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_1.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_1.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_10.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_10.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_100.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_100.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_11.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_11.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_12.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_12.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_13.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_13.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_14.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_14.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_15.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_15.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_16.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_16.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_17.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_17.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_18.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_18.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_19.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_19.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_2.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_2.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_20.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_20.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_21.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_21.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_22.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_22.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_23.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_23.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_24.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_24.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_25.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_25.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_26.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_26.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_27.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_27.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_28.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_28.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_29.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_29.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_3.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_3.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_30.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_30.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_31.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_31.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_32.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_32.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_33.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_33.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_34.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_34.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_35.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_35.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_36.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_36.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_37.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_37.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_38.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_38.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_39.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_39.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_4.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_4.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_40.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_40.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_41.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_41.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_42.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_42.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_43.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_43.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_44.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_44.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_45.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_45.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_46.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_46.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_47.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_47.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_48.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_48.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_49.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_49.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_5.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_5.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_50.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_50.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_51.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_51.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_52.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_52.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_53.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_53.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_54.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_54.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_55.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_55.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_56.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_56.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_57.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_57.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_58.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_58.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_59.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_59.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_6.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_6.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_60.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_60.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_61.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_61.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_62.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_62.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_63.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_63.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_64.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_64.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_65.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_65.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_66.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_66.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_67.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_67.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_68.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_68.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_69.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_69.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_7.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_7.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_70.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_70.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_71.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_71.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_72.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_72.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_73.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_73.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_74.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_74.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_75.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_75.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_76.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_76.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_77.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_77.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_78.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_78.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_79.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_79.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_8.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_8.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_80.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_80.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_81.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_81.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_82.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_82.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_83.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_83.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_84.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_84.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_85.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_85.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_86.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_86.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_87.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_87.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_88.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_88.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_89.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_89.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_9.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_9.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_90.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_90.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_91.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_91.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_92.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_92.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_93.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_93.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_94.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_94.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_95.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_95.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_96.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_96.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_97.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_97.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_98.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_98.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_99.csv` & `pandapower-2.9.0/pandapower/test/test_files/European_LV_CSV/Load Profiles/Load_profile_99.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/old_versions/example_1.2.0.json` & `pandapower-2.9.0/pandapower/test/test_files/old_versions/example_1.2.0.json`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/old_versions/example_1.2.2.json` & `pandapower-2.9.0/pandapower/test/test_files/old_versions/example_1.2.2.json`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/old_versions/example_1.3.0.json` & `pandapower-2.9.0/pandapower/test/test_files/old_versions/example_1.3.0.json`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/old_versions/example_1.3.1.json` & `pandapower-2.9.0/pandapower/test/test_files/old_versions/example_1.3.1.json`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/old_versions/example_1.4.0.json` & `pandapower-2.9.0/pandapower/test/test_files/old_versions/example_1.4.0.json`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/old_versions/example_1.4.1.json` & `pandapower-2.9.0/pandapower/test/test_files/old_versions/example_1.4.1.json`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/old_versions/example_1.4.2.json` & `pandapower-2.9.0/pandapower/test/test_files/old_versions/example_1.4.2.json`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/old_versions/example_1.4.3.json` & `pandapower-2.9.0/pandapower/test/test_files/old_versions/example_1.4.3.json`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/old_versions/example_1.5.0.json` & `pandapower-2.9.0/pandapower/test/test_files/old_versions/example_1.5.0.json`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/old_versions/example_1.5.1.json` & `pandapower-2.9.0/pandapower/test/test_files/old_versions/example_1.5.1.json`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/old_versions/example_1.6.0.json` & `pandapower-2.9.0/pandapower/test/test_files/old_versions/example_1.6.0.json`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/old_versions/example_1.6.1.json` & `pandapower-2.9.0/pandapower/test/test_files/old_versions/example_1.6.1.json`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/old_versions/example_2.0.0.json` & `pandapower-2.9.0/pandapower/test/test_files/old_versions/example_2.0.0.json`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/old_versions/example_2.0.1.json` & `pandapower-2.9.0/pandapower/test/test_files/old_versions/example_2.0.1.json`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/old_versions/example_2.1.0.json` & `pandapower-2.9.0/pandapower/test/test_files/old_versions/example_2.1.0.json`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/old_versions/example_2.2.0.json` & `pandapower-2.9.0/pandapower/test/test_files/old_versions/example_2.2.0.json`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/old_versions/example_2.3.0.json` & `pandapower-2.9.0/pandapower/test/test_files/old_versions/example_2.3.0.json`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/old_versions/example_2.3.1.json` & `pandapower-2.9.0/pandapower/test/test_files/old_versions/example_2.3.1.json`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/old_versions/example_2.4.0.json` & `pandapower-2.9.0/pandapower/test/test_files/old_versions/example_2.4.0.json`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/old_versions/example_2.5.0.json` & `pandapower-2.9.0/pandapower/test/test_files/old_versions/example_2.5.0.json`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/old_versions/example_2.6.0.json` & `pandapower-2.9.0/pandapower/test/test_files/old_versions/example_2.6.0.json`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/old_versions/example_2.7.0.json` & `pandapower-2.9.0/pandapower/test/test_files/old_versions/example_2.7.0.json`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/test_files/old_versions/example_2.8.0.json` & `pandapower-2.9.0/pandapower/test/test_files/old_versions/example_2.8.0.json`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/timeseries/test_data_source.py` & `pandapower-2.9.0/pandapower/test/timeseries/test_data_source.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/timeseries/test_output_writer.py` & `pandapower-2.9.0/pandapower/test/timeseries/test_output_writer.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/timeseries/test_timeseries.py` & `pandapower-2.9.0/pandapower/test/timeseries/test_timeseries.py`

 * *Files 15% similar despite different names*

```diff
@@ -101,36 +101,36 @@
     ow = setup_output_writer(net, time_steps)
 
     ConstControl(net, 'load', 'p_mw', element_index=0, data_source=ds, profile_name='load1',
                  scale_factor=0.85)
 
     ConstControl(net, 'ext_grid', 'vm_pu', element_index=0, data_source=ds, profile_name='slack_v')
 
-    run_timeseries(net, time_steps, output_writer=ow, verbose=False)
+    run_timeseries(net, time_steps, verbose=False)
 
     assert np.alltrue(profiles['load1'].values * 0.85 == ow.output['load.p_mw'][0].values)
     assert np.alltrue(profiles['slack_v'].values == ow.output['res_bus.vm_pu'][0].values)
 
 
 def test_const_control_write_to_object_attribute(simple_test_net):
     net = simple_test_net
     profiles, ds = create_data_source()
     time_steps = range(0, 10)
     ow = setup_output_writer(net, time_steps)
 
-    ContinuousTapControl(net, 0, 1., level=1, check_tap_bounds=False)
+    ContinuousTapControl(net, 0, 1., tol=1e-4, level=1, check_tap_bounds=False)
 
     ConstControl(net, 'load', 'p_mw', element_index=0, data_source=ds, profile_name='load1',
                  scale_factor=0.85)
 
     ConstControl(net, 'ext_grid', 'vm_pu', element_index=0, data_source=ds, profile_name='slack_v')
 
     ConstControl(net, 'controller', 'object.vm_set_pu', element_index=0, data_source=ds, profile_name='trafo_v')
 
-    run_timeseries(net, time_steps, output_writer=ow, verbose=False)
+    run_timeseries(net, time_steps, verbose=False)
 
     assert np.alltrue(profiles['load1'].values * 0.85 == ow.output['load.p_mw'][0].values)
     assert np.alltrue(profiles['slack_v'].values == ow.output['res_bus.vm_pu'][0].values)
     assert np.allclose(profiles['trafo_v'].values, ow.output['res_bus.vm_pu'][net.trafo.at[0, 'lv_bus']].values, atol=1e-3, rtol=0)
 
 
 def test_false_alarm_trafos(simple_test_net):
@@ -175,25 +175,25 @@
     time_steps = range(0, n_timesteps)
     ow = OutputWriter(net, time_steps, output_path=tempfile.gettempdir(), output_file_type=".json")
     ow.log_variable('res_load', 'p_mw')
     ow.log_variable('res_bus', 'vm_pu')
 
     ow.log_variable('res_line', 'loading_percent')
     ow.log_variable('res_line', 'i_ka')
-    run_timeseries(net, time_steps, output_writer=ow, verbose=False)
+    run_timeseries(net, time_steps, verbose=False)
     assert np.allclose(ow.output['res_load.p_mw'].sum().values * 2,
                        profiles[["load1", "load2_mv_p", "load3_hv_p"]].sum().values)
 
     # 3load - @Rieke What is this test for compared to the first one?
     # @Flo in / out of service testen ...
     ow.log_variable('res_load', 'p_mw')
     net.controller.in_service = False  # set the first controller out of service
     ConstControl(net, 'load', 'p_mw', element_index=0, data_source=ds, profile_name='load1')
 
-    run_timeseries(net, time_steps, output_writer=ow, verbose=False)
+    run_timeseries(net, time_steps, verbose=False)
     assert np.allclose(ow.output['res_load.p_mw'][0].sum(), profiles["load1"].sum())
 
 
 def test_timeseries_var_func(simple_test_net):
     # This test checks if the output writer works with a user defined function
 
     # test net
@@ -209,30 +209,30 @@
 
     time_steps = range(0, n_timesteps)
     ow = OutputWriter(net, time_steps, output_path=tempfile.gettempdir(), output_file_type=".json")
     ow.log_variable('res_load', 'p_mw', eval_function=np.max)
     ow.log_variable('res_bus', 'vm_pu', eval_function=np.min)
     ow.log_variable('res_bus', 'q_mvar', eval_function=np.sum)
 
-    run_timeseries(net, time_steps, output_writer=ow, verbose=False)
+    run_timeseries(net, time_steps, verbose=False)
     # asserts if last value of output_writers output is the minimum value
     assert net["res_load"]["p_mw"].max() == ow.output["res_load.p_mw"].iloc[-1].values
     assert net["res_bus"]["vm_pu"].min() == ow.output["res_bus.vm_pu"].iloc[-1, -1]
     assert net["res_bus"]["q_mvar"].sum() == ow.output["res_bus.q_mvar"].iloc[-1].values
 
     # get minimum voltage of all hv busses
     mask = (net.bus.vn_kv > 70.0) & (net.bus.vn_kv < 380.0)
     hv_busses_index = net.bus.loc[mask].index
     mask = (net.bus.vn_kv > 1.0) & (net.bus.vn_kv < 70.0)
     mv_busses_index = net.bus.loc[mask].index
     ow.log_variable('res_bus', 'vm_pu', index=hv_busses_index, eval_function=np.min,
                     eval_name="hv_bus_min")
     ow.log_variable('res_bus', 'vm_pu', index=mv_busses_index, eval_function=np.min,
                     eval_name="mv_bus_min")
-    run_timeseries(net, time_steps, output_writer=ow, verbose=False)
+    run_timeseries(net, time_steps, verbose=False)
     assert net["res_bus"].loc[hv_busses_index, "vm_pu"].min() == ow.output["res_bus.vm_pu"].loc[
         time_steps[-1], "hv_bus_min"]
     assert net["res_bus"].loc[mv_busses_index, "vm_pu"].min() == ow.output["res_bus.vm_pu"].loc[
         time_steps[-1], "mv_bus_min"]
 
 
 def test_time_steps(simple_test_net):
@@ -268,13 +268,85 @@
     ow = OutputWriter(net, time_steps, output_path=tempfile.gettempdir(), output_file_type=".json",
                       write_time=0.05)
     ow.log_variable('res_load', 'p_mw')
     ow.log_variable('res_bus', 'vm_pu')
 
     ow.log_variable('res_line', 'loading_percent')
     ow.log_variable('res_line', 'i_ka')
-    run_timeseries(net, time_steps, output_writer=ow, verbose=False)
+    run_timeseries(net, time_steps, verbose=False)
     # ToDo: read partially dumped results and compare with all stored results
 
 
+def test_pf_options(simple_test_net):
+    net = simple_test_net
+    profiles, ds = create_data_source()
+    time_steps = range(0, 3)
+    ow = setup_output_writer(net, time_steps)
+
+    ConstControl(net, 'load', 'p_mw', element_index=0, data_source=ds, profile_name='load1',
+                 scale_factor=0.85)
+
+    ConstControl(net, 'ext_grid', 'vm_pu', element_index=0, data_source=ds, profile_name='slack_v')
+
+    run_timeseries(net, time_steps, verbose=False, distributed_slack=True)
+    assert net._options["distributed_slack"]
+
+
+def test_user_pf_options(simple_test_net):
+    net = simple_test_net
+    profiles, ds = create_data_source()
+    time_steps = range(0, 3)
+    ow = setup_output_writer(net, time_steps)
+
+    ConstControl(net, 'load', 'p_mw', element_index=0, data_source=ds, profile_name='load1',
+                 scale_factor=0.85)
+
+    ConstControl(net, 'ext_grid', 'vm_pu', element_index=0, data_source=ds, profile_name='slack_v')
+
+    pp.set_user_pf_options(net, distributed_slack=True)
+    run_timeseries(net, time_steps, verbose=False)
+    assert net._options["distributed_slack"]
+
+    pp.runpp(net, distributed_slack=False)
+
+    run_timeseries(net, time_steps, verbose=False)
+    assert net._options["distributed_slack"]
+
+
+def test_user_pf_options_init_run(simple_test_net):
+    net = simple_test_net
+    profiles, ds = create_data_source()
+    time_steps = range(0, 3)
+    ow = setup_output_writer(net, time_steps)
+
+    ConstControl(net, 'load', 'p_mw', element_index=0, data_source=ds, profile_name='load1',
+                 scale_factor=0.85)
+
+    ConstControl(net, 'ext_grid', 'vm_pu', element_index=0, data_source=ds, profile_name='slack_v')
+
+    pp.runpp(net)
+
+    pp.set_user_pf_options(net, distributed_slack=True)
+    run_timeseries(net, time_steps, verbose=False)
+    assert net._options["distributed_slack"]
+
+
+def test_user_pf_options_recycle_manual(simple_test_net):
+    net = simple_test_net
+    profiles, ds = create_data_source()
+    time_steps = range(0, 3)
+    ow = setup_output_writer(net, time_steps)
+
+    ConstControl(net, 'load', 'p_mw', element_index=0, data_source=ds, profile_name='load1',
+                 scale_factor=0.85)
+
+    ConstControl(net, 'ext_grid', 'vm_pu', element_index=0, data_source=ds, profile_name='slack_v')
+
+    pp.runpp(net)
+
+    pp.set_user_pf_options(net, distributed_slack=True, recycle=True)
+    run_timeseries(net, time_steps, verbose=False)
+    assert net._options["distributed_slack"]
+
+
 if __name__ == '__main__':
     pytest.main(['-s', __file__])
```

## Comparing `pandapower-2.8.0/pandapower/test/timeseries/test_timeseries_recycle.py` & `pandapower-2.9.0/pandapower/test/timeseries/test_timeseries_recycle.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/test/timeseries/test_files/small_profile.csv` & `pandapower-2.9.0/pandapower/test/timeseries/test_files/small_profile.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/timeseries/data_source.py` & `pandapower-2.9.0/pandapower/timeseries/data_source.py`

 * *Files 9% similar despite different names*

```diff
@@ -1,14 +1,14 @@
 # -*- coding: utf-8 -*-
 
 # Copyright (c) 2016-2022 by University of Kassel and Fraunhofer Institute for Energy Economics
 # and Energy System Technology (IEE), Kassel. All rights reserved.
 
 try:
-    import pplog
+    import pandaplan.core.pplog as pplog
 except:
     import logging as pplog
 
 from pandapower.io_utils import JSONSerializableClass
 
 logger = pplog.getLogger(__name__)
```

## Comparing `pandapower-2.8.0/pandapower/timeseries/output_writer.py` & `pandapower-2.9.0/pandapower/timeseries/output_writer.py`

 * *Files 0% similar despite different names*

```diff
@@ -16,15 +16,15 @@
 from pandapower.pd2ppc import _pd2ppc
 from pandapower.pypower.idx_bus import VM, VA, NONE, BUS_TYPE
 from pandapower.run import _init_runpp_options
 from pandapower.timeseries.read_batch_results import v_to_i_s, get_batch_line_results, get_batch_trafo3w_results, \
     get_batch_trafo_results, get_batch_bus_results
 
 try:
-    import pplog
+    import pandaplan.core.pplog as pplog
 except ImportError:
     import logging as pplog
 logger = pplog.getLogger(__name__)
 
 
 class OutputWriter(JSONSerializableClass):
     """
```

## Comparing `pandapower-2.8.0/pandapower/timeseries/read_batch_results.py` & `pandapower-2.9.0/pandapower/timeseries/read_batch_results.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/timeseries/run_time_series.py` & `pandapower-2.9.0/pandapower/timeseries/run_time_series.py`

 * *Files 4% similar despite different names*

```diff
@@ -1,23 +1,24 @@
 # -*- coding: utf-8 -*-
 
 # Copyright (c) 2016-2022 by University of Kassel and Fraunhofer Institute for Energy Economics
 # and Energy System Technology (IEE), Kassel. All rights reserved.
 import tempfile
 from collections.abc import Iterable
+import tqdm
 
 import pandapower as pp
 from pandapower import LoadflowNotConverged, OPFNotConverged
 from pandapower.control.run_control import ControllerNotConverged, prepare_run_ctrl, \
     run_control, NetCalculationNotConverged
 from pandapower.control.util.diagnostic import control_diagnostic
 from pandapower.timeseries.output_writer import OutputWriter
 
 try:
-    import pplog
+    import pandaplan.core.pplog as pplog
 except ImportError:
     import logging as pplog
 
 logger = pplog.getLogger(__name__)
 logger.setLevel(level=pplog.WARNING)
 
 
@@ -275,30 +276,29 @@
     # If True, a diverged run is ignored and the next step is calculated
     ts_variables["continue_on_divergence"] = continue_on_divergence
     # print settings
     ts_variables["verbose"] = verbose
 
     if logger.level != 10 and verbose:
         # simple progress bar
-        print_progress_bar(0, len(time_steps), prefix='Progress:', suffix='Complete', length=50)
+        ts_variables['progress_bar'] = tqdm.tqdm(total=len(time_steps))
 
     return ts_variables
 
 
 def cleanup(net, ts_variables):
     if isinstance(ts_variables["recycle_options"], dict):
         # Todo: delete internal variables and dumped results which are not needed
         net._ppc = None  # remove _ppc because if recycle == True and a new timeseries calculation is started with a different setup (in_service of lines or trafos, open switches etc.) it can lead to a disaster
 
 
 def print_progress(i, time_step, time_steps, verbose, **kwargs):
     # simple status print in each time step.
     if logger.level != 10 and verbose:
-        len_timesteps = len(time_steps)
-        print_progress_bar(i + 1, len_timesteps, prefix='Progress:', suffix='Complete', length=50)
+        kwargs['ts_variables']["progress_bar"].update(1)
 
     # print debug info
     if logger.level == pplog.DEBUG and verbose:
         logger.debug("run time step %i" % time_step)
 
     # call a custom progress function
     if "progress_function" in kwargs:
@@ -313,15 +313,16 @@
     Parameters
     ----------
     net - pandapower net
     ts_variables - settings for time series
 
     """
     for i, time_step in enumerate(ts_variables["time_steps"]):
-        print_progress(i, time_step, ts_variables["time_steps"], ts_variables["verbose"], **kwargs)
+        print_progress(i, time_step, ts_variables["time_steps"], ts_variables["verbose"], ts_variables=ts_variables,
+                       **kwargs)
         run_time_step(net, time_step, ts_variables, run_control_fct, output_writer_fct, **kwargs)
 
 
 def run_timeseries(net, time_steps=None, continue_on_divergence=False, verbose=True, **kwargs):
     """
     Time Series main function
 
@@ -341,12 +342,16 @@
 
         **kwargs** - Keyword arguments for run_control and runpp. If "run" is in kwargs the default call to runpp()
         is replaced by the function kwargs["run"]
     """
 
     ts_variables = init_time_series(net, time_steps, continue_on_divergence, verbose, **kwargs)
 
+    # cleanup ppc before first time step
+    cleanup(net, ts_variables)
+
     control_diagnostic(net)
     run_loop(net, ts_variables, **kwargs)
 
     # cleanup functions after the last time step was calculated
     cleanup(net, ts_variables)
+    # both cleanups, at the start AND at the end, are important!
```

## Comparing `pandapower-2.8.0/pandapower/timeseries/ts_runpp.py` & `pandapower-2.9.0/pandapower/timeseries/ts_runpp.py`

 * *Files 1% similar despite different names*

```diff
@@ -23,15 +23,15 @@
 from pandapower.results import _copy_results_ppci_to_ppc, _extract_results, _get_aranged_lookup
 from pandapower.results_branch import _get_branch_flows, _get_line_results, _get_trafo3w_results, _get_trafo_results
 from pandapower.results_bus import write_pq_results_to_element, _get_bus_v_results, _get_bus_results
 from pandapower.results_gen import _get_gen_results
 from pandapower.timeseries.output_writer import OutputWriter
 
 try:
-    import pplog as logging
+    import pandaplan.core.pplog as logging
 except ImportError:
     import logging
 
 logger = logging.getLogger(__name__)
 
 
 class TimeSeriesRunpp:
```

## Comparing `pandapower-2.8.0/pandapower/timeseries/data_sources/frame_data.py` & `pandapower-2.9.0/pandapower/timeseries/data_sources/frame_data.py`

 * *Files 4% similar despite different names*

```diff
@@ -2,15 +2,15 @@
 
 # Copyright (c) 2016-2022 by University of Kassel and Fraunhofer Institute for Energy Economics
 # and Energy System Technology (IEE), Kassel. All rights reserved.
 
 from pandapower.timeseries.data_source import DataSource
 
 try:
-    import pplog
+    import pandaplan.core.pplog as pplog
 except ImportError:
     import logging as pplog
 
 logger = pplog.getLogger(__name__)
 
 
 class DFData(DataSource):
```

## Comparing `pandapower-2.8.0/pandapower/topology/create_graph.py` & `pandapower-2.9.0/pandapower/topology/create_graph.py`

 * *Files 0% similar despite different names*

```diff
@@ -12,15 +12,15 @@
     _calc_branch_values_from_trafo_df, \
     _trafo_df_from_trafo3w
 from pandapower.build_bus import _build_bus_ppc
 from pandapower.pd2ppc import _init_ppc
 from pandapower.pypower.idx_bus import BASE_KV
 
 try:
-    import pplog as logging
+    import pandaplan.core.pplog as logging
 except ImportError:
     import logging
 
 try:
     from pandapower.topology.graph_tool_interface import GraphToolInterface
 
     graph_tool_available = True
```

## Comparing `pandapower-2.8.0/pandapower/topology/graph_searches.py` & `pandapower-2.9.0/pandapower/topology/graph_searches.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower/topology/graph_tool_interface.py` & `pandapower-2.9.0/pandapower/topology/graph_tool_interface.py`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/pandapower.egg-info/PKG-INFO` & `pandapower-2.9.0/pandapower.egg-info/PKG-INFO`

 * *Files 2% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: pandapower
-Version: 2.8.0
+Version: 2.9.0
 Summary: An easy to use open source tool for power system modeling, analysis and optimization with a high degree of automation.
 Home-page: http://www.pandapower.org
 Author: Leon Thurner, Alexander Scheidler
 Author-email: leon.thurner@iee.fraunhofer.de, alexander.scheidler@iee.fraunhofer.de
 License: BSD
 Platform: UNKNOWN
 Classifier: Development Status :: 5 - Production/Stable
@@ -13,17 +13,18 @@
 Classifier: Intended Audience :: Education
 Classifier: Intended Audience :: Science/Research
 Classifier: License :: OSI Approved :: BSD License
 Classifier: Natural Language :: English
 Classifier: Operating System :: OS Independent
 Classifier: Programming Language :: Python
 Classifier: Programming Language :: Python :: 3
-Classifier: Programming Language :: Python :: 3.9
 Classifier: Programming Language :: Python :: 3.7
 Classifier: Programming Language :: Python :: 3.8
+Classifier: Programming Language :: Python :: 3.9
+Classifier: Programming Language :: Python :: 3.0
 Description-Content-Type: text/x-rst
 Provides-Extra: docs
 Provides-Extra: plotting
 Provides-Extra: test
 Provides-Extra: performance
 Provides-Extra: fileio
 Provides-Extra: all
@@ -131,14 +132,31 @@
 
 |
 
 We welcome contributions to pandapower of any kind - if you want to contribute, please check out the `pandapower contribution guidelines <https://github.com/e2nIEE/pandapower/blob/develop/CONTRIBUTING.rst>`_.
 
 
 Change Log
+=============
+
+[2.9.0]- 2022-03-23
+----------------------
+- [ADDED] added support for Python 3.10
+- [ADDED] added a function to pandapower.plotting to set line geodata from the geodata of the connected buses
+- [ADDED] plotly hover information will indicate parallel lines, if parallel > 1
+- [ADDED] 'showlegend' option for simple_plotly
+- [CHANGED] rename u by vm (voltage magnitude) in file and functions names
+- [FIX] plotly: only one legend entry for all lines/trafos instead of single entries for each one
+- [FIX] fixed deprecation warning for pandas indexing with set (sets changed to lists inside .loc)
+- [FIX] fixed hover information for lines in plotly
+- [CHANGED] use numpy to vectorize trafo_control
+- [ADDED] generic functions in pandapower.toolbox to read and write data to/from elements
+- [CHANGED] remove code duplication in const_control, characteristic_control
+- [ADDED] added the funtionality to import grid data from PowerFactory
+- [FIXED] failing tests for PowerModels integration due to the missing pm option "ac"
 
 [2.8.0]- 2022-02-06
 ----------------------
 - [ADDED] toolbox functions false_elm_links() and false_elm_links_loop()
 - [FIXED] poly_cost and pwl_cost consideration in merge_nets()
 - [ADDED] "results" initialization for runopp()
 - [CHANGED] toolbox function nets_equal()
```

## Comparing `pandapower-2.8.0/pandapower.egg-info/SOURCES.txt` & `pandapower-2.9.0/pandapower.egg-info/SOURCES.txt`

 * *Files 4% similar despite different names*

```diff
@@ -99,23 +99,34 @@
 pandapower/control/controller/characteristic_control.py
 pandapower/control/controller/const_control.py
 pandapower/control/controller/trafo_control.py
 pandapower/control/controller/trafo/ContinuousTapControl.py
 pandapower/control/controller/trafo/DiscreteTapControl.py
 pandapower/control/controller/trafo/TapDependentImpedance.py
 pandapower/control/controller/trafo/USetTapControl.py
+pandapower/control/controller/trafo/VmSetTapControl.py
 pandapower/control/controller/trafo/__init__.py
 pandapower/control/util/__init__.py
 pandapower/control/util/auxiliary.py
 pandapower/control/util/characteristic.py
 pandapower/control/util/diagnostic.py
 pandapower/converter/__init__.py
 pandapower/converter/matpower/__init__.py
 pandapower/converter/matpower/from_mpc.py
 pandapower/converter/matpower/to_mpc.py
+pandapower/converter/powerfactory/__init__.py
+pandapower/converter/powerfactory/echo_off.py
+pandapower/converter/powerfactory/export_pfd_to_pp.py
+pandapower/converter/powerfactory/gui.py
+pandapower/converter/powerfactory/logger_setup.py
+pandapower/converter/powerfactory/main_pf.py
+pandapower/converter/powerfactory/pf_export_functions.py
+pandapower/converter/powerfactory/pp_import_functions.py
+pandapower/converter/powerfactory/run_import.py
+pandapower/converter/powerfactory/validate.py
 pandapower/converter/powermodels/__init__.py
 pandapower/converter/powermodels/from_pm.py
 pandapower/converter/powermodels/to_pm.py
 pandapower/converter/pypower/__init__.py
 pandapower/converter/pypower/from_ppc.py
 pandapower/converter/pypower/to_ppc.py
 pandapower/estimation/__init__.py
@@ -293,39 +304,40 @@
 pandapower/test/api/test_create.py
 pandapower/test/api/test_diagnostic.py
 pandapower/test/api/test_file_io.py
 pandapower/test/api/test_std_types.py
 pandapower/test/api/test_toolbox.py
 pandapower/test/control/__init__.py
 pandapower/test/control/test_const_control.py
-pandapower/test/control/test_continous_tap_control.py
+pandapower/test/control/test_continuous_tap_control.py
 pandapower/test/control/test_control.py
 pandapower/test/control/test_discrete_tap_control.py
 pandapower/test/control/test_tap_dependent_impedance.py
-pandapower/test/control/test_u_set_tap_control.py
+pandapower/test/control/test_vm_set_tap_control.py
 pandapower/test/converter/__init__.py
 pandapower/test/converter/case24_ieee_rts.mat
 pandapower/test/converter/case2_2_by_code.json
 pandapower/test/converter/ppc_testgrids.p
 pandapower/test/converter/pypower_cases.p
 pandapower/test/converter/test_from_mpc.py
+pandapower/test/converter/test_from_powerfactory.py
 pandapower/test/converter/test_from_ppc.py
 pandapower/test/converter/test_to_ppc_and_mpc.py
 pandapower/test/estimation/3bus_wls.json
 pandapower/test/estimation/__init__.py
 pandapower/test/estimation/test_conditions.py
 pandapower/test/estimation/test_irwls_estimation.py
 pandapower/test/estimation/test_opt_lp_estimation.py
 pandapower/test/estimation/test_pmu.py
 pandapower/test/estimation/test_recycle.py
 pandapower/test/estimation/test_wls_estimation.py
 pandapower/test/loadflow/PF_Results.py
 pandapower/test/loadflow/__init__.py
 pandapower/test/loadflow/result_test_network_generator.py
-pandapower/test/loadflow/runpp_3ph Validation.p
+pandapower/test/loadflow/runpp_3ph Validation.json
 pandapower/test/loadflow/test_PTDF_LODF.py
 pandapower/test/loadflow/test_dist_slack.py
 pandapower/test/loadflow/test_recycle.py
 pandapower/test/loadflow/test_results.py
 pandapower/test/loadflow/test_rundcpp.py
 pandapower/test/loadflow/test_runpp.py
 pandapower/test/loadflow/test_runpp_3ph.py
@@ -506,14 +518,15 @@
 pandapower/test/test_files/old_versions/example_2.3.0.json
 pandapower/test/test_files/old_versions/example_2.3.1.json
 pandapower/test/test_files/old_versions/example_2.4.0.json
 pandapower/test/test_files/old_versions/example_2.5.0.json
 pandapower/test/test_files/old_versions/example_2.6.0.json
 pandapower/test/test_files/old_versions/example_2.7.0.json
 pandapower/test/test_files/old_versions/example_2.8.0.json
+pandapower/test/test_files/old_versions/example_2.9.0.json
 pandapower/test/timeseries/__init__.py
 pandapower/test/timeseries/test_data_source.py
 pandapower/test/timeseries/test_output_writer.py
 pandapower/test/timeseries/test_timeseries.py
 pandapower/test/timeseries/test_timeseries_recycle.py
 pandapower/test/timeseries/test_files/small_profile.csv
 pandapower/timeseries/__init__.py
```

## Comparing `pandapower-2.8.0/tutorials/cigre_timeseries_15min.json` & `pandapower-2.9.0/tutorials/cigre_timeseries_15min.json`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/tutorials/example_advanced/hv_bus_sw.csv` & `pandapower-2.9.0/tutorials/example_advanced/hv_bus_sw.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/tutorials/example_advanced/lv_lines.csv` & `pandapower-2.9.0/tutorials/example_advanced/lv_lines.csv`

 * *Files identical despite different names*

## Comparing `pandapower-2.8.0/tutorials/example_advanced/mv_lines.csv` & `pandapower-2.9.0/tutorials/example_advanced/mv_lines.csv`

 * *Files identical despite different names*

